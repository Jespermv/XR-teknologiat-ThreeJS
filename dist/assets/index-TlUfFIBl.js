(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();const Is="182",Hi={ROTATE:0,DOLLY:1,PAN:2},Bi={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Xu=0,ul=1,Ku=2,yo=1,ju=2,ga=3,qn=0,Wt=1,un=2,zn=0,zi=1,pl=2,ml=3,cl=4,Zu=5,fi=100,$u=101,Ju=102,Qu=103,ep=104,tp=200,np=201,ip=202,ap=203,Pr=204,wr=205,op=206,rp=207,sp=208,lp=209,dp=210,up=211,pp=212,mp=213,cp=214,Nr=0,Lr=1,Gr=2,Yi=3,Ur=4,Fr=5,kr=6,Br=7,Yd=0,hp=1,fp=2,Mn=0,Xd=1,Kd=2,jd=3,Zd=4,$d=5,Jd=6,Qd=7,hl="attached",_p="detached",eu=300,Ci=301,Xi=302,Vr=303,Hr=304,No=306,Ki=1e3,nn=1001,bo=1002,St=1003,tu=1004,ya=1005,ht=1006,Eo=1007,Cn=1008,zt=1009,nu=1010,iu=1011,Aa=1012,Ps=1013,vn=1014,kt=1015,Zt=1016,ws=1017,Ns=1018,va=1020,au=35902,ou=35899,ru=1021,su=1022,an=1023,Yn=1026,yi=1027,Ls=1028,Gs=1029,ji=1030,Us=1031,Fs=1033,Co=33776,To=33777,Mo=33778,So=33779,zr=35840,Wr=35841,qr=35842,Yr=35843,Xr=36196,Kr=37492,jr=37496,Zr=37488,$r=37489,Jr=37490,Qr=37491,es=37808,ts=37809,ns=37810,is=37811,as=37812,os=37813,rs=37814,ss=37815,ls=37816,ds=37817,us=37818,ps=37819,ms=37820,cs=37821,hs=36492,fs=36494,_s=36495,gs=36283,ys=36284,Es=36285,Cs=36286,xa=2300,Ra=2301,zo=2302,fl=2400,_l=2401,gl=2402,gp=2500,yp=0,lu=1,Ts=2,Ep=3200,du=0,Cp=1,ni="",bt="srgb",Pt="srgb-linear",Do="linear",at="srgb",Ai=7680,yl=519,Tp=512,Mp=513,Sp=514,ks=515,Ap=516,vp=517,Bs=518,xp=519,Ms=35044,El="300 es",Tn=2e3,Oo=2001;function uu(a){for(let e=a.length-1;e>=0;--e)if(a[e]>=65535)return!0;return!1}function Rp(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function ba(a){return document.createElementNS("http://www.w3.org/1999/xhtml",a)}function bp(){const a=ba("canvas");return a.style.display="block",a}const Cl={};function Io(...a){const e="THREE."+a.shift();console.log(e,...a)}function Pe(...a){const e="THREE."+a.shift();console.warn(e,...a)}function Fe(...a){const e="THREE."+a.shift();console.error(e,...a)}function Da(...a){const e=a.join(" ");e in Cl||(Cl[e]=!0,Pe(...a))}function Dp(a,e,t){return new Promise(function(n,i){function r(){switch(a.clientWaitSync(e,a.SYNC_FLUSH_COMMANDS_BIT,0)){case a.WAIT_FAILED:i();break;case a.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:n()}}setTimeout(r,t)})}class Ti{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const i=n[e];if(i!==void 0){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let r=0,l=i.length;r<l;r++)i[r].call(this,e);e.target=null}}}const Dt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Tl=1234567;const Ta=Math.PI/180,Zi=180/Math.PI;function cn(){const a=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Dt[a&255]+Dt[a>>8&255]+Dt[a>>16&255]+Dt[a>>24&255]+"-"+Dt[e&255]+Dt[e>>8&255]+"-"+Dt[e>>16&15|64]+Dt[e>>24&255]+"-"+Dt[t&63|128]+Dt[t>>8&255]+"-"+Dt[t>>16&255]+Dt[t>>24&255]+Dt[n&255]+Dt[n>>8&255]+Dt[n>>16&255]+Dt[n>>24&255]).toLowerCase()}function je(a,e,t){return Math.max(e,Math.min(t,a))}function Vs(a,e){return(a%e+e)%e}function Op(a,e,t,n,i){return n+(a-e)*(i-n)/(t-e)}function Ip(a,e,t){return a!==e?(t-a)/(e-a):0}function Ma(a,e,t){return(1-t)*a+t*e}function Pp(a,e,t,n){return Ma(a,e,1-Math.exp(-t*n))}function wp(a,e=1){return e-Math.abs(Vs(a,e*2)-e)}function Np(a,e,t){return a<=e?0:a>=t?1:(a=(a-e)/(t-e),a*a*(3-2*a))}function Lp(a,e,t){return a<=e?0:a>=t?1:(a=(a-e)/(t-e),a*a*a*(a*(a*6-15)+10))}function Gp(a,e){return a+Math.floor(Math.random()*(e-a+1))}function Up(a,e){return a+Math.random()*(e-a)}function Fp(a){return a*(.5-Math.random())}function kp(a){a!==void 0&&(Tl=a);let e=Tl+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Bp(a){return a*Ta}function Vp(a){return a*Zi}function Hp(a){return(a&a-1)===0&&a!==0}function zp(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function Wp(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}function qp(a,e,t,n,i){const r=Math.cos,l=Math.sin,p=r(t/2),c=l(t/2),u=r((e+n)/2),m=l((e+n)/2),d=r((e-n)/2),o=l((e-n)/2),s=r((n-e)/2),h=l((n-e)/2);switch(i){case"XYX":a.set(p*m,c*d,c*o,p*u);break;case"YZY":a.set(c*o,p*m,c*d,p*u);break;case"ZXZ":a.set(c*d,c*o,p*m,p*u);break;case"XZX":a.set(p*m,c*h,c*s,p*u);break;case"YXY":a.set(c*s,p*m,c*h,p*u);break;case"ZYZ":a.set(c*h,c*s,p*m,p*u);break;default:Pe("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function pn(a,e){switch(e.constructor){case Float32Array:return a;case Uint32Array:return a/4294967295;case Uint16Array:return a/65535;case Uint8Array:return a/255;case Int32Array:return Math.max(a/2147483647,-1);case Int16Array:return Math.max(a/32767,-1);case Int8Array:return Math.max(a/127,-1);default:throw new Error("Invalid component type.")}}function ot(a,e){switch(e.constructor){case Float32Array:return a;case Uint32Array:return Math.round(a*4294967295);case Uint16Array:return Math.round(a*65535);case Uint8Array:return Math.round(a*255);case Int32Array:return Math.round(a*2147483647);case Int16Array:return Math.round(a*32767);case Int8Array:return Math.round(a*127);default:throw new Error("Invalid component type.")}}const pu={DEG2RAD:Ta,RAD2DEG:Zi,generateUUID:cn,clamp:je,euclideanModulo:Vs,mapLinear:Op,inverseLerp:Ip,lerp:Ma,damp:Pp,pingpong:wp,smoothstep:Np,smootherstep:Lp,randInt:Gp,randFloat:Up,randFloatSpread:Fp,seededRandom:kp,degToRad:Bp,radToDeg:Vp,isPowerOfTwo:Hp,ceilPowerOfTwo:zp,floorPowerOfTwo:Wp,setQuaternionFromProperEuler:qp,normalize:ot,denormalize:pn};class Ve{constructor(e=0,t=0){Ve.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=je(this.x,e.x,t.x),this.y=je(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=je(this.x,e,t),this.y=je(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(je(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(je(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,l=this.y-e.y;return this.x=r*n-l*i+e.x,this.y=r*i+l*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class hn{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,l,p){let c=n[i+0],u=n[i+1],m=n[i+2],d=n[i+3],o=r[l+0],s=r[l+1],h=r[l+2],g=r[l+3];if(p<=0){e[t+0]=c,e[t+1]=u,e[t+2]=m,e[t+3]=d;return}if(p>=1){e[t+0]=o,e[t+1]=s,e[t+2]=h,e[t+3]=g;return}if(d!==g||c!==o||u!==s||m!==h){let _=c*o+u*s+m*h+d*g;_<0&&(o=-o,s=-s,h=-h,g=-g,_=-_);let f=1-p;if(_<.9995){const E=Math.acos(_),T=Math.sin(E);f=Math.sin(f*E)/T,p=Math.sin(p*E)/T,c=c*f+o*p,u=u*f+s*p,m=m*f+h*p,d=d*f+g*p}else{c=c*f+o*p,u=u*f+s*p,m=m*f+h*p,d=d*f+g*p;const E=1/Math.sqrt(c*c+u*u+m*m+d*d);c*=E,u*=E,m*=E,d*=E}}e[t]=c,e[t+1]=u,e[t+2]=m,e[t+3]=d}static multiplyQuaternionsFlat(e,t,n,i,r,l){const p=n[i],c=n[i+1],u=n[i+2],m=n[i+3],d=r[l],o=r[l+1],s=r[l+2],h=r[l+3];return e[t]=p*h+m*d+c*s-u*o,e[t+1]=c*h+m*o+u*d-p*s,e[t+2]=u*h+m*s+p*o-c*d,e[t+3]=m*h-p*d-c*o-u*s,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,i=e._y,r=e._z,l=e._order,p=Math.cos,c=Math.sin,u=p(n/2),m=p(i/2),d=p(r/2),o=c(n/2),s=c(i/2),h=c(r/2);switch(l){case"XYZ":this._x=o*m*d+u*s*h,this._y=u*s*d-o*m*h,this._z=u*m*h+o*s*d,this._w=u*m*d-o*s*h;break;case"YXZ":this._x=o*m*d+u*s*h,this._y=u*s*d-o*m*h,this._z=u*m*h-o*s*d,this._w=u*m*d+o*s*h;break;case"ZXY":this._x=o*m*d-u*s*h,this._y=u*s*d+o*m*h,this._z=u*m*h+o*s*d,this._w=u*m*d-o*s*h;break;case"ZYX":this._x=o*m*d-u*s*h,this._y=u*s*d+o*m*h,this._z=u*m*h-o*s*d,this._w=u*m*d+o*s*h;break;case"YZX":this._x=o*m*d+u*s*h,this._y=u*s*d+o*m*h,this._z=u*m*h-o*s*d,this._w=u*m*d-o*s*h;break;case"XZY":this._x=o*m*d-u*s*h,this._y=u*s*d-o*m*h,this._z=u*m*h+o*s*d,this._w=u*m*d+o*s*h;break;default:Pe("Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],r=t[8],l=t[1],p=t[5],c=t[9],u=t[2],m=t[6],d=t[10],o=n+p+d;if(o>0){const s=.5/Math.sqrt(o+1);this._w=.25/s,this._x=(m-c)*s,this._y=(r-u)*s,this._z=(l-i)*s}else if(n>p&&n>d){const s=2*Math.sqrt(1+n-p-d);this._w=(m-c)/s,this._x=.25*s,this._y=(i+l)/s,this._z=(r+u)/s}else if(p>d){const s=2*Math.sqrt(1+p-n-d);this._w=(r-u)/s,this._x=(i+l)/s,this._y=.25*s,this._z=(c+m)/s}else{const s=2*Math.sqrt(1+d-n-p);this._w=(l-i)/s,this._x=(r+u)/s,this._y=(c+m)/s,this._z=.25*s}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(je(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,r=e._z,l=e._w,p=t._x,c=t._y,u=t._z,m=t._w;return this._x=n*m+l*p+i*u-r*c,this._y=i*m+l*c+r*p-n*u,this._z=r*m+l*u+n*c-i*p,this._w=l*m-n*p-i*c-r*u,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,i=e._y,r=e._z,l=e._w,p=this.dot(e);p<0&&(n=-n,i=-i,r=-r,l=-l,p=-p);let c=1-t;if(p<.9995){const u=Math.acos(p),m=Math.sin(u);c=Math.sin(c*u)/m,t=Math.sin(t*u)/m,this._x=this._x*c+n*t,this._y=this._y*c+i*t,this._z=this._z*c+r*t,this._w=this._w*c+l*t,this._onChangeCallback()}else this._x=this._x*c+n*t,this._y=this._y*c+i*t,this._z=this._z*c+r*t,this._w=this._w*c+l*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),r=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(e=0,t=0,n=0){K.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Ml.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Ml.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=e.elements,l=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*l,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*l,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*l,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,r=e.x,l=e.y,p=e.z,c=e.w,u=2*(l*i-p*n),m=2*(p*t-r*i),d=2*(r*n-l*t);return this.x=t+c*u+l*d-p*m,this.y=n+c*m+p*u-r*d,this.z=i+c*d+r*m-l*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=je(this.x,e.x,t.x),this.y=je(this.y,e.y,t.y),this.z=je(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=je(this.x,e,t),this.y=je(this.y,e,t),this.z=je(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(je(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,r=e.z,l=t.x,p=t.y,c=t.z;return this.x=i*c-r*p,this.y=r*l-n*c,this.z=n*p-i*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Wo.copy(this).projectOnVector(e),this.sub(Wo)}reflect(e){return this.sub(Wo.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(je(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Wo=new K,Ml=new hn;class Xe{constructor(e,t,n,i,r,l,p,c,u){Xe.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,i,r,l,p,c,u)}set(e,t,n,i,r,l,p,c,u){const m=this.elements;return m[0]=e,m[1]=i,m[2]=p,m[3]=t,m[4]=r,m[5]=c,m[6]=n,m[7]=l,m[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,l=n[0],p=n[3],c=n[6],u=n[1],m=n[4],d=n[7],o=n[2],s=n[5],h=n[8],g=i[0],_=i[3],f=i[6],E=i[1],T=i[4],R=i[7],O=i[2],P=i[5],N=i[8];return r[0]=l*g+p*E+c*O,r[3]=l*_+p*T+c*P,r[6]=l*f+p*R+c*N,r[1]=u*g+m*E+d*O,r[4]=u*_+m*T+d*P,r[7]=u*f+m*R+d*N,r[2]=o*g+s*E+h*O,r[5]=o*_+s*T+h*P,r[8]=o*f+s*R+h*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],l=e[4],p=e[5],c=e[6],u=e[7],m=e[8];return t*l*m-t*p*u-n*r*m+n*p*c+i*r*u-i*l*c}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],l=e[4],p=e[5],c=e[6],u=e[7],m=e[8],d=m*l-p*u,o=p*c-m*r,s=u*r-l*c,h=t*d+n*o+i*s;if(h===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/h;return e[0]=d*g,e[1]=(i*u-m*n)*g,e[2]=(p*n-i*l)*g,e[3]=o*g,e[4]=(m*t-i*c)*g,e[5]=(i*r-p*t)*g,e[6]=s*g,e[7]=(n*c-u*t)*g,e[8]=(l*t-n*r)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,l,p){const c=Math.cos(r),u=Math.sin(r);return this.set(n*c,n*u,-n*(c*l+u*p)+l+e,-i*u,i*c,-i*(-u*l+c*p)+p+t,0,0,1),this}scale(e,t){return this.premultiply(qo.makeScale(e,t)),this}rotate(e){return this.premultiply(qo.makeRotation(-e)),this}translate(e,t){return this.premultiply(qo.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const qo=new Xe,Sl=new Xe().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Al=new Xe().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Yp(){const a={enabled:!0,workingColorSpace:Pt,spaces:{},convert:function(i,r,l){return this.enabled===!1||r===l||!r||!l||(this.spaces[r].transfer===at&&(i.r=Wn(i.r),i.g=Wn(i.g),i.b=Wn(i.b)),this.spaces[r].primaries!==this.spaces[l].primaries&&(i.applyMatrix3(this.spaces[r].toXYZ),i.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===at&&(i.r=Wi(i.r),i.g=Wi(i.g),i.b=Wi(i.b))),i},workingToColorSpace:function(i,r){return this.convert(i,this.workingColorSpace,r)},colorSpaceToWorking:function(i,r){return this.convert(i,r,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===ni?Do:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,r=this.workingColorSpace){return i.fromArray(this.spaces[r].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,r,l){return i.copy(this.spaces[r].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,r){return Da("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),a.workingToColorSpace(i,r)},toWorkingColorSpace:function(i,r){return Da("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),a.colorSpaceToWorking(i,r)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return a.define({[Pt]:{primaries:e,whitePoint:n,transfer:Do,toXYZ:Sl,fromXYZ:Al,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:bt},outputColorSpaceConfig:{drawingBufferColorSpace:bt}},[bt]:{primaries:e,whitePoint:n,transfer:at,toXYZ:Sl,fromXYZ:Al,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:bt}}}),a}const et=Yp();function Wn(a){return a<.04045?a*.0773993808:Math.pow(a*.9478672986+.0521327014,2.4)}function Wi(a){return a<.0031308?a*12.92:1.055*Math.pow(a,.41666)-.055}let vi;class Xp{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{vi===void 0&&(vi=ba("canvas")),vi.width=e.width,vi.height=e.height;const i=vi.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=vi}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=ba("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let l=0;l<r.length;l++)r[l]=Wn(r[l]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Wn(t[n]/255)*255):t[n]=Wn(t[n]);return{data:t,width:e.width,height:e.height}}else return Pe("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Kp=0;class Hs{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Kp++}),this.uuid=cn(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):typeof VideoFrame<"u"&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let r;if(Array.isArray(i)){r=[];for(let l=0,p=i.length;l<p;l++)i[l].isDataTexture?r.push(Yo(i[l].image)):r.push(Yo(i[l]))}else r=Yo(i);n.url=r}return t||(e.images[this.uuid]=n),n}}function Yo(a){return typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&a instanceof ImageBitmap?Xp.getDataURL(a):a.data?{data:Array.from(a.data),width:a.width,height:a.height,type:a.data.constructor.name}:(Pe("Texture: Unable to serialize Texture."),{})}let jp=0;const Xo=new K;class Rt extends Ti{constructor(e=Rt.DEFAULT_IMAGE,t=Rt.DEFAULT_MAPPING,n=nn,i=nn,r=ht,l=Cn,p=an,c=zt,u=Rt.DEFAULT_ANISOTROPY,m=ni){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:jp++}),this.uuid=cn(),this.name="",this.source=new Hs(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=l,this.anisotropy=u,this.format=p,this.internalFormat=null,this.type=c,this.offset=new Ve(0,0),this.repeat=new Ve(1,1),this.center=new Ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Xe,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Xo).x}get height(){return this.source.getSize(Xo).y}get depth(){return this.source.getSize(Xo).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){Pe(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){Pe(`Texture.setValues(): property '${t}' does not exist.`);continue}i&&n&&i.isVector2&&n.isVector2||i&&n&&i.isVector3&&n.isVector3||i&&n&&i.isMatrix3&&n.isMatrix3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==eu)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ki:e.x=e.x-Math.floor(e.x);break;case nn:e.x=e.x<0?0:1;break;case bo:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ki:e.y=e.y-Math.floor(e.y);break;case nn:e.y=e.y<0?0:1;break;case bo:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Rt.DEFAULT_IMAGE=null;Rt.DEFAULT_MAPPING=eu;Rt.DEFAULT_ANISOTROPY=1;class mt{constructor(e=0,t=0,n=0,i=1){mt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=this.w,l=e.elements;return this.x=l[0]*t+l[4]*n+l[8]*i+l[12]*r,this.y=l[1]*t+l[5]*n+l[9]*i+l[13]*r,this.z=l[2]*t+l[6]*n+l[10]*i+l[14]*r,this.w=l[3]*t+l[7]*n+l[11]*i+l[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r;const c=e.elements,u=c[0],m=c[4],d=c[8],o=c[1],s=c[5],h=c[9],g=c[2],_=c[6],f=c[10];if(Math.abs(m-o)<.01&&Math.abs(d-g)<.01&&Math.abs(h-_)<.01){if(Math.abs(m+o)<.1&&Math.abs(d+g)<.1&&Math.abs(h+_)<.1&&Math.abs(u+s+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const T=(u+1)/2,R=(s+1)/2,O=(f+1)/2,P=(m+o)/4,N=(d+g)/4,U=(h+_)/4;return T>R&&T>O?T<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(T),i=P/n,r=N/n):R>O?R<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(R),n=P/i,r=U/i):O<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(O),n=N/r,i=U/r),this.set(n,i,r,t),this}let E=Math.sqrt((_-h)*(_-h)+(d-g)*(d-g)+(o-m)*(o-m));return Math.abs(E)<.001&&(E=1),this.x=(_-h)/E,this.y=(d-g)/E,this.z=(o-m)/E,this.w=Math.acos((u+s+f-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=je(this.x,e.x,t.x),this.y=je(this.y,e.y,t.y),this.z=je(this.z,e.z,t.z),this.w=je(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=je(this.x,e,t),this.y=je(this.y,e,t),this.z=je(this.z,e,t),this.w=je(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(je(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Zp extends Ti{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ht,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new mt(0,0,e,t),this.scissorTest=!1,this.viewport=new mt(0,0,e,t);const i={width:e,height:t,depth:n.depth},r=new Rt(i);this.textures=[];const l=n.count;for(let p=0;p<l;p++)this.textures[p]=r.clone(),this.textures[p].isRenderTargetTexture=!0,this.textures[p].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:ht,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new Hs(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Sn extends Zp{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class mu extends Rt{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=St,this.minFilter=St,this.wrapR=nn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class $p extends Rt{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=St,this.minFilter=St,this.wrapR=nn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bn{constructor(e=new K(1/0,1/0,1/0),t=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(on.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(on.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=on.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const r=n.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let l=0,p=r.count;l<p;l++)e.isMesh===!0?e.getVertexPosition(l,on):on.fromBufferAttribute(r,l),on.applyMatrix4(e.matrixWorld),this.expandByPoint(on);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Fa.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),Fa.copy(n.boundingBox)),Fa.applyMatrix4(e.matrixWorld),this.union(Fa)}const i=e.children;for(let r=0,l=i.length;r<l;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,on),on.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ra),ka.subVectors(this.max,ra),xi.subVectors(e.a,ra),Ri.subVectors(e.b,ra),bi.subVectors(e.c,ra),Xn.subVectors(Ri,xi),Kn.subVectors(bi,Ri),li.subVectors(xi,bi);let t=[0,-Xn.z,Xn.y,0,-Kn.z,Kn.y,0,-li.z,li.y,Xn.z,0,-Xn.x,Kn.z,0,-Kn.x,li.z,0,-li.x,-Xn.y,Xn.x,0,-Kn.y,Kn.x,0,-li.y,li.x,0];return!Ko(t,xi,Ri,bi,ka)||(t=[1,0,0,0,1,0,0,0,1],!Ko(t,xi,Ri,bi,ka))?!1:(Ba.crossVectors(Xn,Kn),t=[Ba.x,Ba.y,Ba.z],Ko(t,xi,Ri,bi,ka))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,on).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(on).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Pn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Pn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Pn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Pn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Pn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Pn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Pn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Pn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Pn),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Pn=[new K,new K,new K,new K,new K,new K,new K,new K],on=new K,Fa=new bn,xi=new K,Ri=new K,bi=new K,Xn=new K,Kn=new K,li=new K,ra=new K,ka=new K,Ba=new K,di=new K;function Ko(a,e,t,n,i){for(let r=0,l=a.length-3;r<=l;r+=3){di.fromArray(a,r);const p=i.x*Math.abs(di.x)+i.y*Math.abs(di.y)+i.z*Math.abs(di.z),c=e.dot(di),u=t.dot(di),m=n.dot(di);if(Math.max(-Math.max(c,u,m),Math.min(c,u,m))>p)return!1}return!0}const Jp=new bn,sa=new K,jo=new K;class Dn{constructor(e=new K,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):Jp.setFromPoints(e).getCenter(n);let i=0;for(let r=0,l=e.length;r<l;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;sa.subVectors(e,this.center);const t=sa.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(sa,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(jo.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(sa.copy(e.center).add(jo)),this.expandByPoint(sa.copy(e.center).sub(jo))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const wn=new K,Zo=new K,Va=new K,jn=new K,$o=new K,Ha=new K,Jo=new K;class ta{constructor(e=new K,t=new K(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wn)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=wn.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(wn.copy(this.origin).addScaledVector(this.direction,t),wn.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){Zo.copy(e).add(t).multiplyScalar(.5),Va.copy(t).sub(e).normalize(),jn.copy(this.origin).sub(Zo);const r=e.distanceTo(t)*.5,l=-this.direction.dot(Va),p=jn.dot(this.direction),c=-jn.dot(Va),u=jn.lengthSq(),m=Math.abs(1-l*l);let d,o,s,h;if(m>0)if(d=l*c-p,o=l*p-c,h=r*m,d>=0)if(o>=-h)if(o<=h){const g=1/m;d*=g,o*=g,s=d*(d+l*o+2*p)+o*(l*d+o+2*c)+u}else o=r,d=Math.max(0,-(l*o+p)),s=-d*d+o*(o+2*c)+u;else o=-r,d=Math.max(0,-(l*o+p)),s=-d*d+o*(o+2*c)+u;else o<=-h?(d=Math.max(0,-(-l*r+p)),o=d>0?-r:Math.min(Math.max(-r,-c),r),s=-d*d+o*(o+2*c)+u):o<=h?(d=0,o=Math.min(Math.max(-r,-c),r),s=o*(o+2*c)+u):(d=Math.max(0,-(l*r+p)),o=d>0?r:Math.min(Math.max(-r,-c),r),s=-d*d+o*(o+2*c)+u);else o=l>0?-r:r,d=Math.max(0,-(l*o+p)),s=-d*d+o*(o+2*c)+u;return n&&n.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(Zo).addScaledVector(Va,o),s}intersectSphere(e,t){wn.subVectors(e.center,this.origin);const n=wn.dot(this.direction),i=wn.dot(wn)-n*n,r=e.radius*e.radius;if(i>r)return null;const l=Math.sqrt(r-i),p=n-l,c=n+l;return c<0?null:p<0?this.at(c,t):this.at(p,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,l,p,c;const u=1/this.direction.x,m=1/this.direction.y,d=1/this.direction.z,o=this.origin;return u>=0?(n=(e.min.x-o.x)*u,i=(e.max.x-o.x)*u):(n=(e.max.x-o.x)*u,i=(e.min.x-o.x)*u),m>=0?(r=(e.min.y-o.y)*m,l=(e.max.y-o.y)*m):(r=(e.max.y-o.y)*m,l=(e.min.y-o.y)*m),n>l||r>i||((r>n||isNaN(n))&&(n=r),(l<i||isNaN(i))&&(i=l),d>=0?(p=(e.min.z-o.z)*d,c=(e.max.z-o.z)*d):(p=(e.max.z-o.z)*d,c=(e.min.z-o.z)*d),n>c||p>i)||((p>n||n!==n)&&(n=p),(c<i||i!==i)&&(i=c),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,wn)!==null}intersectTriangle(e,t,n,i,r){$o.subVectors(t,e),Ha.subVectors(n,e),Jo.crossVectors($o,Ha);let l=this.direction.dot(Jo),p;if(l>0){if(i)return null;p=1}else if(l<0)p=-1,l=-l;else return null;jn.subVectors(this.origin,e);const c=p*this.direction.dot(Ha.crossVectors(jn,Ha));if(c<0)return null;const u=p*this.direction.dot($o.cross(jn));if(u<0||c+u>l)return null;const m=-p*jn.dot(Jo);return m<0?null:this.at(m/l,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ye{constructor(e,t,n,i,r,l,p,c,u,m,d,o,s,h,g,_){Ye.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,i,r,l,p,c,u,m,d,o,s,h,g,_)}set(e,t,n,i,r,l,p,c,u,m,d,o,s,h,g,_){const f=this.elements;return f[0]=e,f[4]=t,f[8]=n,f[12]=i,f[1]=r,f[5]=l,f[9]=p,f[13]=c,f[2]=u,f[6]=m,f[10]=d,f[14]=o,f[3]=s,f[7]=h,f[11]=g,f[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ye().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return this.determinant()===0?(e.set(1,0,0),t.set(0,1,0),n.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this)}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const t=this.elements,n=e.elements,i=1/Di.setFromMatrixColumn(e,0).length(),r=1/Di.setFromMatrixColumn(e,1).length(),l=1/Di.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*l,t[9]=n[9]*l,t[10]=n[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,r=e.z,l=Math.cos(n),p=Math.sin(n),c=Math.cos(i),u=Math.sin(i),m=Math.cos(r),d=Math.sin(r);if(e.order==="XYZ"){const o=l*m,s=l*d,h=p*m,g=p*d;t[0]=c*m,t[4]=-c*d,t[8]=u,t[1]=s+h*u,t[5]=o-g*u,t[9]=-p*c,t[2]=g-o*u,t[6]=h+s*u,t[10]=l*c}else if(e.order==="YXZ"){const o=c*m,s=c*d,h=u*m,g=u*d;t[0]=o+g*p,t[4]=h*p-s,t[8]=l*u,t[1]=l*d,t[5]=l*m,t[9]=-p,t[2]=s*p-h,t[6]=g+o*p,t[10]=l*c}else if(e.order==="ZXY"){const o=c*m,s=c*d,h=u*m,g=u*d;t[0]=o-g*p,t[4]=-l*d,t[8]=h+s*p,t[1]=s+h*p,t[5]=l*m,t[9]=g-o*p,t[2]=-l*u,t[6]=p,t[10]=l*c}else if(e.order==="ZYX"){const o=l*m,s=l*d,h=p*m,g=p*d;t[0]=c*m,t[4]=h*u-s,t[8]=o*u+g,t[1]=c*d,t[5]=g*u+o,t[9]=s*u-h,t[2]=-u,t[6]=p*c,t[10]=l*c}else if(e.order==="YZX"){const o=l*c,s=l*u,h=p*c,g=p*u;t[0]=c*m,t[4]=g-o*d,t[8]=h*d+s,t[1]=d,t[5]=l*m,t[9]=-p*m,t[2]=-u*m,t[6]=s*d+h,t[10]=o-g*d}else if(e.order==="XZY"){const o=l*c,s=l*u,h=p*c,g=p*u;t[0]=c*m,t[4]=-d,t[8]=u*m,t[1]=o*d+g,t[5]=l*m,t[9]=s*d-h,t[2]=h*d-s,t[6]=p*m,t[10]=g*d+o}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Qp,e,em)}lookAt(e,t,n){const i=this.elements;return Xt.subVectors(e,t),Xt.lengthSq()===0&&(Xt.z=1),Xt.normalize(),Zn.crossVectors(n,Xt),Zn.lengthSq()===0&&(Math.abs(n.z)===1?Xt.x+=1e-4:Xt.z+=1e-4,Xt.normalize(),Zn.crossVectors(n,Xt)),Zn.normalize(),za.crossVectors(Xt,Zn),i[0]=Zn.x,i[4]=za.x,i[8]=Xt.x,i[1]=Zn.y,i[5]=za.y,i[9]=Xt.y,i[2]=Zn.z,i[6]=za.z,i[10]=Xt.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,l=n[0],p=n[4],c=n[8],u=n[12],m=n[1],d=n[5],o=n[9],s=n[13],h=n[2],g=n[6],_=n[10],f=n[14],E=n[3],T=n[7],R=n[11],O=n[15],P=i[0],N=i[4],U=i[8],A=i[12],D=i[1],B=i[5],Y=i[9],y=i[13],v=i[2],M=i[6],b=i[10],x=i[14],k=i[3],Z=i[7],q=i[11],J=i[15];return r[0]=l*P+p*D+c*v+u*k,r[4]=l*N+p*B+c*M+u*Z,r[8]=l*U+p*Y+c*b+u*q,r[12]=l*A+p*y+c*x+u*J,r[1]=m*P+d*D+o*v+s*k,r[5]=m*N+d*B+o*M+s*Z,r[9]=m*U+d*Y+o*b+s*q,r[13]=m*A+d*y+o*x+s*J,r[2]=h*P+g*D+_*v+f*k,r[6]=h*N+g*B+_*M+f*Z,r[10]=h*U+g*Y+_*b+f*q,r[14]=h*A+g*y+_*x+f*J,r[3]=E*P+T*D+R*v+O*k,r[7]=E*N+T*B+R*M+O*Z,r[11]=E*U+T*Y+R*b+O*q,r[15]=E*A+T*y+R*x+O*J,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],l=e[1],p=e[5],c=e[9],u=e[13],m=e[2],d=e[6],o=e[10],s=e[14],h=e[3],g=e[7],_=e[11],f=e[15],E=c*s-u*o,T=p*s-u*d,R=p*o-c*d,O=l*s-u*m,P=l*o-c*m,N=l*d-p*m;return t*(g*E-_*T+f*R)-n*(h*E-_*O+f*P)+i*(h*T-g*O+f*N)-r*(h*R-g*P+_*N)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],l=e[4],p=e[5],c=e[6],u=e[7],m=e[8],d=e[9],o=e[10],s=e[11],h=e[12],g=e[13],_=e[14],f=e[15],E=d*_*u-g*o*u+g*c*s-p*_*s-d*c*f+p*o*f,T=h*o*u-m*_*u-h*c*s+l*_*s+m*c*f-l*o*f,R=m*g*u-h*d*u+h*p*s-l*g*s-m*p*f+l*d*f,O=h*d*c-m*g*c-h*p*o+l*g*o+m*p*_-l*d*_,P=t*E+n*T+i*R+r*O;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/P;return e[0]=E*N,e[1]=(g*o*r-d*_*r-g*i*s+n*_*s+d*i*f-n*o*f)*N,e[2]=(p*_*r-g*c*r+g*i*u-n*_*u-p*i*f+n*c*f)*N,e[3]=(d*c*r-p*o*r-d*i*u+n*o*u+p*i*s-n*c*s)*N,e[4]=T*N,e[5]=(m*_*r-h*o*r+h*i*s-t*_*s-m*i*f+t*o*f)*N,e[6]=(h*c*r-l*_*r-h*i*u+t*_*u+l*i*f-t*c*f)*N,e[7]=(l*o*r-m*c*r+m*i*u-t*o*u-l*i*s+t*c*s)*N,e[8]=R*N,e[9]=(h*d*r-m*g*r-h*n*s+t*g*s+m*n*f-t*d*f)*N,e[10]=(l*g*r-h*p*r+h*n*u-t*g*u-l*n*f+t*p*f)*N,e[11]=(m*p*r-l*d*r-m*n*u+t*d*u+l*n*s-t*p*s)*N,e[12]=O*N,e[13]=(m*g*i-h*d*i+h*n*o-t*g*o-m*n*_+t*d*_)*N,e[14]=(h*p*i-l*g*i-h*n*c+t*g*c+l*n*_-t*p*_)*N,e[15]=(l*d*i-m*p*i+m*n*c-t*d*c-l*n*o+t*p*o)*N,this}scale(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,l=e.x,p=e.y,c=e.z,u=r*l,m=r*p;return this.set(u*l+n,u*p-i*c,u*c+i*p,0,u*p+i*c,m*p+n,m*c-i*l,0,u*c-i*p,m*c+i*l,r*c*c+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,l){return this.set(1,n,r,0,e,1,l,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,r=t._x,l=t._y,p=t._z,c=t._w,u=r+r,m=l+l,d=p+p,o=r*u,s=r*m,h=r*d,g=l*m,_=l*d,f=p*d,E=c*u,T=c*m,R=c*d,O=n.x,P=n.y,N=n.z;return i[0]=(1-(g+f))*O,i[1]=(s+R)*O,i[2]=(h-T)*O,i[3]=0,i[4]=(s-R)*P,i[5]=(1-(o+f))*P,i[6]=(_+E)*P,i[7]=0,i[8]=(h+T)*N,i[9]=(_-E)*N,i[10]=(1-(o+g))*N,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],this.determinant()===0)return n.set(1,1,1),t.identity(),this;let r=Di.set(i[0],i[1],i[2]).length();const l=Di.set(i[4],i[5],i[6]).length(),p=Di.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),rn.copy(this);const u=1/r,m=1/l,d=1/p;return rn.elements[0]*=u,rn.elements[1]*=u,rn.elements[2]*=u,rn.elements[4]*=m,rn.elements[5]*=m,rn.elements[6]*=m,rn.elements[8]*=d,rn.elements[9]*=d,rn.elements[10]*=d,t.setFromRotationMatrix(rn),n.x=r,n.y=l,n.z=p,this}makePerspective(e,t,n,i,r,l,p=Tn,c=!1){const u=this.elements,m=2*r/(t-e),d=2*r/(n-i),o=(t+e)/(t-e),s=(n+i)/(n-i);let h,g;if(c)h=r/(l-r),g=l*r/(l-r);else if(p===Tn)h=-(l+r)/(l-r),g=-2*l*r/(l-r);else if(p===Oo)h=-l/(l-r),g=-l*r/(l-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+p);return u[0]=m,u[4]=0,u[8]=o,u[12]=0,u[1]=0,u[5]=d,u[9]=s,u[13]=0,u[2]=0,u[6]=0,u[10]=h,u[14]=g,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,n,i,r,l,p=Tn,c=!1){const u=this.elements,m=2/(t-e),d=2/(n-i),o=-(t+e)/(t-e),s=-(n+i)/(n-i);let h,g;if(c)h=1/(l-r),g=l/(l-r);else if(p===Tn)h=-2/(l-r),g=-(l+r)/(l-r);else if(p===Oo)h=-1/(l-r),g=-r/(l-r);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+p);return u[0]=m,u[4]=0,u[8]=0,u[12]=o,u[1]=0,u[5]=d,u[9]=0,u[13]=s,u[2]=0,u[6]=0,u[10]=h,u[14]=g,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Di=new K,rn=new Ye,Qp=new K(0,0,0),em=new K(1,1,1),Zn=new K,za=new K,Xt=new K,vl=new Ye,xl=new hn;class xn{constructor(e=0,t=0,n=0,i=xn.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,r=i[0],l=i[4],p=i[8],c=i[1],u=i[5],m=i[9],d=i[2],o=i[6],s=i[10];switch(t){case"XYZ":this._y=Math.asin(je(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(-m,s),this._z=Math.atan2(-l,r)):(this._x=Math.atan2(o,u),this._z=0);break;case"YXZ":this._x=Math.asin(-je(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(p,s),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-d,r),this._z=0);break;case"ZXY":this._x=Math.asin(je(o,-1,1)),Math.abs(o)<.9999999?(this._y=Math.atan2(-d,s),this._z=Math.atan2(-l,u)):(this._y=0,this._z=Math.atan2(c,r));break;case"ZYX":this._y=Math.asin(-je(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(o,s),this._z=Math.atan2(c,r)):(this._x=0,this._z=Math.atan2(-l,u));break;case"YZX":this._z=Math.asin(je(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,u),this._y=Math.atan2(-d,r)):(this._x=0,this._y=Math.atan2(p,s));break;case"XZY":this._z=Math.asin(-je(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(o,u),this._y=Math.atan2(p,r)):(this._x=Math.atan2(-m,s),this._y=0);break;default:Pe("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return vl.makeRotationFromQuaternion(e),this.setFromRotationMatrix(vl,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return xl.setFromEuler(this),this.setFromQuaternion(xl,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}xn.DEFAULT_ORDER="XYZ";class zs{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let tm=0;const Rl=new K,Oi=new hn,Nn=new Ye,Wa=new K,la=new K,nm=new K,im=new hn,bl=new K(1,0,0),Dl=new K(0,1,0),Ol=new K(0,0,1),Il={type:"added"},am={type:"removed"},Ii={type:"childadded",child:null},Qo={type:"childremoved",child:null};class ft extends Ti{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:tm++}),this.uuid=cn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ft.DEFAULT_UP.clone();const e=new K,t=new xn,n=new hn,i=new K(1,1,1);function r(){n.setFromEuler(t,!1)}function l(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ye},normalMatrix:{value:new Xe}}),this.matrix=new Ye,this.matrixWorld=new Ye,this.matrixAutoUpdate=ft.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ft.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new zs,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Oi.setFromAxisAngle(e,t),this.quaternion.multiply(Oi),this}rotateOnWorldAxis(e,t){return Oi.setFromAxisAngle(e,t),this.quaternion.premultiply(Oi),this}rotateX(e){return this.rotateOnAxis(bl,e)}rotateY(e){return this.rotateOnAxis(Dl,e)}rotateZ(e){return this.rotateOnAxis(Ol,e)}translateOnAxis(e,t){return Rl.copy(e).applyQuaternion(this.quaternion),this.position.add(Rl.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(bl,e)}translateY(e){return this.translateOnAxis(Dl,e)}translateZ(e){return this.translateOnAxis(Ol,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Nn.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Wa.copy(e):Wa.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),la.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Nn.lookAt(la,Wa,this.up):Nn.lookAt(Wa,la,this.up),this.quaternion.setFromRotationMatrix(Nn),i&&(Nn.extractRotation(i.matrixWorld),Oi.setFromRotationMatrix(Nn),this.quaternion.premultiply(Oi.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Fe("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Il),Ii.child=e,this.dispatchEvent(Ii),Ii.child=null):Fe("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(am),Qo.child=e,this.dispatchEvent(Qo),Qo.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Nn.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Nn.multiply(e.parent.matrixWorld)),e.applyMatrix4(Nn),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Il),Ii.child=e,this.dispatchEvent(Ii),Ii.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const l=this.children[n].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const i=this.children;for(let r=0,l=i.length;r<l;r++)i[r].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(la,e,nm),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(la,im,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let r=0,l=i.length;r<l;r++)i[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(p=>({...p,boundingBox:p.boundingBox?p.boundingBox.toJSON():void 0,boundingSphere:p.boundingSphere?p.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(p=>({...p})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function r(p,c){return p[c.uuid]===void 0&&(p[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const p=this.geometry.parameters;if(p!==void 0&&p.shapes!==void 0){const c=p.shapes;if(Array.isArray(c))for(let u=0,m=c.length;u<m;u++){const d=c[u];r(e.shapes,d)}else r(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const p=[];for(let c=0,u=this.material.length;c<u;c++)p.push(r(e.materials,this.material[c]));i.material=p}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let p=0;p<this.children.length;p++)i.children.push(this.children[p].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let p=0;p<this.animations.length;p++){const c=this.animations[p];i.animations.push(r(e.animations,c))}}if(t){const p=l(e.geometries),c=l(e.materials),u=l(e.textures),m=l(e.images),d=l(e.shapes),o=l(e.skeletons),s=l(e.animations),h=l(e.nodes);p.length>0&&(n.geometries=p),c.length>0&&(n.materials=c),u.length>0&&(n.textures=u),m.length>0&&(n.images=m),d.length>0&&(n.shapes=d),o.length>0&&(n.skeletons=o),s.length>0&&(n.animations=s),h.length>0&&(n.nodes=h)}return n.object=i,n;function l(p){const c=[];for(const u in p){const m=p[u];delete m.metadata,c.push(m)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}ft.DEFAULT_UP=new K(0,1,0);ft.DEFAULT_MATRIX_AUTO_UPDATE=!0;ft.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const sn=new K,Ln=new K,er=new K,Gn=new K,Pi=new K,wi=new K,Pl=new K,tr=new K,nr=new K,ir=new K,ar=new mt,or=new mt,rr=new mt;class mn{constructor(e=new K,t=new K,n=new K){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),sn.subVectors(e,t),i.cross(sn);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){sn.subVectors(i,t),Ln.subVectors(n,t),er.subVectors(e,t);const l=sn.dot(sn),p=sn.dot(Ln),c=sn.dot(er),u=Ln.dot(Ln),m=Ln.dot(er),d=l*u-p*p;if(d===0)return r.set(0,0,0),null;const o=1/d,s=(u*c-p*m)*o,h=(l*m-p*c)*o;return r.set(1-s-h,h,s)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Gn)===null?!1:Gn.x>=0&&Gn.y>=0&&Gn.x+Gn.y<=1}static getInterpolation(e,t,n,i,r,l,p,c){return this.getBarycoord(e,t,n,i,Gn)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(r,Gn.x),c.addScaledVector(l,Gn.y),c.addScaledVector(p,Gn.z),c)}static getInterpolatedAttribute(e,t,n,i,r,l){return ar.setScalar(0),or.setScalar(0),rr.setScalar(0),ar.fromBufferAttribute(e,t),or.fromBufferAttribute(e,n),rr.fromBufferAttribute(e,i),l.setScalar(0),l.addScaledVector(ar,r.x),l.addScaledVector(or,r.y),l.addScaledVector(rr,r.z),l}static isFrontFacing(e,t,n,i){return sn.subVectors(n,t),Ln.subVectors(e,t),sn.cross(Ln).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return sn.subVectors(this.c,this.b),Ln.subVectors(this.a,this.b),sn.cross(Ln).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return mn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return mn.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,r){return mn.getInterpolation(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return mn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return mn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,r=this.c;let l,p;Pi.subVectors(i,n),wi.subVectors(r,n),tr.subVectors(e,n);const c=Pi.dot(tr),u=wi.dot(tr);if(c<=0&&u<=0)return t.copy(n);nr.subVectors(e,i);const m=Pi.dot(nr),d=wi.dot(nr);if(m>=0&&d<=m)return t.copy(i);const o=c*d-m*u;if(o<=0&&c>=0&&m<=0)return l=c/(c-m),t.copy(n).addScaledVector(Pi,l);ir.subVectors(e,r);const s=Pi.dot(ir),h=wi.dot(ir);if(h>=0&&s<=h)return t.copy(r);const g=s*u-c*h;if(g<=0&&u>=0&&h<=0)return p=u/(u-h),t.copy(n).addScaledVector(wi,p);const _=m*h-s*d;if(_<=0&&d-m>=0&&s-h>=0)return Pl.subVectors(r,i),p=(d-m)/(d-m+(s-h)),t.copy(i).addScaledVector(Pl,p);const f=1/(_+g+o);return l=g*f,p=o*f,t.copy(n).addScaledVector(Pi,l).addScaledVector(wi,p)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const cu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$n={h:0,s:0,l:0},qa={h:0,s:0,l:0};function sr(a,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?a+(e-a)*6*t:t<1/2?e:t<2/3?a+(e-a)*6*(2/3-t):a}class ke{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=bt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,et.colorSpaceToWorking(this,t),this}setRGB(e,t,n,i=et.workingColorSpace){return this.r=e,this.g=t,this.b=n,et.colorSpaceToWorking(this,i),this}setHSL(e,t,n,i=et.workingColorSpace){if(e=Vs(e,1),t=je(t,0,1),n=je(n,0,1),t===0)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,l=2*n-r;this.r=sr(l,r,e+1/3),this.g=sr(l,r,e),this.b=sr(l,r,e-1/3)}return et.colorSpaceToWorking(this,i),this}setStyle(e,t=bt){function n(r){r!==void 0&&parseFloat(r)<1&&Pe("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const l=i[1],p=i[2];switch(l){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return n(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return n(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return n(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:Pe("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],l=r.length;if(l===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(r,16),t);Pe("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=bt){const n=cu[e.toLowerCase()];return n!==void 0?this.setHex(n,t):Pe("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Wn(e.r),this.g=Wn(e.g),this.b=Wn(e.b),this}copyLinearToSRGB(e){return this.r=Wi(e.r),this.g=Wi(e.g),this.b=Wi(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=bt){return et.workingToColorSpace(Ot.copy(this),e),Math.round(je(Ot.r*255,0,255))*65536+Math.round(je(Ot.g*255,0,255))*256+Math.round(je(Ot.b*255,0,255))}getHexString(e=bt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=et.workingColorSpace){et.workingToColorSpace(Ot.copy(this),t);const n=Ot.r,i=Ot.g,r=Ot.b,l=Math.max(n,i,r),p=Math.min(n,i,r);let c,u;const m=(p+l)/2;if(p===l)c=0,u=0;else{const d=l-p;switch(u=m<=.5?d/(l+p):d/(2-l-p),l){case n:c=(i-r)/d+(i<r?6:0);break;case i:c=(r-n)/d+2;break;case r:c=(n-i)/d+4;break}c/=6}return e.h=c,e.s=u,e.l=m,e}getRGB(e,t=et.workingColorSpace){return et.workingToColorSpace(Ot.copy(this),t),e.r=Ot.r,e.g=Ot.g,e.b=Ot.b,e}getStyle(e=bt){et.workingToColorSpace(Ot.copy(this),e);const t=Ot.r,n=Ot.g,i=Ot.b;return e!==bt?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(i*255)})`}offsetHSL(e,t,n){return this.getHSL($n),this.setHSL($n.h+e,$n.s+t,$n.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL($n),e.getHSL(qa);const n=Ma($n.h,qa.h,t),i=Ma($n.s,qa.s,t),r=Ma($n.l,qa.l,t);return this.setHSL(n,i,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,r=e.elements;return this.r=r[0]*t+r[3]*n+r[6]*i,this.g=r[1]*t+r[4]*n+r[7]*i,this.b=r[2]*t+r[5]*n+r[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ot=new ke;ke.NAMES=cu;let om=0;class An extends Ti{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:om++}),this.uuid=cn(),this.name="",this.type="Material",this.blending=zi,this.side=qn,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Pr,this.blendDst=wr,this.blendEquation=fi,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ke(0,0,0),this.blendAlpha=0,this.depthFunc=Yi,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=yl,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ai,this.stencilZFail=Ai,this.stencilZPass=Ai,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){Pe(`Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){Pe(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==zi&&(n.blending=this.blending),this.side!==qn&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Pr&&(n.blendSrc=this.blendSrc),this.blendDst!==wr&&(n.blendDst=this.blendDst),this.blendEquation!==fi&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Yi&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==yl&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ai&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Ai&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Ai&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.allowOverride===!1&&(n.allowOverride=!1),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(r){const l=[];for(const p in r){const c=r[p];delete c.metadata,l.push(c)}return l}if(t){const r=i(e.textures),l=i(e.images);r.length>0&&(n.textures=r),l.length>0&&(n.images=l)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Bn extends An{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xn,this.combine=Yd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const kn=rm();function rm(){const a=new ArrayBuffer(4),e=new Float32Array(a),t=new Uint32Array(a),n=new Uint32Array(512),i=new Uint32Array(512);for(let c=0;c<256;++c){const u=c-127;u<-27?(n[c]=0,n[c|256]=32768,i[c]=24,i[c|256]=24):u<-14?(n[c]=1024>>-u-14,n[c|256]=1024>>-u-14|32768,i[c]=-u-1,i[c|256]=-u-1):u<=15?(n[c]=u+15<<10,n[c|256]=u+15<<10|32768,i[c]=13,i[c|256]=13):u<128?(n[c]=31744,n[c|256]=64512,i[c]=24,i[c|256]=24):(n[c]=31744,n[c|256]=64512,i[c]=13,i[c|256]=13)}const r=new Uint32Array(2048),l=new Uint32Array(64),p=new Uint32Array(64);for(let c=1;c<1024;++c){let u=c<<13,m=0;for(;(u&8388608)===0;)u<<=1,m-=8388608;u&=-8388609,m+=947912704,r[c]=u|m}for(let c=1024;c<2048;++c)r[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)l[c]=c<<23;l[31]=1199570944,l[32]=2147483648;for(let c=33;c<63;++c)l[c]=2147483648+(c-32<<23);l[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(p[c]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:i,mantissaTable:r,exponentTable:l,offsetTable:p}}function sm(a){Math.abs(a)>65504&&Pe("DataUtils.toHalfFloat(): Value out of range."),a=je(a,-65504,65504),kn.floatView[0]=a;const e=kn.uint32View[0],t=e>>23&511;return kn.baseTable[t]+((e&8388607)>>kn.shiftTable[t])}function lm(a){const e=a>>10;return kn.uint32View[0]=kn.mantissaTable[kn.offsetTable[e]+(a&1023)]+kn.exponentTable[e],kn.floatView[0]}class Ya{static toHalfFloat(e){return sm(e)}static fromHalfFloat(e){return lm(e)}}const Ct=new K,Xa=new Ve;let dm=0;class It{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:dm++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=Ms,this.updateRanges=[],this.gpuType=kt,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Xa.fromBufferAttribute(this,t),Xa.applyMatrix3(e),this.setXY(t,Xa.x,Xa.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Ct.fromBufferAttribute(this,t),Ct.applyMatrix3(e),this.setXYZ(t,Ct.x,Ct.y,Ct.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Ct.fromBufferAttribute(this,t),Ct.applyMatrix4(e),this.setXYZ(t,Ct.x,Ct.y,Ct.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ct.fromBufferAttribute(this,t),Ct.applyNormalMatrix(e),this.setXYZ(t,Ct.x,Ct.y,Ct.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ct.fromBufferAttribute(this,t),Ct.transformDirection(e),this.setXYZ(t,Ct.x,Ct.y,Ct.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=pn(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=ot(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=pn(t,this.array)),t}setX(e,t){return this.normalized&&(t=ot(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=pn(t,this.array)),t}setY(e,t){return this.normalized&&(t=ot(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=pn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ot(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=pn(t,this.array)),t}setW(e,t){return this.normalized&&(t=ot(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=ot(t,this.array),n=ot(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=ot(t,this.array),n=ot(n,this.array),i=ot(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=ot(t,this.array),n=ot(n,this.array),i=ot(i,this.array),r=ot(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ms&&(e.usage=this.usage),e}}class hu extends It{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class fu extends It{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Tt extends It{constructor(e,t,n){super(new Float32Array(e),t,n)}}let um=0;const Jt=new Ye,lr=new ft,Ni=new K,Kt=new bn,da=new bn,xt=new K;class wt extends Ti{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:um++}),this.uuid=cn(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(uu(e)?fu:hu)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const r=new Xe().getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Jt.makeRotationFromQuaternion(e),this.applyMatrix4(Jt),this}rotateX(e){return Jt.makeRotationX(e),this.applyMatrix4(Jt),this}rotateY(e){return Jt.makeRotationY(e),this.applyMatrix4(Jt),this}rotateZ(e){return Jt.makeRotationZ(e),this.applyMatrix4(Jt),this}translate(e,t,n){return Jt.makeTranslation(e,t,n),this.applyMatrix4(Jt),this}scale(e,t,n){return Jt.makeScale(e,t,n),this.applyMatrix4(Jt),this}lookAt(e){return lr.lookAt(e),lr.updateMatrix(),this.applyMatrix4(lr.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ni).negate(),this.translate(Ni.x,Ni.y,Ni.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let i=0,r=e.length;i<r;i++){const l=e[i];n.push(l.x,l.y,l.z||0)}this.setAttribute("position",new Tt(n,3))}else{const n=Math.min(e.length,t.count);for(let i=0;i<n;i++){const r=e[i];t.setXYZ(i,r.x,r.y,r.z||0)}e.length>t.count&&Pe("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new bn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Fe("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const r=t[n];Kt.setFromBufferAttribute(r),this.morphTargetsRelative?(xt.addVectors(this.boundingBox.min,Kt.min),this.boundingBox.expandByPoint(xt),xt.addVectors(this.boundingBox.max,Kt.max),this.boundingBox.expandByPoint(xt)):(this.boundingBox.expandByPoint(Kt.min),this.boundingBox.expandByPoint(Kt.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Fe('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Dn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Fe("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new K,1/0);return}if(e){const n=this.boundingSphere.center;if(Kt.setFromBufferAttribute(e),t)for(let r=0,l=t.length;r<l;r++){const p=t[r];da.setFromBufferAttribute(p),this.morphTargetsRelative?(xt.addVectors(Kt.min,da.min),Kt.expandByPoint(xt),xt.addVectors(Kt.max,da.max),Kt.expandByPoint(xt)):(Kt.expandByPoint(da.min),Kt.expandByPoint(da.max))}Kt.getCenter(n);let i=0;for(let r=0,l=e.count;r<l;r++)xt.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(xt));if(t)for(let r=0,l=t.length;r<l;r++){const p=t[r],c=this.morphTargetsRelative;for(let u=0,m=p.count;u<m;u++)xt.fromBufferAttribute(p,u),c&&(Ni.fromBufferAttribute(e,u),xt.add(Ni)),i=Math.max(i,n.distanceToSquared(xt))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&Fe('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Fe("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,i=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new It(new Float32Array(4*n.count),4));const l=this.getAttribute("tangent"),p=[],c=[];for(let U=0;U<n.count;U++)p[U]=new K,c[U]=new K;const u=new K,m=new K,d=new K,o=new Ve,s=new Ve,h=new Ve,g=new K,_=new K;function f(U,A,D){u.fromBufferAttribute(n,U),m.fromBufferAttribute(n,A),d.fromBufferAttribute(n,D),o.fromBufferAttribute(r,U),s.fromBufferAttribute(r,A),h.fromBufferAttribute(r,D),m.sub(u),d.sub(u),s.sub(o),h.sub(o);const B=1/(s.x*h.y-h.x*s.y);isFinite(B)&&(g.copy(m).multiplyScalar(h.y).addScaledVector(d,-s.y).multiplyScalar(B),_.copy(d).multiplyScalar(s.x).addScaledVector(m,-h.x).multiplyScalar(B),p[U].add(g),p[A].add(g),p[D].add(g),c[U].add(_),c[A].add(_),c[D].add(_))}let E=this.groups;E.length===0&&(E=[{start:0,count:e.count}]);for(let U=0,A=E.length;U<A;++U){const D=E[U],B=D.start,Y=D.count;for(let y=B,v=B+Y;y<v;y+=3)f(e.getX(y+0),e.getX(y+1),e.getX(y+2))}const T=new K,R=new K,O=new K,P=new K;function N(U){O.fromBufferAttribute(i,U),P.copy(O);const A=p[U];T.copy(A),T.sub(O.multiplyScalar(O.dot(A))).normalize(),R.crossVectors(P,A);const B=R.dot(c[U])<0?-1:1;l.setXYZW(U,T.x,T.y,T.z,B)}for(let U=0,A=E.length;U<A;++U){const D=E[U],B=D.start,Y=D.count;for(let y=B,v=B+Y;y<v;y+=3)N(e.getX(y+0)),N(e.getX(y+1)),N(e.getX(y+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new It(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let o=0,s=n.count;o<s;o++)n.setXYZ(o,0,0,0);const i=new K,r=new K,l=new K,p=new K,c=new K,u=new K,m=new K,d=new K;if(e)for(let o=0,s=e.count;o<s;o+=3){const h=e.getX(o+0),g=e.getX(o+1),_=e.getX(o+2);i.fromBufferAttribute(t,h),r.fromBufferAttribute(t,g),l.fromBufferAttribute(t,_),m.subVectors(l,r),d.subVectors(i,r),m.cross(d),p.fromBufferAttribute(n,h),c.fromBufferAttribute(n,g),u.fromBufferAttribute(n,_),p.add(m),c.add(m),u.add(m),n.setXYZ(h,p.x,p.y,p.z),n.setXYZ(g,c.x,c.y,c.z),n.setXYZ(_,u.x,u.y,u.z)}else for(let o=0,s=t.count;o<s;o+=3)i.fromBufferAttribute(t,o+0),r.fromBufferAttribute(t,o+1),l.fromBufferAttribute(t,o+2),m.subVectors(l,r),d.subVectors(i,r),m.cross(d),n.setXYZ(o+0,m.x,m.y,m.z),n.setXYZ(o+1,m.x,m.y,m.z),n.setXYZ(o+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)xt.fromBufferAttribute(e,t),xt.normalize(),e.setXYZ(t,xt.x,xt.y,xt.z)}toNonIndexed(){function e(p,c){const u=p.array,m=p.itemSize,d=p.normalized,o=new u.constructor(c.length*m);let s=0,h=0;for(let g=0,_=c.length;g<_;g++){p.isInterleavedBufferAttribute?s=c[g]*p.data.stride+p.offset:s=c[g]*m;for(let f=0;f<m;f++)o[h++]=u[s++]}return new It(o,m,d)}if(this.index===null)return Pe("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new wt,n=this.index.array,i=this.attributes;for(const p in i){const c=i[p],u=e(c,n);t.setAttribute(p,u)}const r=this.morphAttributes;for(const p in r){const c=[],u=r[p];for(let m=0,d=u.length;m<d;m++){const o=u[m],s=e(o,n);c.push(s)}t.morphAttributes[p]=c}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let p=0,c=l.length;p<c;p++){const u=l[p];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const c in n){const u=n[c];e.data.attributes[c]=u.toJSON(e.data)}const i={};let r=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],m=[];for(let d=0,o=u.length;d<o;d++){const s=u[d];m.push(s.toJSON(e.data))}m.length>0&&(i[c]=m,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const p=this.boundingSphere;return p!==null&&(e.data.boundingSphere=p.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const i=e.attributes;for(const u in i){const m=i[u];this.setAttribute(u,m.clone(t))}const r=e.morphAttributes;for(const u in r){const m=[],d=r[u];for(let o=0,s=d.length;o<s;o++)m.push(d[o].clone(t));this.morphAttributes[u]=m}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let u=0,m=l.length;u<m;u++){const d=l[u];this.addGroup(d.start,d.count,d.materialIndex)}const p=e.boundingBox;p!==null&&(this.boundingBox=p.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const wl=new Ye,ui=new ta,Ka=new Dn,Nl=new K,ja=new K,Za=new K,$a=new K,dr=new K,Ja=new K,Ll=new K,Qa=new K;class ct extends ft{constructor(e=new wt,t=new Bn){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=i.length;r<l;r++){const p=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=r}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,l=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const p=this.morphTargetInfluences;if(r&&p){Ja.set(0,0,0);for(let c=0,u=r.length;c<u;c++){const m=p[c],d=r[c];m!==0&&(dr.fromBufferAttribute(d,e),l?Ja.addScaledVector(dr,m):Ja.addScaledVector(dr.sub(t),m))}t.add(Ja)}return t}raycast(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;i!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Ka.copy(n.boundingSphere),Ka.applyMatrix4(r),ui.copy(e.ray).recast(e.near),!(Ka.containsPoint(ui.origin)===!1&&(ui.intersectSphere(Ka,Nl)===null||ui.origin.distanceToSquared(Nl)>(e.far-e.near)**2))&&(wl.copy(r).invert(),ui.copy(e.ray).applyMatrix4(wl),!(n.boundingBox!==null&&ui.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,ui)))}_computeIntersections(e,t,n){let i;const r=this.geometry,l=this.material,p=r.index,c=r.attributes.position,u=r.attributes.uv,m=r.attributes.uv1,d=r.attributes.normal,o=r.groups,s=r.drawRange;if(p!==null)if(Array.isArray(l))for(let h=0,g=o.length;h<g;h++){const _=o[h],f=l[_.materialIndex],E=Math.max(_.start,s.start),T=Math.min(p.count,Math.min(_.start+_.count,s.start+s.count));for(let R=E,O=T;R<O;R+=3){const P=p.getX(R),N=p.getX(R+1),U=p.getX(R+2);i=eo(this,f,e,n,u,m,d,P,N,U),i&&(i.faceIndex=Math.floor(R/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const h=Math.max(0,s.start),g=Math.min(p.count,s.start+s.count);for(let _=h,f=g;_<f;_+=3){const E=p.getX(_),T=p.getX(_+1),R=p.getX(_+2);i=eo(this,l,e,n,u,m,d,E,T,R),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}else if(c!==void 0)if(Array.isArray(l))for(let h=0,g=o.length;h<g;h++){const _=o[h],f=l[_.materialIndex],E=Math.max(_.start,s.start),T=Math.min(c.count,Math.min(_.start+_.count,s.start+s.count));for(let R=E,O=T;R<O;R+=3){const P=R,N=R+1,U=R+2;i=eo(this,f,e,n,u,m,d,P,N,U),i&&(i.faceIndex=Math.floor(R/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const h=Math.max(0,s.start),g=Math.min(c.count,s.start+s.count);for(let _=h,f=g;_<f;_+=3){const E=_,T=_+1,R=_+2;i=eo(this,l,e,n,u,m,d,E,T,R),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}}}function pm(a,e,t,n,i,r,l,p){let c;if(e.side===Wt?c=n.intersectTriangle(l,r,i,!0,p):c=n.intersectTriangle(i,r,l,e.side===qn,p),c===null)return null;Qa.copy(p),Qa.applyMatrix4(a.matrixWorld);const u=t.ray.origin.distanceTo(Qa);return u<t.near||u>t.far?null:{distance:u,point:Qa.clone(),object:a}}function eo(a,e,t,n,i,r,l,p,c,u){a.getVertexPosition(p,ja),a.getVertexPosition(c,Za),a.getVertexPosition(u,$a);const m=pm(a,e,t,n,ja,Za,$a,Ll);if(m){const d=new K;mn.getBarycoord(Ll,ja,Za,$a,d),i&&(m.uv=mn.getInterpolatedAttribute(i,p,c,u,d,new Ve)),r&&(m.uv1=mn.getInterpolatedAttribute(r,p,c,u,d,new Ve)),l&&(m.normal=mn.getInterpolatedAttribute(l,p,c,u,d,new K),m.normal.dot(n.direction)>0&&m.normal.multiplyScalar(-1));const o={a:p,b:c,c:u,normal:new K,materialIndex:0};mn.getNormal(ja,Za,$a,o.normal),m.face=o,m.barycoord=d}return m}class wa extends wt{constructor(e=1,t=1,n=1,i=1,r=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:l};const p=this;i=Math.floor(i),r=Math.floor(r),l=Math.floor(l);const c=[],u=[],m=[],d=[];let o=0,s=0;h("z","y","x",-1,-1,n,t,e,l,r,0),h("z","y","x",1,-1,n,t,-e,l,r,1),h("x","z","y",1,1,e,n,t,i,l,2),h("x","z","y",1,-1,e,n,-t,i,l,3),h("x","y","z",1,-1,e,t,n,i,r,4),h("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(c),this.setAttribute("position",new Tt(u,3)),this.setAttribute("normal",new Tt(m,3)),this.setAttribute("uv",new Tt(d,2));function h(g,_,f,E,T,R,O,P,N,U,A){const D=R/N,B=O/U,Y=R/2,y=O/2,v=P/2,M=N+1,b=U+1;let x=0,k=0;const Z=new K;for(let q=0;q<b;q++){const J=q*B-y;for(let de=0;de<M;de++){const ie=de*D-Y;Z[g]=ie*E,Z[_]=J*T,Z[f]=v,u.push(Z.x,Z.y,Z.z),Z[g]=0,Z[_]=0,Z[f]=P>0?1:-1,m.push(Z.x,Z.y,Z.z),d.push(de/N),d.push(1-q/U),x+=1}}for(let q=0;q<U;q++)for(let J=0;J<N;J++){const de=o+J+M*q,ie=o+J+M*(q+1),be=o+(J+1)+M*(q+1),Le=o+(J+1)+M*q;c.push(de,ie,Le),c.push(ie,be,Le),k+=6}p.addGroup(s,k,A),s+=k,o+=x}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wa(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function $i(a){const e={};for(const t in a){e[t]={};for(const n in a[t]){const i=a[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Pe("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function Ut(a){const e={};for(let t=0;t<a.length;t++){const n=$i(a[t]);for(const i in n)e[i]=n[i]}return e}function mm(a){const e=[];for(let t=0;t<a.length;t++)e.push(a[t].clone());return e}function _u(a){const e=a.getRenderTarget();return e===null?a.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:et.workingColorSpace}const cm={clone:$i,merge:Ut};var hm=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fm=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Rn extends An{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=hm,this.fragmentShader=fm,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=$i(e.uniforms),this.uniformsGroups=mm(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const l=this.uniforms[i].value;l&&l.isTexture?t.uniforms[i]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[i]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[i]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[i]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[i]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[i]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[i]={type:"m4",value:l.toArray()}:t.uniforms[i]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class gu extends ft{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ye,this.projectionMatrix=new Ye,this.projectionMatrixInverse=new Ye,this.coordinateSystem=Tn,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Jn=new K,Gl=new Ve,Ul=new Ve;class Ft extends gu{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Zi*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ta*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Zi*2*Math.atan(Math.tan(Ta*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Jn.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Jn.x,Jn.y).multiplyScalar(-e/Jn.z),Jn.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Jn.x,Jn.y).multiplyScalar(-e/Jn.z)}getViewSize(e,t){return this.getViewBounds(e,Gl,Ul),t.subVectors(Ul,Gl)}setViewOffset(e,t,n,i,r,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ta*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const l=this.view;if(this.view!==null&&this.view.enabled){const c=l.fullWidth,u=l.fullHeight;r+=l.offsetX*i/c,t-=l.offsetY*n/u,i*=l.width/c,n*=l.height/u}const p=this.filmOffset;p!==0&&(r+=e*p/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Li=-90,Gi=1;class _m extends ft{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ft(Li,Gi,e,t);i.layers=this.layers,this.add(i);const r=new Ft(Li,Gi,e,t);r.layers=this.layers,this.add(r);const l=new Ft(Li,Gi,e,t);l.layers=this.layers,this.add(l);const p=new Ft(Li,Gi,e,t);p.layers=this.layers,this.add(p);const c=new Ft(Li,Gi,e,t);c.layers=this.layers,this.add(c);const u=new Ft(Li,Gi,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,r,l,p,c]=t;for(const u of t)this.remove(u);if(e===Tn)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),p.up.set(0,1,0),p.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===Oo)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),p.up.set(0,-1,0),p.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,l,p,c,u,m]=this.children,d=e.getRenderTarget(),o=e.getActiveCubeFace(),s=e.getActiveMipmapLevel(),h=e.xr.enabled;e.xr.enabled=!1;const g=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,r),e.setRenderTarget(n,1,i),e.render(t,l),e.setRenderTarget(n,2,i),e.render(t,p),e.setRenderTarget(n,3,i),e.render(t,c),e.setRenderTarget(n,4,i),e.render(t,u),n.texture.generateMipmaps=g,e.setRenderTarget(n,5,i),e.render(t,m),e.setRenderTarget(d,o,s),e.xr.enabled=h,n.texture.needsPMREMUpdate=!0}}class yu extends Rt{constructor(e=[],t=Ci,n,i,r,l,p,c,u,m){super(e,t,n,i,r,l,p,c,u,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Eu extends Sn{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new yu(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new wa(5,5,5),r=new Rn({name:"CubemapFromEquirect",uniforms:$i(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Wt,blending:zn});r.uniforms.tEquirect.value=t;const l=new ct(i,r),p=t.minFilter;return t.minFilter===Cn&&(t.minFilter=ht),new _m(1,10,this).update(e,l),t.minFilter=p,l.geometry.dispose(),l.material.dispose(),this}clear(e,t=!0,n=!0,i=!0){const r=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,n,i);e.setRenderTarget(r)}}class Vn extends ft{constructor(){super(),this.isGroup=!0,this.type="Group"}}const gm={type:"move"};class ur{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Vn,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Vn,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Vn,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,l=null;const p=this._targetRay,c=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){l=!0;for(const g of e.hand.values()){const _=t.getJointPose(g,n),f=this._getHandJoint(u,g);_!==null&&(f.matrix.fromArray(_.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,f.jointRadius=_.radius),f.visible=_!==null}const m=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],o=m.position.distanceTo(d.position),s=.02,h=.005;u.inputState.pinching&&o>s+h?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&o<=s-h&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),r!==null&&(c.matrix.fromArray(r.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,r.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(r.linearVelocity)):c.hasLinearVelocity=!1,r.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(r.angularVelocity)):c.hasAngularVelocity=!1));p!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&r!==null&&(i=r),i!==null&&(p.matrix.fromArray(i.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,i.linearVelocity?(p.hasLinearVelocity=!0,p.linearVelocity.copy(i.linearVelocity)):p.hasLinearVelocity=!1,i.angularVelocity?(p.hasAngularVelocity=!0,p.angularVelocity.copy(i.angularVelocity)):p.hasAngularVelocity=!1,this.dispatchEvent(gm)))}return p!==null&&(p.visible=i!==null),c!==null&&(c.visible=r!==null),u!==null&&(u.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Vn;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class ym extends ft{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new xn,this.environmentIntensity=1,this.environmentRotation=new xn,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Em{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ms,this.updateRanges=[],this.version=0,this.uuid=cn()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=cn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=cn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Lt=new K;class Ws{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Lt.fromBufferAttribute(this,t),Lt.applyMatrix4(e),this.setXYZ(t,Lt.x,Lt.y,Lt.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Lt.fromBufferAttribute(this,t),Lt.applyNormalMatrix(e),this.setXYZ(t,Lt.x,Lt.y,Lt.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Lt.fromBufferAttribute(this,t),Lt.transformDirection(e),this.setXYZ(t,Lt.x,Lt.y,Lt.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=pn(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=ot(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=ot(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=pn(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=pn(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=pn(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=pn(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=ot(t,this.array),n=ot(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ot(t,this.array),n=ot(n,this.array),i=ot(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ot(t,this.array),n=ot(n,this.array),i=ot(i,this.array),r=ot(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(e===void 0){Io("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new It(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ws(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){Io("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const Fl=new K,kl=new mt,Bl=new mt,Cm=new K,Vl=new Ye,to=new K,pr=new Dn,Hl=new Ye,mr=new ta;class Tm extends ct{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=hl,this.bindMatrix=new Ye,this.bindMatrixInverse=new Ye,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new bn),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,to),this.boundingBox.expandByPoint(to)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Dn),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,to),this.boundingSphere.expandByPoint(to)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),pr.copy(this.boundingSphere),pr.applyMatrix4(i),e.ray.intersectsSphere(pr)!==!1&&(Hl.copy(i).invert(),mr.copy(e.ray).applyMatrix4(Hl),!(this.boundingBox!==null&&mr.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,mr)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new mt,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===hl?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===_p?this.bindMatrixInverse.copy(this.bindMatrix).invert():Pe("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;kl.fromBufferAttribute(i.attributes.skinIndex,e),Bl.fromBufferAttribute(i.attributes.skinWeight,e),Fl.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const l=Bl.getComponent(r);if(l!==0){const p=kl.getComponent(r);Vl.multiplyMatrices(n.bones[p].matrixWorld,n.boneInverses[p]),t.addScaledVector(Cm.copy(Fl).applyMatrix4(Vl),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Cu extends ft{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Lo extends Rt{constructor(e=null,t=1,n=1,i,r,l,p,c,u=St,m=St,d,o){super(null,l,p,c,u,m,i,r,d,o),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const zl=new Ye,Mm=new Ye;class qs{constructor(e=[],t=[]){this.uuid=cn(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){Pe("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Ye)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Ye;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,l=e.length;r<l;r++){const p=e[r]?e[r].matrixWorld:Mm;zl.multiplyMatrices(p,t[r]),zl.toArray(n,r*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new qs(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Lo(t,e,e,an,kt);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const r=e.bones[n];let l=t[r];l===void 0&&(Pe("Skeleton: No bone found with UUID:",r),l=new Cu),this.bones.push(l),this.boneInverses.push(new Ye().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){const l=t[i];e.bones.push(l.uuid);const p=n[i];e.boneInverses.push(p.toArray())}return e}}class Ss extends It{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ui=new Ye,Wl=new Ye,no=[],ql=new bn,Sm=new Ye,ua=new ct,pa=new Dn;class Am extends ct{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ss(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,Sm)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new bn),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Ui),ql.copy(e.boundingBox).applyMatrix4(Ui),this.boundingBox.union(ql)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Dn),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Ui),pa.copy(e.boundingSphere).applyMatrix4(Ui),this.boundingSphere.union(pa)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,r=n.length+1,l=e*r+1;for(let p=0;p<n.length;p++)n[p]=i[l+p]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(ua.geometry=this.geometry,ua.material=this.material,ua.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),pa.copy(this.boundingSphere),pa.applyMatrix4(n),e.ray.intersectsSphere(pa)!==!1))for(let r=0;r<i;r++){this.getMatrixAt(r,Ui),Wl.multiplyMatrices(n,Ui),ua.matrixWorld=Wl,ua.raycast(e,no);for(let l=0,p=no.length;l<p;l++){const c=no[l];c.instanceId=r,c.object=this,t.push(c)}no.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ss(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;this.morphTexture===null&&(this.morphTexture=new Lo(new Float32Array(i*this.count),i,this.count,Ls,kt));const r=this.morphTexture.source.data.data;let l=0;for(let u=0;u<n.length;u++)l+=n[u];const p=this.geometry.morphTargetsRelative?1:1-l,c=i*e;r[c]=p,r.set(n,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const cr=new K,vm=new K,xm=new Xe;class ei{constructor(e=new K(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=cr.subVectors(n,t).cross(vm.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(cr),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||xm.getNormalMatrix(e),i=this.coplanarPoint(cr).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const pi=new Dn,Rm=new Ve(.5,.5),io=new K;class Ys{constructor(e=new ei,t=new ei,n=new ei,i=new ei,r=new ei,l=new ei){this.planes=[e,t,n,i,r,l]}set(e,t,n,i,r,l){const p=this.planes;return p[0].copy(e),p[1].copy(t),p[2].copy(n),p[3].copy(i),p[4].copy(r),p[5].copy(l),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Tn,n=!1){const i=this.planes,r=e.elements,l=r[0],p=r[1],c=r[2],u=r[3],m=r[4],d=r[5],o=r[6],s=r[7],h=r[8],g=r[9],_=r[10],f=r[11],E=r[12],T=r[13],R=r[14],O=r[15];if(i[0].setComponents(u-l,s-m,f-h,O-E).normalize(),i[1].setComponents(u+l,s+m,f+h,O+E).normalize(),i[2].setComponents(u+p,s+d,f+g,O+T).normalize(),i[3].setComponents(u-p,s-d,f-g,O-T).normalize(),n)i[4].setComponents(c,o,_,R).normalize(),i[5].setComponents(u-c,s-o,f-_,O-R).normalize();else if(i[4].setComponents(u-c,s-o,f-_,O-R).normalize(),t===Tn)i[5].setComponents(u+c,s+o,f+_,O+R).normalize();else if(t===Oo)i[5].setComponents(c,o,_,R).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),pi.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),pi.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(pi)}intersectsSprite(e){pi.center.set(0,0,0);const t=Rm.distanceTo(e.center);return pi.radius=.7071067811865476+t,pi.applyMatrix4(e.matrixWorld),this.intersectsSphere(pi)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(io.x=i.normal.x>0?e.max.x:e.min.x,io.y=i.normal.y>0?e.max.y:e.min.y,io.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(io)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class Xs extends An{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ke(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Po=new K,wo=new K,Yl=new Ye,ma=new ta,ao=new Dn,hr=new K,Xl=new K;class Oa extends ft{constructor(e=new wt,t=new Xs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,r=t.count;i<r;i++)Po.fromBufferAttribute(t,i-1),wo.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=Po.distanceTo(wo);e.setAttribute("lineDistance",new Tt(n,1))}else Pe("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,l=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),ao.copy(n.boundingSphere),ao.applyMatrix4(i),ao.radius+=r,e.ray.intersectsSphere(ao)===!1)return;Yl.copy(i).invert(),ma.copy(e.ray).applyMatrix4(Yl);const p=r/((this.scale.x+this.scale.y+this.scale.z)/3),c=p*p,u=this.isLineSegments?2:1,m=n.index,o=n.attributes.position;if(m!==null){const s=Math.max(0,l.start),h=Math.min(m.count,l.start+l.count);for(let g=s,_=h-1;g<_;g+=u){const f=m.getX(g),E=m.getX(g+1),T=oo(this,e,ma,c,f,E,g);T&&t.push(T)}if(this.isLineLoop){const g=m.getX(h-1),_=m.getX(s),f=oo(this,e,ma,c,g,_,h-1);f&&t.push(f)}}else{const s=Math.max(0,l.start),h=Math.min(o.count,l.start+l.count);for(let g=s,_=h-1;g<_;g+=u){const f=oo(this,e,ma,c,g,g+1,g);f&&t.push(f)}if(this.isLineLoop){const g=oo(this,e,ma,c,h-1,s,h-1);g&&t.push(g)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=i.length;r<l;r++){const p=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=r}}}}}function oo(a,e,t,n,i,r,l){const p=a.geometry.attributes.position;if(Po.fromBufferAttribute(p,i),wo.fromBufferAttribute(p,r),t.distanceSqToSegment(Po,wo,hr,Xl)>n)return;hr.applyMatrix4(a.matrixWorld);const u=e.ray.origin.distanceTo(hr);if(!(u<e.near||u>e.far))return{distance:u,point:Xl.clone().applyMatrix4(a.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:a}}const Kl=new K,jl=new K;class bm extends Oa{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,r=t.count;i<r;i+=2)Kl.fromBufferAttribute(t,i),jl.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+Kl.distanceTo(jl);e.setAttribute("lineDistance",new Tt(n,1))}else Pe("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Dm extends Oa{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Tu extends An{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Zl=new Ye,As=new ta,ro=new Dn,so=new K;class Om extends ft{constructor(e=new wt,t=new Tu){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,l=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),ro.copy(n.boundingSphere),ro.applyMatrix4(i),ro.radius+=r,e.ray.intersectsSphere(ro)===!1)return;Zl.copy(i).invert(),As.copy(e.ray).applyMatrix4(Zl);const p=r/((this.scale.x+this.scale.y+this.scale.z)/3),c=p*p,u=n.index,d=n.attributes.position;if(u!==null){const o=Math.max(0,l.start),s=Math.min(u.count,l.start+l.count);for(let h=o,g=s;h<g;h++){const _=u.getX(h);so.fromBufferAttribute(d,_),$l(so,_,c,i,e,t,this)}}else{const o=Math.max(0,l.start),s=Math.min(d.count,l.start+l.count);for(let h=o,g=s;h<g;h++)so.fromBufferAttribute(d,h),$l(so,h,c,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=i.length;r<l;r++){const p=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=r}}}}}function $l(a,e,t,n,i,r,l){const p=As.distanceSqToPoint(a);if(p<t){const c=new K;As.closestPointToPoint(a,c),c.applyMatrix4(n);const u=i.ray.origin.distanceTo(c);if(u<i.near||u>i.far)return;r.push({distance:u,distanceToRay:Math.sqrt(p),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:l})}}class Ia extends Rt{constructor(e,t,n=vn,i,r,l,p=St,c=St,u,m=Yn,d=1){if(m!==Yn&&m!==yi)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const o={width:e,height:t,depth:d};super(o,i,r,l,p,c,m,n,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Hs(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Im extends Ia{constructor(e,t=vn,n=Ci,i,r,l=St,p=St,c,u=Yn){const m={width:e,height:e,depth:1},d=[m,m,m,m,m,m];super(e,e,t,n,i,r,l,p,c,u),this.image=d,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class Mu extends Rt{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class Ks extends wt{constructor(e=1,t=32,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const r=[],l=[],p=[],c=[],u=new K,m=new Ve;l.push(0,0,0),p.push(0,0,1),c.push(.5,.5);for(let d=0,o=3;d<=t;d++,o+=3){const s=n+d/t*i;u.x=e*Math.cos(s),u.y=e*Math.sin(s),l.push(u.x,u.y,u.z),p.push(0,0,1),m.x=(l[o]/e+1)/2,m.y=(l[o+1]/e+1)/2,c.push(m.x,m.y)}for(let d=1;d<=t;d++)r.push(d,d+1,0);this.setIndex(r),this.setAttribute("position",new Tt(l,3)),this.setAttribute("normal",new Tt(p,3)),this.setAttribute("uv",new Tt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ks(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Pa extends wt{constructor(e=1,t=1,n=1,i=32,r=1,l=!1,p=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:l,thetaStart:p,thetaLength:c};const u=this;i=Math.floor(i),r=Math.floor(r);const m=[],d=[],o=[],s=[];let h=0;const g=[],_=n/2;let f=0;E(),l===!1&&(e>0&&T(!0),t>0&&T(!1)),this.setIndex(m),this.setAttribute("position",new Tt(d,3)),this.setAttribute("normal",new Tt(o,3)),this.setAttribute("uv",new Tt(s,2));function E(){const R=new K,O=new K;let P=0;const N=(t-e)/n;for(let U=0;U<=r;U++){const A=[],D=U/r,B=D*(t-e)+e;for(let Y=0;Y<=i;Y++){const y=Y/i,v=y*c+p,M=Math.sin(v),b=Math.cos(v);O.x=B*M,O.y=-D*n+_,O.z=B*b,d.push(O.x,O.y,O.z),R.set(M,N,b).normalize(),o.push(R.x,R.y,R.z),s.push(y,1-D),A.push(h++)}g.push(A)}for(let U=0;U<i;U++)for(let A=0;A<r;A++){const D=g[A][U],B=g[A+1][U],Y=g[A+1][U+1],y=g[A][U+1];(e>0||A!==0)&&(m.push(D,B,y),P+=3),(t>0||A!==r-1)&&(m.push(B,Y,y),P+=3)}u.addGroup(f,P,0),f+=P}function T(R){const O=h,P=new Ve,N=new K;let U=0;const A=R===!0?e:t,D=R===!0?1:-1;for(let Y=1;Y<=i;Y++)d.push(0,_*D,0),o.push(0,D,0),s.push(.5,.5),h++;const B=h;for(let Y=0;Y<=i;Y++){const v=Y/i*c+p,M=Math.cos(v),b=Math.sin(v);N.x=A*b,N.y=_*D,N.z=A*M,d.push(N.x,N.y,N.z),o.push(0,D,0),P.x=M*.5+.5,P.y=b*.5*D+.5,s.push(P.x,P.y),h++}for(let Y=0;Y<i;Y++){const y=O+Y,v=B+Y;R===!0?m.push(v,v+1,y):m.push(v+1,v,y),U+=3}u.addGroup(f,U,R===!0?1:2),f+=U}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pa(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class js extends Pa{constructor(e=1,t=1,n=32,i=1,r=!1,l=0,p=Math.PI*2){super(0,e,t,n,i,r,l,p),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:l,thetaLength:p}}static fromJSON(e){return new js(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Na extends wt{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const r=e/2,l=t/2,p=Math.floor(n),c=Math.floor(i),u=p+1,m=c+1,d=e/p,o=t/c,s=[],h=[],g=[],_=[];for(let f=0;f<m;f++){const E=f*o-l;for(let T=0;T<u;T++){const R=T*d-r;h.push(R,-E,0),g.push(0,0,1),_.push(T/p),_.push(1-f/c)}}for(let f=0;f<c;f++)for(let E=0;E<p;E++){const T=E+u*f,R=E+u*(f+1),O=E+1+u*(f+1),P=E+1+u*f;s.push(T,R,P),s.push(R,O,P)}this.setIndex(s),this.setAttribute("position",new Tt(h,3)),this.setAttribute("normal",new Tt(g,3)),this.setAttribute("uv",new Tt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Na(e.width,e.height,e.widthSegments,e.heightSegments)}}class Ei extends wt{constructor(e=1,t=32,n=16,i=0,r=Math.PI*2,l=0,p=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:l,thetaLength:p},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const c=Math.min(l+p,Math.PI);let u=0;const m=[],d=new K,o=new K,s=[],h=[],g=[],_=[];for(let f=0;f<=n;f++){const E=[],T=f/n;let R=0;f===0&&l===0?R=.5/t:f===n&&c===Math.PI&&(R=-.5/t);for(let O=0;O<=t;O++){const P=O/t;d.x=-e*Math.cos(i+P*r)*Math.sin(l+T*p),d.y=e*Math.cos(l+T*p),d.z=e*Math.sin(i+P*r)*Math.sin(l+T*p),h.push(d.x,d.y,d.z),o.copy(d).normalize(),g.push(o.x,o.y,o.z),_.push(P+R,1-T),E.push(u++)}m.push(E)}for(let f=0;f<n;f++)for(let E=0;E<t;E++){const T=m[f][E+1],R=m[f][E],O=m[f+1][E],P=m[f+1][E+1];(f!==0||l>0)&&s.push(T,R,P),(f!==n-1||c<Math.PI)&&s.push(R,O,P)}this.setIndex(s),this.setAttribute("position",new Tt(h,3)),this.setAttribute("normal",new Tt(g,3)),this.setAttribute("uv",new Tt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ei(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Pm extends Rn{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class ii extends An{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=du,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xn,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class On extends ii{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return je(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ke(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ke(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ke(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class wm extends An{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Ep,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Nm extends An{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function lo(a,e){return!a||a.constructor===e?a:typeof e.BYTES_PER_ELEMENT=="number"?new e(a):Array.prototype.slice.call(a)}function Lm(a){function e(i,r){return a[i]-a[r]}const t=a.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function Jl(a,e,t){const n=a.length,i=new a.constructor(n);for(let r=0,l=0;l!==n;++r){const p=t[r]*e;for(let c=0;c!==e;++c)i[l++]=a[p+c]}return i}function Su(a,e,t,n){let i=1,r=a[0];for(;r!==void 0&&r[n]===void 0;)r=a[i++];if(r===void 0)return;let l=r[n];if(l!==void 0)if(Array.isArray(l))do l=r[n],l!==void 0&&(e.push(r.time),t.push(...l)),r=a[i++];while(r!==void 0);else if(l.toArray!==void 0)do l=r[n],l!==void 0&&(e.push(r.time),l.toArray(t,t.length)),r=a[i++];while(r!==void 0);else do l=r[n],l!==void 0&&(e.push(r.time),t.push(l)),r=a[i++];while(r!==void 0)}class La{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];n:{e:{let l;t:{i:if(!(e<i)){for(let p=n+2;;){if(i===void 0){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===p)break;if(r=i,i=t[++n],e<i)break e}l=t.length;break t}if(!(e>=r)){const p=t[1];e<p&&(n=2,r=p);for(let c=n-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===c)break;if(i=r,r=t[--n-1],e>=r)break e}l=n,n=0;break t}break n}for(;n<l;){const p=n+l>>>1;e<t[p]?l=p:n=p+1}if(i=t[n],r=t[n-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let l=0;l!==i;++l)t[l]=n[r+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Gm extends La{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:fl,endingEnd:fl}}intervalChanged_(e,t,n){const i=this.parameterPositions;let r=e-2,l=e+1,p=i[r],c=i[l];if(p===void 0)switch(this.getSettings_().endingStart){case _l:r=e,p=2*t-n;break;case gl:r=i.length-2,p=t+i[r]-i[r+1];break;default:r=e,p=n}if(c===void 0)switch(this.getSettings_().endingEnd){case _l:l=e,c=2*n-t;break;case gl:l=1,c=n+i[1]-i[0];break;default:l=e-1,c=t}const u=(n-t)*.5,m=this.valueSize;this._weightPrev=u/(t-p),this._weightNext=u/(c-n),this._offsetPrev=r*m,this._offsetNext=l*m}interpolate_(e,t,n,i){const r=this.resultBuffer,l=this.sampleValues,p=this.valueSize,c=e*p,u=c-p,m=this._offsetPrev,d=this._offsetNext,o=this._weightPrev,s=this._weightNext,h=(n-t)/(i-t),g=h*h,_=g*h,f=-o*_+2*o*g-o*h,E=(1+o)*_+(-1.5-2*o)*g+(-.5+o)*h+1,T=(-1-s)*_+(1.5+s)*g+.5*h,R=s*_-s*g;for(let O=0;O!==p;++O)r[O]=f*l[m+O]+E*l[u+O]+T*l[c+O]+R*l[d+O];return r}}class Um extends La{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,l=this.sampleValues,p=this.valueSize,c=e*p,u=c-p,m=(n-t)/(i-t),d=1-m;for(let o=0;o!==p;++o)r[o]=l[u+o]*d+l[c+o]*m;return r}}class Fm extends La{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class fn{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=lo(t,this.TimeBufferType),this.values=lo(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:lo(e.times,Array),values:lo(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Fm(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Um(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Gm(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case xa:t=this.InterpolantFactoryMethodDiscrete;break;case Ra:t=this.InterpolantFactoryMethodLinear;break;case zo:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return Pe("KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return xa;case this.InterpolantFactoryMethodLinear:return Ra;case this.InterpolantFactoryMethodSmooth:return zo}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let r=0,l=i-1;for(;r!==i&&n[r]<e;)++r;for(;l!==-1&&n[l]>t;)--l;if(++l,r!==0||l!==i){r>=l&&(l=Math.max(l,1),r=l-1);const p=this.getValueSize();this.times=n.slice(r,l),this.values=this.values.slice(r*p,l*p)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Fe("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;r===0&&(Fe("KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let p=0;p!==r;p++){const c=n[p];if(typeof c=="number"&&isNaN(c)){Fe("KeyframeTrack: Time is not a valid number.",this,p,c),e=!1;break}if(l!==null&&l>c){Fe("KeyframeTrack: Out of order keys.",this,p,c,l),e=!1;break}l=c}if(i!==void 0&&Rp(i))for(let p=0,c=i.length;p!==c;++p){const u=i[p];if(isNaN(u)){Fe("KeyframeTrack: Value is not a valid number.",this,p,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===zo,r=e.length-1;let l=1;for(let p=1;p<r;++p){let c=!1;const u=e[p],m=e[p+1];if(u!==m&&(p!==1||u!==e[0]))if(i)c=!0;else{const d=p*n,o=d-n,s=d+n;for(let h=0;h!==n;++h){const g=t[d+h];if(g!==t[o+h]||g!==t[s+h]){c=!0;break}}}if(c){if(p!==l){e[l]=e[p];const d=p*n,o=l*n;for(let s=0;s!==n;++s)t[o+s]=t[d+s]}++l}}if(r>0){e[l]=e[r];for(let p=r*n,c=l*n,u=0;u!==n;++u)t[c+u]=t[p+u];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}fn.prototype.ValueTypeName="";fn.prototype.TimeBufferType=Float32Array;fn.prototype.ValueBufferType=Float32Array;fn.prototype.DefaultInterpolation=Ra;class na extends fn{constructor(e,t,n){super(e,t,n)}}na.prototype.ValueTypeName="bool";na.prototype.ValueBufferType=Array;na.prototype.DefaultInterpolation=xa;na.prototype.InterpolantFactoryMethodLinear=void 0;na.prototype.InterpolantFactoryMethodSmooth=void 0;class Au extends fn{constructor(e,t,n,i){super(e,t,n,i)}}Au.prototype.ValueTypeName="color";class Ji extends fn{constructor(e,t,n,i){super(e,t,n,i)}}Ji.prototype.ValueTypeName="number";class km extends La{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,l=this.sampleValues,p=this.valueSize,c=(n-t)/(i-t);let u=e*p;for(let m=u+p;u!==m;u+=4)hn.slerpFlat(r,0,l,u-p,l,u,c);return r}}class Qi extends fn{constructor(e,t,n,i){super(e,t,n,i)}InterpolantFactoryMethodLinear(e){return new km(this.times,this.values,this.getValueSize(),e)}}Qi.prototype.ValueTypeName="quaternion";Qi.prototype.InterpolantFactoryMethodSmooth=void 0;class ia extends fn{constructor(e,t,n){super(e,t,n)}}ia.prototype.ValueTypeName="string";ia.prototype.ValueBufferType=Array;ia.prototype.DefaultInterpolation=xa;ia.prototype.InterpolantFactoryMethodLinear=void 0;ia.prototype.InterpolantFactoryMethodSmooth=void 0;class ea extends fn{constructor(e,t,n,i){super(e,t,n,i)}}ea.prototype.ValueTypeName="vector";class Bm{constructor(e="",t=-1,n=[],i=gp){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=cn(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let l=0,p=n.length;l!==p;++l)t.push(Hm(n[l]).scale(i));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r.userData=JSON.parse(e.userData||"{}"),r}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let r=0,l=n.length;r!==l;++r)t.push(fn.toJSON(n[r]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const r=t.length,l=[];for(let p=0;p<r;p++){let c=[],u=[];c.push((p+r-1)%r,p,(p+1)%r),u.push(0,1,0);const m=Lm(c);c=Jl(c,1,m),u=Jl(u,1,m),!i&&c[0]===0&&(c.push(r),u.push(u[0])),l.push(new Ji(".morphTargetInfluences["+t[p].name+"]",c,u).scale(1/n))}return new this(e,-1,l)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let p=0,c=e.length;p<c;p++){const u=e[p],m=u.name.match(r);if(m&&m.length>1){const d=m[1];let o=i[d];o||(i[d]=o=[]),o.push(u)}}const l=[];for(const p in i)l.push(this.CreateFromMorphTargetSequence(p,i[p],t,n));return l}static parseAnimation(e,t){if(Pe("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Fe("AnimationClip: No animation in JSONLoader data."),null;const n=function(d,o,s,h,g){if(s.length!==0){const _=[],f=[];Su(s,_,f,h),_.length!==0&&g.push(new d(o,_,f))}},i=[],r=e.name||"default",l=e.fps||30,p=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const o=u[d].keys;if(!(!o||o.length===0))if(o[0].morphTargets){const s={};let h;for(h=0;h<o.length;h++)if(o[h].morphTargets)for(let g=0;g<o[h].morphTargets.length;g++)s[o[h].morphTargets[g]]=-1;for(const g in s){const _=[],f=[];for(let E=0;E!==o[h].morphTargets.length;++E){const T=o[h];_.push(T.time),f.push(T.morphTarget===g?1:0)}i.push(new Ji(".morphTargetInfluence["+g+"]",_,f))}c=s.length*l}else{const s=".bones["+t[d].name+"]";n(ea,s+".position",o,"pos",i),n(Qi,s+".quaternion",o,"rot",i),n(ea,s+".scale",o,"scl",i)}}return i.length===0?null:new this(r,c,i,p)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function Vm(a){switch(a.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ji;case"vector":case"vector2":case"vector3":case"vector4":return ea;case"color":return Au;case"quaternion":return Qi;case"bool":case"boolean":return na;case"string":return ia}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+a)}function Hm(a){if(a.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Vm(a.type);if(a.times===void 0){const t=[],n=[];Su(a.keys,t,n,"value"),a.times=t,a.values=n}return e.parse!==void 0?e.parse(a):new e(a.name,a.times,a.values,a.interpolation)}const Hn={enabled:!1,files:{},add:function(a,e){this.enabled!==!1&&(this.files[a]=e)},get:function(a){if(this.enabled!==!1)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};class zm{constructor(e,t,n){const i=this;let r=!1,l=0,p=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(m){p++,r===!1&&i.onStart!==void 0&&i.onStart(m,l,p),r=!0},this.itemEnd=function(m){l++,i.onProgress!==void 0&&i.onProgress(m,l,p),l===p&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(m){i.onError!==void 0&&i.onError(m)},this.resolveURL=function(m){return c?c(m):m},this.setURLModifier=function(m){return c=m,this},this.addHandler=function(m,d){return u.push(m,d),this},this.removeHandler=function(m){const d=u.indexOf(m);return d!==-1&&u.splice(d,2),this},this.getHandler=function(m){for(let d=0,o=u.length;d<o;d+=2){const s=u[d],h=u[d+1];if(s.global&&(s.lastIndex=0),s.test(m))return h}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const Wm=new zm;class Mi{constructor(e){this.manager=e!==void 0?e:Wm,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Mi.DEFAULT_MATERIAL_NAME="__DEFAULT";const Un={};class qm extends Error{constructor(e,t){super(e),this.response=t}}class Zs extends Mi{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=Hn.get(`file:${e}`);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(Un[e]!==void 0){Un[e].push({onLoad:t,onProgress:n,onError:i});return}Un[e]=[],Un[e].push({onLoad:t,onProgress:n,onError:i});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),p=this.mimeType,c=this.responseType;fetch(l).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&Pe("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const m=Un[e],d=u.body.getReader(),o=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),s=o?parseInt(o):0,h=s!==0;let g=0;const _=new ReadableStream({start(f){E();function E(){d.read().then(({done:T,value:R})=>{if(T)f.close();else{g+=R.byteLength;const O=new ProgressEvent("progress",{lengthComputable:h,loaded:g,total:s});for(let P=0,N=m.length;P<N;P++){const U=m[P];U.onProgress&&U.onProgress(O)}f.enqueue(R),E()}},T=>{f.error(T)})}}});return new Response(_)}else throw new qm(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(c){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(m=>new DOMParser().parseFromString(m,p));case"json":return u.json();default:if(p==="")return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(p),o=d&&d[1]?d[1].toLowerCase():void 0,s=new TextDecoder(o);return u.arrayBuffer().then(h=>s.decode(h))}}}).then(u=>{Hn.add(`file:${e}`,u);const m=Un[e];delete Un[e];for(let d=0,o=m.length;d<o;d++){const s=m[d];s.onLoad&&s.onLoad(u)}}).catch(u=>{const m=Un[e];if(m===void 0)throw this.manager.itemError(e),u;delete Un[e];for(let d=0,o=m.length;d<o;d++){const s=m[d];s.onError&&s.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}const Fi=new WeakMap;class Ym extends Mi{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,l=Hn.get(`image:${e}`);if(l!==void 0){if(l.complete===!0)r.manager.itemStart(e),setTimeout(function(){t&&t(l),r.manager.itemEnd(e)},0);else{let d=Fi.get(l);d===void 0&&(d=[],Fi.set(l,d)),d.push({onLoad:t,onError:i})}return l}const p=ba("img");function c(){m(),t&&t(this);const d=Fi.get(this)||[];for(let o=0;o<d.length;o++){const s=d[o];s.onLoad&&s.onLoad(this)}Fi.delete(this),r.manager.itemEnd(e)}function u(d){m(),i&&i(d),Hn.remove(`image:${e}`);const o=Fi.get(this)||[];for(let s=0;s<o.length;s++){const h=o[s];h.onError&&h.onError(d)}Fi.delete(this),r.manager.itemError(e),r.manager.itemEnd(e)}function m(){p.removeEventListener("load",c,!1),p.removeEventListener("error",u,!1)}return p.addEventListener("load",c,!1),p.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(p.crossOrigin=this.crossOrigin),Hn.add(`image:${e}`,p),r.manager.itemStart(e),p.src=e,p}}class Xm extends Mi{constructor(e){super(e)}load(e,t,n,i){const r=this,l=new Lo,p=new Zs(this.manager);return p.setResponseType("arraybuffer"),p.setRequestHeader(this.requestHeader),p.setPath(this.path),p.setWithCredentials(r.withCredentials),p.load(e,function(c){let u;try{u=r.parse(c)}catch(m){if(i!==void 0)i(m);else{m(m);return}}u.image!==void 0?l.image=u.image:u.data!==void 0&&(l.image.width=u.width,l.image.height=u.height,l.image.data=u.data),l.wrapS=u.wrapS!==void 0?u.wrapS:nn,l.wrapT=u.wrapT!==void 0?u.wrapT:nn,l.magFilter=u.magFilter!==void 0?u.magFilter:ht,l.minFilter=u.minFilter!==void 0?u.minFilter:ht,l.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(l.colorSpace=u.colorSpace),u.flipY!==void 0&&(l.flipY=u.flipY),u.format!==void 0&&(l.format=u.format),u.type!==void 0&&(l.type=u.type),u.mipmaps!==void 0&&(l.mipmaps=u.mipmaps,l.minFilter=Cn),u.mipmapCount===1&&(l.minFilter=ht),u.generateMipmaps!==void 0&&(l.generateMipmaps=u.generateMipmaps),l.needsUpdate=!0,t&&t(l,u)},n,i),l}}class Km extends Mi{constructor(e){super(e)}load(e,t,n,i){const r=new Rt,l=new Ym(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(p){r.image=p,r.needsUpdate=!0,t!==void 0&&t(r)},n,i),r}}class Go extends ft{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ke(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}const fr=new Ye,Ql=new K,ed=new K;class $s{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ve(512,512),this.mapType=zt,this.map=null,this.mapPass=null,this.matrix=new Ye,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ys,this._frameExtents=new Ve(1,1),this._viewportCount=1,this._viewports=[new mt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Ql.setFromMatrixPosition(e.matrixWorld),t.position.copy(Ql),ed.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(ed),t.updateMatrixWorld(),fr.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(fr,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(fr)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class jm extends $s{constructor(){super(new Ft(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=Zi*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Zm extends Go{constructor(e,t,n=0,i=Math.PI/3,r=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ft.DEFAULT_UP),this.updateMatrix(),this.target=new ft,this.distance=n,this.angle=i,this.penumbra=r,this.decay=l,this.map=null,this.shadow=new jm}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.angle=this.angle,t.object.decay=this.decay,t.object.penumbra=this.penumbra,t.object.target=this.target.uuid,this.map&&this.map.isTexture&&(t.object.map=this.map.toJSON(e).uuid),t.object.shadow=this.shadow.toJSON(),t}}class $m extends $s{constructor(){super(new Ft(90,1,.5,500)),this.isPointLightShadow=!0}}class Jm extends Go{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new $m}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.decay=this.decay,t.object.shadow=this.shadow.toJSON(),t}}class Uo extends gu{constructor(e=-1,t=1,n=1,i=-1,r=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,l=n+e,p=i+t,c=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=u*this.view.offsetX,l=r+u*this.view.width,p-=m*this.view.offsetY,c=p-m*this.view.height}this.projectionMatrix.makeOrthographic(r,l,p,c,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Qm extends $s{constructor(){super(new Uo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class vu extends Go{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ft.DEFAULT_UP),this.updateMatrix(),this.target=new ft,this.shadow=new Qm}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class ec extends Go{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Sa{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}const _r=new WeakMap;class tc extends Mi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Pe("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Pe("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,l=Hn.get(`image-bitmap:${e}`);if(l!==void 0){if(r.manager.itemStart(e),l.then){l.then(u=>{if(_r.has(l)===!0)i&&i(_r.get(l)),r.manager.itemError(e),r.manager.itemEnd(e);else return t&&t(u),r.manager.itemEnd(e),u});return}return setTimeout(function(){t&&t(l),r.manager.itemEnd(e)},0),l}const p={};p.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",p.headers=this.requestHeader,p.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const c=fetch(e,p).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(u){return Hn.add(`image-bitmap:${e}`,u),t&&t(u),r.manager.itemEnd(e),u}).catch(function(u){i&&i(u),_r.set(c,u),Hn.remove(`image-bitmap:${e}`),r.manager.itemError(e),r.manager.itemEnd(e)});Hn.add(`image-bitmap:${e}`,c),r.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class nc extends Ft{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}const Js="\\[\\]\\.:\\/",ic=new RegExp("["+Js+"]","g"),Qs="[^"+Js+"]",ac="[^"+Js.replace("\\.","")+"]",oc=/((?:WC+[\/:])*)/.source.replace("WC",Qs),rc=/(WCOD+)?/.source.replace("WCOD",ac),sc=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Qs),lc=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Qs),dc=new RegExp("^"+oc+rc+sc+lc+"$"),uc=["material","materials","bones","map"];class pc{constructor(e,t,n){const i=n||rt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class rt{constructor(e,t,n){this.path=t,this.parsedPath=n||rt.parseTrackName(t),this.node=rt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new rt.Composite(e,t,n):new rt(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(ic,"")}static parseTrackName(e){const t=dc.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const r=n.nodeName.substring(i+1);uc.indexOf(r)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(r){for(let l=0;l<r.length;l++){const p=r[l];if(p.name===t||p.uuid===t)return p;const c=n(p.children);if(c)return c}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=rt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Pe("PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let u=t.objectIndex;switch(n){case"materials":if(!e.material){Fe("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Fe("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Fe("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===u){u=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Fe("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Fe("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){Fe("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(u!==void 0){if(e[u]===void 0){Fe("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const l=e[i];if(l===void 0){const u=t.nodeName;Fe("PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let p=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?p=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(p=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){Fe("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Fe("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=r}else l.fromArray!==void 0&&l.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][p]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}rt.Composite=pc;rt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};rt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};rt.prototype.GetterByBindingType=[rt.prototype._getValue_direct,rt.prototype._getValue_array,rt.prototype._getValue_arrayElement,rt.prototype._getValue_toArray];rt.prototype.SetterByBindingTypeAndVersioning=[[rt.prototype._setValue_direct,rt.prototype._setValue_direct_setNeedsUpdate,rt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[rt.prototype._setValue_array,rt.prototype._setValue_array_setNeedsUpdate,rt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[rt.prototype._setValue_arrayElement,rt.prototype._setValue_arrayElement_setNeedsUpdate,rt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[rt.prototype._setValue_fromArray,rt.prototype._setValue_fromArray_setNeedsUpdate,rt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];const td=new Ye;class mc{constructor(e,t,n=0,i=1/0){this.ray=new ta(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new zs,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Fe("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return td.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(td),this}intersectObject(e,t=!0,n=[]){return vs(e,this,n,t),n.sort(nd),n}intersectObjects(e,t=!0,n=[]){for(let i=0,r=e.length;i<r;i++)vs(e[i],this,n,t);return n.sort(nd),n}}function nd(a,e){return a.distance-e.distance}function vs(a,e,t,n){let i=!0;if(a.layers.test(e.layers)&&a.raycast(e,t)===!1&&(i=!1),i===!0&&n===!0){const r=a.children;for(let l=0,p=r.length;l<p;l++)vs(r[l],e,t,!0)}}class id{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=je(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(je(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class cc extends Ti{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Pe("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function ad(a,e,t,n){const i=hc(n);switch(t){case ru:return a*e;case Ls:return a*e/i.components*i.byteLength;case Gs:return a*e/i.components*i.byteLength;case ji:return a*e*2/i.components*i.byteLength;case Us:return a*e*2/i.components*i.byteLength;case su:return a*e*3/i.components*i.byteLength;case an:return a*e*4/i.components*i.byteLength;case Fs:return a*e*4/i.components*i.byteLength;case Co:case To:return Math.floor((a+3)/4)*Math.floor((e+3)/4)*8;case Mo:case So:return Math.floor((a+3)/4)*Math.floor((e+3)/4)*16;case Wr:case Yr:return Math.max(a,16)*Math.max(e,8)/4;case zr:case qr:return Math.max(a,8)*Math.max(e,8)/2;case Xr:case Kr:case Zr:case $r:return Math.floor((a+3)/4)*Math.floor((e+3)/4)*8;case jr:case Jr:case Qr:return Math.floor((a+3)/4)*Math.floor((e+3)/4)*16;case es:return Math.floor((a+3)/4)*Math.floor((e+3)/4)*16;case ts:return Math.floor((a+4)/5)*Math.floor((e+3)/4)*16;case ns:return Math.floor((a+4)/5)*Math.floor((e+4)/5)*16;case is:return Math.floor((a+5)/6)*Math.floor((e+4)/5)*16;case as:return Math.floor((a+5)/6)*Math.floor((e+5)/6)*16;case os:return Math.floor((a+7)/8)*Math.floor((e+4)/5)*16;case rs:return Math.floor((a+7)/8)*Math.floor((e+5)/6)*16;case ss:return Math.floor((a+7)/8)*Math.floor((e+7)/8)*16;case ls:return Math.floor((a+9)/10)*Math.floor((e+4)/5)*16;case ds:return Math.floor((a+9)/10)*Math.floor((e+5)/6)*16;case us:return Math.floor((a+9)/10)*Math.floor((e+7)/8)*16;case ps:return Math.floor((a+9)/10)*Math.floor((e+9)/10)*16;case ms:return Math.floor((a+11)/12)*Math.floor((e+9)/10)*16;case cs:return Math.floor((a+11)/12)*Math.floor((e+11)/12)*16;case hs:case fs:case _s:return Math.ceil(a/4)*Math.ceil(e/4)*16;case gs:case ys:return Math.ceil(a/4)*Math.ceil(e/4)*8;case Es:case Cs:return Math.ceil(a/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function hc(a){switch(a){case zt:case nu:return{byteLength:1,components:1};case Aa:case iu:case Zt:return{byteLength:2,components:1};case ws:case Ns:return{byteLength:2,components:4};case vn:case Ps:case kt:return{byteLength:4,components:1};case au:case ou:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${a}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Is}}));typeof window<"u"&&(window.__THREE__?Pe("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Is);function xu(){let a=null,e=!1,t=null,n=null;function i(r,l){t(r,l),n=a.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=a.requestAnimationFrame(i),e=!0)},stop:function(){a.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){a=r}}}function fc(a){const e=new WeakMap;function t(p,c){const u=p.array,m=p.usage,d=u.byteLength,o=a.createBuffer();a.bindBuffer(c,o),a.bufferData(c,u,m),p.onUploadCallback();let s;if(u instanceof Float32Array)s=a.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)s=a.HALF_FLOAT;else if(u instanceof Uint16Array)p.isFloat16BufferAttribute?s=a.HALF_FLOAT:s=a.UNSIGNED_SHORT;else if(u instanceof Int16Array)s=a.SHORT;else if(u instanceof Uint32Array)s=a.UNSIGNED_INT;else if(u instanceof Int32Array)s=a.INT;else if(u instanceof Int8Array)s=a.BYTE;else if(u instanceof Uint8Array)s=a.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)s=a.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:o,type:s,bytesPerElement:u.BYTES_PER_ELEMENT,version:p.version,size:d}}function n(p,c,u){const m=c.array,d=c.updateRanges;if(a.bindBuffer(u,p),d.length===0)a.bufferSubData(u,0,m);else{d.sort((s,h)=>s.start-h.start);let o=0;for(let s=1;s<d.length;s++){const h=d[o],g=d[s];g.start<=h.start+h.count+1?h.count=Math.max(h.count,g.start+g.count-h.start):(++o,d[o]=g)}d.length=o+1;for(let s=0,h=d.length;s<h;s++){const g=d[s];a.bufferSubData(u,g.start*m.BYTES_PER_ELEMENT,m,g.start,g.count)}c.clearUpdateRanges()}c.onUploadCallback()}function i(p){return p.isInterleavedBufferAttribute&&(p=p.data),e.get(p)}function r(p){p.isInterleavedBufferAttribute&&(p=p.data);const c=e.get(p);c&&(a.deleteBuffer(c.buffer),e.delete(p))}function l(p,c){if(p.isInterleavedBufferAttribute&&(p=p.data),p.isGLBufferAttribute){const m=e.get(p);(!m||m.version<p.version)&&e.set(p,{buffer:p.buffer,type:p.type,bytesPerElement:p.elementSize,version:p.version});return}const u=e.get(p);if(u===void 0)e.set(p,t(p,c));else if(u.version<p.version){if(u.size!==p.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(u.buffer,p,c),u.version=p.version}}return{get:i,remove:r,update:l}}var _c=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,gc=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,yc=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Ec=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Cc=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Tc=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Mc=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Sc=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Ac=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,vc=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,xc=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Rc=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bc=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Dc=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Oc=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Ic=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Pc=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,wc=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Nc=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Lc=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Gc=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Uc=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Fc=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,kc=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Bc=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Vc=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Hc=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,zc=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Wc=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,qc=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Yc="gl_FragColor = linearToOutputTexel( gl_FragColor );",Xc=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Kc=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,jc=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,Zc=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,$c=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Jc=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Qc=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,eh=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,th=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,nh=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ih=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,ah=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,oh=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,rh=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,sh=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,lh=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,dh=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,uh=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ph=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,mh=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,ch=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,hh=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,fh=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,_h=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,gh=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,yh=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Eh=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Ch=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Th=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Mh=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Sh=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Ah=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,vh=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,xh=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Rh=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,bh=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Dh=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Oh=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Ih=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Ph=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,wh=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Nh=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Lh=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Gh=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Uh=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Fh=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,kh=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Bh=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Vh=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Hh=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,zh=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Wh=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,qh=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Yh=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Xh=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Kh=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,jh=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Zh=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,$h=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,Jh=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Qh=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,ef=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,tf=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,nf=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,af=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,of=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,rf=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,sf=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,lf=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,df=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,uf=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,pf=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,mf=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cf=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,hf=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,ff=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const _f=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,gf=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yf=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ef=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Cf=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Tf=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Mf=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Sf=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Af=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,vf=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,xf=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Rf=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bf=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Df=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Of=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,If=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Pf=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wf=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nf=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Lf=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gf=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Uf=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Ff=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kf=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bf=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Vf=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hf=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zf=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wf=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,qf=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Yf=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xf=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Kf=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,jf=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ke={alphahash_fragment:_c,alphahash_pars_fragment:gc,alphamap_fragment:yc,alphamap_pars_fragment:Ec,alphatest_fragment:Cc,alphatest_pars_fragment:Tc,aomap_fragment:Mc,aomap_pars_fragment:Sc,batching_pars_vertex:Ac,batching_vertex:vc,begin_vertex:xc,beginnormal_vertex:Rc,bsdfs:bc,iridescence_fragment:Dc,bumpmap_pars_fragment:Oc,clipping_planes_fragment:Ic,clipping_planes_pars_fragment:Pc,clipping_planes_pars_vertex:wc,clipping_planes_vertex:Nc,color_fragment:Lc,color_pars_fragment:Gc,color_pars_vertex:Uc,color_vertex:Fc,common:kc,cube_uv_reflection_fragment:Bc,defaultnormal_vertex:Vc,displacementmap_pars_vertex:Hc,displacementmap_vertex:zc,emissivemap_fragment:Wc,emissivemap_pars_fragment:qc,colorspace_fragment:Yc,colorspace_pars_fragment:Xc,envmap_fragment:Kc,envmap_common_pars_fragment:jc,envmap_pars_fragment:Zc,envmap_pars_vertex:$c,envmap_physical_pars_fragment:lh,envmap_vertex:Jc,fog_vertex:Qc,fog_pars_vertex:eh,fog_fragment:th,fog_pars_fragment:nh,gradientmap_pars_fragment:ih,lightmap_pars_fragment:ah,lights_lambert_fragment:oh,lights_lambert_pars_fragment:rh,lights_pars_begin:sh,lights_toon_fragment:dh,lights_toon_pars_fragment:uh,lights_phong_fragment:ph,lights_phong_pars_fragment:mh,lights_physical_fragment:ch,lights_physical_pars_fragment:hh,lights_fragment_begin:fh,lights_fragment_maps:_h,lights_fragment_end:gh,logdepthbuf_fragment:yh,logdepthbuf_pars_fragment:Eh,logdepthbuf_pars_vertex:Ch,logdepthbuf_vertex:Th,map_fragment:Mh,map_pars_fragment:Sh,map_particle_fragment:Ah,map_particle_pars_fragment:vh,metalnessmap_fragment:xh,metalnessmap_pars_fragment:Rh,morphinstance_vertex:bh,morphcolor_vertex:Dh,morphnormal_vertex:Oh,morphtarget_pars_vertex:Ih,morphtarget_vertex:Ph,normal_fragment_begin:wh,normal_fragment_maps:Nh,normal_pars_fragment:Lh,normal_pars_vertex:Gh,normal_vertex:Uh,normalmap_pars_fragment:Fh,clearcoat_normal_fragment_begin:kh,clearcoat_normal_fragment_maps:Bh,clearcoat_pars_fragment:Vh,iridescence_pars_fragment:Hh,opaque_fragment:zh,packing:Wh,premultiplied_alpha_fragment:qh,project_vertex:Yh,dithering_fragment:Xh,dithering_pars_fragment:Kh,roughnessmap_fragment:jh,roughnessmap_pars_fragment:Zh,shadowmap_pars_fragment:$h,shadowmap_pars_vertex:Jh,shadowmap_vertex:Qh,shadowmask_pars_fragment:ef,skinbase_vertex:tf,skinning_pars_vertex:nf,skinning_vertex:af,skinnormal_vertex:of,specularmap_fragment:rf,specularmap_pars_fragment:sf,tonemapping_fragment:lf,tonemapping_pars_fragment:df,transmission_fragment:uf,transmission_pars_fragment:pf,uv_pars_fragment:mf,uv_pars_vertex:cf,uv_vertex:hf,worldpos_vertex:ff,background_vert:_f,background_frag:gf,backgroundCube_vert:yf,backgroundCube_frag:Ef,cube_vert:Cf,cube_frag:Tf,depth_vert:Mf,depth_frag:Sf,distance_vert:Af,distance_frag:vf,equirect_vert:xf,equirect_frag:Rf,linedashed_vert:bf,linedashed_frag:Df,meshbasic_vert:Of,meshbasic_frag:If,meshlambert_vert:Pf,meshlambert_frag:wf,meshmatcap_vert:Nf,meshmatcap_frag:Lf,meshnormal_vert:Gf,meshnormal_frag:Uf,meshphong_vert:Ff,meshphong_frag:kf,meshphysical_vert:Bf,meshphysical_frag:Vf,meshtoon_vert:Hf,meshtoon_frag:zf,points_vert:Wf,points_frag:qf,shadow_vert:Yf,shadow_frag:Xf,sprite_vert:Kf,sprite_frag:jf},Ee={common:{diffuse:{value:new ke(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Xe},alphaMap:{value:null},alphaMapTransform:{value:new Xe},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Xe}},envmap:{envMap:{value:null},envMapRotation:{value:new Xe},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Xe}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Xe}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Xe},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Xe},normalScale:{value:new Ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Xe},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Xe}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Xe}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Xe}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Xe},alphaTest:{value:0},uvTransform:{value:new Xe}},sprite:{diffuse:{value:new ke(16777215)},opacity:{value:1},center:{value:new Ve(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Xe},alphaMap:{value:null},alphaMapTransform:{value:new Xe},alphaTest:{value:0}}},En={basic:{uniforms:Ut([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.fog]),vertexShader:Ke.meshbasic_vert,fragmentShader:Ke.meshbasic_frag},lambert:{uniforms:Ut([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,Ee.lights,{emissive:{value:new ke(0)}}]),vertexShader:Ke.meshlambert_vert,fragmentShader:Ke.meshlambert_frag},phong:{uniforms:Ut([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,Ee.lights,{emissive:{value:new ke(0)},specular:{value:new ke(1118481)},shininess:{value:30}}]),vertexShader:Ke.meshphong_vert,fragmentShader:Ke.meshphong_frag},standard:{uniforms:Ut([Ee.common,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.roughnessmap,Ee.metalnessmap,Ee.fog,Ee.lights,{emissive:{value:new ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ke.meshphysical_vert,fragmentShader:Ke.meshphysical_frag},toon:{uniforms:Ut([Ee.common,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.gradientmap,Ee.fog,Ee.lights,{emissive:{value:new ke(0)}}]),vertexShader:Ke.meshtoon_vert,fragmentShader:Ke.meshtoon_frag},matcap:{uniforms:Ut([Ee.common,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,{matcap:{value:null}}]),vertexShader:Ke.meshmatcap_vert,fragmentShader:Ke.meshmatcap_frag},points:{uniforms:Ut([Ee.points,Ee.fog]),vertexShader:Ke.points_vert,fragmentShader:Ke.points_frag},dashed:{uniforms:Ut([Ee.common,Ee.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ke.linedashed_vert,fragmentShader:Ke.linedashed_frag},depth:{uniforms:Ut([Ee.common,Ee.displacementmap]),vertexShader:Ke.depth_vert,fragmentShader:Ke.depth_frag},normal:{uniforms:Ut([Ee.common,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,{opacity:{value:1}}]),vertexShader:Ke.meshnormal_vert,fragmentShader:Ke.meshnormal_frag},sprite:{uniforms:Ut([Ee.sprite,Ee.fog]),vertexShader:Ke.sprite_vert,fragmentShader:Ke.sprite_frag},background:{uniforms:{uvTransform:{value:new Xe},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ke.background_vert,fragmentShader:Ke.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Xe}},vertexShader:Ke.backgroundCube_vert,fragmentShader:Ke.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ke.cube_vert,fragmentShader:Ke.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ke.equirect_vert,fragmentShader:Ke.equirect_frag},distance:{uniforms:Ut([Ee.common,Ee.displacementmap,{referencePosition:{value:new K},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ke.distance_vert,fragmentShader:Ke.distance_frag},shadow:{uniforms:Ut([Ee.lights,Ee.fog,{color:{value:new ke(0)},opacity:{value:1}}]),vertexShader:Ke.shadow_vert,fragmentShader:Ke.shadow_frag}};En.physical={uniforms:Ut([En.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Xe},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Xe},clearcoatNormalScale:{value:new Ve(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Xe},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Xe},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Xe},sheen:{value:0},sheenColor:{value:new ke(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Xe},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Xe},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Xe},transmissionSamplerSize:{value:new Ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Xe},attenuationDistance:{value:0},attenuationColor:{value:new ke(0)},specularColor:{value:new ke(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Xe},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Xe},anisotropyVector:{value:new Ve},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Xe}}]),vertexShader:Ke.meshphysical_vert,fragmentShader:Ke.meshphysical_frag};const uo={r:0,b:0,g:0},mi=new xn,Zf=new Ye;function $f(a,e,t,n,i,r,l){const p=new ke(0);let c=r===!0?0:1,u,m,d=null,o=0,s=null;function h(T){let R=T.isScene===!0?T.background:null;return R&&R.isTexture&&(R=(T.backgroundBlurriness>0?t:e).get(R)),R}function g(T){let R=!1;const O=h(T);O===null?f(p,c):O&&O.isColor&&(f(O,1),R=!0);const P=a.xr.getEnvironmentBlendMode();P==="additive"?n.buffers.color.setClear(0,0,0,1,l):P==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,l),(a.autoClear||R)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil))}function _(T,R){const O=h(R);O&&(O.isCubeTexture||O.mapping===No)?(m===void 0&&(m=new ct(new wa(1,1,1),new Rn({name:"BackgroundCubeMaterial",uniforms:$i(En.backgroundCube.uniforms),vertexShader:En.backgroundCube.vertexShader,fragmentShader:En.backgroundCube.fragmentShader,side:Wt,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(P,N,U){this.matrixWorld.copyPosition(U.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(m)),mi.copy(R.backgroundRotation),mi.x*=-1,mi.y*=-1,mi.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(mi.y*=-1,mi.z*=-1),m.material.uniforms.envMap.value=O,m.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(Zf.makeRotationFromEuler(mi)),m.material.toneMapped=et.getTransfer(O.colorSpace)!==at,(d!==O||o!==O.version||s!==a.toneMapping)&&(m.material.needsUpdate=!0,d=O,o=O.version,s=a.toneMapping),m.layers.enableAll(),T.unshift(m,m.geometry,m.material,0,0,null)):O&&O.isTexture&&(u===void 0&&(u=new ct(new Na(2,2),new Rn({name:"BackgroundMaterial",uniforms:$i(En.background.uniforms),vertexShader:En.background.vertexShader,fragmentShader:En.background.fragmentShader,side:qn,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=O,u.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,u.material.toneMapped=et.getTransfer(O.colorSpace)!==at,O.matrixAutoUpdate===!0&&O.updateMatrix(),u.material.uniforms.uvTransform.value.copy(O.matrix),(d!==O||o!==O.version||s!==a.toneMapping)&&(u.material.needsUpdate=!0,d=O,o=O.version,s=a.toneMapping),u.layers.enableAll(),T.unshift(u,u.geometry,u.material,0,0,null))}function f(T,R){T.getRGB(uo,_u(a)),n.buffers.color.setClear(uo.r,uo.g,uo.b,R,l)}function E(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return p},setClearColor:function(T,R=1){p.set(T),c=R,f(p,c)},getClearAlpha:function(){return c},setClearAlpha:function(T){c=T,f(p,c)},render:g,addToRenderList:_,dispose:E}}function Jf(a,e){const t=a.getParameter(a.MAX_VERTEX_ATTRIBS),n={},i=o(null);let r=i,l=!1;function p(D,B,Y,y,v){let M=!1;const b=d(y,Y,B);r!==b&&(r=b,u(r.object)),M=s(D,y,Y,v),M&&h(D,y,Y,v),v!==null&&e.update(v,a.ELEMENT_ARRAY_BUFFER),(M||l)&&(l=!1,R(D,B,Y,y),v!==null&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e.get(v).buffer))}function c(){return a.createVertexArray()}function u(D){return a.bindVertexArray(D)}function m(D){return a.deleteVertexArray(D)}function d(D,B,Y){const y=Y.wireframe===!0;let v=n[D.id];v===void 0&&(v={},n[D.id]=v);let M=v[B.id];M===void 0&&(M={},v[B.id]=M);let b=M[y];return b===void 0&&(b=o(c()),M[y]=b),b}function o(D){const B=[],Y=[],y=[];for(let v=0;v<t;v++)B[v]=0,Y[v]=0,y[v]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:Y,attributeDivisors:y,object:D,attributes:{},index:null}}function s(D,B,Y,y){const v=r.attributes,M=B.attributes;let b=0;const x=Y.getAttributes();for(const k in x)if(x[k].location>=0){const q=v[k];let J=M[k];if(J===void 0&&(k==="instanceMatrix"&&D.instanceMatrix&&(J=D.instanceMatrix),k==="instanceColor"&&D.instanceColor&&(J=D.instanceColor)),q===void 0||q.attribute!==J||J&&q.data!==J.data)return!0;b++}return r.attributesNum!==b||r.index!==y}function h(D,B,Y,y){const v={},M=B.attributes;let b=0;const x=Y.getAttributes();for(const k in x)if(x[k].location>=0){let q=M[k];q===void 0&&(k==="instanceMatrix"&&D.instanceMatrix&&(q=D.instanceMatrix),k==="instanceColor"&&D.instanceColor&&(q=D.instanceColor));const J={};J.attribute=q,q&&q.data&&(J.data=q.data),v[k]=J,b++}r.attributes=v,r.attributesNum=b,r.index=y}function g(){const D=r.newAttributes;for(let B=0,Y=D.length;B<Y;B++)D[B]=0}function _(D){f(D,0)}function f(D,B){const Y=r.newAttributes,y=r.enabledAttributes,v=r.attributeDivisors;Y[D]=1,y[D]===0&&(a.enableVertexAttribArray(D),y[D]=1),v[D]!==B&&(a.vertexAttribDivisor(D,B),v[D]=B)}function E(){const D=r.newAttributes,B=r.enabledAttributes;for(let Y=0,y=B.length;Y<y;Y++)B[Y]!==D[Y]&&(a.disableVertexAttribArray(Y),B[Y]=0)}function T(D,B,Y,y,v,M,b){b===!0?a.vertexAttribIPointer(D,B,Y,v,M):a.vertexAttribPointer(D,B,Y,y,v,M)}function R(D,B,Y,y){g();const v=y.attributes,M=Y.getAttributes(),b=B.defaultAttributeValues;for(const x in M){const k=M[x];if(k.location>=0){let Z=v[x];if(Z===void 0&&(x==="instanceMatrix"&&D.instanceMatrix&&(Z=D.instanceMatrix),x==="instanceColor"&&D.instanceColor&&(Z=D.instanceColor)),Z!==void 0){const q=Z.normalized,J=Z.itemSize,de=e.get(Z);if(de===void 0)continue;const ie=de.buffer,be=de.type,Le=de.bytesPerElement,w=be===a.INT||be===a.UNSIGNED_INT||Z.gpuType===Ps;if(Z.isInterleavedBufferAttribute){const C=Z.data,L=C.stride,V=Z.offset;if(C.isInstancedInterleavedBuffer){for(let H=0;H<k.locationSize;H++)f(k.location+H,C.meshPerAttribute);D.isInstancedMesh!==!0&&y._maxInstanceCount===void 0&&(y._maxInstanceCount=C.meshPerAttribute*C.count)}else for(let H=0;H<k.locationSize;H++)_(k.location+H);a.bindBuffer(a.ARRAY_BUFFER,ie);for(let H=0;H<k.locationSize;H++)T(k.location+H,J/k.locationSize,be,q,L*Le,(V+J/k.locationSize*H)*Le,w)}else{if(Z.isInstancedBufferAttribute){for(let C=0;C<k.locationSize;C++)f(k.location+C,Z.meshPerAttribute);D.isInstancedMesh!==!0&&y._maxInstanceCount===void 0&&(y._maxInstanceCount=Z.meshPerAttribute*Z.count)}else for(let C=0;C<k.locationSize;C++)_(k.location+C);a.bindBuffer(a.ARRAY_BUFFER,ie);for(let C=0;C<k.locationSize;C++)T(k.location+C,J/k.locationSize,be,q,J*Le,J/k.locationSize*C*Le,w)}}else if(b!==void 0){const q=b[x];if(q!==void 0)switch(q.length){case 2:a.vertexAttrib2fv(k.location,q);break;case 3:a.vertexAttrib3fv(k.location,q);break;case 4:a.vertexAttrib4fv(k.location,q);break;default:a.vertexAttrib1fv(k.location,q)}}}}E()}function O(){U();for(const D in n){const B=n[D];for(const Y in B){const y=B[Y];for(const v in y)m(y[v].object),delete y[v];delete B[Y]}delete n[D]}}function P(D){if(n[D.id]===void 0)return;const B=n[D.id];for(const Y in B){const y=B[Y];for(const v in y)m(y[v].object),delete y[v];delete B[Y]}delete n[D.id]}function N(D){for(const B in n){const Y=n[B];if(Y[D.id]===void 0)continue;const y=Y[D.id];for(const v in y)m(y[v].object),delete y[v];delete Y[D.id]}}function U(){A(),l=!0,r!==i&&(r=i,u(r.object))}function A(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:p,reset:U,resetDefaultState:A,dispose:O,releaseStatesOfGeometry:P,releaseStatesOfProgram:N,initAttributes:g,enableAttribute:_,disableUnusedAttributes:E}}function Qf(a,e,t){let n;function i(u){n=u}function r(u,m){a.drawArrays(n,u,m),t.update(m,n,1)}function l(u,m,d){d!==0&&(a.drawArraysInstanced(n,u,m,d),t.update(m,n,d))}function p(u,m,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,u,0,m,0,d);let s=0;for(let h=0;h<d;h++)s+=m[h];t.update(s,n,1)}function c(u,m,d,o){if(d===0)return;const s=e.get("WEBGL_multi_draw");if(s===null)for(let h=0;h<u.length;h++)l(u[h],m[h],o[h]);else{s.multiDrawArraysInstancedWEBGL(n,u,0,m,0,o,0,d);let h=0;for(let g=0;g<d;g++)h+=m[g]*o[g];t.update(h,n,1)}}this.setMode=i,this.render=r,this.renderInstances=l,this.renderMultiDraw=p,this.renderMultiDrawInstances=c}function e_(a,e,t,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");i=a.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function l(N){return!(N!==an&&n.convert(N)!==a.getParameter(a.IMPLEMENTATION_COLOR_READ_FORMAT))}function p(N){const U=N===Zt&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(N!==zt&&n.convert(N)!==a.getParameter(a.IMPLEMENTATION_COLOR_READ_TYPE)&&N!==kt&&!U)}function c(N){if(N==="highp"){if(a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision>0&&a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return N==="mediump"&&a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision>0&&a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const m=c(u);m!==u&&(Pe("WebGLRenderer:",u,"not supported, using",m,"instead."),u=m);const d=t.logarithmicDepthBuffer===!0,o=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),s=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),h=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=a.getParameter(a.MAX_TEXTURE_SIZE),_=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),f=a.getParameter(a.MAX_VERTEX_ATTRIBS),E=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),T=a.getParameter(a.MAX_VARYING_VECTORS),R=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),O=a.getParameter(a.MAX_SAMPLES),P=a.getParameter(a.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:c,textureFormatReadable:l,textureTypeReadable:p,precision:u,logarithmicDepthBuffer:d,reversedDepthBuffer:o,maxTextures:s,maxVertexTextures:h,maxTextureSize:g,maxCubemapSize:_,maxAttributes:f,maxVertexUniforms:E,maxVaryings:T,maxFragmentUniforms:R,maxSamples:O,samples:P}}function t_(a){const e=this;let t=null,n=0,i=!1,r=!1;const l=new ei,p=new Xe,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(d,o){const s=d.length!==0||o||n!==0||i;return i=o,n=d.length,s},this.beginShadows=function(){r=!0,m(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(d,o){t=m(d,o,0)},this.setState=function(d,o,s){const h=d.clippingPlanes,g=d.clipIntersection,_=d.clipShadows,f=a.get(d);if(!i||h===null||h.length===0||r&&!_)r?m(null):u();else{const E=r?0:n,T=E*4;let R=f.clippingState||null;c.value=R,R=m(h,o,T,s);for(let O=0;O!==T;++O)R[O]=t[O];f.clippingState=R,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=E}};function u(){c.value!==t&&(c.value=t,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function m(d,o,s,h){const g=d!==null?d.length:0;let _=null;if(g!==0){if(_=c.value,h!==!0||_===null){const f=s+g*4,E=o.matrixWorldInverse;p.getNormalMatrix(E),(_===null||_.length<f)&&(_=new Float32Array(f));for(let T=0,R=s;T!==g;++T,R+=4)l.copy(d[T]).applyMatrix4(E,p),l.normal.toArray(_,R),_[R+3]=l.constant}c.value=_,c.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,_}}function n_(a){let e=new WeakMap;function t(l,p){return p===Vr?l.mapping=Ci:p===Hr&&(l.mapping=Xi),l}function n(l){if(l&&l.isTexture){const p=l.mapping;if(p===Vr||p===Hr)if(e.has(l)){const c=e.get(l).texture;return t(c,l.mapping)}else{const c=l.image;if(c&&c.height>0){const u=new Eu(c.height);return u.fromEquirectangularTexture(a,l),e.set(l,u),l.addEventListener("dispose",i),t(u.texture,l.mapping)}else return null}}return l}function i(l){const p=l.target;p.removeEventListener("dispose",i);const c=e.get(p);c!==void 0&&(e.delete(p),c.dispose())}function r(){e=new WeakMap}return{get:n,dispose:r}}const oi=4,od=[.125,.215,.35,.446,.526,.582],_i=20,i_=256,ca=new Uo,rd=new ke;let gr=null,yr=0,Er=0,Cr=!1;const a_=new K;class xs{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,i=100,r={}){const{size:l=256,position:p=a_}=r;gr=this._renderer.getRenderTarget(),yr=this._renderer.getActiveCubeFace(),Er=this._renderer.getActiveMipmapLevel(),Cr=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,n,i,c,p),t>0&&this._blur(c,0,0,t),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=dd(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ld(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(gr,yr,Er),this._renderer.xr.enabled=Cr,e.scissorTest=!1,ki(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ci||e.mapping===Xi?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),gr=this._renderer.getRenderTarget(),yr=this._renderer.getActiveCubeFace(),Er=this._renderer.getActiveMipmapLevel(),Cr=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:ht,minFilter:ht,generateMipmaps:!1,type:Zt,format:an,colorSpace:Pt,depthBuffer:!1},i=sd(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=sd(e,t,n);const{_lodMax:r}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=o_(r)),this._blurMaterial=s_(r,e,t),this._ggxMaterial=r_(r,e,t)}return i}_compileMaterial(e){const t=new ct(new wt,e);this._renderer.compile(t,ca)}_sceneToCubeUV(e,t,n,i,r){const c=new Ft(90,1,t,n),u=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],d=this._renderer,o=d.autoClear,s=d.toneMapping;d.getClearColor(rd),d.toneMapping=Mn,d.autoClear=!1,d.state.buffers.depth.getReversed()&&(d.setRenderTarget(i),d.clearDepth(),d.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new ct(new wa,new Bn({name:"PMREM.Background",side:Wt,depthWrite:!1,depthTest:!1})));const g=this._backgroundBox,_=g.material;let f=!1;const E=e.background;E?E.isColor&&(_.color.copy(E),e.background=null,f=!0):(_.color.copy(rd),f=!0);for(let T=0;T<6;T++){const R=T%3;R===0?(c.up.set(0,u[T],0),c.position.set(r.x,r.y,r.z),c.lookAt(r.x+m[T],r.y,r.z)):R===1?(c.up.set(0,0,u[T]),c.position.set(r.x,r.y,r.z),c.lookAt(r.x,r.y+m[T],r.z)):(c.up.set(0,u[T],0),c.position.set(r.x,r.y,r.z),c.lookAt(r.x,r.y,r.z+m[T]));const O=this._cubeSize;ki(i,R*O,T>2?O:0,O,O),d.setRenderTarget(i),f&&d.render(g,c),d.render(e,c)}d.toneMapping=s,d.autoClear=o,e.background=E}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===Ci||e.mapping===Xi;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=dd()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ld());const r=i?this._cubemapMaterial:this._equirectMaterial,l=this._lodMeshes[0];l.material=r;const p=r.uniforms;p.envMap.value=e;const c=this._cubeSize;ki(t,0,0,3*c,2*c),n.setRenderTarget(t),n.render(l,ca)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodMeshes.length;for(let r=1;r<i;r++)this._applyGGXFilter(e,r-1,r);t.autoClear=n}_applyGGXFilter(e,t,n){const i=this._renderer,r=this._pingPongRenderTarget,l=this._ggxMaterial,p=this._lodMeshes[n];p.material=l;const c=l.uniforms,u=n/(this._lodMeshes.length-1),m=t/(this._lodMeshes.length-1),d=Math.sqrt(u*u-m*m),o=0+u*1.25,s=d*o,{_lodMax:h}=this,g=this._sizeLods[n],_=3*g*(n>h-oi?n-h+oi:0),f=4*(this._cubeSize-g);c.envMap.value=e.texture,c.roughness.value=s,c.mipInt.value=h-t,ki(r,_,f,3*g,2*g),i.setRenderTarget(r),i.render(p,ca),c.envMap.value=r.texture,c.roughness.value=0,c.mipInt.value=h-n,ki(e,_,f,3*g,2*g),i.setRenderTarget(e),i.render(p,ca)}_blur(e,t,n,i,r){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,n,i,"latitudinal",r),this._halfBlur(l,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,l,p){const c=this._renderer,u=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&Fe("blur direction must be either latitudinal or longitudinal!");const m=3,d=this._lodMeshes[i];d.material=u;const o=u.uniforms,s=this._sizeLods[n]-1,h=isFinite(r)?Math.PI/(2*s):2*Math.PI/(2*_i-1),g=r/h,_=isFinite(r)?1+Math.floor(m*g):_i;_>_i&&Pe(`sigmaRadians, ${r}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${_i}`);const f=[];let E=0;for(let N=0;N<_i;++N){const U=N/g,A=Math.exp(-U*U/2);f.push(A),N===0?E+=A:N<_&&(E+=2*A)}for(let N=0;N<f.length;N++)f[N]=f[N]/E;o.envMap.value=e.texture,o.samples.value=_,o.weights.value=f,o.latitudinal.value=l==="latitudinal",p&&(o.poleAxis.value=p);const{_lodMax:T}=this;o.dTheta.value=h,o.mipInt.value=T-n;const R=this._sizeLods[i],O=3*R*(i>T-oi?i-T+oi:0),P=4*(this._cubeSize-R);ki(t,O,P,3*R,2*R),c.setRenderTarget(t),c.render(d,ca)}}function o_(a){const e=[],t=[],n=[];let i=a;const r=a-oi+1+od.length;for(let l=0;l<r;l++){const p=Math.pow(2,i);e.push(p);let c=1/p;l>a-oi?c=od[l-a+oi-1]:l===0&&(c=0),t.push(c);const u=1/(p-2),m=-u,d=1+u,o=[m,m,d,m,d,d,m,m,d,d,m,d],s=6,h=6,g=3,_=2,f=1,E=new Float32Array(g*h*s),T=new Float32Array(_*h*s),R=new Float32Array(f*h*s);for(let P=0;P<s;P++){const N=P%3*2/3-1,U=P>2?0:-1,A=[N,U,0,N+2/3,U,0,N+2/3,U+1,0,N,U,0,N+2/3,U+1,0,N,U+1,0];E.set(A,g*h*P),T.set(o,_*h*P);const D=[P,P,P,P,P,P];R.set(D,f*h*P)}const O=new wt;O.setAttribute("position",new It(E,g)),O.setAttribute("uv",new It(T,_)),O.setAttribute("faceIndex",new It(R,f)),n.push(new ct(O,null)),i>oi&&i--}return{lodMeshes:n,sizeLods:e,sigmas:t}}function sd(a,e,t){const n=new Sn(a,e,t);return n.texture.mapping=No,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function ki(a,e,t,n,i){a.viewport.set(e,t,n,i),a.scissor.set(e,t,n,i)}function r_(a,e,t){return new Rn({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:i_,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${a}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:Fo(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:zn,depthTest:!1,depthWrite:!1})}function s_(a,e,t){const n=new Float32Array(_i),i=new K(0,1,0);return new Rn({name:"SphericalGaussianBlur",defines:{n:_i,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${a}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Fo(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:zn,depthTest:!1,depthWrite:!1})}function ld(){return new Rn({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Fo(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:zn,depthTest:!1,depthWrite:!1})}function dd(){return new Rn({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Fo(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:zn,depthTest:!1,depthWrite:!1})}function Fo(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function l_(a){let e=new WeakMap,t=null;function n(p){if(p&&p.isTexture){const c=p.mapping,u=c===Vr||c===Hr,m=c===Ci||c===Xi;if(u||m){let d=e.get(p);const o=d!==void 0?d.texture.pmremVersion:0;if(p.isRenderTargetTexture&&p.pmremVersion!==o)return t===null&&(t=new xs(a)),d=u?t.fromEquirectangular(p,d):t.fromCubemap(p,d),d.texture.pmremVersion=p.pmremVersion,e.set(p,d),d.texture;if(d!==void 0)return d.texture;{const s=p.image;return u&&s&&s.height>0||m&&s&&i(s)?(t===null&&(t=new xs(a)),d=u?t.fromEquirectangular(p):t.fromCubemap(p),d.texture.pmremVersion=p.pmremVersion,e.set(p,d),p.addEventListener("dispose",r),d.texture):null}}}return p}function i(p){let c=0;const u=6;for(let m=0;m<u;m++)p[m]!==void 0&&c++;return c===u}function r(p){const c=p.target;c.removeEventListener("dispose",r);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:l}}function d_(a){const e={};function t(n){if(e[n]!==void 0)return e[n];const i=a.getExtension(n);return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const i=t(n);return i===null&&Da("WebGLRenderer: "+n+" extension not supported."),i}}}function u_(a,e,t,n){const i={},r=new WeakMap;function l(d){const o=d.target;o.index!==null&&e.remove(o.index);for(const h in o.attributes)e.remove(o.attributes[h]);o.removeEventListener("dispose",l),delete i[o.id];const s=r.get(o);s&&(e.remove(s),r.delete(o)),n.releaseStatesOfGeometry(o),o.isInstancedBufferGeometry===!0&&delete o._maxInstanceCount,t.memory.geometries--}function p(d,o){return i[o.id]===!0||(o.addEventListener("dispose",l),i[o.id]=!0,t.memory.geometries++),o}function c(d){const o=d.attributes;for(const s in o)e.update(o[s],a.ARRAY_BUFFER)}function u(d){const o=[],s=d.index,h=d.attributes.position;let g=0;if(s!==null){const E=s.array;g=s.version;for(let T=0,R=E.length;T<R;T+=3){const O=E[T+0],P=E[T+1],N=E[T+2];o.push(O,P,P,N,N,O)}}else if(h!==void 0){const E=h.array;g=h.version;for(let T=0,R=E.length/3-1;T<R;T+=3){const O=T+0,P=T+1,N=T+2;o.push(O,P,P,N,N,O)}}else return;const _=new(uu(o)?fu:hu)(o,1);_.version=g;const f=r.get(d);f&&e.remove(f),r.set(d,_)}function m(d){const o=r.get(d);if(o){const s=d.index;s!==null&&o.version<s.version&&u(d)}else u(d);return r.get(d)}return{get:p,update:c,getWireframeAttribute:m}}function p_(a,e,t){let n;function i(o){n=o}let r,l;function p(o){r=o.type,l=o.bytesPerElement}function c(o,s){a.drawElements(n,s,r,o*l),t.update(s,n,1)}function u(o,s,h){h!==0&&(a.drawElementsInstanced(n,s,r,o*l,h),t.update(s,n,h))}function m(o,s,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,s,0,r,o,0,h);let _=0;for(let f=0;f<h;f++)_+=s[f];t.update(_,n,1)}function d(o,s,h,g){if(h===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let f=0;f<o.length;f++)u(o[f]/l,s[f],g[f]);else{_.multiDrawElementsInstancedWEBGL(n,s,0,r,o,0,g,0,h);let f=0;for(let E=0;E<h;E++)f+=s[E]*g[E];t.update(f,n,1)}}this.setMode=i,this.setIndex=p,this.render=c,this.renderInstances=u,this.renderMultiDraw=m,this.renderMultiDrawInstances=d}function m_(a){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(r,l,p){switch(t.calls++,l){case a.TRIANGLES:t.triangles+=p*(r/3);break;case a.LINES:t.lines+=p*(r/2);break;case a.LINE_STRIP:t.lines+=p*(r-1);break;case a.LINE_LOOP:t.lines+=p*r;break;case a.POINTS:t.points+=p*r;break;default:Fe("WebGLInfo: Unknown draw mode:",l);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function c_(a,e,t){const n=new WeakMap,i=new mt;function r(l,p,c){const u=l.morphTargetInfluences,m=p.morphAttributes.position||p.morphAttributes.normal||p.morphAttributes.color,d=m!==void 0?m.length:0;let o=n.get(p);if(o===void 0||o.count!==d){let D=function(){U.dispose(),n.delete(p),p.removeEventListener("dispose",D)};var s=D;o!==void 0&&o.texture.dispose();const h=p.morphAttributes.position!==void 0,g=p.morphAttributes.normal!==void 0,_=p.morphAttributes.color!==void 0,f=p.morphAttributes.position||[],E=p.morphAttributes.normal||[],T=p.morphAttributes.color||[];let R=0;h===!0&&(R=1),g===!0&&(R=2),_===!0&&(R=3);let O=p.attributes.position.count*R,P=1;O>e.maxTextureSize&&(P=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const N=new Float32Array(O*P*4*d),U=new mu(N,O,P,d);U.type=kt,U.needsUpdate=!0;const A=R*4;for(let B=0;B<d;B++){const Y=f[B],y=E[B],v=T[B],M=O*P*4*B;for(let b=0;b<Y.count;b++){const x=b*A;h===!0&&(i.fromBufferAttribute(Y,b),N[M+x+0]=i.x,N[M+x+1]=i.y,N[M+x+2]=i.z,N[M+x+3]=0),g===!0&&(i.fromBufferAttribute(y,b),N[M+x+4]=i.x,N[M+x+5]=i.y,N[M+x+6]=i.z,N[M+x+7]=0),_===!0&&(i.fromBufferAttribute(v,b),N[M+x+8]=i.x,N[M+x+9]=i.y,N[M+x+10]=i.z,N[M+x+11]=v.itemSize===4?i.w:1)}}o={count:d,texture:U,size:new Ve(O,P)},n.set(p,o),p.addEventListener("dispose",D)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)c.getUniforms().setValue(a,"morphTexture",l.morphTexture,t);else{let h=0;for(let _=0;_<u.length;_++)h+=u[_];const g=p.morphTargetsRelative?1:1-h;c.getUniforms().setValue(a,"morphTargetBaseInfluence",g),c.getUniforms().setValue(a,"morphTargetInfluences",u)}c.getUniforms().setValue(a,"morphTargetsTexture",o.texture,t),c.getUniforms().setValue(a,"morphTargetsTextureSize",o.size)}return{update:r}}function h_(a,e,t,n){let i=new WeakMap;function r(c){const u=n.render.frame,m=c.geometry,d=e.get(c,m);if(i.get(d)!==u&&(e.update(d),i.set(d,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",p)===!1&&c.addEventListener("dispose",p),i.get(c)!==u&&(t.update(c.instanceMatrix,a.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,a.ARRAY_BUFFER),i.set(c,u))),c.isSkinnedMesh){const o=c.skeleton;i.get(o)!==u&&(o.update(),i.set(o,u))}return d}function l(){i=new WeakMap}function p(c){const u=c.target;u.removeEventListener("dispose",p),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:r,dispose:l}}const f_={[Xd]:"LINEAR_TONE_MAPPING",[Kd]:"REINHARD_TONE_MAPPING",[jd]:"CINEON_TONE_MAPPING",[Zd]:"ACES_FILMIC_TONE_MAPPING",[Jd]:"AGX_TONE_MAPPING",[Qd]:"NEUTRAL_TONE_MAPPING",[$d]:"CUSTOM_TONE_MAPPING"};function __(a,e,t,n,i){const r=new Sn(e,t,{type:a,depthBuffer:n,stencilBuffer:i}),l=new Sn(e,t,{type:Zt,depthBuffer:!1,stencilBuffer:!1}),p=new wt;p.setAttribute("position",new Tt([-1,3,0,-1,-1,0,3,-1,0],3)),p.setAttribute("uv",new Tt([0,2,0,0,2,0],2));const c=new Pm({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),u=new ct(p,c),m=new Uo(-1,1,1,-1,0,1);let d=null,o=null,s=!1,h,g=null,_=[],f=!1;this.setSize=function(E,T){r.setSize(E,T),l.setSize(E,T);for(let R=0;R<_.length;R++){const O=_[R];O.setSize&&O.setSize(E,T)}},this.setEffects=function(E){_=E,f=_.length>0&&_[0].isRenderPass===!0;const T=r.width,R=r.height;for(let O=0;O<_.length;O++){const P=_[O];P.setSize&&P.setSize(T,R)}},this.begin=function(E,T){if(s||E.toneMapping===Mn&&_.length===0)return!1;if(g=T,T!==null){const R=T.width,O=T.height;(r.width!==R||r.height!==O)&&this.setSize(R,O)}return f===!1&&E.setRenderTarget(r),h=E.toneMapping,E.toneMapping=Mn,!0},this.hasRenderPass=function(){return f},this.end=function(E,T){E.toneMapping=h,s=!0;let R=r,O=l;for(let P=0;P<_.length;P++){const N=_[P];if(N.enabled!==!1&&(N.render(E,O,R,T),N.needsSwap!==!1)){const U=R;R=O,O=U}}if(d!==E.outputColorSpace||o!==E.toneMapping){d=E.outputColorSpace,o=E.toneMapping,c.defines={},et.getTransfer(d)===at&&(c.defines.SRGB_TRANSFER="");const P=f_[o];P&&(c.defines[P]=""),c.needsUpdate=!0}c.uniforms.tDiffuse.value=R.texture,E.setRenderTarget(g),E.render(u,m),g=null,s=!1},this.isCompositing=function(){return s},this.dispose=function(){r.dispose(),l.dispose(),p.dispose(),c.dispose()}}const Ru=new Rt,Rs=new Ia(1,1),bu=new mu,Du=new $p,Ou=new yu,ud=[],pd=[],md=new Float32Array(16),cd=new Float32Array(9),hd=new Float32Array(4);function aa(a,e,t){const n=a[0];if(n<=0||n>0)return a;const i=e*t;let r=ud[i];if(r===void 0&&(r=new Float32Array(i),ud[i]=r),e!==0){n.toArray(r,0);for(let l=1,p=0;l!==e;++l)p+=t,a[l].toArray(r,p)}return r}function At(a,e){if(a.length!==e.length)return!1;for(let t=0,n=a.length;t<n;t++)if(a[t]!==e[t])return!1;return!0}function vt(a,e){for(let t=0,n=e.length;t<n;t++)a[t]=e[t]}function ko(a,e){let t=pd[e];t===void 0&&(t=new Int32Array(e),pd[e]=t);for(let n=0;n!==e;++n)t[n]=a.allocateTextureUnit();return t}function g_(a,e){const t=this.cache;t[0]!==e&&(a.uniform1f(this.addr,e),t[0]=e)}function y_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(At(t,e))return;a.uniform2fv(this.addr,e),vt(t,e)}}function E_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(a.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(At(t,e))return;a.uniform3fv(this.addr,e),vt(t,e)}}function C_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(At(t,e))return;a.uniform4fv(this.addr,e),vt(t,e)}}function T_(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(At(t,e))return;a.uniformMatrix2fv(this.addr,!1,e),vt(t,e)}else{if(At(t,n))return;hd.set(n),a.uniformMatrix2fv(this.addr,!1,hd),vt(t,n)}}function M_(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(At(t,e))return;a.uniformMatrix3fv(this.addr,!1,e),vt(t,e)}else{if(At(t,n))return;cd.set(n),a.uniformMatrix3fv(this.addr,!1,cd),vt(t,n)}}function S_(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(At(t,e))return;a.uniformMatrix4fv(this.addr,!1,e),vt(t,e)}else{if(At(t,n))return;md.set(n),a.uniformMatrix4fv(this.addr,!1,md),vt(t,n)}}function A_(a,e){const t=this.cache;t[0]!==e&&(a.uniform1i(this.addr,e),t[0]=e)}function v_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(At(t,e))return;a.uniform2iv(this.addr,e),vt(t,e)}}function x_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(At(t,e))return;a.uniform3iv(this.addr,e),vt(t,e)}}function R_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(At(t,e))return;a.uniform4iv(this.addr,e),vt(t,e)}}function b_(a,e){const t=this.cache;t[0]!==e&&(a.uniform1ui(this.addr,e),t[0]=e)}function D_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(At(t,e))return;a.uniform2uiv(this.addr,e),vt(t,e)}}function O_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(At(t,e))return;a.uniform3uiv(this.addr,e),vt(t,e)}}function I_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(At(t,e))return;a.uniform4uiv(this.addr,e),vt(t,e)}}function P_(a,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(a.uniform1i(this.addr,i),n[0]=i);let r;this.type===a.SAMPLER_2D_SHADOW?(Rs.compareFunction=t.isReversedDepthBuffer()?Bs:ks,r=Rs):r=Ru,t.setTexture2D(e||r,i)}function w_(a,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(a.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||Du,i)}function N_(a,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(a.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||Ou,i)}function L_(a,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(a.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||bu,i)}function G_(a){switch(a){case 5126:return g_;case 35664:return y_;case 35665:return E_;case 35666:return C_;case 35674:return T_;case 35675:return M_;case 35676:return S_;case 5124:case 35670:return A_;case 35667:case 35671:return v_;case 35668:case 35672:return x_;case 35669:case 35673:return R_;case 5125:return b_;case 36294:return D_;case 36295:return O_;case 36296:return I_;case 35678:case 36198:case 36298:case 36306:case 35682:return P_;case 35679:case 36299:case 36307:return w_;case 35680:case 36300:case 36308:case 36293:return N_;case 36289:case 36303:case 36311:case 36292:return L_}}function U_(a,e){a.uniform1fv(this.addr,e)}function F_(a,e){const t=aa(e,this.size,2);a.uniform2fv(this.addr,t)}function k_(a,e){const t=aa(e,this.size,3);a.uniform3fv(this.addr,t)}function B_(a,e){const t=aa(e,this.size,4);a.uniform4fv(this.addr,t)}function V_(a,e){const t=aa(e,this.size,4);a.uniformMatrix2fv(this.addr,!1,t)}function H_(a,e){const t=aa(e,this.size,9);a.uniformMatrix3fv(this.addr,!1,t)}function z_(a,e){const t=aa(e,this.size,16);a.uniformMatrix4fv(this.addr,!1,t)}function W_(a,e){a.uniform1iv(this.addr,e)}function q_(a,e){a.uniform2iv(this.addr,e)}function Y_(a,e){a.uniform3iv(this.addr,e)}function X_(a,e){a.uniform4iv(this.addr,e)}function K_(a,e){a.uniform1uiv(this.addr,e)}function j_(a,e){a.uniform2uiv(this.addr,e)}function Z_(a,e){a.uniform3uiv(this.addr,e)}function $_(a,e){a.uniform4uiv(this.addr,e)}function J_(a,e,t){const n=this.cache,i=e.length,r=ko(t,i);At(n,r)||(a.uniform1iv(this.addr,r),vt(n,r));let l;this.type===a.SAMPLER_2D_SHADOW?l=Rs:l=Ru;for(let p=0;p!==i;++p)t.setTexture2D(e[p]||l,r[p])}function Q_(a,e,t){const n=this.cache,i=e.length,r=ko(t,i);At(n,r)||(a.uniform1iv(this.addr,r),vt(n,r));for(let l=0;l!==i;++l)t.setTexture3D(e[l]||Du,r[l])}function eg(a,e,t){const n=this.cache,i=e.length,r=ko(t,i);At(n,r)||(a.uniform1iv(this.addr,r),vt(n,r));for(let l=0;l!==i;++l)t.setTextureCube(e[l]||Ou,r[l])}function tg(a,e,t){const n=this.cache,i=e.length,r=ko(t,i);At(n,r)||(a.uniform1iv(this.addr,r),vt(n,r));for(let l=0;l!==i;++l)t.setTexture2DArray(e[l]||bu,r[l])}function ng(a){switch(a){case 5126:return U_;case 35664:return F_;case 35665:return k_;case 35666:return B_;case 35674:return V_;case 35675:return H_;case 35676:return z_;case 5124:case 35670:return W_;case 35667:case 35671:return q_;case 35668:case 35672:return Y_;case 35669:case 35673:return X_;case 5125:return K_;case 36294:return j_;case 36295:return Z_;case 36296:return $_;case 35678:case 36198:case 36298:case 36306:case 35682:return J_;case 35679:case 36299:case 36307:return Q_;case 35680:case 36300:case 36308:case 36293:return eg;case 36289:case 36303:case 36311:case 36292:return tg}}class ig{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=G_(t.type)}}class ag{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=ng(t.type)}}class og{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let r=0,l=i.length;r!==l;++r){const p=i[r];p.setValue(e,t[p.id],n)}}}const Tr=/(\w+)(\])?(\[|\.)?/g;function fd(a,e){a.seq.push(e),a.map[e.id]=e}function rg(a,e,t){const n=a.name,i=n.length;for(Tr.lastIndex=0;;){const r=Tr.exec(n),l=Tr.lastIndex;let p=r[1];const c=r[2]==="]",u=r[3];if(c&&(p=p|0),u===void 0||u==="["&&l+2===i){fd(t,u===void 0?new ig(p,a,e):new ag(p,a,e));break}else{let d=t.map[p];d===void 0&&(d=new og(p),fd(t,d)),t=d}}}class Ao{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let l=0;l<n;++l){const p=e.getActiveUniform(t,l),c=e.getUniformLocation(t,p.name);rg(p,c,this)}const i=[],r=[];for(const l of this.seq)l.type===e.SAMPLER_2D_SHADOW||l.type===e.SAMPLER_CUBE_SHADOW||l.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(l):r.push(l);i.length>0&&(this.seq=i.concat(r))}setValue(e,t,n,i){const r=this.map[t];r!==void 0&&r.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,l=t.length;r!==l;++r){const p=t[r],c=n[p.id];c.needsUpdate!==!1&&p.setValue(e,c.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const l=e[i];l.id in t&&n.push(l)}return n}}function _d(a,e,t){const n=a.createShader(e);return a.shaderSource(n,t),a.compileShader(n),n}const sg=37297;let lg=0;function dg(a,e){const t=a.split(`
`),n=[],i=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let l=i;l<r;l++){const p=l+1;n.push(`${p===e?">":" "} ${p}: ${t[l]}`)}return n.join(`
`)}const gd=new Xe;function ug(a){et._getMatrix(gd,et.workingColorSpace,a);const e=`mat3( ${gd.elements.map(t=>t.toFixed(4))} )`;switch(et.getTransfer(a)){case Do:return[e,"LinearTransferOETF"];case at:return[e,"sRGBTransferOETF"];default:return Pe("WebGLProgram: Unsupported color space: ",a),[e,"LinearTransferOETF"]}}function yd(a,e,t){const n=a.getShaderParameter(e,a.COMPILE_STATUS),r=(a.getShaderInfoLog(e)||"").trim();if(n&&r==="")return"";const l=/ERROR: 0:(\d+)/.exec(r);if(l){const p=parseInt(l[1]);return t.toUpperCase()+`

`+r+`

`+dg(a.getShaderSource(e),p)}else return r}function pg(a,e){const t=ug(e);return[`vec4 ${a}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}const mg={[Xd]:"Linear",[Kd]:"Reinhard",[jd]:"Cineon",[Zd]:"ACESFilmic",[Jd]:"AgX",[Qd]:"Neutral",[$d]:"Custom"};function cg(a,e){const t=mg[e];return t===void 0?(Pe("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+a+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+a+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const po=new K;function hg(){et.getLuminanceCoefficients(po);const a=po.x.toFixed(4),e=po.y.toFixed(4),t=po.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${a}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function fg(a){return[a.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",a.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ea).join(`
`)}function _g(a){const e=[];for(const t in a){const n=a[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function gg(a,e){const t={},n=a.getProgramParameter(e,a.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const r=a.getActiveAttrib(e,i),l=r.name;let p=1;r.type===a.FLOAT_MAT2&&(p=2),r.type===a.FLOAT_MAT3&&(p=3),r.type===a.FLOAT_MAT4&&(p=4),t[l]={type:r.type,location:a.getAttribLocation(e,l),locationSize:p}}return t}function Ea(a){return a!==""}function Ed(a,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return a.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Cd(a,e){return a.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const yg=/^[ \t]*#include +<([\w\d./]+)>/gm;function bs(a){return a.replace(yg,Cg)}const Eg=new Map;function Cg(a,e){let t=Ke[e];if(t===void 0){const n=Eg.get(e);if(n!==void 0)t=Ke[n],Pe('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return bs(t)}const Tg=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Td(a){return a.replace(Tg,Mg)}function Mg(a,e,t,n){let i="";for(let r=parseInt(e);r<parseInt(t);r++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return i}function Md(a){let e=`precision ${a.precision} float;
	precision ${a.precision} int;
	precision ${a.precision} sampler2D;
	precision ${a.precision} samplerCube;
	precision ${a.precision} sampler3D;
	precision ${a.precision} sampler2DArray;
	precision ${a.precision} sampler2DShadow;
	precision ${a.precision} samplerCubeShadow;
	precision ${a.precision} sampler2DArrayShadow;
	precision ${a.precision} isampler2D;
	precision ${a.precision} isampler3D;
	precision ${a.precision} isamplerCube;
	precision ${a.precision} isampler2DArray;
	precision ${a.precision} usampler2D;
	precision ${a.precision} usampler3D;
	precision ${a.precision} usamplerCube;
	precision ${a.precision} usampler2DArray;
	`;return a.precision==="highp"?e+=`
#define HIGH_PRECISION`:a.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:a.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const Sg={[yo]:"SHADOWMAP_TYPE_PCF",[ga]:"SHADOWMAP_TYPE_VSM"};function Ag(a){return Sg[a.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const vg={[Ci]:"ENVMAP_TYPE_CUBE",[Xi]:"ENVMAP_TYPE_CUBE",[No]:"ENVMAP_TYPE_CUBE_UV"};function xg(a){return a.envMap===!1?"ENVMAP_TYPE_CUBE":vg[a.envMapMode]||"ENVMAP_TYPE_CUBE"}const Rg={[Xi]:"ENVMAP_MODE_REFRACTION"};function bg(a){return a.envMap===!1?"ENVMAP_MODE_REFLECTION":Rg[a.envMapMode]||"ENVMAP_MODE_REFLECTION"}const Dg={[Yd]:"ENVMAP_BLENDING_MULTIPLY",[hp]:"ENVMAP_BLENDING_MIX",[fp]:"ENVMAP_BLENDING_ADD"};function Og(a){return a.envMap===!1?"ENVMAP_BLENDING_NONE":Dg[a.combine]||"ENVMAP_BLENDING_NONE"}function Ig(a){const e=a.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function Pg(a,e,t,n){const i=a.getContext(),r=t.defines;let l=t.vertexShader,p=t.fragmentShader;const c=Ag(t),u=xg(t),m=bg(t),d=Og(t),o=Ig(t),s=fg(t),h=_g(r),g=i.createProgram();let _,f,E=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,h].filter(Ea).join(`
`),_.length>0&&(_+=`
`),f=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,h].filter(Ea).join(`
`),f.length>0&&(f+=`
`)):(_=[Md(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,h,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ea).join(`
`),f=[Md(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,h,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+m:"",t.envMap?"#define "+d:"",o?"#define CUBEUV_TEXEL_WIDTH "+o.texelWidth:"",o?"#define CUBEUV_TEXEL_HEIGHT "+o.texelHeight:"",o?"#define CUBEUV_MAX_MIP "+o.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Mn?"#define TONE_MAPPING":"",t.toneMapping!==Mn?Ke.tonemapping_pars_fragment:"",t.toneMapping!==Mn?cg("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ke.colorspace_pars_fragment,pg("linearToOutputTexel",t.outputColorSpace),hg(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Ea).join(`
`)),l=bs(l),l=Ed(l,t),l=Cd(l,t),p=bs(p),p=Ed(p,t),p=Cd(p,t),l=Td(l),p=Td(p),t.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,_=[s,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,f=["#define varying in",t.glslVersion===El?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===El?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+f);const T=E+_+l,R=E+f+p,O=_d(i,i.VERTEX_SHADER,T),P=_d(i,i.FRAGMENT_SHADER,R);i.attachShader(g,O),i.attachShader(g,P),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g);function N(B){if(a.debug.checkShaderErrors){const Y=i.getProgramInfoLog(g)||"",y=i.getShaderInfoLog(O)||"",v=i.getShaderInfoLog(P)||"",M=Y.trim(),b=y.trim(),x=v.trim();let k=!0,Z=!0;if(i.getProgramParameter(g,i.LINK_STATUS)===!1)if(k=!1,typeof a.debug.onShaderError=="function")a.debug.onShaderError(i,g,O,P);else{const q=yd(i,O,"vertex"),J=yd(i,P,"fragment");Fe("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,i.VALIDATE_STATUS)+`

Material Name: `+B.name+`
Material Type: `+B.type+`

Program Info Log: `+M+`
`+q+`
`+J)}else M!==""?Pe("WebGLProgram: Program Info Log:",M):(b===""||x==="")&&(Z=!1);Z&&(B.diagnostics={runnable:k,programLog:M,vertexShader:{log:b,prefix:_},fragmentShader:{log:x,prefix:f}})}i.deleteShader(O),i.deleteShader(P),U=new Ao(i,g),A=gg(i,g)}let U;this.getUniforms=function(){return U===void 0&&N(this),U};let A;this.getAttributes=function(){return A===void 0&&N(this),A};let D=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return D===!1&&(D=i.getProgramParameter(g,sg)),D},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=lg++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=O,this.fragmentShader=P,this}let wg=0;class Ng{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),r=this._getShaderStage(n),l=this._getShaderCacheForMaterial(e);return l.has(i)===!1&&(l.add(i),i.usedTimes++),l.has(r)===!1&&(l.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new Lg(e),t.set(e,n)),n}}class Lg{constructor(e){this.id=wg++,this.code=e,this.usedTimes=0}}function Gg(a,e,t,n,i,r,l){const p=new zs,c=new Ng,u=new Set,m=[],d=new Map,o=i.logarithmicDepthBuffer;let s=i.precision;const h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(A){return u.add(A),A===0?"uv":`uv${A}`}function _(A,D,B,Y,y){const v=Y.fog,M=y.geometry,b=A.isMeshStandardMaterial?Y.environment:null,x=(A.isMeshStandardMaterial?t:e).get(A.envMap||b),k=x&&x.mapping===No?x.image.height:null,Z=h[A.type];A.precision!==null&&(s=i.getMaxPrecision(A.precision),s!==A.precision&&Pe("WebGLProgram.getParameters:",A.precision,"not supported, using",s,"instead."));const q=M.morphAttributes.position||M.morphAttributes.normal||M.morphAttributes.color,J=q!==void 0?q.length:0;let de=0;M.morphAttributes.position!==void 0&&(de=1),M.morphAttributes.normal!==void 0&&(de=2),M.morphAttributes.color!==void 0&&(de=3);let ie,be,Le,w;if(Z){const nt=En[Z];ie=nt.vertexShader,be=nt.fragmentShader}else ie=A.vertexShader,be=A.fragmentShader,c.update(A),Le=c.getVertexShaderID(A),w=c.getFragmentShaderID(A);const C=a.getRenderTarget(),L=a.state.buffers.depth.getReversed(),V=y.isInstancedMesh===!0,H=y.isBatchedMesh===!0,X=!!A.map,ee=!!A.matcap,oe=!!x,le=!!A.aoMap,me=!!A.lightMap,Se=!!A.bumpMap,Ne=!!A.normalMap,F=!!A.displacementMap,We=!!A.emissiveMap,qe=!!A.metalnessMap,$e=!!A.roughnessMap,Te=A.anisotropy>0,G=A.clearcoat>0,S=A.dispersion>0,W=A.iridescence>0,ae=A.sheen>0,re=A.transmission>0,ne=Te&&!!A.anisotropyMap,De=G&&!!A.clearcoatMap,he=G&&!!A.clearcoatNormalMap,Oe=G&&!!A.clearcoatRoughnessMap,He=W&&!!A.iridescenceMap,pe=W&&!!A.iridescenceThicknessMap,ge=ae&&!!A.sheenColorMap,Re=ae&&!!A.sheenRoughnessMap,Ie=!!A.specularMap,_e=!!A.specularColorMap,Ze=!!A.specularIntensityMap,z=re&&!!A.transmissionMap,Me=re&&!!A.thicknessMap,ce=!!A.gradientMap,Ae=!!A.alphaMap,ue=A.alphaTest>0,se=!!A.alphaHash,fe=!!A.extensions;let ze=Mn;A.toneMapped&&(C===null||C.isXRRenderTarget===!0)&&(ze=a.toneMapping);const ut={shaderID:Z,shaderType:A.type,shaderName:A.name,vertexShader:ie,fragmentShader:be,defines:A.defines,customVertexShaderID:Le,customFragmentShaderID:w,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:s,batching:H,batchingColor:H&&y._colorsTexture!==null,instancing:V,instancingColor:V&&y.instanceColor!==null,instancingMorph:V&&y.morphTexture!==null,outputColorSpace:C===null?a.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:Pt,alphaToCoverage:!!A.alphaToCoverage,map:X,matcap:ee,envMap:oe,envMapMode:oe&&x.mapping,envMapCubeUVHeight:k,aoMap:le,lightMap:me,bumpMap:Se,normalMap:Ne,displacementMap:F,emissiveMap:We,normalMapObjectSpace:Ne&&A.normalMapType===Cp,normalMapTangentSpace:Ne&&A.normalMapType===du,metalnessMap:qe,roughnessMap:$e,anisotropy:Te,anisotropyMap:ne,clearcoat:G,clearcoatMap:De,clearcoatNormalMap:he,clearcoatRoughnessMap:Oe,dispersion:S,iridescence:W,iridescenceMap:He,iridescenceThicknessMap:pe,sheen:ae,sheenColorMap:ge,sheenRoughnessMap:Re,specularMap:Ie,specularColorMap:_e,specularIntensityMap:Ze,transmission:re,transmissionMap:z,thicknessMap:Me,gradientMap:ce,opaque:A.transparent===!1&&A.blending===zi&&A.alphaToCoverage===!1,alphaMap:Ae,alphaTest:ue,alphaHash:se,combine:A.combine,mapUv:X&&g(A.map.channel),aoMapUv:le&&g(A.aoMap.channel),lightMapUv:me&&g(A.lightMap.channel),bumpMapUv:Se&&g(A.bumpMap.channel),normalMapUv:Ne&&g(A.normalMap.channel),displacementMapUv:F&&g(A.displacementMap.channel),emissiveMapUv:We&&g(A.emissiveMap.channel),metalnessMapUv:qe&&g(A.metalnessMap.channel),roughnessMapUv:$e&&g(A.roughnessMap.channel),anisotropyMapUv:ne&&g(A.anisotropyMap.channel),clearcoatMapUv:De&&g(A.clearcoatMap.channel),clearcoatNormalMapUv:he&&g(A.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Oe&&g(A.clearcoatRoughnessMap.channel),iridescenceMapUv:He&&g(A.iridescenceMap.channel),iridescenceThicknessMapUv:pe&&g(A.iridescenceThicknessMap.channel),sheenColorMapUv:ge&&g(A.sheenColorMap.channel),sheenRoughnessMapUv:Re&&g(A.sheenRoughnessMap.channel),specularMapUv:Ie&&g(A.specularMap.channel),specularColorMapUv:_e&&g(A.specularColorMap.channel),specularIntensityMapUv:Ze&&g(A.specularIntensityMap.channel),transmissionMapUv:z&&g(A.transmissionMap.channel),thicknessMapUv:Me&&g(A.thicknessMap.channel),alphaMapUv:Ae&&g(A.alphaMap.channel),vertexTangents:!!M.attributes.tangent&&(Ne||Te),vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!M.attributes.color&&M.attributes.color.itemSize===4,pointsUvs:y.isPoints===!0&&!!M.attributes.uv&&(X||Ae),fog:!!v,useFog:A.fog===!0,fogExp2:!!v&&v.isFogExp2,flatShading:A.flatShading===!0&&A.wireframe===!1,sizeAttenuation:A.sizeAttenuation===!0,logarithmicDepthBuffer:o,reversedDepthBuffer:L,skinning:y.isSkinnedMesh===!0,morphTargets:M.morphAttributes.position!==void 0,morphNormals:M.morphAttributes.normal!==void 0,morphColors:M.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:de,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numLightProbes:D.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:A.dithering,shadowMapEnabled:a.shadowMap.enabled&&B.length>0,shadowMapType:a.shadowMap.type,toneMapping:ze,decodeVideoTexture:X&&A.map.isVideoTexture===!0&&et.getTransfer(A.map.colorSpace)===at,decodeVideoTextureEmissive:We&&A.emissiveMap.isVideoTexture===!0&&et.getTransfer(A.emissiveMap.colorSpace)===at,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===un,flipSided:A.side===Wt,useDepthPacking:A.depthPacking>=0,depthPacking:A.depthPacking||0,index0AttributeName:A.index0AttributeName,extensionClipCullDistance:fe&&A.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(fe&&A.extensions.multiDraw===!0||H)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:A.customProgramCacheKey()};return ut.vertexUv1s=u.has(1),ut.vertexUv2s=u.has(2),ut.vertexUv3s=u.has(3),u.clear(),ut}function f(A){const D=[];if(A.shaderID?D.push(A.shaderID):(D.push(A.customVertexShaderID),D.push(A.customFragmentShaderID)),A.defines!==void 0)for(const B in A.defines)D.push(B),D.push(A.defines[B]);return A.isRawShaderMaterial===!1&&(E(D,A),T(D,A),D.push(a.outputColorSpace)),D.push(A.customProgramCacheKey),D.join()}function E(A,D){A.push(D.precision),A.push(D.outputColorSpace),A.push(D.envMapMode),A.push(D.envMapCubeUVHeight),A.push(D.mapUv),A.push(D.alphaMapUv),A.push(D.lightMapUv),A.push(D.aoMapUv),A.push(D.bumpMapUv),A.push(D.normalMapUv),A.push(D.displacementMapUv),A.push(D.emissiveMapUv),A.push(D.metalnessMapUv),A.push(D.roughnessMapUv),A.push(D.anisotropyMapUv),A.push(D.clearcoatMapUv),A.push(D.clearcoatNormalMapUv),A.push(D.clearcoatRoughnessMapUv),A.push(D.iridescenceMapUv),A.push(D.iridescenceThicknessMapUv),A.push(D.sheenColorMapUv),A.push(D.sheenRoughnessMapUv),A.push(D.specularMapUv),A.push(D.specularColorMapUv),A.push(D.specularIntensityMapUv),A.push(D.transmissionMapUv),A.push(D.thicknessMapUv),A.push(D.combine),A.push(D.fogExp2),A.push(D.sizeAttenuation),A.push(D.morphTargetsCount),A.push(D.morphAttributeCount),A.push(D.numDirLights),A.push(D.numPointLights),A.push(D.numSpotLights),A.push(D.numSpotLightMaps),A.push(D.numHemiLights),A.push(D.numRectAreaLights),A.push(D.numDirLightShadows),A.push(D.numPointLightShadows),A.push(D.numSpotLightShadows),A.push(D.numSpotLightShadowsWithMaps),A.push(D.numLightProbes),A.push(D.shadowMapType),A.push(D.toneMapping),A.push(D.numClippingPlanes),A.push(D.numClipIntersection),A.push(D.depthPacking)}function T(A,D){p.disableAll(),D.instancing&&p.enable(0),D.instancingColor&&p.enable(1),D.instancingMorph&&p.enable(2),D.matcap&&p.enable(3),D.envMap&&p.enable(4),D.normalMapObjectSpace&&p.enable(5),D.normalMapTangentSpace&&p.enable(6),D.clearcoat&&p.enable(7),D.iridescence&&p.enable(8),D.alphaTest&&p.enable(9),D.vertexColors&&p.enable(10),D.vertexAlphas&&p.enable(11),D.vertexUv1s&&p.enable(12),D.vertexUv2s&&p.enable(13),D.vertexUv3s&&p.enable(14),D.vertexTangents&&p.enable(15),D.anisotropy&&p.enable(16),D.alphaHash&&p.enable(17),D.batching&&p.enable(18),D.dispersion&&p.enable(19),D.batchingColor&&p.enable(20),D.gradientMap&&p.enable(21),A.push(p.mask),p.disableAll(),D.fog&&p.enable(0),D.useFog&&p.enable(1),D.flatShading&&p.enable(2),D.logarithmicDepthBuffer&&p.enable(3),D.reversedDepthBuffer&&p.enable(4),D.skinning&&p.enable(5),D.morphTargets&&p.enable(6),D.morphNormals&&p.enable(7),D.morphColors&&p.enable(8),D.premultipliedAlpha&&p.enable(9),D.shadowMapEnabled&&p.enable(10),D.doubleSided&&p.enable(11),D.flipSided&&p.enable(12),D.useDepthPacking&&p.enable(13),D.dithering&&p.enable(14),D.transmission&&p.enable(15),D.sheen&&p.enable(16),D.opaque&&p.enable(17),D.pointsUvs&&p.enable(18),D.decodeVideoTexture&&p.enable(19),D.decodeVideoTextureEmissive&&p.enable(20),D.alphaToCoverage&&p.enable(21),A.push(p.mask)}function R(A){const D=h[A.type];let B;if(D){const Y=En[D];B=cm.clone(Y.uniforms)}else B=A.uniforms;return B}function O(A,D){let B=d.get(D);return B!==void 0?++B.usedTimes:(B=new Pg(a,D,A,r),m.push(B),d.set(D,B)),B}function P(A){if(--A.usedTimes===0){const D=m.indexOf(A);m[D]=m[m.length-1],m.pop(),d.delete(A.cacheKey),A.destroy()}}function N(A){c.remove(A)}function U(){c.dispose()}return{getParameters:_,getProgramCacheKey:f,getUniforms:R,acquireProgram:O,releaseProgram:P,releaseShaderCache:N,programs:m,dispose:U}}function Ug(){let a=new WeakMap;function e(l){return a.has(l)}function t(l){let p=a.get(l);return p===void 0&&(p={},a.set(l,p)),p}function n(l){a.delete(l)}function i(l,p,c){a.get(l)[p]=c}function r(){a=new WeakMap}return{has:e,get:t,remove:n,update:i,dispose:r}}function Fg(a,e){return a.groupOrder!==e.groupOrder?a.groupOrder-e.groupOrder:a.renderOrder!==e.renderOrder?a.renderOrder-e.renderOrder:a.material.id!==e.material.id?a.material.id-e.material.id:a.z!==e.z?a.z-e.z:a.id-e.id}function Sd(a,e){return a.groupOrder!==e.groupOrder?a.groupOrder-e.groupOrder:a.renderOrder!==e.renderOrder?a.renderOrder-e.renderOrder:a.z!==e.z?e.z-a.z:a.id-e.id}function Ad(){const a=[];let e=0;const t=[],n=[],i=[];function r(){e=0,t.length=0,n.length=0,i.length=0}function l(d,o,s,h,g,_){let f=a[e];return f===void 0?(f={id:d.id,object:d,geometry:o,material:s,groupOrder:h,renderOrder:d.renderOrder,z:g,group:_},a[e]=f):(f.id=d.id,f.object=d,f.geometry=o,f.material=s,f.groupOrder=h,f.renderOrder=d.renderOrder,f.z=g,f.group=_),e++,f}function p(d,o,s,h,g,_){const f=l(d,o,s,h,g,_);s.transmission>0?n.push(f):s.transparent===!0?i.push(f):t.push(f)}function c(d,o,s,h,g,_){const f=l(d,o,s,h,g,_);s.transmission>0?n.unshift(f):s.transparent===!0?i.unshift(f):t.unshift(f)}function u(d,o){t.length>1&&t.sort(d||Fg),n.length>1&&n.sort(o||Sd),i.length>1&&i.sort(o||Sd)}function m(){for(let d=e,o=a.length;d<o;d++){const s=a[d];if(s.id===null)break;s.id=null,s.object=null,s.geometry=null,s.material=null,s.group=null}}return{opaque:t,transmissive:n,transparent:i,init:r,push:p,unshift:c,finish:m,sort:u}}function kg(){let a=new WeakMap;function e(n,i){const r=a.get(n);let l;return r===void 0?(l=new Ad,a.set(n,[l])):i>=r.length?(l=new Ad,r.push(l)):l=r[i],l}function t(){a=new WeakMap}return{get:e,dispose:t}}function Bg(){const a={};return{get:function(e){if(a[e.id]!==void 0)return a[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new K,color:new ke};break;case"SpotLight":t={position:new K,direction:new K,color:new ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new K,color:new ke,distance:0,decay:0};break;case"HemisphereLight":t={direction:new K,skyColor:new ke,groundColor:new ke};break;case"RectAreaLight":t={color:new ke,position:new K,halfWidth:new K,halfHeight:new K};break}return a[e.id]=t,t}}}function Vg(){const a={};return{get:function(e){if(a[e.id]!==void 0)return a[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve,shadowCameraNear:1,shadowCameraFar:1e3};break}return a[e.id]=t,t}}}let Hg=0;function zg(a,e){return(e.castShadow?2:0)-(a.castShadow?2:0)+(e.map?1:0)-(a.map?1:0)}function Wg(a){const e=new Bg,t=Vg(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)n.probe.push(new K);const i=new K,r=new Ye,l=new Ye;function p(u){let m=0,d=0,o=0;for(let A=0;A<9;A++)n.probe[A].set(0,0,0);let s=0,h=0,g=0,_=0,f=0,E=0,T=0,R=0,O=0,P=0,N=0;u.sort(zg);for(let A=0,D=u.length;A<D;A++){const B=u[A],Y=B.color,y=B.intensity,v=B.distance;let M=null;if(B.shadow&&B.shadow.map&&(B.shadow.map.texture.format===ji?M=B.shadow.map.texture:M=B.shadow.map.depthTexture||B.shadow.map.texture),B.isAmbientLight)m+=Y.r*y,d+=Y.g*y,o+=Y.b*y;else if(B.isLightProbe){for(let b=0;b<9;b++)n.probe[b].addScaledVector(B.sh.coefficients[b],y);N++}else if(B.isDirectionalLight){const b=e.get(B);if(b.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const x=B.shadow,k=t.get(B);k.shadowIntensity=x.intensity,k.shadowBias=x.bias,k.shadowNormalBias=x.normalBias,k.shadowRadius=x.radius,k.shadowMapSize=x.mapSize,n.directionalShadow[s]=k,n.directionalShadowMap[s]=M,n.directionalShadowMatrix[s]=B.shadow.matrix,E++}n.directional[s]=b,s++}else if(B.isSpotLight){const b=e.get(B);b.position.setFromMatrixPosition(B.matrixWorld),b.color.copy(Y).multiplyScalar(y),b.distance=v,b.coneCos=Math.cos(B.angle),b.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),b.decay=B.decay,n.spot[g]=b;const x=B.shadow;if(B.map&&(n.spotLightMap[O]=B.map,O++,x.updateMatrices(B),B.castShadow&&P++),n.spotLightMatrix[g]=x.matrix,B.castShadow){const k=t.get(B);k.shadowIntensity=x.intensity,k.shadowBias=x.bias,k.shadowNormalBias=x.normalBias,k.shadowRadius=x.radius,k.shadowMapSize=x.mapSize,n.spotShadow[g]=k,n.spotShadowMap[g]=M,R++}g++}else if(B.isRectAreaLight){const b=e.get(B);b.color.copy(Y).multiplyScalar(y),b.halfWidth.set(B.width*.5,0,0),b.halfHeight.set(0,B.height*.5,0),n.rectArea[_]=b,_++}else if(B.isPointLight){const b=e.get(B);if(b.color.copy(B.color).multiplyScalar(B.intensity),b.distance=B.distance,b.decay=B.decay,B.castShadow){const x=B.shadow,k=t.get(B);k.shadowIntensity=x.intensity,k.shadowBias=x.bias,k.shadowNormalBias=x.normalBias,k.shadowRadius=x.radius,k.shadowMapSize=x.mapSize,k.shadowCameraNear=x.camera.near,k.shadowCameraFar=x.camera.far,n.pointShadow[h]=k,n.pointShadowMap[h]=M,n.pointShadowMatrix[h]=B.shadow.matrix,T++}n.point[h]=b,h++}else if(B.isHemisphereLight){const b=e.get(B);b.skyColor.copy(B.color).multiplyScalar(y),b.groundColor.copy(B.groundColor).multiplyScalar(y),n.hemi[f]=b,f++}}_>0&&(a.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Ee.LTC_FLOAT_1,n.rectAreaLTC2=Ee.LTC_FLOAT_2):(n.rectAreaLTC1=Ee.LTC_HALF_1,n.rectAreaLTC2=Ee.LTC_HALF_2)),n.ambient[0]=m,n.ambient[1]=d,n.ambient[2]=o;const U=n.hash;(U.directionalLength!==s||U.pointLength!==h||U.spotLength!==g||U.rectAreaLength!==_||U.hemiLength!==f||U.numDirectionalShadows!==E||U.numPointShadows!==T||U.numSpotShadows!==R||U.numSpotMaps!==O||U.numLightProbes!==N)&&(n.directional.length=s,n.spot.length=g,n.rectArea.length=_,n.point.length=h,n.hemi.length=f,n.directionalShadow.length=E,n.directionalShadowMap.length=E,n.pointShadow.length=T,n.pointShadowMap.length=T,n.spotShadow.length=R,n.spotShadowMap.length=R,n.directionalShadowMatrix.length=E,n.pointShadowMatrix.length=T,n.spotLightMatrix.length=R+O-P,n.spotLightMap.length=O,n.numSpotLightShadowsWithMaps=P,n.numLightProbes=N,U.directionalLength=s,U.pointLength=h,U.spotLength=g,U.rectAreaLength=_,U.hemiLength=f,U.numDirectionalShadows=E,U.numPointShadows=T,U.numSpotShadows=R,U.numSpotMaps=O,U.numLightProbes=N,n.version=Hg++)}function c(u,m){let d=0,o=0,s=0,h=0,g=0;const _=m.matrixWorldInverse;for(let f=0,E=u.length;f<E;f++){const T=u[f];if(T.isDirectionalLight){const R=n.directional[d];R.direction.setFromMatrixPosition(T.matrixWorld),i.setFromMatrixPosition(T.target.matrixWorld),R.direction.sub(i),R.direction.transformDirection(_),d++}else if(T.isSpotLight){const R=n.spot[s];R.position.setFromMatrixPosition(T.matrixWorld),R.position.applyMatrix4(_),R.direction.setFromMatrixPosition(T.matrixWorld),i.setFromMatrixPosition(T.target.matrixWorld),R.direction.sub(i),R.direction.transformDirection(_),s++}else if(T.isRectAreaLight){const R=n.rectArea[h];R.position.setFromMatrixPosition(T.matrixWorld),R.position.applyMatrix4(_),l.identity(),r.copy(T.matrixWorld),r.premultiply(_),l.extractRotation(r),R.halfWidth.set(T.width*.5,0,0),R.halfHeight.set(0,T.height*.5,0),R.halfWidth.applyMatrix4(l),R.halfHeight.applyMatrix4(l),h++}else if(T.isPointLight){const R=n.point[o];R.position.setFromMatrixPosition(T.matrixWorld),R.position.applyMatrix4(_),o++}else if(T.isHemisphereLight){const R=n.hemi[g];R.direction.setFromMatrixPosition(T.matrixWorld),R.direction.transformDirection(_),g++}}}return{setup:p,setupView:c,state:n}}function vd(a){const e=new Wg(a),t=[],n=[];function i(m){u.camera=m,t.length=0,n.length=0}function r(m){t.push(m)}function l(m){n.push(m)}function p(){e.setup(t)}function c(m){e.setupView(t,m)}const u={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:p,setupLightsView:c,pushLight:r,pushShadow:l}}function qg(a){let e=new WeakMap;function t(i,r=0){const l=e.get(i);let p;return l===void 0?(p=new vd(a),e.set(i,[p])):r>=l.length?(p=new vd(a),l.push(p)):p=l[r],p}function n(){e=new WeakMap}return{get:t,dispose:n}}const Yg=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Xg=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,Kg=[new K(1,0,0),new K(-1,0,0),new K(0,1,0),new K(0,-1,0),new K(0,0,1),new K(0,0,-1)],jg=[new K(0,-1,0),new K(0,-1,0),new K(0,0,1),new K(0,0,-1),new K(0,-1,0),new K(0,-1,0)],xd=new Ye,ha=new K,Mr=new K;function Zg(a,e,t){let n=new Ys;const i=new Ve,r=new Ve,l=new mt,p=new wm,c=new Nm,u={},m=t.maxTextureSize,d={[qn]:Wt,[Wt]:qn,[un]:un},o=new Rn({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ve},radius:{value:4}},vertexShader:Yg,fragmentShader:Xg}),s=o.clone();s.defines.HORIZONTAL_PASS=1;const h=new wt;h.setAttribute("position",new It(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new ct(h,o),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=yo;let f=this.type;this.render=function(P,N,U){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||P.length===0)return;P.type===ju&&(Pe("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),P.type=yo);const A=a.getRenderTarget(),D=a.getActiveCubeFace(),B=a.getActiveMipmapLevel(),Y=a.state;Y.setBlending(zn),Y.buffers.depth.getReversed()===!0?Y.buffers.color.setClear(0,0,0,0):Y.buffers.color.setClear(1,1,1,1),Y.buffers.depth.setTest(!0),Y.setScissorTest(!1);const y=f!==this.type;y&&N.traverse(function(v){v.material&&(Array.isArray(v.material)?v.material.forEach(M=>M.needsUpdate=!0):v.material.needsUpdate=!0)});for(let v=0,M=P.length;v<M;v++){const b=P[v],x=b.shadow;if(x===void 0){Pe("WebGLShadowMap:",b,"has no shadow.");continue}if(x.autoUpdate===!1&&x.needsUpdate===!1)continue;i.copy(x.mapSize);const k=x.getFrameExtents();if(i.multiply(k),r.copy(x.mapSize),(i.x>m||i.y>m)&&(i.x>m&&(r.x=Math.floor(m/k.x),i.x=r.x*k.x,x.mapSize.x=r.x),i.y>m&&(r.y=Math.floor(m/k.y),i.y=r.y*k.y,x.mapSize.y=r.y)),x.map===null||y===!0){if(x.map!==null&&(x.map.depthTexture!==null&&(x.map.depthTexture.dispose(),x.map.depthTexture=null),x.map.dispose()),this.type===ga){if(b.isPointLight){Pe("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}x.map=new Sn(i.x,i.y,{format:ji,type:Zt,minFilter:ht,magFilter:ht,generateMipmaps:!1}),x.map.texture.name=b.name+".shadowMap",x.map.depthTexture=new Ia(i.x,i.y,kt),x.map.depthTexture.name=b.name+".shadowMapDepth",x.map.depthTexture.format=Yn,x.map.depthTexture.compareFunction=null,x.map.depthTexture.minFilter=St,x.map.depthTexture.magFilter=St}else{b.isPointLight?(x.map=new Eu(i.x),x.map.depthTexture=new Im(i.x,vn)):(x.map=new Sn(i.x,i.y),x.map.depthTexture=new Ia(i.x,i.y,vn)),x.map.depthTexture.name=b.name+".shadowMap",x.map.depthTexture.format=Yn;const q=a.state.buffers.depth.getReversed();this.type===yo?(x.map.depthTexture.compareFunction=q?Bs:ks,x.map.depthTexture.minFilter=ht,x.map.depthTexture.magFilter=ht):(x.map.depthTexture.compareFunction=null,x.map.depthTexture.minFilter=St,x.map.depthTexture.magFilter=St)}x.camera.updateProjectionMatrix()}const Z=x.map.isWebGLCubeRenderTarget?6:1;for(let q=0;q<Z;q++){if(x.map.isWebGLCubeRenderTarget)a.setRenderTarget(x.map,q),a.clear();else{q===0&&(a.setRenderTarget(x.map),a.clear());const J=x.getViewport(q);l.set(r.x*J.x,r.y*J.y,r.x*J.z,r.y*J.w),Y.viewport(l)}if(b.isPointLight){const J=x.camera,de=x.matrix,ie=b.distance||J.far;ie!==J.far&&(J.far=ie,J.updateProjectionMatrix()),ha.setFromMatrixPosition(b.matrixWorld),J.position.copy(ha),Mr.copy(J.position),Mr.add(Kg[q]),J.up.copy(jg[q]),J.lookAt(Mr),J.updateMatrixWorld(),de.makeTranslation(-ha.x,-ha.y,-ha.z),xd.multiplyMatrices(J.projectionMatrix,J.matrixWorldInverse),x._frustum.setFromProjectionMatrix(xd,J.coordinateSystem,J.reversedDepth)}else x.updateMatrices(b);n=x.getFrustum(),R(N,U,x.camera,b,this.type)}x.isPointLightShadow!==!0&&this.type===ga&&E(x,U),x.needsUpdate=!1}f=this.type,_.needsUpdate=!1,a.setRenderTarget(A,D,B)};function E(P,N){const U=e.update(g);o.defines.VSM_SAMPLES!==P.blurSamples&&(o.defines.VSM_SAMPLES=P.blurSamples,s.defines.VSM_SAMPLES=P.blurSamples,o.needsUpdate=!0,s.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new Sn(i.x,i.y,{format:ji,type:Zt})),o.uniforms.shadow_pass.value=P.map.depthTexture,o.uniforms.resolution.value=P.mapSize,o.uniforms.radius.value=P.radius,a.setRenderTarget(P.mapPass),a.clear(),a.renderBufferDirect(N,null,U,o,g,null),s.uniforms.shadow_pass.value=P.mapPass.texture,s.uniforms.resolution.value=P.mapSize,s.uniforms.radius.value=P.radius,a.setRenderTarget(P.map),a.clear(),a.renderBufferDirect(N,null,U,s,g,null)}function T(P,N,U,A){let D=null;const B=U.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(B!==void 0)D=B;else if(D=U.isPointLight===!0?c:p,a.localClippingEnabled&&N.clipShadows===!0&&Array.isArray(N.clippingPlanes)&&N.clippingPlanes.length!==0||N.displacementMap&&N.displacementScale!==0||N.alphaMap&&N.alphaTest>0||N.map&&N.alphaTest>0||N.alphaToCoverage===!0){const Y=D.uuid,y=N.uuid;let v=u[Y];v===void 0&&(v={},u[Y]=v);let M=v[y];M===void 0&&(M=D.clone(),v[y]=M,N.addEventListener("dispose",O)),D=M}if(D.visible=N.visible,D.wireframe=N.wireframe,A===ga?D.side=N.shadowSide!==null?N.shadowSide:N.side:D.side=N.shadowSide!==null?N.shadowSide:d[N.side],D.alphaMap=N.alphaMap,D.alphaTest=N.alphaToCoverage===!0?.5:N.alphaTest,D.map=N.map,D.clipShadows=N.clipShadows,D.clippingPlanes=N.clippingPlanes,D.clipIntersection=N.clipIntersection,D.displacementMap=N.displacementMap,D.displacementScale=N.displacementScale,D.displacementBias=N.displacementBias,D.wireframeLinewidth=N.wireframeLinewidth,D.linewidth=N.linewidth,U.isPointLight===!0&&D.isMeshDistanceMaterial===!0){const Y=a.properties.get(D);Y.light=U}return D}function R(P,N,U,A,D){if(P.visible===!1)return;if(P.layers.test(N.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&D===ga)&&(!P.frustumCulled||n.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(U.matrixWorldInverse,P.matrixWorld);const y=e.update(P),v=P.material;if(Array.isArray(v)){const M=y.groups;for(let b=0,x=M.length;b<x;b++){const k=M[b],Z=v[k.materialIndex];if(Z&&Z.visible){const q=T(P,Z,A,D);P.onBeforeShadow(a,P,N,U,y,q,k),a.renderBufferDirect(U,null,y,q,P,k),P.onAfterShadow(a,P,N,U,y,q,k)}}}else if(v.visible){const M=T(P,v,A,D);P.onBeforeShadow(a,P,N,U,y,M,null),a.renderBufferDirect(U,null,y,M,P,null),P.onAfterShadow(a,P,N,U,y,M,null)}}const Y=P.children;for(let y=0,v=Y.length;y<v;y++)R(Y[y],N,U,A,D)}function O(P){P.target.removeEventListener("dispose",O);for(const U in u){const A=u[U],D=P.target.uuid;D in A&&(A[D].dispose(),delete A[D])}}}const $g={[Nr]:Lr,[Gr]:kr,[Ur]:Br,[Yi]:Fr,[Lr]:Nr,[kr]:Gr,[Br]:Ur,[Fr]:Yi};function Jg(a,e){function t(){let z=!1;const Me=new mt;let ce=null;const Ae=new mt(0,0,0,0);return{setMask:function(ue){ce!==ue&&!z&&(a.colorMask(ue,ue,ue,ue),ce=ue)},setLocked:function(ue){z=ue},setClear:function(ue,se,fe,ze,ut){ut===!0&&(ue*=ze,se*=ze,fe*=ze),Me.set(ue,se,fe,ze),Ae.equals(Me)===!1&&(a.clearColor(ue,se,fe,ze),Ae.copy(Me))},reset:function(){z=!1,ce=null,Ae.set(-1,0,0,0)}}}function n(){let z=!1,Me=!1,ce=null,Ae=null,ue=null;return{setReversed:function(se){if(Me!==se){const fe=e.get("EXT_clip_control");se?fe.clipControlEXT(fe.LOWER_LEFT_EXT,fe.ZERO_TO_ONE_EXT):fe.clipControlEXT(fe.LOWER_LEFT_EXT,fe.NEGATIVE_ONE_TO_ONE_EXT),Me=se;const ze=ue;ue=null,this.setClear(ze)}},getReversed:function(){return Me},setTest:function(se){se?C(a.DEPTH_TEST):L(a.DEPTH_TEST)},setMask:function(se){ce!==se&&!z&&(a.depthMask(se),ce=se)},setFunc:function(se){if(Me&&(se=$g[se]),Ae!==se){switch(se){case Nr:a.depthFunc(a.NEVER);break;case Lr:a.depthFunc(a.ALWAYS);break;case Gr:a.depthFunc(a.LESS);break;case Yi:a.depthFunc(a.LEQUAL);break;case Ur:a.depthFunc(a.EQUAL);break;case Fr:a.depthFunc(a.GEQUAL);break;case kr:a.depthFunc(a.GREATER);break;case Br:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}Ae=se}},setLocked:function(se){z=se},setClear:function(se){ue!==se&&(Me&&(se=1-se),a.clearDepth(se),ue=se)},reset:function(){z=!1,ce=null,Ae=null,ue=null,Me=!1}}}function i(){let z=!1,Me=null,ce=null,Ae=null,ue=null,se=null,fe=null,ze=null,ut=null;return{setTest:function(nt){z||(nt?C(a.STENCIL_TEST):L(a.STENCIL_TEST))},setMask:function(nt){Me!==nt&&!z&&(a.stencilMask(nt),Me=nt)},setFunc:function(nt,_n,In){(ce!==nt||Ae!==_n||ue!==In)&&(a.stencilFunc(nt,_n,In),ce=nt,Ae=_n,ue=In)},setOp:function(nt,_n,In){(se!==nt||fe!==_n||ze!==In)&&(a.stencilOp(nt,_n,In),se=nt,fe=_n,ze=In)},setLocked:function(nt){z=nt},setClear:function(nt){ut!==nt&&(a.clearStencil(nt),ut=nt)},reset:function(){z=!1,Me=null,ce=null,Ae=null,ue=null,se=null,fe=null,ze=null,ut=null}}}const r=new t,l=new n,p=new i,c=new WeakMap,u=new WeakMap;let m={},d={},o=new WeakMap,s=[],h=null,g=!1,_=null,f=null,E=null,T=null,R=null,O=null,P=null,N=new ke(0,0,0),U=0,A=!1,D=null,B=null,Y=null,y=null,v=null;const M=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let b=!1,x=0;const k=a.getParameter(a.VERSION);k.indexOf("WebGL")!==-1?(x=parseFloat(/^WebGL (\d)/.exec(k)[1]),b=x>=1):k.indexOf("OpenGL ES")!==-1&&(x=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),b=x>=2);let Z=null,q={};const J=a.getParameter(a.SCISSOR_BOX),de=a.getParameter(a.VIEWPORT),ie=new mt().fromArray(J),be=new mt().fromArray(de);function Le(z,Me,ce,Ae){const ue=new Uint8Array(4),se=a.createTexture();a.bindTexture(z,se),a.texParameteri(z,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(z,a.TEXTURE_MAG_FILTER,a.NEAREST);for(let fe=0;fe<ce;fe++)z===a.TEXTURE_3D||z===a.TEXTURE_2D_ARRAY?a.texImage3D(Me,0,a.RGBA,1,1,Ae,0,a.RGBA,a.UNSIGNED_BYTE,ue):a.texImage2D(Me+fe,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,ue);return se}const w={};w[a.TEXTURE_2D]=Le(a.TEXTURE_2D,a.TEXTURE_2D,1),w[a.TEXTURE_CUBE_MAP]=Le(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6),w[a.TEXTURE_2D_ARRAY]=Le(a.TEXTURE_2D_ARRAY,a.TEXTURE_2D_ARRAY,1,1),w[a.TEXTURE_3D]=Le(a.TEXTURE_3D,a.TEXTURE_3D,1,1),r.setClear(0,0,0,1),l.setClear(1),p.setClear(0),C(a.DEPTH_TEST),l.setFunc(Yi),Se(!1),Ne(ul),C(a.CULL_FACE),le(zn);function C(z){m[z]!==!0&&(a.enable(z),m[z]=!0)}function L(z){m[z]!==!1&&(a.disable(z),m[z]=!1)}function V(z,Me){return d[z]!==Me?(a.bindFramebuffer(z,Me),d[z]=Me,z===a.DRAW_FRAMEBUFFER&&(d[a.FRAMEBUFFER]=Me),z===a.FRAMEBUFFER&&(d[a.DRAW_FRAMEBUFFER]=Me),!0):!1}function H(z,Me){let ce=s,Ae=!1;if(z){ce=o.get(Me),ce===void 0&&(ce=[],o.set(Me,ce));const ue=z.textures;if(ce.length!==ue.length||ce[0]!==a.COLOR_ATTACHMENT0){for(let se=0,fe=ue.length;se<fe;se++)ce[se]=a.COLOR_ATTACHMENT0+se;ce.length=ue.length,Ae=!0}}else ce[0]!==a.BACK&&(ce[0]=a.BACK,Ae=!0);Ae&&a.drawBuffers(ce)}function X(z){return h!==z?(a.useProgram(z),h=z,!0):!1}const ee={[fi]:a.FUNC_ADD,[$u]:a.FUNC_SUBTRACT,[Ju]:a.FUNC_REVERSE_SUBTRACT};ee[Qu]=a.MIN,ee[ep]=a.MAX;const oe={[tp]:a.ZERO,[np]:a.ONE,[ip]:a.SRC_COLOR,[Pr]:a.SRC_ALPHA,[dp]:a.SRC_ALPHA_SATURATE,[sp]:a.DST_COLOR,[op]:a.DST_ALPHA,[ap]:a.ONE_MINUS_SRC_COLOR,[wr]:a.ONE_MINUS_SRC_ALPHA,[lp]:a.ONE_MINUS_DST_COLOR,[rp]:a.ONE_MINUS_DST_ALPHA,[up]:a.CONSTANT_COLOR,[pp]:a.ONE_MINUS_CONSTANT_COLOR,[mp]:a.CONSTANT_ALPHA,[cp]:a.ONE_MINUS_CONSTANT_ALPHA};function le(z,Me,ce,Ae,ue,se,fe,ze,ut,nt){if(z===zn){g===!0&&(L(a.BLEND),g=!1);return}if(g===!1&&(C(a.BLEND),g=!0),z!==Zu){if(z!==_||nt!==A){if((f!==fi||R!==fi)&&(a.blendEquation(a.FUNC_ADD),f=fi,R=fi),nt)switch(z){case zi:a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case pl:a.blendFunc(a.ONE,a.ONE);break;case ml:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case cl:a.blendFuncSeparate(a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA,a.ZERO,a.ONE);break;default:Fe("WebGLState: Invalid blending: ",z);break}else switch(z){case zi:a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case pl:a.blendFuncSeparate(a.SRC_ALPHA,a.ONE,a.ONE,a.ONE);break;case ml:Fe("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case cl:Fe("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Fe("WebGLState: Invalid blending: ",z);break}E=null,T=null,O=null,P=null,N.set(0,0,0),U=0,_=z,A=nt}return}ue=ue||Me,se=se||ce,fe=fe||Ae,(Me!==f||ue!==R)&&(a.blendEquationSeparate(ee[Me],ee[ue]),f=Me,R=ue),(ce!==E||Ae!==T||se!==O||fe!==P)&&(a.blendFuncSeparate(oe[ce],oe[Ae],oe[se],oe[fe]),E=ce,T=Ae,O=se,P=fe),(ze.equals(N)===!1||ut!==U)&&(a.blendColor(ze.r,ze.g,ze.b,ut),N.copy(ze),U=ut),_=z,A=!1}function me(z,Me){z.side===un?L(a.CULL_FACE):C(a.CULL_FACE);let ce=z.side===Wt;Me&&(ce=!ce),Se(ce),z.blending===zi&&z.transparent===!1?le(zn):le(z.blending,z.blendEquation,z.blendSrc,z.blendDst,z.blendEquationAlpha,z.blendSrcAlpha,z.blendDstAlpha,z.blendColor,z.blendAlpha,z.premultipliedAlpha),l.setFunc(z.depthFunc),l.setTest(z.depthTest),l.setMask(z.depthWrite),r.setMask(z.colorWrite);const Ae=z.stencilWrite;p.setTest(Ae),Ae&&(p.setMask(z.stencilWriteMask),p.setFunc(z.stencilFunc,z.stencilRef,z.stencilFuncMask),p.setOp(z.stencilFail,z.stencilZFail,z.stencilZPass)),We(z.polygonOffset,z.polygonOffsetFactor,z.polygonOffsetUnits),z.alphaToCoverage===!0?C(a.SAMPLE_ALPHA_TO_COVERAGE):L(a.SAMPLE_ALPHA_TO_COVERAGE)}function Se(z){D!==z&&(z?a.frontFace(a.CW):a.frontFace(a.CCW),D=z)}function Ne(z){z!==Xu?(C(a.CULL_FACE),z!==B&&(z===ul?a.cullFace(a.BACK):z===Ku?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):L(a.CULL_FACE),B=z}function F(z){z!==Y&&(b&&a.lineWidth(z),Y=z)}function We(z,Me,ce){z?(C(a.POLYGON_OFFSET_FILL),(y!==Me||v!==ce)&&(a.polygonOffset(Me,ce),y=Me,v=ce)):L(a.POLYGON_OFFSET_FILL)}function qe(z){z?C(a.SCISSOR_TEST):L(a.SCISSOR_TEST)}function $e(z){z===void 0&&(z=a.TEXTURE0+M-1),Z!==z&&(a.activeTexture(z),Z=z)}function Te(z,Me,ce){ce===void 0&&(Z===null?ce=a.TEXTURE0+M-1:ce=Z);let Ae=q[ce];Ae===void 0&&(Ae={type:void 0,texture:void 0},q[ce]=Ae),(Ae.type!==z||Ae.texture!==Me)&&(Z!==ce&&(a.activeTexture(ce),Z=ce),a.bindTexture(z,Me||w[z]),Ae.type=z,Ae.texture=Me)}function G(){const z=q[Z];z!==void 0&&z.type!==void 0&&(a.bindTexture(z.type,null),z.type=void 0,z.texture=void 0)}function S(){try{a.compressedTexImage2D(...arguments)}catch(z){Fe("WebGLState:",z)}}function W(){try{a.compressedTexImage3D(...arguments)}catch(z){Fe("WebGLState:",z)}}function ae(){try{a.texSubImage2D(...arguments)}catch(z){Fe("WebGLState:",z)}}function re(){try{a.texSubImage3D(...arguments)}catch(z){Fe("WebGLState:",z)}}function ne(){try{a.compressedTexSubImage2D(...arguments)}catch(z){Fe("WebGLState:",z)}}function De(){try{a.compressedTexSubImage3D(...arguments)}catch(z){Fe("WebGLState:",z)}}function he(){try{a.texStorage2D(...arguments)}catch(z){Fe("WebGLState:",z)}}function Oe(){try{a.texStorage3D(...arguments)}catch(z){Fe("WebGLState:",z)}}function He(){try{a.texImage2D(...arguments)}catch(z){Fe("WebGLState:",z)}}function pe(){try{a.texImage3D(...arguments)}catch(z){Fe("WebGLState:",z)}}function ge(z){ie.equals(z)===!1&&(a.scissor(z.x,z.y,z.z,z.w),ie.copy(z))}function Re(z){be.equals(z)===!1&&(a.viewport(z.x,z.y,z.z,z.w),be.copy(z))}function Ie(z,Me){let ce=u.get(Me);ce===void 0&&(ce=new WeakMap,u.set(Me,ce));let Ae=ce.get(z);Ae===void 0&&(Ae=a.getUniformBlockIndex(Me,z.name),ce.set(z,Ae))}function _e(z,Me){const Ae=u.get(Me).get(z);c.get(Me)!==Ae&&(a.uniformBlockBinding(Me,Ae,z.__bindingPointIndex),c.set(Me,Ae))}function Ze(){a.disable(a.BLEND),a.disable(a.CULL_FACE),a.disable(a.DEPTH_TEST),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SCISSOR_TEST),a.disable(a.STENCIL_TEST),a.disable(a.SAMPLE_ALPHA_TO_COVERAGE),a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ZERO),a.blendFuncSeparate(a.ONE,a.ZERO,a.ONE,a.ZERO),a.blendColor(0,0,0,0),a.colorMask(!0,!0,!0,!0),a.clearColor(0,0,0,0),a.depthMask(!0),a.depthFunc(a.LESS),l.setReversed(!1),a.clearDepth(1),a.stencilMask(4294967295),a.stencilFunc(a.ALWAYS,0,4294967295),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),a.clearStencil(0),a.cullFace(a.BACK),a.frontFace(a.CCW),a.polygonOffset(0,0),a.activeTexture(a.TEXTURE0),a.bindFramebuffer(a.FRAMEBUFFER,null),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),a.bindFramebuffer(a.READ_FRAMEBUFFER,null),a.useProgram(null),a.lineWidth(1),a.scissor(0,0,a.canvas.width,a.canvas.height),a.viewport(0,0,a.canvas.width,a.canvas.height),m={},Z=null,q={},d={},o=new WeakMap,s=[],h=null,g=!1,_=null,f=null,E=null,T=null,R=null,O=null,P=null,N=new ke(0,0,0),U=0,A=!1,D=null,B=null,Y=null,y=null,v=null,ie.set(0,0,a.canvas.width,a.canvas.height),be.set(0,0,a.canvas.width,a.canvas.height),r.reset(),l.reset(),p.reset()}return{buffers:{color:r,depth:l,stencil:p},enable:C,disable:L,bindFramebuffer:V,drawBuffers:H,useProgram:X,setBlending:le,setMaterial:me,setFlipSided:Se,setCullFace:Ne,setLineWidth:F,setPolygonOffset:We,setScissorTest:qe,activeTexture:$e,bindTexture:Te,unbindTexture:G,compressedTexImage2D:S,compressedTexImage3D:W,texImage2D:He,texImage3D:pe,updateUBOMapping:Ie,uniformBlockBinding:_e,texStorage2D:he,texStorage3D:Oe,texSubImage2D:ae,texSubImage3D:re,compressedTexSubImage2D:ne,compressedTexSubImage3D:De,scissor:ge,viewport:Re,reset:Ze}}function Qg(a,e,t,n,i,r,l){const p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new Ve,m=new WeakMap;let d;const o=new WeakMap;let s=!1;try{s=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function h(G,S){return s?new OffscreenCanvas(G,S):ba("canvas")}function g(G,S,W){let ae=1;const re=Te(G);if((re.width>W||re.height>W)&&(ae=W/Math.max(re.width,re.height)),ae<1)if(typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&G instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&G instanceof ImageBitmap||typeof VideoFrame<"u"&&G instanceof VideoFrame){const ne=Math.floor(ae*re.width),De=Math.floor(ae*re.height);d===void 0&&(d=h(ne,De));const he=S?h(ne,De):d;return he.width=ne,he.height=De,he.getContext("2d").drawImage(G,0,0,ne,De),Pe("WebGLRenderer: Texture has been resized from ("+re.width+"x"+re.height+") to ("+ne+"x"+De+")."),he}else return"data"in G&&Pe("WebGLRenderer: Image in DataTexture is too big ("+re.width+"x"+re.height+")."),G;return G}function _(G){return G.generateMipmaps}function f(G){a.generateMipmap(G)}function E(G){return G.isWebGLCubeRenderTarget?a.TEXTURE_CUBE_MAP:G.isWebGL3DRenderTarget?a.TEXTURE_3D:G.isWebGLArrayRenderTarget||G.isCompressedArrayTexture?a.TEXTURE_2D_ARRAY:a.TEXTURE_2D}function T(G,S,W,ae,re=!1){if(G!==null){if(a[G]!==void 0)return a[G];Pe("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+G+"'")}let ne=S;if(S===a.RED&&(W===a.FLOAT&&(ne=a.R32F),W===a.HALF_FLOAT&&(ne=a.R16F),W===a.UNSIGNED_BYTE&&(ne=a.R8)),S===a.RED_INTEGER&&(W===a.UNSIGNED_BYTE&&(ne=a.R8UI),W===a.UNSIGNED_SHORT&&(ne=a.R16UI),W===a.UNSIGNED_INT&&(ne=a.R32UI),W===a.BYTE&&(ne=a.R8I),W===a.SHORT&&(ne=a.R16I),W===a.INT&&(ne=a.R32I)),S===a.RG&&(W===a.FLOAT&&(ne=a.RG32F),W===a.HALF_FLOAT&&(ne=a.RG16F),W===a.UNSIGNED_BYTE&&(ne=a.RG8)),S===a.RG_INTEGER&&(W===a.UNSIGNED_BYTE&&(ne=a.RG8UI),W===a.UNSIGNED_SHORT&&(ne=a.RG16UI),W===a.UNSIGNED_INT&&(ne=a.RG32UI),W===a.BYTE&&(ne=a.RG8I),W===a.SHORT&&(ne=a.RG16I),W===a.INT&&(ne=a.RG32I)),S===a.RGB_INTEGER&&(W===a.UNSIGNED_BYTE&&(ne=a.RGB8UI),W===a.UNSIGNED_SHORT&&(ne=a.RGB16UI),W===a.UNSIGNED_INT&&(ne=a.RGB32UI),W===a.BYTE&&(ne=a.RGB8I),W===a.SHORT&&(ne=a.RGB16I),W===a.INT&&(ne=a.RGB32I)),S===a.RGBA_INTEGER&&(W===a.UNSIGNED_BYTE&&(ne=a.RGBA8UI),W===a.UNSIGNED_SHORT&&(ne=a.RGBA16UI),W===a.UNSIGNED_INT&&(ne=a.RGBA32UI),W===a.BYTE&&(ne=a.RGBA8I),W===a.SHORT&&(ne=a.RGBA16I),W===a.INT&&(ne=a.RGBA32I)),S===a.RGB&&(W===a.UNSIGNED_INT_5_9_9_9_REV&&(ne=a.RGB9_E5),W===a.UNSIGNED_INT_10F_11F_11F_REV&&(ne=a.R11F_G11F_B10F)),S===a.RGBA){const De=re?Do:et.getTransfer(ae);W===a.FLOAT&&(ne=a.RGBA32F),W===a.HALF_FLOAT&&(ne=a.RGBA16F),W===a.UNSIGNED_BYTE&&(ne=De===at?a.SRGB8_ALPHA8:a.RGBA8),W===a.UNSIGNED_SHORT_4_4_4_4&&(ne=a.RGBA4),W===a.UNSIGNED_SHORT_5_5_5_1&&(ne=a.RGB5_A1)}return(ne===a.R16F||ne===a.R32F||ne===a.RG16F||ne===a.RG32F||ne===a.RGBA16F||ne===a.RGBA32F)&&e.get("EXT_color_buffer_float"),ne}function R(G,S){let W;return G?S===null||S===vn||S===va?W=a.DEPTH24_STENCIL8:S===kt?W=a.DEPTH32F_STENCIL8:S===Aa&&(W=a.DEPTH24_STENCIL8,Pe("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):S===null||S===vn||S===va?W=a.DEPTH_COMPONENT24:S===kt?W=a.DEPTH_COMPONENT32F:S===Aa&&(W=a.DEPTH_COMPONENT16),W}function O(G,S){return _(G)===!0||G.isFramebufferTexture&&G.minFilter!==St&&G.minFilter!==ht?Math.log2(Math.max(S.width,S.height))+1:G.mipmaps!==void 0&&G.mipmaps.length>0?G.mipmaps.length:G.isCompressedTexture&&Array.isArray(G.image)?S.mipmaps.length:1}function P(G){const S=G.target;S.removeEventListener("dispose",P),U(S),S.isVideoTexture&&m.delete(S)}function N(G){const S=G.target;S.removeEventListener("dispose",N),D(S)}function U(G){const S=n.get(G);if(S.__webglInit===void 0)return;const W=G.source,ae=o.get(W);if(ae){const re=ae[S.__cacheKey];re.usedTimes--,re.usedTimes===0&&A(G),Object.keys(ae).length===0&&o.delete(W)}n.remove(G)}function A(G){const S=n.get(G);a.deleteTexture(S.__webglTexture);const W=G.source,ae=o.get(W);delete ae[S.__cacheKey],l.memory.textures--}function D(G){const S=n.get(G);if(G.depthTexture&&(G.depthTexture.dispose(),n.remove(G.depthTexture)),G.isWebGLCubeRenderTarget)for(let ae=0;ae<6;ae++){if(Array.isArray(S.__webglFramebuffer[ae]))for(let re=0;re<S.__webglFramebuffer[ae].length;re++)a.deleteFramebuffer(S.__webglFramebuffer[ae][re]);else a.deleteFramebuffer(S.__webglFramebuffer[ae]);S.__webglDepthbuffer&&a.deleteRenderbuffer(S.__webglDepthbuffer[ae])}else{if(Array.isArray(S.__webglFramebuffer))for(let ae=0;ae<S.__webglFramebuffer.length;ae++)a.deleteFramebuffer(S.__webglFramebuffer[ae]);else a.deleteFramebuffer(S.__webglFramebuffer);if(S.__webglDepthbuffer&&a.deleteRenderbuffer(S.__webglDepthbuffer),S.__webglMultisampledFramebuffer&&a.deleteFramebuffer(S.__webglMultisampledFramebuffer),S.__webglColorRenderbuffer)for(let ae=0;ae<S.__webglColorRenderbuffer.length;ae++)S.__webglColorRenderbuffer[ae]&&a.deleteRenderbuffer(S.__webglColorRenderbuffer[ae]);S.__webglDepthRenderbuffer&&a.deleteRenderbuffer(S.__webglDepthRenderbuffer)}const W=G.textures;for(let ae=0,re=W.length;ae<re;ae++){const ne=n.get(W[ae]);ne.__webglTexture&&(a.deleteTexture(ne.__webglTexture),l.memory.textures--),n.remove(W[ae])}n.remove(G)}let B=0;function Y(){B=0}function y(){const G=B;return G>=i.maxTextures&&Pe("WebGLTextures: Trying to use "+G+" texture units while this GPU supports only "+i.maxTextures),B+=1,G}function v(G){const S=[];return S.push(G.wrapS),S.push(G.wrapT),S.push(G.wrapR||0),S.push(G.magFilter),S.push(G.minFilter),S.push(G.anisotropy),S.push(G.internalFormat),S.push(G.format),S.push(G.type),S.push(G.generateMipmaps),S.push(G.premultiplyAlpha),S.push(G.flipY),S.push(G.unpackAlignment),S.push(G.colorSpace),S.join()}function M(G,S){const W=n.get(G);if(G.isVideoTexture&&qe(G),G.isRenderTargetTexture===!1&&G.isExternalTexture!==!0&&G.version>0&&W.__version!==G.version){const ae=G.image;if(ae===null)Pe("WebGLRenderer: Texture marked for update but no image data found.");else if(ae.complete===!1)Pe("WebGLRenderer: Texture marked for update but image is incomplete");else{w(W,G,S);return}}else G.isExternalTexture&&(W.__webglTexture=G.sourceTexture?G.sourceTexture:null);t.bindTexture(a.TEXTURE_2D,W.__webglTexture,a.TEXTURE0+S)}function b(G,S){const W=n.get(G);if(G.isRenderTargetTexture===!1&&G.version>0&&W.__version!==G.version){w(W,G,S);return}else G.isExternalTexture&&(W.__webglTexture=G.sourceTexture?G.sourceTexture:null);t.bindTexture(a.TEXTURE_2D_ARRAY,W.__webglTexture,a.TEXTURE0+S)}function x(G,S){const W=n.get(G);if(G.isRenderTargetTexture===!1&&G.version>0&&W.__version!==G.version){w(W,G,S);return}t.bindTexture(a.TEXTURE_3D,W.__webglTexture,a.TEXTURE0+S)}function k(G,S){const W=n.get(G);if(G.isCubeDepthTexture!==!0&&G.version>0&&W.__version!==G.version){C(W,G,S);return}t.bindTexture(a.TEXTURE_CUBE_MAP,W.__webglTexture,a.TEXTURE0+S)}const Z={[Ki]:a.REPEAT,[nn]:a.CLAMP_TO_EDGE,[bo]:a.MIRRORED_REPEAT},q={[St]:a.NEAREST,[tu]:a.NEAREST_MIPMAP_NEAREST,[ya]:a.NEAREST_MIPMAP_LINEAR,[ht]:a.LINEAR,[Eo]:a.LINEAR_MIPMAP_NEAREST,[Cn]:a.LINEAR_MIPMAP_LINEAR},J={[Tp]:a.NEVER,[xp]:a.ALWAYS,[Mp]:a.LESS,[ks]:a.LEQUAL,[Sp]:a.EQUAL,[Bs]:a.GEQUAL,[Ap]:a.GREATER,[vp]:a.NOTEQUAL};function de(G,S){if(S.type===kt&&e.has("OES_texture_float_linear")===!1&&(S.magFilter===ht||S.magFilter===Eo||S.magFilter===ya||S.magFilter===Cn||S.minFilter===ht||S.minFilter===Eo||S.minFilter===ya||S.minFilter===Cn)&&Pe("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),a.texParameteri(G,a.TEXTURE_WRAP_S,Z[S.wrapS]),a.texParameteri(G,a.TEXTURE_WRAP_T,Z[S.wrapT]),(G===a.TEXTURE_3D||G===a.TEXTURE_2D_ARRAY)&&a.texParameteri(G,a.TEXTURE_WRAP_R,Z[S.wrapR]),a.texParameteri(G,a.TEXTURE_MAG_FILTER,q[S.magFilter]),a.texParameteri(G,a.TEXTURE_MIN_FILTER,q[S.minFilter]),S.compareFunction&&(a.texParameteri(G,a.TEXTURE_COMPARE_MODE,a.COMPARE_REF_TO_TEXTURE),a.texParameteri(G,a.TEXTURE_COMPARE_FUNC,J[S.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(S.magFilter===St||S.minFilter!==ya&&S.minFilter!==Cn||S.type===kt&&e.has("OES_texture_float_linear")===!1)return;if(S.anisotropy>1||n.get(S).__currentAnisotropy){const W=e.get("EXT_texture_filter_anisotropic");a.texParameterf(G,W.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(S.anisotropy,i.getMaxAnisotropy())),n.get(S).__currentAnisotropy=S.anisotropy}}}function ie(G,S){let W=!1;G.__webglInit===void 0&&(G.__webglInit=!0,S.addEventListener("dispose",P));const ae=S.source;let re=o.get(ae);re===void 0&&(re={},o.set(ae,re));const ne=v(S);if(ne!==G.__cacheKey){re[ne]===void 0&&(re[ne]={texture:a.createTexture(),usedTimes:0},l.memory.textures++,W=!0),re[ne].usedTimes++;const De=re[G.__cacheKey];De!==void 0&&(re[G.__cacheKey].usedTimes--,De.usedTimes===0&&A(S)),G.__cacheKey=ne,G.__webglTexture=re[ne].texture}return W}function be(G,S,W){return Math.floor(Math.floor(G/W)/S)}function Le(G,S,W,ae){const ne=G.updateRanges;if(ne.length===0)t.texSubImage2D(a.TEXTURE_2D,0,0,0,S.width,S.height,W,ae,S.data);else{ne.sort((pe,ge)=>pe.start-ge.start);let De=0;for(let pe=1;pe<ne.length;pe++){const ge=ne[De],Re=ne[pe],Ie=ge.start+ge.count,_e=be(Re.start,S.width,4),Ze=be(ge.start,S.width,4);Re.start<=Ie+1&&_e===Ze&&be(Re.start+Re.count-1,S.width,4)===_e?ge.count=Math.max(ge.count,Re.start+Re.count-ge.start):(++De,ne[De]=Re)}ne.length=De+1;const he=a.getParameter(a.UNPACK_ROW_LENGTH),Oe=a.getParameter(a.UNPACK_SKIP_PIXELS),He=a.getParameter(a.UNPACK_SKIP_ROWS);a.pixelStorei(a.UNPACK_ROW_LENGTH,S.width);for(let pe=0,ge=ne.length;pe<ge;pe++){const Re=ne[pe],Ie=Math.floor(Re.start/4),_e=Math.ceil(Re.count/4),Ze=Ie%S.width,z=Math.floor(Ie/S.width),Me=_e,ce=1;a.pixelStorei(a.UNPACK_SKIP_PIXELS,Ze),a.pixelStorei(a.UNPACK_SKIP_ROWS,z),t.texSubImage2D(a.TEXTURE_2D,0,Ze,z,Me,ce,W,ae,S.data)}G.clearUpdateRanges(),a.pixelStorei(a.UNPACK_ROW_LENGTH,he),a.pixelStorei(a.UNPACK_SKIP_PIXELS,Oe),a.pixelStorei(a.UNPACK_SKIP_ROWS,He)}}function w(G,S,W){let ae=a.TEXTURE_2D;(S.isDataArrayTexture||S.isCompressedArrayTexture)&&(ae=a.TEXTURE_2D_ARRAY),S.isData3DTexture&&(ae=a.TEXTURE_3D);const re=ie(G,S),ne=S.source;t.bindTexture(ae,G.__webglTexture,a.TEXTURE0+W);const De=n.get(ne);if(ne.version!==De.__version||re===!0){t.activeTexture(a.TEXTURE0+W);const he=et.getPrimaries(et.workingColorSpace),Oe=S.colorSpace===ni?null:et.getPrimaries(S.colorSpace),He=S.colorSpace===ni||he===Oe?a.NONE:a.BROWSER_DEFAULT_WEBGL;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,S.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,S.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,S.unpackAlignment),a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,He);let pe=g(S.image,!1,i.maxTextureSize);pe=$e(S,pe);const ge=r.convert(S.format,S.colorSpace),Re=r.convert(S.type);let Ie=T(S.internalFormat,ge,Re,S.colorSpace,S.isVideoTexture);de(ae,S);let _e;const Ze=S.mipmaps,z=S.isVideoTexture!==!0,Me=De.__version===void 0||re===!0,ce=ne.dataReady,Ae=O(S,pe);if(S.isDepthTexture)Ie=R(S.format===yi,S.type),Me&&(z?t.texStorage2D(a.TEXTURE_2D,1,Ie,pe.width,pe.height):t.texImage2D(a.TEXTURE_2D,0,Ie,pe.width,pe.height,0,ge,Re,null));else if(S.isDataTexture)if(Ze.length>0){z&&Me&&t.texStorage2D(a.TEXTURE_2D,Ae,Ie,Ze[0].width,Ze[0].height);for(let ue=0,se=Ze.length;ue<se;ue++)_e=Ze[ue],z?ce&&t.texSubImage2D(a.TEXTURE_2D,ue,0,0,_e.width,_e.height,ge,Re,_e.data):t.texImage2D(a.TEXTURE_2D,ue,Ie,_e.width,_e.height,0,ge,Re,_e.data);S.generateMipmaps=!1}else z?(Me&&t.texStorage2D(a.TEXTURE_2D,Ae,Ie,pe.width,pe.height),ce&&Le(S,pe,ge,Re)):t.texImage2D(a.TEXTURE_2D,0,Ie,pe.width,pe.height,0,ge,Re,pe.data);else if(S.isCompressedTexture)if(S.isCompressedArrayTexture){z&&Me&&t.texStorage3D(a.TEXTURE_2D_ARRAY,Ae,Ie,Ze[0].width,Ze[0].height,pe.depth);for(let ue=0,se=Ze.length;ue<se;ue++)if(_e=Ze[ue],S.format!==an)if(ge!==null)if(z){if(ce)if(S.layerUpdates.size>0){const fe=ad(_e.width,_e.height,S.format,S.type);for(const ze of S.layerUpdates){const ut=_e.data.subarray(ze*fe/_e.data.BYTES_PER_ELEMENT,(ze+1)*fe/_e.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(a.TEXTURE_2D_ARRAY,ue,0,0,ze,_e.width,_e.height,1,ge,ut)}S.clearLayerUpdates()}else t.compressedTexSubImage3D(a.TEXTURE_2D_ARRAY,ue,0,0,0,_e.width,_e.height,pe.depth,ge,_e.data)}else t.compressedTexImage3D(a.TEXTURE_2D_ARRAY,ue,Ie,_e.width,_e.height,pe.depth,0,_e.data,0,0);else Pe("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else z?ce&&t.texSubImage3D(a.TEXTURE_2D_ARRAY,ue,0,0,0,_e.width,_e.height,pe.depth,ge,Re,_e.data):t.texImage3D(a.TEXTURE_2D_ARRAY,ue,Ie,_e.width,_e.height,pe.depth,0,ge,Re,_e.data)}else{z&&Me&&t.texStorage2D(a.TEXTURE_2D,Ae,Ie,Ze[0].width,Ze[0].height);for(let ue=0,se=Ze.length;ue<se;ue++)_e=Ze[ue],S.format!==an?ge!==null?z?ce&&t.compressedTexSubImage2D(a.TEXTURE_2D,ue,0,0,_e.width,_e.height,ge,_e.data):t.compressedTexImage2D(a.TEXTURE_2D,ue,Ie,_e.width,_e.height,0,_e.data):Pe("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):z?ce&&t.texSubImage2D(a.TEXTURE_2D,ue,0,0,_e.width,_e.height,ge,Re,_e.data):t.texImage2D(a.TEXTURE_2D,ue,Ie,_e.width,_e.height,0,ge,Re,_e.data)}else if(S.isDataArrayTexture)if(z){if(Me&&t.texStorage3D(a.TEXTURE_2D_ARRAY,Ae,Ie,pe.width,pe.height,pe.depth),ce)if(S.layerUpdates.size>0){const ue=ad(pe.width,pe.height,S.format,S.type);for(const se of S.layerUpdates){const fe=pe.data.subarray(se*ue/pe.data.BYTES_PER_ELEMENT,(se+1)*ue/pe.data.BYTES_PER_ELEMENT);t.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,se,pe.width,pe.height,1,ge,Re,fe)}S.clearLayerUpdates()}else t.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,0,pe.width,pe.height,pe.depth,ge,Re,pe.data)}else t.texImage3D(a.TEXTURE_2D_ARRAY,0,Ie,pe.width,pe.height,pe.depth,0,ge,Re,pe.data);else if(S.isData3DTexture)z?(Me&&t.texStorage3D(a.TEXTURE_3D,Ae,Ie,pe.width,pe.height,pe.depth),ce&&t.texSubImage3D(a.TEXTURE_3D,0,0,0,0,pe.width,pe.height,pe.depth,ge,Re,pe.data)):t.texImage3D(a.TEXTURE_3D,0,Ie,pe.width,pe.height,pe.depth,0,ge,Re,pe.data);else if(S.isFramebufferTexture){if(Me)if(z)t.texStorage2D(a.TEXTURE_2D,Ae,Ie,pe.width,pe.height);else{let ue=pe.width,se=pe.height;for(let fe=0;fe<Ae;fe++)t.texImage2D(a.TEXTURE_2D,fe,Ie,ue,se,0,ge,Re,null),ue>>=1,se>>=1}}else if(Ze.length>0){if(z&&Me){const ue=Te(Ze[0]);t.texStorage2D(a.TEXTURE_2D,Ae,Ie,ue.width,ue.height)}for(let ue=0,se=Ze.length;ue<se;ue++)_e=Ze[ue],z?ce&&t.texSubImage2D(a.TEXTURE_2D,ue,0,0,ge,Re,_e):t.texImage2D(a.TEXTURE_2D,ue,Ie,ge,Re,_e);S.generateMipmaps=!1}else if(z){if(Me){const ue=Te(pe);t.texStorage2D(a.TEXTURE_2D,Ae,Ie,ue.width,ue.height)}ce&&t.texSubImage2D(a.TEXTURE_2D,0,0,0,ge,Re,pe)}else t.texImage2D(a.TEXTURE_2D,0,Ie,ge,Re,pe);_(S)&&f(ae),De.__version=ne.version,S.onUpdate&&S.onUpdate(S)}G.__version=S.version}function C(G,S,W){if(S.image.length!==6)return;const ae=ie(G,S),re=S.source;t.bindTexture(a.TEXTURE_CUBE_MAP,G.__webglTexture,a.TEXTURE0+W);const ne=n.get(re);if(re.version!==ne.__version||ae===!0){t.activeTexture(a.TEXTURE0+W);const De=et.getPrimaries(et.workingColorSpace),he=S.colorSpace===ni?null:et.getPrimaries(S.colorSpace),Oe=S.colorSpace===ni||De===he?a.NONE:a.BROWSER_DEFAULT_WEBGL;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,S.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,S.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,S.unpackAlignment),a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,Oe);const He=S.isCompressedTexture||S.image[0].isCompressedTexture,pe=S.image[0]&&S.image[0].isDataTexture,ge=[];for(let se=0;se<6;se++)!He&&!pe?ge[se]=g(S.image[se],!0,i.maxCubemapSize):ge[se]=pe?S.image[se].image:S.image[se],ge[se]=$e(S,ge[se]);const Re=ge[0],Ie=r.convert(S.format,S.colorSpace),_e=r.convert(S.type),Ze=T(S.internalFormat,Ie,_e,S.colorSpace),z=S.isVideoTexture!==!0,Me=ne.__version===void 0||ae===!0,ce=re.dataReady;let Ae=O(S,Re);de(a.TEXTURE_CUBE_MAP,S);let ue;if(He){z&&Me&&t.texStorage2D(a.TEXTURE_CUBE_MAP,Ae,Ze,Re.width,Re.height);for(let se=0;se<6;se++){ue=ge[se].mipmaps;for(let fe=0;fe<ue.length;fe++){const ze=ue[fe];S.format!==an?Ie!==null?z?ce&&t.compressedTexSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+se,fe,0,0,ze.width,ze.height,Ie,ze.data):t.compressedTexImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+se,fe,Ze,ze.width,ze.height,0,ze.data):Pe("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):z?ce&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+se,fe,0,0,ze.width,ze.height,Ie,_e,ze.data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+se,fe,Ze,ze.width,ze.height,0,Ie,_e,ze.data)}}}else{if(ue=S.mipmaps,z&&Me){ue.length>0&&Ae++;const se=Te(ge[0]);t.texStorage2D(a.TEXTURE_CUBE_MAP,Ae,Ze,se.width,se.height)}for(let se=0;se<6;se++)if(pe){z?ce&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,0,0,ge[se].width,ge[se].height,Ie,_e,ge[se].data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,Ze,ge[se].width,ge[se].height,0,Ie,_e,ge[se].data);for(let fe=0;fe<ue.length;fe++){const ut=ue[fe].image[se].image;z?ce&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+se,fe+1,0,0,ut.width,ut.height,Ie,_e,ut.data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+se,fe+1,Ze,ut.width,ut.height,0,Ie,_e,ut.data)}}else{z?ce&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,0,0,Ie,_e,ge[se]):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,Ze,Ie,_e,ge[se]);for(let fe=0;fe<ue.length;fe++){const ze=ue[fe];z?ce&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+se,fe+1,0,0,Ie,_e,ze.image[se]):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+se,fe+1,Ze,Ie,_e,ze.image[se])}}}_(S)&&f(a.TEXTURE_CUBE_MAP),ne.__version=re.version,S.onUpdate&&S.onUpdate(S)}G.__version=S.version}function L(G,S,W,ae,re,ne){const De=r.convert(W.format,W.colorSpace),he=r.convert(W.type),Oe=T(W.internalFormat,De,he,W.colorSpace),He=n.get(S),pe=n.get(W);if(pe.__renderTarget=S,!He.__hasExternalTextures){const ge=Math.max(1,S.width>>ne),Re=Math.max(1,S.height>>ne);re===a.TEXTURE_3D||re===a.TEXTURE_2D_ARRAY?t.texImage3D(re,ne,Oe,ge,Re,S.depth,0,De,he,null):t.texImage2D(re,ne,Oe,ge,Re,0,De,he,null)}t.bindFramebuffer(a.FRAMEBUFFER,G),We(S)?p.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,ae,re,pe.__webglTexture,0,F(S)):(re===a.TEXTURE_2D||re>=a.TEXTURE_CUBE_MAP_POSITIVE_X&&re<=a.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&a.framebufferTexture2D(a.FRAMEBUFFER,ae,re,pe.__webglTexture,ne),t.bindFramebuffer(a.FRAMEBUFFER,null)}function V(G,S,W){if(a.bindRenderbuffer(a.RENDERBUFFER,G),S.depthBuffer){const ae=S.depthTexture,re=ae&&ae.isDepthTexture?ae.type:null,ne=R(S.stencilBuffer,re),De=S.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT;We(S)?p.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,F(S),ne,S.width,S.height):W?a.renderbufferStorageMultisample(a.RENDERBUFFER,F(S),ne,S.width,S.height):a.renderbufferStorage(a.RENDERBUFFER,ne,S.width,S.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,De,a.RENDERBUFFER,G)}else{const ae=S.textures;for(let re=0;re<ae.length;re++){const ne=ae[re],De=r.convert(ne.format,ne.colorSpace),he=r.convert(ne.type),Oe=T(ne.internalFormat,De,he,ne.colorSpace);We(S)?p.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,F(S),Oe,S.width,S.height):W?a.renderbufferStorageMultisample(a.RENDERBUFFER,F(S),Oe,S.width,S.height):a.renderbufferStorage(a.RENDERBUFFER,Oe,S.width,S.height)}}a.bindRenderbuffer(a.RENDERBUFFER,null)}function H(G,S,W){const ae=S.isWebGLCubeRenderTarget===!0;if(t.bindFramebuffer(a.FRAMEBUFFER,G),!(S.depthTexture&&S.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const re=n.get(S.depthTexture);if(re.__renderTarget=S,(!re.__webglTexture||S.depthTexture.image.width!==S.width||S.depthTexture.image.height!==S.height)&&(S.depthTexture.image.width=S.width,S.depthTexture.image.height=S.height,S.depthTexture.needsUpdate=!0),ae){if(re.__webglInit===void 0&&(re.__webglInit=!0,S.depthTexture.addEventListener("dispose",P)),re.__webglTexture===void 0){re.__webglTexture=a.createTexture(),t.bindTexture(a.TEXTURE_CUBE_MAP,re.__webglTexture),de(a.TEXTURE_CUBE_MAP,S.depthTexture);const He=r.convert(S.depthTexture.format),pe=r.convert(S.depthTexture.type);let ge;S.depthTexture.format===Yn?ge=a.DEPTH_COMPONENT24:S.depthTexture.format===yi&&(ge=a.DEPTH24_STENCIL8);for(let Re=0;Re<6;Re++)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,ge,S.width,S.height,0,He,pe,null)}}else M(S.depthTexture,0);const ne=re.__webglTexture,De=F(S),he=ae?a.TEXTURE_CUBE_MAP_POSITIVE_X+W:a.TEXTURE_2D,Oe=S.depthTexture.format===yi?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT;if(S.depthTexture.format===Yn)We(S)?p.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,Oe,he,ne,0,De):a.framebufferTexture2D(a.FRAMEBUFFER,Oe,he,ne,0);else if(S.depthTexture.format===yi)We(S)?p.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,Oe,he,ne,0,De):a.framebufferTexture2D(a.FRAMEBUFFER,Oe,he,ne,0);else throw new Error("Unknown depthTexture format")}function X(G){const S=n.get(G),W=G.isWebGLCubeRenderTarget===!0;if(S.__boundDepthTexture!==G.depthTexture){const ae=G.depthTexture;if(S.__depthDisposeCallback&&S.__depthDisposeCallback(),ae){const re=()=>{delete S.__boundDepthTexture,delete S.__depthDisposeCallback,ae.removeEventListener("dispose",re)};ae.addEventListener("dispose",re),S.__depthDisposeCallback=re}S.__boundDepthTexture=ae}if(G.depthTexture&&!S.__autoAllocateDepthBuffer)if(W)for(let ae=0;ae<6;ae++)H(S.__webglFramebuffer[ae],G,ae);else{const ae=G.texture.mipmaps;ae&&ae.length>0?H(S.__webglFramebuffer[0],G,0):H(S.__webglFramebuffer,G,0)}else if(W){S.__webglDepthbuffer=[];for(let ae=0;ae<6;ae++)if(t.bindFramebuffer(a.FRAMEBUFFER,S.__webglFramebuffer[ae]),S.__webglDepthbuffer[ae]===void 0)S.__webglDepthbuffer[ae]=a.createRenderbuffer(),V(S.__webglDepthbuffer[ae],G,!1);else{const re=G.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT,ne=S.__webglDepthbuffer[ae];a.bindRenderbuffer(a.RENDERBUFFER,ne),a.framebufferRenderbuffer(a.FRAMEBUFFER,re,a.RENDERBUFFER,ne)}}else{const ae=G.texture.mipmaps;if(ae&&ae.length>0?t.bindFramebuffer(a.FRAMEBUFFER,S.__webglFramebuffer[0]):t.bindFramebuffer(a.FRAMEBUFFER,S.__webglFramebuffer),S.__webglDepthbuffer===void 0)S.__webglDepthbuffer=a.createRenderbuffer(),V(S.__webglDepthbuffer,G,!1);else{const re=G.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT,ne=S.__webglDepthbuffer;a.bindRenderbuffer(a.RENDERBUFFER,ne),a.framebufferRenderbuffer(a.FRAMEBUFFER,re,a.RENDERBUFFER,ne)}}t.bindFramebuffer(a.FRAMEBUFFER,null)}function ee(G,S,W){const ae=n.get(G);S!==void 0&&L(ae.__webglFramebuffer,G,G.texture,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,0),W!==void 0&&X(G)}function oe(G){const S=G.texture,W=n.get(G),ae=n.get(S);G.addEventListener("dispose",N);const re=G.textures,ne=G.isWebGLCubeRenderTarget===!0,De=re.length>1;if(De||(ae.__webglTexture===void 0&&(ae.__webglTexture=a.createTexture()),ae.__version=S.version,l.memory.textures++),ne){W.__webglFramebuffer=[];for(let he=0;he<6;he++)if(S.mipmaps&&S.mipmaps.length>0){W.__webglFramebuffer[he]=[];for(let Oe=0;Oe<S.mipmaps.length;Oe++)W.__webglFramebuffer[he][Oe]=a.createFramebuffer()}else W.__webglFramebuffer[he]=a.createFramebuffer()}else{if(S.mipmaps&&S.mipmaps.length>0){W.__webglFramebuffer=[];for(let he=0;he<S.mipmaps.length;he++)W.__webglFramebuffer[he]=a.createFramebuffer()}else W.__webglFramebuffer=a.createFramebuffer();if(De)for(let he=0,Oe=re.length;he<Oe;he++){const He=n.get(re[he]);He.__webglTexture===void 0&&(He.__webglTexture=a.createTexture(),l.memory.textures++)}if(G.samples>0&&We(G)===!1){W.__webglMultisampledFramebuffer=a.createFramebuffer(),W.__webglColorRenderbuffer=[],t.bindFramebuffer(a.FRAMEBUFFER,W.__webglMultisampledFramebuffer);for(let he=0;he<re.length;he++){const Oe=re[he];W.__webglColorRenderbuffer[he]=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,W.__webglColorRenderbuffer[he]);const He=r.convert(Oe.format,Oe.colorSpace),pe=r.convert(Oe.type),ge=T(Oe.internalFormat,He,pe,Oe.colorSpace,G.isXRRenderTarget===!0),Re=F(G);a.renderbufferStorageMultisample(a.RENDERBUFFER,Re,ge,G.width,G.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+he,a.RENDERBUFFER,W.__webglColorRenderbuffer[he])}a.bindRenderbuffer(a.RENDERBUFFER,null),G.depthBuffer&&(W.__webglDepthRenderbuffer=a.createRenderbuffer(),V(W.__webglDepthRenderbuffer,G,!0)),t.bindFramebuffer(a.FRAMEBUFFER,null)}}if(ne){t.bindTexture(a.TEXTURE_CUBE_MAP,ae.__webglTexture),de(a.TEXTURE_CUBE_MAP,S);for(let he=0;he<6;he++)if(S.mipmaps&&S.mipmaps.length>0)for(let Oe=0;Oe<S.mipmaps.length;Oe++)L(W.__webglFramebuffer[he][Oe],G,S,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+he,Oe);else L(W.__webglFramebuffer[he],G,S,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+he,0);_(S)&&f(a.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(De){for(let he=0,Oe=re.length;he<Oe;he++){const He=re[he],pe=n.get(He);let ge=a.TEXTURE_2D;(G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(ge=G.isWebGL3DRenderTarget?a.TEXTURE_3D:a.TEXTURE_2D_ARRAY),t.bindTexture(ge,pe.__webglTexture),de(ge,He),L(W.__webglFramebuffer,G,He,a.COLOR_ATTACHMENT0+he,ge,0),_(He)&&f(ge)}t.unbindTexture()}else{let he=a.TEXTURE_2D;if((G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(he=G.isWebGL3DRenderTarget?a.TEXTURE_3D:a.TEXTURE_2D_ARRAY),t.bindTexture(he,ae.__webglTexture),de(he,S),S.mipmaps&&S.mipmaps.length>0)for(let Oe=0;Oe<S.mipmaps.length;Oe++)L(W.__webglFramebuffer[Oe],G,S,a.COLOR_ATTACHMENT0,he,Oe);else L(W.__webglFramebuffer,G,S,a.COLOR_ATTACHMENT0,he,0);_(S)&&f(he),t.unbindTexture()}G.depthBuffer&&X(G)}function le(G){const S=G.textures;for(let W=0,ae=S.length;W<ae;W++){const re=S[W];if(_(re)){const ne=E(G),De=n.get(re).__webglTexture;t.bindTexture(ne,De),f(ne),t.unbindTexture()}}}const me=[],Se=[];function Ne(G){if(G.samples>0){if(We(G)===!1){const S=G.textures,W=G.width,ae=G.height;let re=a.COLOR_BUFFER_BIT;const ne=G.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT,De=n.get(G),he=S.length>1;if(he)for(let He=0;He<S.length;He++)t.bindFramebuffer(a.FRAMEBUFFER,De.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+He,a.RENDERBUFFER,null),t.bindFramebuffer(a.FRAMEBUFFER,De.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+He,a.TEXTURE_2D,null,0);t.bindFramebuffer(a.READ_FRAMEBUFFER,De.__webglMultisampledFramebuffer);const Oe=G.texture.mipmaps;Oe&&Oe.length>0?t.bindFramebuffer(a.DRAW_FRAMEBUFFER,De.__webglFramebuffer[0]):t.bindFramebuffer(a.DRAW_FRAMEBUFFER,De.__webglFramebuffer);for(let He=0;He<S.length;He++){if(G.resolveDepthBuffer&&(G.depthBuffer&&(re|=a.DEPTH_BUFFER_BIT),G.stencilBuffer&&G.resolveStencilBuffer&&(re|=a.STENCIL_BUFFER_BIT)),he){a.framebufferRenderbuffer(a.READ_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,De.__webglColorRenderbuffer[He]);const pe=n.get(S[He]).__webglTexture;a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,pe,0)}a.blitFramebuffer(0,0,W,ae,0,0,W,ae,re,a.NEAREST),c===!0&&(me.length=0,Se.length=0,me.push(a.COLOR_ATTACHMENT0+He),G.depthBuffer&&G.resolveDepthBuffer===!1&&(me.push(ne),Se.push(ne),a.invalidateFramebuffer(a.DRAW_FRAMEBUFFER,Se)),a.invalidateFramebuffer(a.READ_FRAMEBUFFER,me))}if(t.bindFramebuffer(a.READ_FRAMEBUFFER,null),t.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),he)for(let He=0;He<S.length;He++){t.bindFramebuffer(a.FRAMEBUFFER,De.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+He,a.RENDERBUFFER,De.__webglColorRenderbuffer[He]);const pe=n.get(S[He]).__webglTexture;t.bindFramebuffer(a.FRAMEBUFFER,De.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+He,a.TEXTURE_2D,pe,0)}t.bindFramebuffer(a.DRAW_FRAMEBUFFER,De.__webglMultisampledFramebuffer)}else if(G.depthBuffer&&G.resolveDepthBuffer===!1&&c){const S=G.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT;a.invalidateFramebuffer(a.DRAW_FRAMEBUFFER,[S])}}}function F(G){return Math.min(i.maxSamples,G.samples)}function We(G){const S=n.get(G);return G.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&S.__useRenderToTexture!==!1}function qe(G){const S=l.render.frame;m.get(G)!==S&&(m.set(G,S),G.update())}function $e(G,S){const W=G.colorSpace,ae=G.format,re=G.type;return G.isCompressedTexture===!0||G.isVideoTexture===!0||W!==Pt&&W!==ni&&(et.getTransfer(W)===at?(ae!==an||re!==zt)&&Pe("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Fe("WebGLTextures: Unsupported texture color space:",W)),S}function Te(G){return typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement?(u.width=G.naturalWidth||G.width,u.height=G.naturalHeight||G.height):typeof VideoFrame<"u"&&G instanceof VideoFrame?(u.width=G.displayWidth,u.height=G.displayHeight):(u.width=G.width,u.height=G.height),u}this.allocateTextureUnit=y,this.resetTextureUnits=Y,this.setTexture2D=M,this.setTexture2DArray=b,this.setTexture3D=x,this.setTextureCube=k,this.rebindTextures=ee,this.setupRenderTarget=oe,this.updateRenderTargetMipmap=le,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=X,this.setupFrameBufferTexture=L,this.useMultisampledRTT=We,this.isReversedDepthBuffer=function(){return t.buffers.depth.getReversed()}}function ey(a,e){function t(n,i=ni){let r;const l=et.getTransfer(i);if(n===zt)return a.UNSIGNED_BYTE;if(n===ws)return a.UNSIGNED_SHORT_4_4_4_4;if(n===Ns)return a.UNSIGNED_SHORT_5_5_5_1;if(n===au)return a.UNSIGNED_INT_5_9_9_9_REV;if(n===ou)return a.UNSIGNED_INT_10F_11F_11F_REV;if(n===nu)return a.BYTE;if(n===iu)return a.SHORT;if(n===Aa)return a.UNSIGNED_SHORT;if(n===Ps)return a.INT;if(n===vn)return a.UNSIGNED_INT;if(n===kt)return a.FLOAT;if(n===Zt)return a.HALF_FLOAT;if(n===ru)return a.ALPHA;if(n===su)return a.RGB;if(n===an)return a.RGBA;if(n===Yn)return a.DEPTH_COMPONENT;if(n===yi)return a.DEPTH_STENCIL;if(n===Ls)return a.RED;if(n===Gs)return a.RED_INTEGER;if(n===ji)return a.RG;if(n===Us)return a.RG_INTEGER;if(n===Fs)return a.RGBA_INTEGER;if(n===Co||n===To||n===Mo||n===So)if(l===at)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(n===Co)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===To)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Mo)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===So)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(n===Co)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===To)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Mo)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===So)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===zr||n===Wr||n===qr||n===Yr)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(n===zr)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Wr)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===qr)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Yr)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===Xr||n===Kr||n===jr||n===Zr||n===$r||n===Jr||n===Qr)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(n===Xr||n===Kr)return l===at?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===jr)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC;if(n===Zr)return r.COMPRESSED_R11_EAC;if(n===$r)return r.COMPRESSED_SIGNED_R11_EAC;if(n===Jr)return r.COMPRESSED_RG11_EAC;if(n===Qr)return r.COMPRESSED_SIGNED_RG11_EAC}else return null;if(n===es||n===ts||n===ns||n===is||n===as||n===os||n===rs||n===ss||n===ls||n===ds||n===us||n===ps||n===ms||n===cs)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(n===es)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===ts)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===ns)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===is)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===as)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===os)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===rs)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===ss)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===ls)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===ds)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===us)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===ps)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===ms)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===cs)return l===at?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===hs||n===fs||n===_s)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(n===hs)return l===at?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===fs)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===_s)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===gs||n===ys||n===Es||n===Cs)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(n===gs)return r.COMPRESSED_RED_RGTC1_EXT;if(n===ys)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Es)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Cs)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===va?a.UNSIGNED_INT_24_8:a[n]!==void 0?a[n]:null}return{convert:t}}const ty=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,ny=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class iy{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new Mu(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new Rn({vertexShader:ty,fragmentShader:ny,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ct(new Na(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class ay extends Ti{constructor(e,t){super();const n=this;let i=null,r=1,l=null,p="local-floor",c=1,u=null,m=null,d=null,o=null,s=null,h=null;const g=typeof XRWebGLBinding<"u",_=new iy,f={},E=t.getContextAttributes();let T=null,R=null;const O=[],P=[],N=new Ve;let U=null;const A=new Ft;A.viewport=new mt;const D=new Ft;D.viewport=new mt;const B=[A,D],Y=new nc;let y=null,v=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(w){let C=O[w];return C===void 0&&(C=new ur,O[w]=C),C.getTargetRaySpace()},this.getControllerGrip=function(w){let C=O[w];return C===void 0&&(C=new ur,O[w]=C),C.getGripSpace()},this.getHand=function(w){let C=O[w];return C===void 0&&(C=new ur,O[w]=C),C.getHandSpace()};function M(w){const C=P.indexOf(w.inputSource);if(C===-1)return;const L=O[C];L!==void 0&&(L.update(w.inputSource,w.frame,u||l),L.dispatchEvent({type:w.type,data:w.inputSource}))}function b(){i.removeEventListener("select",M),i.removeEventListener("selectstart",M),i.removeEventListener("selectend",M),i.removeEventListener("squeeze",M),i.removeEventListener("squeezestart",M),i.removeEventListener("squeezeend",M),i.removeEventListener("end",b),i.removeEventListener("inputsourceschange",x);for(let w=0;w<O.length;w++){const C=P[w];C!==null&&(P[w]=null,O[w].disconnect(C))}y=null,v=null,_.reset();for(const w in f)delete f[w];e.setRenderTarget(T),s=null,o=null,d=null,i=null,R=null,Le.stop(),n.isPresenting=!1,e.setPixelRatio(U),e.setSize(N.width,N.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(w){r=w,n.isPresenting===!0&&Pe("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(w){p=w,n.isPresenting===!0&&Pe("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||l},this.setReferenceSpace=function(w){u=w},this.getBaseLayer=function(){return o!==null?o:s},this.getBinding=function(){return d===null&&g&&(d=new XRWebGLBinding(i,t)),d},this.getFrame=function(){return h},this.getSession=function(){return i},this.setSession=async function(w){if(i=w,i!==null){if(T=e.getRenderTarget(),i.addEventListener("select",M),i.addEventListener("selectstart",M),i.addEventListener("selectend",M),i.addEventListener("squeeze",M),i.addEventListener("squeezestart",M),i.addEventListener("squeezeend",M),i.addEventListener("end",b),i.addEventListener("inputsourceschange",x),E.xrCompatible!==!0&&await t.makeXRCompatible(),U=e.getPixelRatio(),e.getSize(N),g&&"createProjectionLayer"in XRWebGLBinding.prototype){let L=null,V=null,H=null;E.depth&&(H=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,L=E.stencil?yi:Yn,V=E.stencil?va:vn);const X={colorFormat:t.RGBA8,depthFormat:H,scaleFactor:r};d=this.getBinding(),o=d.createProjectionLayer(X),i.updateRenderState({layers:[o]}),e.setPixelRatio(1),e.setSize(o.textureWidth,o.textureHeight,!1),R=new Sn(o.textureWidth,o.textureHeight,{format:an,type:zt,depthTexture:new Ia(o.textureWidth,o.textureHeight,V,void 0,void 0,void 0,void 0,void 0,void 0,L),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:o.ignoreDepthValues===!1,resolveStencilBuffer:o.ignoreDepthValues===!1})}else{const L={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:r};s=new XRWebGLLayer(i,t,L),i.updateRenderState({baseLayer:s}),e.setPixelRatio(1),e.setSize(s.framebufferWidth,s.framebufferHeight,!1),R=new Sn(s.framebufferWidth,s.framebufferHeight,{format:an,type:zt,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:s.ignoreDepthValues===!1,resolveStencilBuffer:s.ignoreDepthValues===!1})}R.isXRRenderTarget=!0,this.setFoveation(c),u=null,l=await i.requestReferenceSpace(p),Le.setContext(i),Le.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return _.getDepthTexture()};function x(w){for(let C=0;C<w.removed.length;C++){const L=w.removed[C],V=P.indexOf(L);V>=0&&(P[V]=null,O[V].disconnect(L))}for(let C=0;C<w.added.length;C++){const L=w.added[C];let V=P.indexOf(L);if(V===-1){for(let X=0;X<O.length;X++)if(X>=P.length){P.push(L),V=X;break}else if(P[X]===null){P[X]=L,V=X;break}if(V===-1)break}const H=O[V];H&&H.connect(L)}}const k=new K,Z=new K;function q(w,C,L){k.setFromMatrixPosition(C.matrixWorld),Z.setFromMatrixPosition(L.matrixWorld);const V=k.distanceTo(Z),H=C.projectionMatrix.elements,X=L.projectionMatrix.elements,ee=H[14]/(H[10]-1),oe=H[14]/(H[10]+1),le=(H[9]+1)/H[5],me=(H[9]-1)/H[5],Se=(H[8]-1)/H[0],Ne=(X[8]+1)/X[0],F=ee*Se,We=ee*Ne,qe=V/(-Se+Ne),$e=qe*-Se;if(C.matrixWorld.decompose(w.position,w.quaternion,w.scale),w.translateX($e),w.translateZ(qe),w.matrixWorld.compose(w.position,w.quaternion,w.scale),w.matrixWorldInverse.copy(w.matrixWorld).invert(),H[10]===-1)w.projectionMatrix.copy(C.projectionMatrix),w.projectionMatrixInverse.copy(C.projectionMatrixInverse);else{const Te=ee+qe,G=oe+qe,S=F-$e,W=We+(V-$e),ae=le*oe/G*Te,re=me*oe/G*Te;w.projectionMatrix.makePerspective(S,W,ae,re,Te,G),w.projectionMatrixInverse.copy(w.projectionMatrix).invert()}}function J(w,C){C===null?w.matrixWorld.copy(w.matrix):w.matrixWorld.multiplyMatrices(C.matrixWorld,w.matrix),w.matrixWorldInverse.copy(w.matrixWorld).invert()}this.updateCamera=function(w){if(i===null)return;let C=w.near,L=w.far;_.texture!==null&&(_.depthNear>0&&(C=_.depthNear),_.depthFar>0&&(L=_.depthFar)),Y.near=D.near=A.near=C,Y.far=D.far=A.far=L,(y!==Y.near||v!==Y.far)&&(i.updateRenderState({depthNear:Y.near,depthFar:Y.far}),y=Y.near,v=Y.far),Y.layers.mask=w.layers.mask|6,A.layers.mask=Y.layers.mask&3,D.layers.mask=Y.layers.mask&5;const V=w.parent,H=Y.cameras;J(Y,V);for(let X=0;X<H.length;X++)J(H[X],V);H.length===2?q(Y,A,D):Y.projectionMatrix.copy(A.projectionMatrix),de(w,Y,V)};function de(w,C,L){L===null?w.matrix.copy(C.matrixWorld):(w.matrix.copy(L.matrixWorld),w.matrix.invert(),w.matrix.multiply(C.matrixWorld)),w.matrix.decompose(w.position,w.quaternion,w.scale),w.updateMatrixWorld(!0),w.projectionMatrix.copy(C.projectionMatrix),w.projectionMatrixInverse.copy(C.projectionMatrixInverse),w.isPerspectiveCamera&&(w.fov=Zi*2*Math.atan(1/w.projectionMatrix.elements[5]),w.zoom=1)}this.getCamera=function(){return Y},this.getFoveation=function(){if(!(o===null&&s===null))return c},this.setFoveation=function(w){c=w,o!==null&&(o.fixedFoveation=w),s!==null&&s.fixedFoveation!==void 0&&(s.fixedFoveation=w)},this.hasDepthSensing=function(){return _.texture!==null},this.getDepthSensingMesh=function(){return _.getMesh(Y)},this.getCameraTexture=function(w){return f[w]};let ie=null;function be(w,C){if(m=C.getViewerPose(u||l),h=C,m!==null){const L=m.views;s!==null&&(e.setRenderTargetFramebuffer(R,s.framebuffer),e.setRenderTarget(R));let V=!1;L.length!==Y.cameras.length&&(Y.cameras.length=0,V=!0);for(let oe=0;oe<L.length;oe++){const le=L[oe];let me=null;if(s!==null)me=s.getViewport(le);else{const Ne=d.getViewSubImage(o,le);me=Ne.viewport,oe===0&&(e.setRenderTargetTextures(R,Ne.colorTexture,Ne.depthStencilTexture),e.setRenderTarget(R))}let Se=B[oe];Se===void 0&&(Se=new Ft,Se.layers.enable(oe),Se.viewport=new mt,B[oe]=Se),Se.matrix.fromArray(le.transform.matrix),Se.matrix.decompose(Se.position,Se.quaternion,Se.scale),Se.projectionMatrix.fromArray(le.projectionMatrix),Se.projectionMatrixInverse.copy(Se.projectionMatrix).invert(),Se.viewport.set(me.x,me.y,me.width,me.height),oe===0&&(Y.matrix.copy(Se.matrix),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale)),V===!0&&Y.cameras.push(Se)}const H=i.enabledFeatures;if(H&&H.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&g){d=n.getBinding();const oe=d.getDepthInformation(L[0]);oe&&oe.isValid&&oe.texture&&_.init(oe,i.renderState)}if(H&&H.includes("camera-access")&&g){e.state.unbindTexture(),d=n.getBinding();for(let oe=0;oe<L.length;oe++){const le=L[oe].camera;if(le){let me=f[le];me||(me=new Mu,f[le]=me);const Se=d.getCameraImage(le);me.sourceTexture=Se}}}}for(let L=0;L<O.length;L++){const V=P[L],H=O[L];V!==null&&H!==void 0&&H.update(V,C,u||l)}ie&&ie(w,C),C.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:C}),h=null}const Le=new xu;Le.setAnimationLoop(be),this.setAnimationLoop=function(w){ie=w},this.dispose=function(){}}}const ci=new xn,oy=new Ye;function ry(a,e){function t(_,f){_.matrixAutoUpdate===!0&&_.updateMatrix(),f.value.copy(_.matrix)}function n(_,f){f.color.getRGB(_.fogColor.value,_u(a)),f.isFog?(_.fogNear.value=f.near,_.fogFar.value=f.far):f.isFogExp2&&(_.fogDensity.value=f.density)}function i(_,f,E,T,R){f.isMeshBasicMaterial||f.isMeshLambertMaterial?r(_,f):f.isMeshToonMaterial?(r(_,f),d(_,f)):f.isMeshPhongMaterial?(r(_,f),m(_,f)):f.isMeshStandardMaterial?(r(_,f),o(_,f),f.isMeshPhysicalMaterial&&s(_,f,R)):f.isMeshMatcapMaterial?(r(_,f),h(_,f)):f.isMeshDepthMaterial?r(_,f):f.isMeshDistanceMaterial?(r(_,f),g(_,f)):f.isMeshNormalMaterial?r(_,f):f.isLineBasicMaterial?(l(_,f),f.isLineDashedMaterial&&p(_,f)):f.isPointsMaterial?c(_,f,E,T):f.isSpriteMaterial?u(_,f):f.isShadowMaterial?(_.color.value.copy(f.color),_.opacity.value=f.opacity):f.isShaderMaterial&&(f.uniformsNeedUpdate=!1)}function r(_,f){_.opacity.value=f.opacity,f.color&&_.diffuse.value.copy(f.color),f.emissive&&_.emissive.value.copy(f.emissive).multiplyScalar(f.emissiveIntensity),f.map&&(_.map.value=f.map,t(f.map,_.mapTransform)),f.alphaMap&&(_.alphaMap.value=f.alphaMap,t(f.alphaMap,_.alphaMapTransform)),f.bumpMap&&(_.bumpMap.value=f.bumpMap,t(f.bumpMap,_.bumpMapTransform),_.bumpScale.value=f.bumpScale,f.side===Wt&&(_.bumpScale.value*=-1)),f.normalMap&&(_.normalMap.value=f.normalMap,t(f.normalMap,_.normalMapTransform),_.normalScale.value.copy(f.normalScale),f.side===Wt&&_.normalScale.value.negate()),f.displacementMap&&(_.displacementMap.value=f.displacementMap,t(f.displacementMap,_.displacementMapTransform),_.displacementScale.value=f.displacementScale,_.displacementBias.value=f.displacementBias),f.emissiveMap&&(_.emissiveMap.value=f.emissiveMap,t(f.emissiveMap,_.emissiveMapTransform)),f.specularMap&&(_.specularMap.value=f.specularMap,t(f.specularMap,_.specularMapTransform)),f.alphaTest>0&&(_.alphaTest.value=f.alphaTest);const E=e.get(f),T=E.envMap,R=E.envMapRotation;T&&(_.envMap.value=T,ci.copy(R),ci.x*=-1,ci.y*=-1,ci.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(ci.y*=-1,ci.z*=-1),_.envMapRotation.value.setFromMatrix4(oy.makeRotationFromEuler(ci)),_.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=f.reflectivity,_.ior.value=f.ior,_.refractionRatio.value=f.refractionRatio),f.lightMap&&(_.lightMap.value=f.lightMap,_.lightMapIntensity.value=f.lightMapIntensity,t(f.lightMap,_.lightMapTransform)),f.aoMap&&(_.aoMap.value=f.aoMap,_.aoMapIntensity.value=f.aoMapIntensity,t(f.aoMap,_.aoMapTransform))}function l(_,f){_.diffuse.value.copy(f.color),_.opacity.value=f.opacity,f.map&&(_.map.value=f.map,t(f.map,_.mapTransform))}function p(_,f){_.dashSize.value=f.dashSize,_.totalSize.value=f.dashSize+f.gapSize,_.scale.value=f.scale}function c(_,f,E,T){_.diffuse.value.copy(f.color),_.opacity.value=f.opacity,_.size.value=f.size*E,_.scale.value=T*.5,f.map&&(_.map.value=f.map,t(f.map,_.uvTransform)),f.alphaMap&&(_.alphaMap.value=f.alphaMap,t(f.alphaMap,_.alphaMapTransform)),f.alphaTest>0&&(_.alphaTest.value=f.alphaTest)}function u(_,f){_.diffuse.value.copy(f.color),_.opacity.value=f.opacity,_.rotation.value=f.rotation,f.map&&(_.map.value=f.map,t(f.map,_.mapTransform)),f.alphaMap&&(_.alphaMap.value=f.alphaMap,t(f.alphaMap,_.alphaMapTransform)),f.alphaTest>0&&(_.alphaTest.value=f.alphaTest)}function m(_,f){_.specular.value.copy(f.specular),_.shininess.value=Math.max(f.shininess,1e-4)}function d(_,f){f.gradientMap&&(_.gradientMap.value=f.gradientMap)}function o(_,f){_.metalness.value=f.metalness,f.metalnessMap&&(_.metalnessMap.value=f.metalnessMap,t(f.metalnessMap,_.metalnessMapTransform)),_.roughness.value=f.roughness,f.roughnessMap&&(_.roughnessMap.value=f.roughnessMap,t(f.roughnessMap,_.roughnessMapTransform)),f.envMap&&(_.envMapIntensity.value=f.envMapIntensity)}function s(_,f,E){_.ior.value=f.ior,f.sheen>0&&(_.sheenColor.value.copy(f.sheenColor).multiplyScalar(f.sheen),_.sheenRoughness.value=f.sheenRoughness,f.sheenColorMap&&(_.sheenColorMap.value=f.sheenColorMap,t(f.sheenColorMap,_.sheenColorMapTransform)),f.sheenRoughnessMap&&(_.sheenRoughnessMap.value=f.sheenRoughnessMap,t(f.sheenRoughnessMap,_.sheenRoughnessMapTransform))),f.clearcoat>0&&(_.clearcoat.value=f.clearcoat,_.clearcoatRoughness.value=f.clearcoatRoughness,f.clearcoatMap&&(_.clearcoatMap.value=f.clearcoatMap,t(f.clearcoatMap,_.clearcoatMapTransform)),f.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=f.clearcoatRoughnessMap,t(f.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),f.clearcoatNormalMap&&(_.clearcoatNormalMap.value=f.clearcoatNormalMap,t(f.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(f.clearcoatNormalScale),f.side===Wt&&_.clearcoatNormalScale.value.negate())),f.dispersion>0&&(_.dispersion.value=f.dispersion),f.iridescence>0&&(_.iridescence.value=f.iridescence,_.iridescenceIOR.value=f.iridescenceIOR,_.iridescenceThicknessMinimum.value=f.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=f.iridescenceThicknessRange[1],f.iridescenceMap&&(_.iridescenceMap.value=f.iridescenceMap,t(f.iridescenceMap,_.iridescenceMapTransform)),f.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=f.iridescenceThicknessMap,t(f.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),f.transmission>0&&(_.transmission.value=f.transmission,_.transmissionSamplerMap.value=E.texture,_.transmissionSamplerSize.value.set(E.width,E.height),f.transmissionMap&&(_.transmissionMap.value=f.transmissionMap,t(f.transmissionMap,_.transmissionMapTransform)),_.thickness.value=f.thickness,f.thicknessMap&&(_.thicknessMap.value=f.thicknessMap,t(f.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=f.attenuationDistance,_.attenuationColor.value.copy(f.attenuationColor)),f.anisotropy>0&&(_.anisotropyVector.value.set(f.anisotropy*Math.cos(f.anisotropyRotation),f.anisotropy*Math.sin(f.anisotropyRotation)),f.anisotropyMap&&(_.anisotropyMap.value=f.anisotropyMap,t(f.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=f.specularIntensity,_.specularColor.value.copy(f.specularColor),f.specularColorMap&&(_.specularColorMap.value=f.specularColorMap,t(f.specularColorMap,_.specularColorMapTransform)),f.specularIntensityMap&&(_.specularIntensityMap.value=f.specularIntensityMap,t(f.specularIntensityMap,_.specularIntensityMapTransform))}function h(_,f){f.matcap&&(_.matcap.value=f.matcap)}function g(_,f){const E=e.get(f).light;_.referencePosition.value.setFromMatrixPosition(E.matrixWorld),_.nearDistance.value=E.shadow.camera.near,_.farDistance.value=E.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function sy(a,e,t,n){let i={},r={},l=[];const p=a.getParameter(a.MAX_UNIFORM_BUFFER_BINDINGS);function c(E,T){const R=T.program;n.uniformBlockBinding(E,R)}function u(E,T){let R=i[E.id];R===void 0&&(h(E),R=m(E),i[E.id]=R,E.addEventListener("dispose",_));const O=T.program;n.updateUBOMapping(E,O);const P=e.render.frame;r[E.id]!==P&&(o(E),r[E.id]=P)}function m(E){const T=d();E.__bindingPointIndex=T;const R=a.createBuffer(),O=E.__size,P=E.usage;return a.bindBuffer(a.UNIFORM_BUFFER,R),a.bufferData(a.UNIFORM_BUFFER,O,P),a.bindBuffer(a.UNIFORM_BUFFER,null),a.bindBufferBase(a.UNIFORM_BUFFER,T,R),R}function d(){for(let E=0;E<p;E++)if(l.indexOf(E)===-1)return l.push(E),E;return Fe("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function o(E){const T=i[E.id],R=E.uniforms,O=E.__cache;a.bindBuffer(a.UNIFORM_BUFFER,T);for(let P=0,N=R.length;P<N;P++){const U=Array.isArray(R[P])?R[P]:[R[P]];for(let A=0,D=U.length;A<D;A++){const B=U[A];if(s(B,P,A,O)===!0){const Y=B.__offset,y=Array.isArray(B.value)?B.value:[B.value];let v=0;for(let M=0;M<y.length;M++){const b=y[M],x=g(b);typeof b=="number"||typeof b=="boolean"?(B.__data[0]=b,a.bufferSubData(a.UNIFORM_BUFFER,Y+v,B.__data)):b.isMatrix3?(B.__data[0]=b.elements[0],B.__data[1]=b.elements[1],B.__data[2]=b.elements[2],B.__data[3]=0,B.__data[4]=b.elements[3],B.__data[5]=b.elements[4],B.__data[6]=b.elements[5],B.__data[7]=0,B.__data[8]=b.elements[6],B.__data[9]=b.elements[7],B.__data[10]=b.elements[8],B.__data[11]=0):(b.toArray(B.__data,v),v+=x.storage/Float32Array.BYTES_PER_ELEMENT)}a.bufferSubData(a.UNIFORM_BUFFER,Y,B.__data)}}}a.bindBuffer(a.UNIFORM_BUFFER,null)}function s(E,T,R,O){const P=E.value,N=T+"_"+R;if(O[N]===void 0)return typeof P=="number"||typeof P=="boolean"?O[N]=P:O[N]=P.clone(),!0;{const U=O[N];if(typeof P=="number"||typeof P=="boolean"){if(U!==P)return O[N]=P,!0}else if(U.equals(P)===!1)return U.copy(P),!0}return!1}function h(E){const T=E.uniforms;let R=0;const O=16;for(let N=0,U=T.length;N<U;N++){const A=Array.isArray(T[N])?T[N]:[T[N]];for(let D=0,B=A.length;D<B;D++){const Y=A[D],y=Array.isArray(Y.value)?Y.value:[Y.value];for(let v=0,M=y.length;v<M;v++){const b=y[v],x=g(b),k=R%O,Z=k%x.boundary,q=k+Z;R+=Z,q!==0&&O-q<x.storage&&(R+=O-q),Y.__data=new Float32Array(x.storage/Float32Array.BYTES_PER_ELEMENT),Y.__offset=R,R+=x.storage}}}const P=R%O;return P>0&&(R+=O-P),E.__size=R,E.__cache={},this}function g(E){const T={boundary:0,storage:0};return typeof E=="number"||typeof E=="boolean"?(T.boundary=4,T.storage=4):E.isVector2?(T.boundary=8,T.storage=8):E.isVector3||E.isColor?(T.boundary=16,T.storage=12):E.isVector4?(T.boundary=16,T.storage=16):E.isMatrix3?(T.boundary=48,T.storage=48):E.isMatrix4?(T.boundary=64,T.storage=64):E.isTexture?Pe("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Pe("WebGLRenderer: Unsupported uniform value type.",E),T}function _(E){const T=E.target;T.removeEventListener("dispose",_);const R=l.indexOf(T.__bindingPointIndex);l.splice(R,1),a.deleteBuffer(i[T.id]),delete i[T.id],delete r[T.id]}function f(){for(const E in i)a.deleteBuffer(i[E]);l=[],i={},r={}}return{bind:c,update:u,dispose:f}}const ly=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let gn=null;function dy(){return gn===null&&(gn=new Lo(ly,16,16,ji,Zt),gn.name="DFG_LUT",gn.minFilter=ht,gn.magFilter=ht,gn.wrapS=nn,gn.wrapT=nn,gn.generateMipmaps=!1,gn.needsUpdate=!0),gn}class uy{constructor(e={}){const{canvas:t=bp(),context:n=null,depth:i=!0,stencil:r=!1,alpha:l=!1,antialias:p=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:d=!1,reversedDepthBuffer:o=!1,outputBufferType:s=zt}=e;this.isWebGLRenderer=!0;let h;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=n.getContextAttributes().alpha}else h=l;const g=s,_=new Set([Fs,Us,Gs]),f=new Set([zt,vn,Aa,va,ws,Ns]),E=new Uint32Array(4),T=new Int32Array(4);let R=null,O=null;const P=[],N=[];let U=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Mn,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const A=this;let D=!1;this._outputColorSpace=bt;let B=0,Y=0,y=null,v=-1,M=null;const b=new mt,x=new mt;let k=null;const Z=new ke(0);let q=0,J=t.width,de=t.height,ie=1,be=null,Le=null;const w=new mt(0,0,J,de),C=new mt(0,0,J,de);let L=!1;const V=new Ys;let H=!1,X=!1;const ee=new Ye,oe=new K,le=new mt,me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Se=!1;function Ne(){return y===null?ie:1}let F=n;function We(I,j){return t.getContext(I,j)}try{const I={alpha:!0,depth:i,stencil:r,antialias:p,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:m,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Is}`),t.addEventListener("webglcontextlost",ze,!1),t.addEventListener("webglcontextrestored",ut,!1),t.addEventListener("webglcontextcreationerror",nt,!1),F===null){const j="webgl2";if(F=We(j,I),F===null)throw We(j)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(I){throw Fe("WebGLRenderer: "+I.message),I}let qe,$e,Te,G,S,W,ae,re,ne,De,he,Oe,He,pe,ge,Re,Ie,_e,Ze,z,Me,ce,Ae,ue;function se(){qe=new d_(F),qe.init(),ce=new ey(F,qe),$e=new e_(F,qe,e,ce),Te=new Jg(F,qe),$e.reversedDepthBuffer&&o&&Te.buffers.depth.setReversed(!0),G=new m_(F),S=new Ug,W=new Qg(F,qe,Te,S,$e,ce,G),ae=new n_(A),re=new l_(A),ne=new fc(F),Ae=new Jf(F,ne),De=new u_(F,ne,G,Ae),he=new h_(F,De,ne,G),Ze=new c_(F,$e,W),Re=new t_(S),Oe=new Gg(A,ae,re,qe,$e,Ae,Re),He=new ry(A,S),pe=new kg,ge=new qg(qe),_e=new $f(A,ae,re,Te,he,h,c),Ie=new Zg(A,he,$e),ue=new sy(F,G,$e,Te),z=new Qf(F,qe,G),Me=new p_(F,qe,G),G.programs=Oe.programs,A.capabilities=$e,A.extensions=qe,A.properties=S,A.renderLists=pe,A.shadowMap=Ie,A.state=Te,A.info=G}se(),g!==zt&&(U=new __(g,t.width,t.height,i,r));const fe=new ay(A,F);this.xr=fe,this.getContext=function(){return F},this.getContextAttributes=function(){return F.getContextAttributes()},this.forceContextLoss=function(){const I=qe.get("WEBGL_lose_context");I&&I.loseContext()},this.forceContextRestore=function(){const I=qe.get("WEBGL_lose_context");I&&I.restoreContext()},this.getPixelRatio=function(){return ie},this.setPixelRatio=function(I){I!==void 0&&(ie=I,this.setSize(J,de,!1))},this.getSize=function(I){return I.set(J,de)},this.setSize=function(I,j,te=!0){if(fe.isPresenting){Pe("WebGLRenderer: Can't change size while VR device is presenting.");return}J=I,de=j,t.width=Math.floor(I*ie),t.height=Math.floor(j*ie),te===!0&&(t.style.width=I+"px",t.style.height=j+"px"),U!==null&&U.setSize(t.width,t.height),this.setViewport(0,0,I,j)},this.getDrawingBufferSize=function(I){return I.set(J*ie,de*ie).floor()},this.setDrawingBufferSize=function(I,j,te){J=I,de=j,ie=te,t.width=Math.floor(I*te),t.height=Math.floor(j*te),this.setViewport(0,0,I,j)},this.setEffects=function(I){if(g===zt){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(I){for(let j=0;j<I.length;j++)if(I[j].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}U.setEffects(I||[])},this.getCurrentViewport=function(I){return I.copy(b)},this.getViewport=function(I){return I.copy(w)},this.setViewport=function(I,j,te,Q){I.isVector4?w.set(I.x,I.y,I.z,I.w):w.set(I,j,te,Q),Te.viewport(b.copy(w).multiplyScalar(ie).round())},this.getScissor=function(I){return I.copy(C)},this.setScissor=function(I,j,te,Q){I.isVector4?C.set(I.x,I.y,I.z,I.w):C.set(I,j,te,Q),Te.scissor(x.copy(C).multiplyScalar(ie).round())},this.getScissorTest=function(){return L},this.setScissorTest=function(I){Te.setScissorTest(L=I)},this.setOpaqueSort=function(I){be=I},this.setTransparentSort=function(I){Le=I},this.getClearColor=function(I){return I.copy(_e.getClearColor())},this.setClearColor=function(){_e.setClearColor(...arguments)},this.getClearAlpha=function(){return _e.getClearAlpha()},this.setClearAlpha=function(){_e.setClearAlpha(...arguments)},this.clear=function(I=!0,j=!0,te=!0){let Q=0;if(I){let $=!1;if(y!==null){const ye=y.texture.format;$=_.has(ye)}if($){const ye=y.texture.type,ve=f.has(ye),Ce=_e.getClearColor(),xe=_e.getClearAlpha(),we=Ce.r,Be=Ce.g,Ge=Ce.b;ve?(E[0]=we,E[1]=Be,E[2]=Ge,E[3]=xe,F.clearBufferuiv(F.COLOR,0,E)):(T[0]=we,T[1]=Be,T[2]=Ge,T[3]=xe,F.clearBufferiv(F.COLOR,0,T))}else Q|=F.COLOR_BUFFER_BIT}j&&(Q|=F.DEPTH_BUFFER_BIT),te&&(Q|=F.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),F.clear(Q)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ze,!1),t.removeEventListener("webglcontextrestored",ut,!1),t.removeEventListener("webglcontextcreationerror",nt,!1),_e.dispose(),pe.dispose(),ge.dispose(),S.dispose(),ae.dispose(),re.dispose(),he.dispose(),Ae.dispose(),ue.dispose(),Oe.dispose(),fe.dispose(),fe.removeEventListener("sessionstart",il),fe.removeEventListener("sessionend",al),ri.stop()};function ze(I){I.preventDefault(),Io("WebGLRenderer: Context Lost."),D=!0}function ut(){Io("WebGLRenderer: Context Restored."),D=!1;const I=G.autoReset,j=Ie.enabled,te=Ie.autoUpdate,Q=Ie.needsUpdate,$=Ie.type;se(),G.autoReset=I,Ie.enabled=j,Ie.autoUpdate=te,Ie.needsUpdate=Q,Ie.type=$}function nt(I){Fe("WebGLRenderer: A WebGL context could not be created. Reason: ",I.statusMessage)}function _n(I){const j=I.target;j.removeEventListener("dispose",_n),In(j)}function In(I){ku(I),S.remove(I)}function ku(I){const j=S.get(I).programs;j!==void 0&&(j.forEach(function(te){Oe.releaseProgram(te)}),I.isShaderMaterial&&Oe.releaseShaderCache(I))}this.renderBufferDirect=function(I,j,te,Q,$,ye){j===null&&(j=me);const ve=$.isMesh&&$.matrixWorld.determinant()<0,Ce=Vu(I,j,te,Q,$);Te.setMaterial(Q,ve);let xe=te.index,we=1;if(Q.wireframe===!0){if(xe=De.getWireframeAttribute(te),xe===void 0)return;we=2}const Be=te.drawRange,Ge=te.attributes.position;let Je=Be.start*we,st=(Be.start+Be.count)*we;ye!==null&&(Je=Math.max(Je,ye.start*we),st=Math.min(st,(ye.start+ye.count)*we)),xe!==null?(Je=Math.max(Je,0),st=Math.min(st,xe.count)):Ge!=null&&(Je=Math.max(Je,0),st=Math.min(st,Ge.count));const gt=st-Je;if(gt<0||gt===1/0)return;Ae.setup($,Q,Ce,te,xe);let yt,dt=z;if(xe!==null&&(yt=ne.get(xe),dt=Me,dt.setIndex(yt)),$.isMesh)Q.wireframe===!0?(Te.setLineWidth(Q.wireframeLinewidth*Ne()),dt.setMode(F.LINES)):dt.setMode(F.TRIANGLES);else if($.isLine){let Ue=Q.linewidth;Ue===void 0&&(Ue=1),Te.setLineWidth(Ue*Ne()),$.isLineSegments?dt.setMode(F.LINES):$.isLineLoop?dt.setMode(F.LINE_LOOP):dt.setMode(F.LINE_STRIP)}else $.isPoints?dt.setMode(F.POINTS):$.isSprite&&dt.setMode(F.TRIANGLES);if($.isBatchedMesh)if($._multiDrawInstances!==null)Da("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),dt.renderMultiDrawInstances($._multiDrawStarts,$._multiDrawCounts,$._multiDrawCount,$._multiDrawInstances);else if(qe.get("WEBGL_multi_draw"))dt.renderMultiDraw($._multiDrawStarts,$._multiDrawCounts,$._multiDrawCount);else{const Ue=$._multiDrawStarts,it=$._multiDrawCounts,tt=$._multiDrawCount,qt=xe?ne.get(xe).bytesPerElement:1,Si=S.get(Q).currentProgram.getUniforms();for(let Yt=0;Yt<tt;Yt++)Si.setValue(F,"_gl_DrawID",Yt),dt.render(Ue[Yt]/qt,it[Yt])}else if($.isInstancedMesh)dt.renderInstances(Je,gt,$.count);else if(te.isInstancedBufferGeometry){const Ue=te._maxInstanceCount!==void 0?te._maxInstanceCount:1/0,it=Math.min(te.instanceCount,Ue);dt.renderInstances(Je,gt,it)}else dt.render(Je,gt)};function nl(I,j,te){I.transparent===!0&&I.side===un&&I.forceSinglePass===!1?(I.side=Wt,I.needsUpdate=!0,Ua(I,j,te),I.side=qn,I.needsUpdate=!0,Ua(I,j,te),I.side=un):Ua(I,j,te)}this.compile=function(I,j,te=null){te===null&&(te=I),O=ge.get(te),O.init(j),N.push(O),te.traverseVisible(function($){$.isLight&&$.layers.test(j.layers)&&(O.pushLight($),$.castShadow&&O.pushShadow($))}),I!==te&&I.traverseVisible(function($){$.isLight&&$.layers.test(j.layers)&&(O.pushLight($),$.castShadow&&O.pushShadow($))}),O.setupLights();const Q=new Set;return I.traverse(function($){if(!($.isMesh||$.isPoints||$.isLine||$.isSprite))return;const ye=$.material;if(ye)if(Array.isArray(ye))for(let ve=0;ve<ye.length;ve++){const Ce=ye[ve];nl(Ce,te,$),Q.add(Ce)}else nl(ye,te,$),Q.add(ye)}),O=N.pop(),Q},this.compileAsync=function(I,j,te=null){const Q=this.compile(I,j,te);return new Promise($=>{function ye(){if(Q.forEach(function(ve){S.get(ve).currentProgram.isReady()&&Q.delete(ve)}),Q.size===0){$(I);return}setTimeout(ye,10)}qe.get("KHR_parallel_shader_compile")!==null?ye():setTimeout(ye,10)})};let Bo=null;function Bu(I){Bo&&Bo(I)}function il(){ri.stop()}function al(){ri.start()}const ri=new xu;ri.setAnimationLoop(Bu),typeof self<"u"&&ri.setContext(self),this.setAnimationLoop=function(I){Bo=I,fe.setAnimationLoop(I),I===null?ri.stop():ri.start()},fe.addEventListener("sessionstart",il),fe.addEventListener("sessionend",al),this.render=function(I,j){if(j!==void 0&&j.isCamera!==!0){Fe("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(D===!0)return;const te=fe.enabled===!0&&fe.isPresenting===!0,Q=U!==null&&(y===null||te)&&U.begin(A,y);if(I.matrixWorldAutoUpdate===!0&&I.updateMatrixWorld(),j.parent===null&&j.matrixWorldAutoUpdate===!0&&j.updateMatrixWorld(),fe.enabled===!0&&fe.isPresenting===!0&&(U===null||U.isCompositing()===!1)&&(fe.cameraAutoUpdate===!0&&fe.updateCamera(j),j=fe.getCamera()),I.isScene===!0&&I.onBeforeRender(A,I,j,y),O=ge.get(I,N.length),O.init(j),N.push(O),ee.multiplyMatrices(j.projectionMatrix,j.matrixWorldInverse),V.setFromProjectionMatrix(ee,Tn,j.reversedDepth),X=this.localClippingEnabled,H=Re.init(this.clippingPlanes,X),R=pe.get(I,P.length),R.init(),P.push(R),fe.enabled===!0&&fe.isPresenting===!0){const ve=A.xr.getDepthSensingMesh();ve!==null&&Vo(ve,j,-1/0,A.sortObjects)}Vo(I,j,0,A.sortObjects),R.finish(),A.sortObjects===!0&&R.sort(be,Le),Se=fe.enabled===!1||fe.isPresenting===!1||fe.hasDepthSensing()===!1,Se&&_e.addToRenderList(R,I),this.info.render.frame++,H===!0&&Re.beginShadows();const $=O.state.shadowsArray;if(Ie.render($,I,j),H===!0&&Re.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Q&&U.hasRenderPass())===!1){const ve=R.opaque,Ce=R.transmissive;if(O.setupLights(),j.isArrayCamera){const xe=j.cameras;if(Ce.length>0)for(let we=0,Be=xe.length;we<Be;we++){const Ge=xe[we];rl(ve,Ce,I,Ge)}Se&&_e.render(I);for(let we=0,Be=xe.length;we<Be;we++){const Ge=xe[we];ol(R,I,Ge,Ge.viewport)}}else Ce.length>0&&rl(ve,Ce,I,j),Se&&_e.render(I),ol(R,I,j)}y!==null&&Y===0&&(W.updateMultisampleRenderTarget(y),W.updateRenderTargetMipmap(y)),Q&&U.end(A),I.isScene===!0&&I.onAfterRender(A,I,j),Ae.resetDefaultState(),v=-1,M=null,N.pop(),N.length>0?(O=N[N.length-1],H===!0&&Re.setGlobalState(A.clippingPlanes,O.state.camera)):O=null,P.pop(),P.length>0?R=P[P.length-1]:R=null};function Vo(I,j,te,Q){if(I.visible===!1)return;if(I.layers.test(j.layers)){if(I.isGroup)te=I.renderOrder;else if(I.isLOD)I.autoUpdate===!0&&I.update(j);else if(I.isLight)O.pushLight(I),I.castShadow&&O.pushShadow(I);else if(I.isSprite){if(!I.frustumCulled||V.intersectsSprite(I)){Q&&le.setFromMatrixPosition(I.matrixWorld).applyMatrix4(ee);const ve=he.update(I),Ce=I.material;Ce.visible&&R.push(I,ve,Ce,te,le.z,null)}}else if((I.isMesh||I.isLine||I.isPoints)&&(!I.frustumCulled||V.intersectsObject(I))){const ve=he.update(I),Ce=I.material;if(Q&&(I.boundingSphere!==void 0?(I.boundingSphere===null&&I.computeBoundingSphere(),le.copy(I.boundingSphere.center)):(ve.boundingSphere===null&&ve.computeBoundingSphere(),le.copy(ve.boundingSphere.center)),le.applyMatrix4(I.matrixWorld).applyMatrix4(ee)),Array.isArray(Ce)){const xe=ve.groups;for(let we=0,Be=xe.length;we<Be;we++){const Ge=xe[we],Je=Ce[Ge.materialIndex];Je&&Je.visible&&R.push(I,ve,Je,te,le.z,Ge)}}else Ce.visible&&R.push(I,ve,Ce,te,le.z,null)}}const ye=I.children;for(let ve=0,Ce=ye.length;ve<Ce;ve++)Vo(ye[ve],j,te,Q)}function ol(I,j,te,Q){const{opaque:$,transmissive:ye,transparent:ve}=I;O.setupLightsView(te),H===!0&&Re.setGlobalState(A.clippingPlanes,te),Q&&Te.viewport(b.copy(Q)),$.length>0&&Ga($,j,te),ye.length>0&&Ga(ye,j,te),ve.length>0&&Ga(ve,j,te),Te.buffers.depth.setTest(!0),Te.buffers.depth.setMask(!0),Te.buffers.color.setMask(!0),Te.setPolygonOffset(!1)}function rl(I,j,te,Q){if((te.isScene===!0?te.overrideMaterial:null)!==null)return;if(O.state.transmissionRenderTarget[Q.id]===void 0){const Je=qe.has("EXT_color_buffer_half_float")||qe.has("EXT_color_buffer_float");O.state.transmissionRenderTarget[Q.id]=new Sn(1,1,{generateMipmaps:!0,type:Je?Zt:zt,minFilter:Cn,samples:$e.samples,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:et.workingColorSpace})}const ye=O.state.transmissionRenderTarget[Q.id],ve=Q.viewport||b;ye.setSize(ve.z*A.transmissionResolutionScale,ve.w*A.transmissionResolutionScale);const Ce=A.getRenderTarget(),xe=A.getActiveCubeFace(),we=A.getActiveMipmapLevel();A.setRenderTarget(ye),A.getClearColor(Z),q=A.getClearAlpha(),q<1&&A.setClearColor(16777215,.5),A.clear(),Se&&_e.render(te);const Be=A.toneMapping;A.toneMapping=Mn;const Ge=Q.viewport;if(Q.viewport!==void 0&&(Q.viewport=void 0),O.setupLightsView(Q),H===!0&&Re.setGlobalState(A.clippingPlanes,Q),Ga(I,te,Q),W.updateMultisampleRenderTarget(ye),W.updateRenderTargetMipmap(ye),qe.has("WEBGL_multisampled_render_to_texture")===!1){let Je=!1;for(let st=0,gt=j.length;st<gt;st++){const yt=j[st],{object:dt,geometry:Ue,material:it,group:tt}=yt;if(it.side===un&&dt.layers.test(Q.layers)){const qt=it.side;it.side=Wt,it.needsUpdate=!0,sl(dt,te,Q,Ue,it,tt),it.side=qt,it.needsUpdate=!0,Je=!0}}Je===!0&&(W.updateMultisampleRenderTarget(ye),W.updateRenderTargetMipmap(ye))}A.setRenderTarget(Ce,xe,we),A.setClearColor(Z,q),Ge!==void 0&&(Q.viewport=Ge),A.toneMapping=Be}function Ga(I,j,te){const Q=j.isScene===!0?j.overrideMaterial:null;for(let $=0,ye=I.length;$<ye;$++){const ve=I[$],{object:Ce,geometry:xe,group:we}=ve;let Be=ve.material;Be.allowOverride===!0&&Q!==null&&(Be=Q),Ce.layers.test(te.layers)&&sl(Ce,j,te,xe,Be,we)}}function sl(I,j,te,Q,$,ye){I.onBeforeRender(A,j,te,Q,$,ye),I.modelViewMatrix.multiplyMatrices(te.matrixWorldInverse,I.matrixWorld),I.normalMatrix.getNormalMatrix(I.modelViewMatrix),$.onBeforeRender(A,j,te,Q,I,ye),$.transparent===!0&&$.side===un&&$.forceSinglePass===!1?($.side=Wt,$.needsUpdate=!0,A.renderBufferDirect(te,j,Q,$,I,ye),$.side=qn,$.needsUpdate=!0,A.renderBufferDirect(te,j,Q,$,I,ye),$.side=un):A.renderBufferDirect(te,j,Q,$,I,ye),I.onAfterRender(A,j,te,Q,$,ye)}function Ua(I,j,te){j.isScene!==!0&&(j=me);const Q=S.get(I),$=O.state.lights,ye=O.state.shadowsArray,ve=$.state.version,Ce=Oe.getParameters(I,$.state,ye,j,te),xe=Oe.getProgramCacheKey(Ce);let we=Q.programs;Q.environment=I.isMeshStandardMaterial?j.environment:null,Q.fog=j.fog,Q.envMap=(I.isMeshStandardMaterial?re:ae).get(I.envMap||Q.environment),Q.envMapRotation=Q.environment!==null&&I.envMap===null?j.environmentRotation:I.envMapRotation,we===void 0&&(I.addEventListener("dispose",_n),we=new Map,Q.programs=we);let Be=we.get(xe);if(Be!==void 0){if(Q.currentProgram===Be&&Q.lightsStateVersion===ve)return dl(I,Ce),Be}else Ce.uniforms=Oe.getUniforms(I),I.onBeforeCompile(Ce,A),Be=Oe.acquireProgram(Ce,xe),we.set(xe,Be),Q.uniforms=Ce.uniforms;const Ge=Q.uniforms;return(!I.isShaderMaterial&&!I.isRawShaderMaterial||I.clipping===!0)&&(Ge.clippingPlanes=Re.uniform),dl(I,Ce),Q.needsLights=zu(I),Q.lightsStateVersion=ve,Q.needsLights&&(Ge.ambientLightColor.value=$.state.ambient,Ge.lightProbe.value=$.state.probe,Ge.directionalLights.value=$.state.directional,Ge.directionalLightShadows.value=$.state.directionalShadow,Ge.spotLights.value=$.state.spot,Ge.spotLightShadows.value=$.state.spotShadow,Ge.rectAreaLights.value=$.state.rectArea,Ge.ltc_1.value=$.state.rectAreaLTC1,Ge.ltc_2.value=$.state.rectAreaLTC2,Ge.pointLights.value=$.state.point,Ge.pointLightShadows.value=$.state.pointShadow,Ge.hemisphereLights.value=$.state.hemi,Ge.directionalShadowMap.value=$.state.directionalShadowMap,Ge.directionalShadowMatrix.value=$.state.directionalShadowMatrix,Ge.spotShadowMap.value=$.state.spotShadowMap,Ge.spotLightMatrix.value=$.state.spotLightMatrix,Ge.spotLightMap.value=$.state.spotLightMap,Ge.pointShadowMap.value=$.state.pointShadowMap,Ge.pointShadowMatrix.value=$.state.pointShadowMatrix),Q.currentProgram=Be,Q.uniformsList=null,Be}function ll(I){if(I.uniformsList===null){const j=I.currentProgram.getUniforms();I.uniformsList=Ao.seqWithValue(j.seq,I.uniforms)}return I.uniformsList}function dl(I,j){const te=S.get(I);te.outputColorSpace=j.outputColorSpace,te.batching=j.batching,te.batchingColor=j.batchingColor,te.instancing=j.instancing,te.instancingColor=j.instancingColor,te.instancingMorph=j.instancingMorph,te.skinning=j.skinning,te.morphTargets=j.morphTargets,te.morphNormals=j.morphNormals,te.morphColors=j.morphColors,te.morphTargetsCount=j.morphTargetsCount,te.numClippingPlanes=j.numClippingPlanes,te.numIntersection=j.numClipIntersection,te.vertexAlphas=j.vertexAlphas,te.vertexTangents=j.vertexTangents,te.toneMapping=j.toneMapping}function Vu(I,j,te,Q,$){j.isScene!==!0&&(j=me),W.resetTextureUnits();const ye=j.fog,ve=Q.isMeshStandardMaterial?j.environment:null,Ce=y===null?A.outputColorSpace:y.isXRRenderTarget===!0?y.texture.colorSpace:Pt,xe=(Q.isMeshStandardMaterial?re:ae).get(Q.envMap||ve),we=Q.vertexColors===!0&&!!te.attributes.color&&te.attributes.color.itemSize===4,Be=!!te.attributes.tangent&&(!!Q.normalMap||Q.anisotropy>0),Ge=!!te.morphAttributes.position,Je=!!te.morphAttributes.normal,st=!!te.morphAttributes.color;let gt=Mn;Q.toneMapped&&(y===null||y.isXRRenderTarget===!0)&&(gt=A.toneMapping);const yt=te.morphAttributes.position||te.morphAttributes.normal||te.morphAttributes.color,dt=yt!==void 0?yt.length:0,Ue=S.get(Q),it=O.state.lights;if(H===!0&&(X===!0||I!==M)){const Nt=I===M&&Q.id===v;Re.setState(Q,I,Nt)}let tt=!1;Q.version===Ue.__version?(Ue.needsLights&&Ue.lightsStateVersion!==it.state.version||Ue.outputColorSpace!==Ce||$.isBatchedMesh&&Ue.batching===!1||!$.isBatchedMesh&&Ue.batching===!0||$.isBatchedMesh&&Ue.batchingColor===!0&&$.colorTexture===null||$.isBatchedMesh&&Ue.batchingColor===!1&&$.colorTexture!==null||$.isInstancedMesh&&Ue.instancing===!1||!$.isInstancedMesh&&Ue.instancing===!0||$.isSkinnedMesh&&Ue.skinning===!1||!$.isSkinnedMesh&&Ue.skinning===!0||$.isInstancedMesh&&Ue.instancingColor===!0&&$.instanceColor===null||$.isInstancedMesh&&Ue.instancingColor===!1&&$.instanceColor!==null||$.isInstancedMesh&&Ue.instancingMorph===!0&&$.morphTexture===null||$.isInstancedMesh&&Ue.instancingMorph===!1&&$.morphTexture!==null||Ue.envMap!==xe||Q.fog===!0&&Ue.fog!==ye||Ue.numClippingPlanes!==void 0&&(Ue.numClippingPlanes!==Re.numPlanes||Ue.numIntersection!==Re.numIntersection)||Ue.vertexAlphas!==we||Ue.vertexTangents!==Be||Ue.morphTargets!==Ge||Ue.morphNormals!==Je||Ue.morphColors!==st||Ue.toneMapping!==gt||Ue.morphTargetsCount!==dt)&&(tt=!0):(tt=!0,Ue.__version=Q.version);let qt=Ue.currentProgram;tt===!0&&(qt=Ua(Q,j,$));let Si=!1,Yt=!1,oa=!1;const pt=qt.getUniforms(),Bt=Ue.uniforms;if(Te.useProgram(qt.program)&&(Si=!0,Yt=!0,oa=!0),Q.id!==v&&(v=Q.id,Yt=!0),Si||M!==I){Te.buffers.depth.getReversed()&&I.reversedDepth!==!0&&(I._reversedDepth=!0,I.updateProjectionMatrix()),pt.setValue(F,"projectionMatrix",I.projectionMatrix),pt.setValue(F,"viewMatrix",I.matrixWorldInverse);const Vt=pt.map.cameraPosition;Vt!==void 0&&Vt.setValue(F,oe.setFromMatrixPosition(I.matrixWorld)),$e.logarithmicDepthBuffer&&pt.setValue(F,"logDepthBufFC",2/(Math.log(I.far+1)/Math.LN2)),(Q.isMeshPhongMaterial||Q.isMeshToonMaterial||Q.isMeshLambertMaterial||Q.isMeshBasicMaterial||Q.isMeshStandardMaterial||Q.isShaderMaterial)&&pt.setValue(F,"isOrthographic",I.isOrthographicCamera===!0),M!==I&&(M=I,Yt=!0,oa=!0)}if(Ue.needsLights&&(it.state.directionalShadowMap.length>0&&pt.setValue(F,"directionalShadowMap",it.state.directionalShadowMap,W),it.state.spotShadowMap.length>0&&pt.setValue(F,"spotShadowMap",it.state.spotShadowMap,W),it.state.pointShadowMap.length>0&&pt.setValue(F,"pointShadowMap",it.state.pointShadowMap,W)),$.isSkinnedMesh){pt.setOptional(F,$,"bindMatrix"),pt.setOptional(F,$,"bindMatrixInverse");const Nt=$.skeleton;Nt&&(Nt.boneTexture===null&&Nt.computeBoneTexture(),pt.setValue(F,"boneTexture",Nt.boneTexture,W))}$.isBatchedMesh&&(pt.setOptional(F,$,"batchingTexture"),pt.setValue(F,"batchingTexture",$._matricesTexture,W),pt.setOptional(F,$,"batchingIdTexture"),pt.setValue(F,"batchingIdTexture",$._indirectTexture,W),pt.setOptional(F,$,"batchingColorTexture"),$._colorsTexture!==null&&pt.setValue(F,"batchingColorTexture",$._colorsTexture,W));const $t=te.morphAttributes;if(($t.position!==void 0||$t.normal!==void 0||$t.color!==void 0)&&Ze.update($,te,qt),(Yt||Ue.receiveShadow!==$.receiveShadow)&&(Ue.receiveShadow=$.receiveShadow,pt.setValue(F,"receiveShadow",$.receiveShadow)),Q.isMeshGouraudMaterial&&Q.envMap!==null&&(Bt.envMap.value=xe,Bt.flipEnvMap.value=xe.isCubeTexture&&xe.isRenderTargetTexture===!1?-1:1),Q.isMeshStandardMaterial&&Q.envMap===null&&j.environment!==null&&(Bt.envMapIntensity.value=j.environmentIntensity),Bt.dfgLUT!==void 0&&(Bt.dfgLUT.value=dy()),Yt&&(pt.setValue(F,"toneMappingExposure",A.toneMappingExposure),Ue.needsLights&&Hu(Bt,oa),ye&&Q.fog===!0&&He.refreshFogUniforms(Bt,ye),He.refreshMaterialUniforms(Bt,Q,ie,de,O.state.transmissionRenderTarget[I.id]),Ao.upload(F,ll(Ue),Bt,W)),Q.isShaderMaterial&&Q.uniformsNeedUpdate===!0&&(Ao.upload(F,ll(Ue),Bt,W),Q.uniformsNeedUpdate=!1),Q.isSpriteMaterial&&pt.setValue(F,"center",$.center),pt.setValue(F,"modelViewMatrix",$.modelViewMatrix),pt.setValue(F,"normalMatrix",$.normalMatrix),pt.setValue(F,"modelMatrix",$.matrixWorld),Q.isShaderMaterial||Q.isRawShaderMaterial){const Nt=Q.uniformsGroups;for(let Vt=0,Ho=Nt.length;Vt<Ho;Vt++){const si=Nt[Vt];ue.update(si,qt),ue.bind(si,qt)}}return qt}function Hu(I,j){I.ambientLightColor.needsUpdate=j,I.lightProbe.needsUpdate=j,I.directionalLights.needsUpdate=j,I.directionalLightShadows.needsUpdate=j,I.pointLights.needsUpdate=j,I.pointLightShadows.needsUpdate=j,I.spotLights.needsUpdate=j,I.spotLightShadows.needsUpdate=j,I.rectAreaLights.needsUpdate=j,I.hemisphereLights.needsUpdate=j}function zu(I){return I.isMeshLambertMaterial||I.isMeshToonMaterial||I.isMeshPhongMaterial||I.isMeshStandardMaterial||I.isShadowMaterial||I.isShaderMaterial&&I.lights===!0}this.getActiveCubeFace=function(){return B},this.getActiveMipmapLevel=function(){return Y},this.getRenderTarget=function(){return y},this.setRenderTargetTextures=function(I,j,te){const Q=S.get(I);Q.__autoAllocateDepthBuffer=I.resolveDepthBuffer===!1,Q.__autoAllocateDepthBuffer===!1&&(Q.__useRenderToTexture=!1),S.get(I.texture).__webglTexture=j,S.get(I.depthTexture).__webglTexture=Q.__autoAllocateDepthBuffer?void 0:te,Q.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(I,j){const te=S.get(I);te.__webglFramebuffer=j,te.__useDefaultFramebuffer=j===void 0};const Wu=F.createFramebuffer();this.setRenderTarget=function(I,j=0,te=0){y=I,B=j,Y=te;let Q=null,$=!1,ye=!1;if(I){const Ce=S.get(I);if(Ce.__useDefaultFramebuffer!==void 0){Te.bindFramebuffer(F.FRAMEBUFFER,Ce.__webglFramebuffer),b.copy(I.viewport),x.copy(I.scissor),k=I.scissorTest,Te.viewport(b),Te.scissor(x),Te.setScissorTest(k),v=-1;return}else if(Ce.__webglFramebuffer===void 0)W.setupRenderTarget(I);else if(Ce.__hasExternalTextures)W.rebindTextures(I,S.get(I.texture).__webglTexture,S.get(I.depthTexture).__webglTexture);else if(I.depthBuffer){const Be=I.depthTexture;if(Ce.__boundDepthTexture!==Be){if(Be!==null&&S.has(Be)&&(I.width!==Be.image.width||I.height!==Be.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");W.setupDepthRenderbuffer(I)}}const xe=I.texture;(xe.isData3DTexture||xe.isDataArrayTexture||xe.isCompressedArrayTexture)&&(ye=!0);const we=S.get(I).__webglFramebuffer;I.isWebGLCubeRenderTarget?(Array.isArray(we[j])?Q=we[j][te]:Q=we[j],$=!0):I.samples>0&&W.useMultisampledRTT(I)===!1?Q=S.get(I).__webglMultisampledFramebuffer:Array.isArray(we)?Q=we[te]:Q=we,b.copy(I.viewport),x.copy(I.scissor),k=I.scissorTest}else b.copy(w).multiplyScalar(ie).floor(),x.copy(C).multiplyScalar(ie).floor(),k=L;if(te!==0&&(Q=Wu),Te.bindFramebuffer(F.FRAMEBUFFER,Q)&&Te.drawBuffers(I,Q),Te.viewport(b),Te.scissor(x),Te.setScissorTest(k),$){const Ce=S.get(I.texture);F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_CUBE_MAP_POSITIVE_X+j,Ce.__webglTexture,te)}else if(ye){const Ce=j;for(let xe=0;xe<I.textures.length;xe++){const we=S.get(I.textures[xe]);F.framebufferTextureLayer(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0+xe,we.__webglTexture,te,Ce)}}else if(I!==null&&te!==0){const Ce=S.get(I.texture);F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,Ce.__webglTexture,te)}v=-1},this.readRenderTargetPixels=function(I,j,te,Q,$,ye,ve,Ce=0){if(!(I&&I.isWebGLRenderTarget)){Fe("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xe=S.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&ve!==void 0&&(xe=xe[ve]),xe){Te.bindFramebuffer(F.FRAMEBUFFER,xe);try{const we=I.textures[Ce],Be=we.format,Ge=we.type;if(!$e.textureFormatReadable(Be)){Fe("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!$e.textureTypeReadable(Ge)){Fe("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}j>=0&&j<=I.width-Q&&te>=0&&te<=I.height-$&&(I.textures.length>1&&F.readBuffer(F.COLOR_ATTACHMENT0+Ce),F.readPixels(j,te,Q,$,ce.convert(Be),ce.convert(Ge),ye))}finally{const we=y!==null?S.get(y).__webglFramebuffer:null;Te.bindFramebuffer(F.FRAMEBUFFER,we)}}},this.readRenderTargetPixelsAsync=async function(I,j,te,Q,$,ye,ve,Ce=0){if(!(I&&I.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let xe=S.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&ve!==void 0&&(xe=xe[ve]),xe)if(j>=0&&j<=I.width-Q&&te>=0&&te<=I.height-$){Te.bindFramebuffer(F.FRAMEBUFFER,xe);const we=I.textures[Ce],Be=we.format,Ge=we.type;if(!$e.textureFormatReadable(Be))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!$e.textureTypeReadable(Ge))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Je=F.createBuffer();F.bindBuffer(F.PIXEL_PACK_BUFFER,Je),F.bufferData(F.PIXEL_PACK_BUFFER,ye.byteLength,F.STREAM_READ),I.textures.length>1&&F.readBuffer(F.COLOR_ATTACHMENT0+Ce),F.readPixels(j,te,Q,$,ce.convert(Be),ce.convert(Ge),0);const st=y!==null?S.get(y).__webglFramebuffer:null;Te.bindFramebuffer(F.FRAMEBUFFER,st);const gt=F.fenceSync(F.SYNC_GPU_COMMANDS_COMPLETE,0);return F.flush(),await Dp(F,gt,4),F.bindBuffer(F.PIXEL_PACK_BUFFER,Je),F.getBufferSubData(F.PIXEL_PACK_BUFFER,0,ye),F.deleteBuffer(Je),F.deleteSync(gt),ye}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(I,j=null,te=0){const Q=Math.pow(2,-te),$=Math.floor(I.image.width*Q),ye=Math.floor(I.image.height*Q),ve=j!==null?j.x:0,Ce=j!==null?j.y:0;W.setTexture2D(I,0),F.copyTexSubImage2D(F.TEXTURE_2D,te,0,0,ve,Ce,$,ye),Te.unbindTexture()};const qu=F.createFramebuffer(),Yu=F.createFramebuffer();this.copyTextureToTexture=function(I,j,te=null,Q=null,$=0,ye=null){ye===null&&($!==0?(Da("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ye=$,$=0):ye=0);let ve,Ce,xe,we,Be,Ge,Je,st,gt;const yt=I.isCompressedTexture?I.mipmaps[ye]:I.image;if(te!==null)ve=te.max.x-te.min.x,Ce=te.max.y-te.min.y,xe=te.isBox3?te.max.z-te.min.z:1,we=te.min.x,Be=te.min.y,Ge=te.isBox3?te.min.z:0;else{const $t=Math.pow(2,-$);ve=Math.floor(yt.width*$t),Ce=Math.floor(yt.height*$t),I.isDataArrayTexture?xe=yt.depth:I.isData3DTexture?xe=Math.floor(yt.depth*$t):xe=1,we=0,Be=0,Ge=0}Q!==null?(Je=Q.x,st=Q.y,gt=Q.z):(Je=0,st=0,gt=0);const dt=ce.convert(j.format),Ue=ce.convert(j.type);let it;j.isData3DTexture?(W.setTexture3D(j,0),it=F.TEXTURE_3D):j.isDataArrayTexture||j.isCompressedArrayTexture?(W.setTexture2DArray(j,0),it=F.TEXTURE_2D_ARRAY):(W.setTexture2D(j,0),it=F.TEXTURE_2D),F.pixelStorei(F.UNPACK_FLIP_Y_WEBGL,j.flipY),F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),F.pixelStorei(F.UNPACK_ALIGNMENT,j.unpackAlignment);const tt=F.getParameter(F.UNPACK_ROW_LENGTH),qt=F.getParameter(F.UNPACK_IMAGE_HEIGHT),Si=F.getParameter(F.UNPACK_SKIP_PIXELS),Yt=F.getParameter(F.UNPACK_SKIP_ROWS),oa=F.getParameter(F.UNPACK_SKIP_IMAGES);F.pixelStorei(F.UNPACK_ROW_LENGTH,yt.width),F.pixelStorei(F.UNPACK_IMAGE_HEIGHT,yt.height),F.pixelStorei(F.UNPACK_SKIP_PIXELS,we),F.pixelStorei(F.UNPACK_SKIP_ROWS,Be),F.pixelStorei(F.UNPACK_SKIP_IMAGES,Ge);const pt=I.isDataArrayTexture||I.isData3DTexture,Bt=j.isDataArrayTexture||j.isData3DTexture;if(I.isDepthTexture){const $t=S.get(I),Nt=S.get(j),Vt=S.get($t.__renderTarget),Ho=S.get(Nt.__renderTarget);Te.bindFramebuffer(F.READ_FRAMEBUFFER,Vt.__webglFramebuffer),Te.bindFramebuffer(F.DRAW_FRAMEBUFFER,Ho.__webglFramebuffer);for(let si=0;si<xe;si++)pt&&(F.framebufferTextureLayer(F.READ_FRAMEBUFFER,F.COLOR_ATTACHMENT0,S.get(I).__webglTexture,$,Ge+si),F.framebufferTextureLayer(F.DRAW_FRAMEBUFFER,F.COLOR_ATTACHMENT0,S.get(j).__webglTexture,ye,gt+si)),F.blitFramebuffer(we,Be,ve,Ce,Je,st,ve,Ce,F.DEPTH_BUFFER_BIT,F.NEAREST);Te.bindFramebuffer(F.READ_FRAMEBUFFER,null),Te.bindFramebuffer(F.DRAW_FRAMEBUFFER,null)}else if($!==0||I.isRenderTargetTexture||S.has(I)){const $t=S.get(I),Nt=S.get(j);Te.bindFramebuffer(F.READ_FRAMEBUFFER,qu),Te.bindFramebuffer(F.DRAW_FRAMEBUFFER,Yu);for(let Vt=0;Vt<xe;Vt++)pt?F.framebufferTextureLayer(F.READ_FRAMEBUFFER,F.COLOR_ATTACHMENT0,$t.__webglTexture,$,Ge+Vt):F.framebufferTexture2D(F.READ_FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,$t.__webglTexture,$),Bt?F.framebufferTextureLayer(F.DRAW_FRAMEBUFFER,F.COLOR_ATTACHMENT0,Nt.__webglTexture,ye,gt+Vt):F.framebufferTexture2D(F.DRAW_FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,Nt.__webglTexture,ye),$!==0?F.blitFramebuffer(we,Be,ve,Ce,Je,st,ve,Ce,F.COLOR_BUFFER_BIT,F.NEAREST):Bt?F.copyTexSubImage3D(it,ye,Je,st,gt+Vt,we,Be,ve,Ce):F.copyTexSubImage2D(it,ye,Je,st,we,Be,ve,Ce);Te.bindFramebuffer(F.READ_FRAMEBUFFER,null),Te.bindFramebuffer(F.DRAW_FRAMEBUFFER,null)}else Bt?I.isDataTexture||I.isData3DTexture?F.texSubImage3D(it,ye,Je,st,gt,ve,Ce,xe,dt,Ue,yt.data):j.isCompressedArrayTexture?F.compressedTexSubImage3D(it,ye,Je,st,gt,ve,Ce,xe,dt,yt.data):F.texSubImage3D(it,ye,Je,st,gt,ve,Ce,xe,dt,Ue,yt):I.isDataTexture?F.texSubImage2D(F.TEXTURE_2D,ye,Je,st,ve,Ce,dt,Ue,yt.data):I.isCompressedTexture?F.compressedTexSubImage2D(F.TEXTURE_2D,ye,Je,st,yt.width,yt.height,dt,yt.data):F.texSubImage2D(F.TEXTURE_2D,ye,Je,st,ve,Ce,dt,Ue,yt);F.pixelStorei(F.UNPACK_ROW_LENGTH,tt),F.pixelStorei(F.UNPACK_IMAGE_HEIGHT,qt),F.pixelStorei(F.UNPACK_SKIP_PIXELS,Si),F.pixelStorei(F.UNPACK_SKIP_ROWS,Yt),F.pixelStorei(F.UNPACK_SKIP_IMAGES,oa),ye===0&&j.generateMipmaps&&F.generateMipmap(it),Te.unbindTexture()},this.initRenderTarget=function(I){S.get(I).__webglFramebuffer===void 0&&W.setupRenderTarget(I)},this.initTexture=function(I){I.isCubeTexture?W.setTextureCube(I,0):I.isData3DTexture?W.setTexture3D(I,0):I.isDataArrayTexture||I.isCompressedArrayTexture?W.setTexture2DArray(I,0):W.setTexture2D(I,0),Te.unbindTexture()},this.resetState=function(){B=0,Y=0,y=null,Te.reset(),Ae.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Tn}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=et._getDrawingBufferColorSpace(e),t.unpackColorSpace=et._getUnpackColorSpace()}}const Rd={type:"change"},el={type:"start"},Iu={type:"end"},mo=new ta,bd=new ei,py=Math.cos(70*pu.DEG2RAD),Mt=new K,Ht=2*Math.PI,lt={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},Sr=1e-6;class my extends cc{constructor(e,t=null){super(e,t),this.state=lt.NONE,this.target=new K,this.cursor=new K,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Hi.ROTATE,MIDDLE:Hi.DOLLY,RIGHT:Hi.PAN},this.touches={ONE:Bi.ROTATE,TWO:Bi.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new K,this._lastQuaternion=new hn,this._lastTargetPosition=new K,this._quat=new hn().setFromUnitVectors(e.up,new K(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new id,this._sphericalDelta=new id,this._scale=1,this._panOffset=new K,this._rotateStart=new Ve,this._rotateEnd=new Ve,this._rotateDelta=new Ve,this._panStart=new Ve,this._panEnd=new Ve,this._panDelta=new Ve,this._dollyStart=new Ve,this._dollyEnd=new Ve,this._dollyDelta=new Ve,this._dollyDirection=new K,this._mouse=new Ve,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=hy.bind(this),this._onPointerDown=cy.bind(this),this._onPointerUp=fy.bind(this),this._onContextMenu=My.bind(this),this._onMouseWheel=yy.bind(this),this._onKeyDown=Ey.bind(this),this._onTouchStart=Cy.bind(this),this._onTouchMove=Ty.bind(this),this._onMouseDown=_y.bind(this),this._onMouseMove=gy.bind(this),this._interceptControlDown=Sy.bind(this),this._interceptControlUp=Ay.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(Rd),this.update(),this.state=lt.NONE}update(e=null){const t=this.object.position;Mt.copy(t).sub(this.target),Mt.applyQuaternion(this._quat),this._spherical.setFromVector3(Mt),this.autoRotate&&this.state===lt.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let n=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(n)&&isFinite(i)&&(n<-Math.PI?n+=Ht:n>Math.PI&&(n-=Ht),i<-Math.PI?i+=Ht:i>Math.PI&&(i-=Ht),n<=i?this._spherical.theta=Math.max(n,Math.min(i,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(n+i)/2?Math.max(n,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let r=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const l=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),r=l!=this._spherical.radius}if(Mt.setFromSpherical(this._spherical),Mt.applyQuaternion(this._quatInverse),t.copy(this.target).add(Mt),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let l=null;if(this.object.isPerspectiveCamera){const p=Mt.length();l=this._clampDistance(p*this._scale);const c=p-l;this.object.position.addScaledVector(this._dollyDirection,c),this.object.updateMatrixWorld(),r=!!c}else if(this.object.isOrthographicCamera){const p=new K(this._mouse.x,this._mouse.y,0);p.unproject(this.object);const c=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),r=c!==this.object.zoom;const u=new K(this._mouse.x,this._mouse.y,0);u.unproject(this.object),this.object.position.sub(u).add(p),this.object.updateMatrixWorld(),l=Mt.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;l!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(l).add(this.object.position):(mo.origin.copy(this.object.position),mo.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(mo.direction))<py?this.object.lookAt(this.target):(bd.setFromNormalAndCoplanarPoint(this.object.up,this.target),mo.intersectPlane(bd,this.target))))}else if(this.object.isOrthographicCamera){const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),l!==this.object.zoom&&(this.object.updateProjectionMatrix(),r=!0)}return this._scale=1,this._performCursorZoom=!1,r||this._lastPosition.distanceToSquared(this.object.position)>Sr||8*(1-this._lastQuaternion.dot(this.object.quaternion))>Sr||this._lastTargetPosition.distanceToSquared(this.target)>Sr?(this.dispatchEvent(Rd),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?Ht/60*this.autoRotateSpeed*e:Ht/60/60*this.autoRotateSpeed}_getZoomScale(e){const t=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){Mt.setFromMatrixColumn(t,0),Mt.multiplyScalar(-e),this._panOffset.add(Mt)}_panUp(e,t){this.screenSpacePanning===!0?Mt.setFromMatrixColumn(t,1):(Mt.setFromMatrixColumn(t,0),Mt.crossVectors(this.object.up,Mt)),Mt.multiplyScalar(e),this._panOffset.add(Mt)}_pan(e,t){const n=this.domElement;if(this.object.isPerspectiveCamera){const i=this.object.position;Mt.copy(i).sub(this.target);let r=Mt.length();r*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*r/n.clientHeight,this.object.matrix),this._panUp(2*t*r/n.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const n=this.domElement.getBoundingClientRect(),i=e-n.left,r=t-n.top,l=n.width,p=n.height;this._mouse.x=i/l*2-1,this._mouse.y=-(r/p)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(Ht*this._rotateDelta.x/t.clientHeight),this._rotateUp(Ht*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(Ht*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-Ht*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(Ht*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-Ht*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);this._rotateStart.set(n,i)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);this._panStart.set(n,i)}}_handleTouchStartDolly(e){const t=this._getSecondPointerPosition(e),n=e.pageX-t.x,i=e.pageY-t.y,r=Math.sqrt(n*n+i*i);this._dollyStart.set(0,r)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),i=.5*(e.pageX+n.x),r=.5*(e.pageY+n.y);this._rotateEnd.set(i,r)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(Ht*this._rotateDelta.x/t.clientHeight),this._rotateUp(Ht*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);this._panEnd.set(n,i)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const t=this._getSecondPointerPosition(e),n=e.pageX-t.x,i=e.pageY-t.y,r=Math.sqrt(n*n+i*i);this._dollyEnd.set(0,r),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const l=(e.pageX+t.x)*.5,p=(e.pageY+t.y)*.5;this._updateZoomParameters(l,p)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId){this._pointers.splice(t,1);return}}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];t===void 0&&(t=new Ve,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const t=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[t]}_customWheelEvent(e){const t=e.deltaMode,n={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:n.deltaY*=16;break;case 2:n.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(n.deltaY*=10),n}}function cy(a){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(a.pointerId),this.domElement.ownerDocument.addEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(a)&&(this._addPointer(a),a.pointerType==="touch"?this._onTouchStart(a):this._onMouseDown(a)))}function hy(a){this.enabled!==!1&&(a.pointerType==="touch"?this._onTouchMove(a):this._onMouseMove(a))}function fy(a){switch(this._removePointer(a),this._pointers.length){case 0:this.domElement.releasePointerCapture(a.pointerId),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(Iu),this.state=lt.NONE;break;case 1:const e=this._pointers[0],t=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:t.x,pageY:t.y});break}}function _y(a){let e;switch(a.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Hi.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(a),this.state=lt.DOLLY;break;case Hi.ROTATE:if(a.ctrlKey||a.metaKey||a.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(a),this.state=lt.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(a),this.state=lt.ROTATE}break;case Hi.PAN:if(a.ctrlKey||a.metaKey||a.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(a),this.state=lt.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(a),this.state=lt.PAN}break;default:this.state=lt.NONE}this.state!==lt.NONE&&this.dispatchEvent(el)}function gy(a){switch(this.state){case lt.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(a);break;case lt.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(a);break;case lt.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(a);break}}function yy(a){this.enabled===!1||this.enableZoom===!1||this.state!==lt.NONE||(a.preventDefault(),this.dispatchEvent(el),this._handleMouseWheel(this._customWheelEvent(a)),this.dispatchEvent(Iu))}function Ey(a){this.enabled!==!1&&this._handleKeyDown(a)}function Cy(a){switch(this._trackPointer(a),this._pointers.length){case 1:switch(this.touches.ONE){case Bi.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(a),this.state=lt.TOUCH_ROTATE;break;case Bi.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(a),this.state=lt.TOUCH_PAN;break;default:this.state=lt.NONE}break;case 2:switch(this.touches.TWO){case Bi.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(a),this.state=lt.TOUCH_DOLLY_PAN;break;case Bi.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(a),this.state=lt.TOUCH_DOLLY_ROTATE;break;default:this.state=lt.NONE}break;default:this.state=lt.NONE}this.state!==lt.NONE&&this.dispatchEvent(el)}function Ty(a){switch(this._trackPointer(a),this.state){case lt.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(a),this.update();break;case lt.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(a),this.update();break;case lt.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(a),this.update();break;case lt.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(a),this.update();break;default:this.state=lt.NONE}}function My(a){this.enabled!==!1&&a.preventDefault()}function Sy(a){a.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function Ay(a){a.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function Dd(a,e){if(e===yp)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),a;if(e===Ts||e===lu){let t=a.getIndex();if(t===null){const l=[],p=a.getAttribute("position");if(p!==void 0){for(let c=0;c<p.count;c++)l.push(c);a.setIndex(l),t=a.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),a}const n=t.count-2,i=[];if(e===Ts)for(let l=1;l<=n;l++)i.push(t.getX(0)),i.push(t.getX(l)),i.push(t.getX(l+1));else for(let l=0;l<n;l++)l%2===0?(i.push(t.getX(l)),i.push(t.getX(l+1)),i.push(t.getX(l+2))):(i.push(t.getX(l+2)),i.push(t.getX(l+1)),i.push(t.getX(l)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=a.clone();return r.setIndex(i),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),a}class Pu extends Mi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Dy(t)}),this.register(function(t){return new Oy(t)}),this.register(function(t){return new ky(t)}),this.register(function(t){return new By(t)}),this.register(function(t){return new Vy(t)}),this.register(function(t){return new Py(t)}),this.register(function(t){return new wy(t)}),this.register(function(t){return new Ny(t)}),this.register(function(t){return new Ly(t)}),this.register(function(t){return new by(t)}),this.register(function(t){return new Gy(t)}),this.register(function(t){return new Iy(t)}),this.register(function(t){return new Fy(t)}),this.register(function(t){return new Uy(t)}),this.register(function(t){return new xy(t)}),this.register(function(t){return new Hy(t)}),this.register(function(t){return new zy(t)})}load(e,t,n,i){const r=this;let l;if(this.resourcePath!=="")l=this.resourcePath;else if(this.path!==""){const u=Sa.extractUrlBase(e);l=Sa.resolveURL(u,this.path)}else l=Sa.extractUrlBase(e);this.manager.itemStart(e);const p=function(u){i?i(u):console.error(u),r.manager.itemError(e),r.manager.itemEnd(e)},c=new Zs(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(u){try{r.parse(u,l,function(m){t(m),r.manager.itemEnd(e)},p)}catch(m){p(m)}},n,p)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let r;const l={},p={},c=new TextDecoder;if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(c.decode(new Uint8Array(e,0,4))===wu){try{l[Qe.KHR_BINARY_GLTF]=new Wy(e)}catch(d){i&&i(d);return}r=JSON.parse(l[Qe.KHR_BINARY_GLTF].content)}else r=JSON.parse(c.decode(e));else r=e;if(r.asset===void 0||r.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new iE(r,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let m=0;m<this.pluginCallbacks.length;m++){const d=this.pluginCallbacks[m](u);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),p[d.name]=d,l[d.name]=!0}if(r.extensionsUsed)for(let m=0;m<r.extensionsUsed.length;++m){const d=r.extensionsUsed[m],o=r.extensionsRequired||[];switch(d){case Qe.KHR_MATERIALS_UNLIT:l[d]=new Ry;break;case Qe.KHR_DRACO_MESH_COMPRESSION:l[d]=new qy(r,this.dracoLoader);break;case Qe.KHR_TEXTURE_TRANSFORM:l[d]=new Yy;break;case Qe.KHR_MESH_QUANTIZATION:l[d]=new Xy;break;default:o.indexOf(d)>=0&&p[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}u.setExtensions(l),u.setPlugins(p),u.parse(n,i)}parseAsync(e,t){const n=this;return new Promise(function(i,r){n.parse(e,t,i,r)})}}function vy(){let a={};return{get:function(e){return a[e]},add:function(e,t){a[e]=t},remove:function(e){delete a[e]},removeAll:function(){a={}}}}const Qe={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class xy{constructor(e){this.parser=e,this.name=Qe.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const r=t[n];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const r=t.json,c=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let u;const m=new ke(16777215);c.color!==void 0&&m.setRGB(c.color[0],c.color[1],c.color[2],Pt);const d=c.range!==void 0?c.range:0;switch(c.type){case"directional":u=new vu(m),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new Jm(m),u.distance=d;break;case"spot":u=new Zm(m),u.distance=d,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,u.angle=c.spot.outerConeAngle,u.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return u.position.set(0,0,0),yn(u,c),c.intensity!==void 0&&(u.intensity=c.intensity),u.name=t.createUniqueName(c.name||"light_"+e),i=Promise.resolve(u),t.cache.add(n,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,r=n.json.nodes[e],p=(r.extensions&&r.extensions[this.name]||{}).light;return p===void 0?null:this._loadLight(p).then(function(c){return n._getNodeRef(t.cache,p,c)})}}class Ry{constructor(){this.name=Qe.KHR_MATERIALS_UNLIT}getMaterialType(){return Bn}extendParams(e,t,n){const i=[];e.color=new ke(1,1,1),e.opacity=1;const r=t.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const l=r.baseColorFactor;e.color.setRGB(l[0],l[1],l[2],Pt),e.opacity=l[3]}r.baseColorTexture!==void 0&&i.push(n.assignTexture(e,"map",r.baseColorTexture,bt))}return Promise.all(i)}}class by{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name].emissiveStrength;return r!==void 0&&(t.emissiveIntensity=r),Promise.resolve()}}class Dy{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],l=i.extensions[this.name];if(l.clearcoatFactor!==void 0&&(t.clearcoat=l.clearcoatFactor),l.clearcoatTexture!==void 0&&r.push(n.assignTexture(t,"clearcoatMap",l.clearcoatTexture)),l.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=l.clearcoatRoughnessFactor),l.clearcoatRoughnessTexture!==void 0&&r.push(n.assignTexture(t,"clearcoatRoughnessMap",l.clearcoatRoughnessTexture)),l.clearcoatNormalTexture!==void 0&&(r.push(n.assignTexture(t,"clearcoatNormalMap",l.clearcoatNormalTexture)),l.clearcoatNormalTexture.scale!==void 0)){const p=l.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ve(p,p)}return Promise.all(r)}}class Oy{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name];return t.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class Iy{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],l=i.extensions[this.name];return l.iridescenceFactor!==void 0&&(t.iridescence=l.iridescenceFactor),l.iridescenceTexture!==void 0&&r.push(n.assignTexture(t,"iridescenceMap",l.iridescenceTexture)),l.iridescenceIor!==void 0&&(t.iridescenceIOR=l.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),l.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=l.iridescenceThicknessMinimum),l.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=l.iridescenceThicknessMaximum),l.iridescenceThicknessTexture!==void 0&&r.push(n.assignTexture(t,"iridescenceThicknessMap",l.iridescenceThicknessTexture)),Promise.all(r)}}class Py{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[];t.sheenColor=new ke(0,0,0),t.sheenRoughness=0,t.sheen=1;const l=i.extensions[this.name];if(l.sheenColorFactor!==void 0){const p=l.sheenColorFactor;t.sheenColor.setRGB(p[0],p[1],p[2],Pt)}return l.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=l.sheenRoughnessFactor),l.sheenColorTexture!==void 0&&r.push(n.assignTexture(t,"sheenColorMap",l.sheenColorTexture,bt)),l.sheenRoughnessTexture!==void 0&&r.push(n.assignTexture(t,"sheenRoughnessMap",l.sheenRoughnessTexture)),Promise.all(r)}}class wy{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],l=i.extensions[this.name];return l.transmissionFactor!==void 0&&(t.transmission=l.transmissionFactor),l.transmissionTexture!==void 0&&r.push(n.assignTexture(t,"transmissionMap",l.transmissionTexture)),Promise.all(r)}}class Ny{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],l=i.extensions[this.name];t.thickness=l.thicknessFactor!==void 0?l.thicknessFactor:0,l.thicknessTexture!==void 0&&r.push(n.assignTexture(t,"thicknessMap",l.thicknessTexture)),t.attenuationDistance=l.attenuationDistance||1/0;const p=l.attenuationColor||[1,1,1];return t.attenuationColor=new ke().setRGB(p[0],p[1],p[2],Pt),Promise.all(r)}}class Ly{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name];return t.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class Gy{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],l=i.extensions[this.name];t.specularIntensity=l.specularFactor!==void 0?l.specularFactor:1,l.specularTexture!==void 0&&r.push(n.assignTexture(t,"specularIntensityMap",l.specularTexture));const p=l.specularColorFactor||[1,1,1];return t.specularColor=new ke().setRGB(p[0],p[1],p[2],Pt),l.specularColorTexture!==void 0&&r.push(n.assignTexture(t,"specularColorMap",l.specularColorTexture,bt)),Promise.all(r)}}class Uy{constructor(e){this.parser=e,this.name=Qe.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],l=i.extensions[this.name];return t.bumpScale=l.bumpFactor!==void 0?l.bumpFactor:1,l.bumpTexture!==void 0&&r.push(n.assignTexture(t,"bumpMap",l.bumpTexture)),Promise.all(r)}}class Fy{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],l=i.extensions[this.name];return l.anisotropyStrength!==void 0&&(t.anisotropy=l.anisotropyStrength),l.anisotropyRotation!==void 0&&(t.anisotropyRotation=l.anisotropyRotation),l.anisotropyTexture!==void 0&&r.push(n.assignTexture(t,"anisotropyMap",l.anisotropyTexture)),Promise.all(r)}}class ky{constructor(e){this.parser=e,this.name=Qe.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const r=i.extensions[this.name],l=t.options.ktx2Loader;if(!l){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,r.source,l)}}class By{constructor(e){this.parser=e,this.name=Qe.EXT_TEXTURE_WEBP}loadTexture(e){const t=this.name,n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[t])return null;const l=r.extensions[t],p=i.images[l.source];let c=n.textureLoader;if(p.uri){const u=n.options.manager.getHandler(p.uri);u!==null&&(c=u)}return n.loadTextureImage(e,l.source,c)}}class Vy{constructor(e){this.parser=e,this.name=Qe.EXT_TEXTURE_AVIF}loadTexture(e){const t=this.name,n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[t])return null;const l=r.extensions[t],p=i.images[l.source];let c=n.textureLoader;if(p.uri){const u=n.options.manager.getHandler(p.uri);u!==null&&(c=u)}return n.loadTextureImage(e,l.source,c)}}class Hy{constructor(e){this.name=Qe.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const i=n.extensions[this.name],r=this.parser.getDependency("buffer",i.buffer),l=this.parser.options.meshoptDecoder;if(!l||!l.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(p){const c=i.byteOffset||0,u=i.byteLength||0,m=i.count,d=i.byteStride,o=new Uint8Array(p,c,u);return l.decodeGltfBufferAsync?l.decodeGltfBufferAsync(m,d,o,i.mode,i.filter).then(function(s){return s.buffer}):l.ready.then(function(){const s=new ArrayBuffer(m*d);return l.decodeGltfBuffer(new Uint8Array(s),m,d,o,i.mode,i.filter),s})})}else return null}}class zy{constructor(e){this.name=Qe.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const i=t.meshes[n.mesh];for(const u of i.primitives)if(u.mode!==tn.TRIANGLES&&u.mode!==tn.TRIANGLE_STRIP&&u.mode!==tn.TRIANGLE_FAN&&u.mode!==void 0)return null;const l=n.extensions[this.name].attributes,p=[],c={};for(const u in l)p.push(this.parser.getDependency("accessor",l[u]).then(m=>(c[u]=m,c[u])));return p.length<1?null:(p.push(this.parser.createNodeMesh(e)),Promise.all(p).then(u=>{const m=u.pop(),d=m.isGroup?m.children:[m],o=u[0].count,s=[];for(const h of d){const g=new Ye,_=new K,f=new hn,E=new K(1,1,1),T=new Am(h.geometry,h.material,o);for(let R=0;R<o;R++)c.TRANSLATION&&_.fromBufferAttribute(c.TRANSLATION,R),c.ROTATION&&f.fromBufferAttribute(c.ROTATION,R),c.SCALE&&E.fromBufferAttribute(c.SCALE,R),T.setMatrixAt(R,g.compose(_,f,E));for(const R in c)if(R==="_COLOR_0"){const O=c[R];T.instanceColor=new Ss(O.array,O.itemSize,O.normalized)}else R!=="TRANSLATION"&&R!=="ROTATION"&&R!=="SCALE"&&h.geometry.setAttribute(R,c[R]);ft.prototype.copy.call(T,h),this.parser.assignFinalMaterial(T),s.push(T)}return m.isGroup?(m.clear(),m.add(...s),m):s[0]}))}}const wu="glTF",fa=12,Od={JSON:1313821514,BIN:5130562};class Wy{constructor(e){this.name=Qe.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,fa),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==wu)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-fa,r=new DataView(e,fa);let l=0;for(;l<i;){const p=r.getUint32(l,!0);l+=4;const c=r.getUint32(l,!0);if(l+=4,c===Od.JSON){const u=new Uint8Array(e,fa+l,p);this.content=n.decode(u)}else if(c===Od.BIN){const u=fa+l;this.body=e.slice(u,u+p)}l+=p}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class qy{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Qe.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,i=this.dracoLoader,r=e.extensions[this.name].bufferView,l=e.extensions[this.name].attributes,p={},c={},u={};for(const m in l){const d=Ds[m]||m.toLowerCase();p[d]=l[m]}for(const m in e.attributes){const d=Ds[m]||m.toLowerCase();if(l[m]!==void 0){const o=n.accessors[e.attributes[m]],s=qi[o.componentType];u[d]=s.name,c[d]=o.normalized===!0}}return t.getDependency("bufferView",r).then(function(m){return new Promise(function(d,o){i.decodeDracoFile(m,function(s){for(const h in s.attributes){const g=s.attributes[h],_=c[h];_!==void 0&&(g.normalized=_)}d(s)},p,u,Pt,o)})})}}class Yy{constructor(){this.name=Qe.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Xy{constructor(){this.name=Qe.KHR_MESH_QUANTIZATION}}class Nu extends La{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i*3+i;for(let l=0;l!==i;l++)t[l]=n[r+l];return t}interpolate_(e,t,n,i){const r=this.resultBuffer,l=this.sampleValues,p=this.valueSize,c=p*2,u=p*3,m=i-t,d=(n-t)/m,o=d*d,s=o*d,h=e*u,g=h-u,_=-2*s+3*o,f=s-o,E=1-_,T=f-o+d;for(let R=0;R!==p;R++){const O=l[g+R+p],P=l[g+R+c]*m,N=l[h+R+p],U=l[h+R]*m;r[R]=E*O+T*P+_*N+f*U}return r}}const Ky=new hn;class jy extends Nu{interpolate_(e,t,n,i){const r=super.interpolate_(e,t,n,i);return Ky.fromArray(r).normalize().toArray(r),r}}const tn={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},qi={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Id={9728:St,9729:ht,9984:tu,9985:Eo,9986:ya,9987:Cn},Pd={33071:nn,33648:bo,10497:Ki},Ar={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ds={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Qn={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Zy={CUBICSPLINE:void 0,LINEAR:Ra,STEP:xa},vr={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function $y(a){return a.DefaultMaterial===void 0&&(a.DefaultMaterial=new ii({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:qn})),a.DefaultMaterial}function hi(a,e,t){for(const n in t.extensions)a[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function yn(a,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(a.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Jy(a,e,t){let n=!1,i=!1,r=!1;for(let u=0,m=e.length;u<m;u++){const d=e[u];if(d.POSITION!==void 0&&(n=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(r=!0),n&&i&&r)break}if(!n&&!i&&!r)return Promise.resolve(a);const l=[],p=[],c=[];for(let u=0,m=e.length;u<m;u++){const d=e[u];if(n){const o=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):a.attributes.position;l.push(o)}if(i){const o=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):a.attributes.normal;p.push(o)}if(r){const o=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):a.attributes.color;c.push(o)}}return Promise.all([Promise.all(l),Promise.all(p),Promise.all(c)]).then(function(u){const m=u[0],d=u[1],o=u[2];return n&&(a.morphAttributes.position=m),i&&(a.morphAttributes.normal=d),r&&(a.morphAttributes.color=o),a.morphTargetsRelative=!0,a})}function Qy(a,e){if(a.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)a.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(a.morphTargetInfluences.length===t.length){a.morphTargetDictionary={};for(let n=0,i=t.length;n<i;n++)a.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function eE(a){let e;const t=a.extensions&&a.extensions[Qe.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+xr(t.attributes):e=a.indices+":"+xr(a.attributes)+":"+a.mode,a.targets!==void 0)for(let n=0,i=a.targets.length;n<i;n++)e+=":"+xr(a.targets[n]);return e}function xr(a){let e="";const t=Object.keys(a).sort();for(let n=0,i=t.length;n<i;n++)e+=t[n]+":"+a[t[n]]+";";return e}function Os(a){switch(a){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function tE(a){return a.search(/\.jpe?g($|\?)/i)>0||a.search(/^data\:image\/jpeg/)===0?"image/jpeg":a.search(/\.webp($|\?)/i)>0||a.search(/^data\:image\/webp/)===0?"image/webp":a.search(/\.ktx2($|\?)/i)>0||a.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const nE=new Ye;class iE{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new vy,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=-1,r=!1,l=-1;if(typeof navigator<"u"){const p=navigator.userAgent;n=/^((?!chrome|android).)*safari/i.test(p)===!0;const c=p.match(/Version\/(\d+)/);i=n&&c?parseInt(c[1],10):-1,r=p.indexOf("Firefox")>-1,l=r?p.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||n&&i<17||r&&l<98?this.textureLoader=new Km(this.options.manager):this.textureLoader=new tc(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Zs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(l){return l._markDefs&&l._markDefs()}),Promise.all(this._invokeAll(function(l){return l.beforeRoot&&l.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(l){const p={scene:l[0][i.scene||0],scenes:l[0],animations:l[1],cameras:l[2],asset:i.asset,parser:n,userData:{}};return hi(r,p,i),yn(p,i),Promise.all(n._invokeAll(function(c){return c.afterRoot&&c.afterRoot(p)})).then(function(){for(const c of p.scenes)c.updateMatrixWorld();e(p)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let i=0,r=t.length;i<r;i++){const l=t[i].joints;for(let p=0,c=l.length;p<c;p++)e[l[p]].isBone=!0}for(let i=0,r=e.length;i<r;i++){const l=e[i];l.mesh!==void 0&&(this._addNodeRef(this.meshCache,l.mesh),l.skin!==void 0&&(n[l.mesh].isSkinnedMesh=!0)),l.camera!==void 0&&this._addNodeRef(this.cameraCache,l.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),r=(l,p)=>{const c=this.associations.get(l);c!=null&&this.associations.set(p,c);for(const[u,m]of l.children.entries())r(m,p.children[u])};return r(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const r=e(t[i]);r&&n.push(r)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(r){return r.loadNode&&r.loadNode(t)});break;case"mesh":i=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(r,l){return n.getDependency(e,l)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Qe.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(r,l){n.load(Sa.resolveURL(t.uri,i.path),r,void 0,function(){l(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const i=t.byteLength||0,r=t.byteOffset||0;return n.slice(r,r+i)})}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const l=Ar[i.type],p=qi[i.componentType],c=i.normalized===!0,u=new p(i.count*l);return Promise.resolve(new It(u,l,c))}const r=[];return i.bufferView!==void 0?r.push(this.getDependency("bufferView",i.bufferView)):r.push(null),i.sparse!==void 0&&(r.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(r).then(function(l){const p=l[0],c=Ar[i.type],u=qi[i.componentType],m=u.BYTES_PER_ELEMENT,d=m*c,o=i.byteOffset||0,s=i.bufferView!==void 0?n.bufferViews[i.bufferView].byteStride:void 0,h=i.normalized===!0;let g,_;if(s&&s!==d){const f=Math.floor(o/s),E="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+f+":"+i.count;let T=t.cache.get(E);T||(g=new u(p,f*s,i.count*s/m),T=new Em(g,s/m),t.cache.add(E,T)),_=new Ws(T,c,o%s/m,h)}else p===null?g=new u(i.count*c):g=new u(p,o,i.count*c),_=new It(g,c,h);if(i.sparse!==void 0){const f=Ar.SCALAR,E=qi[i.sparse.indices.componentType],T=i.sparse.indices.byteOffset||0,R=i.sparse.values.byteOffset||0,O=new E(l[1],T,i.sparse.count*f),P=new u(l[2],R,i.sparse.count*c);p!==null&&(_=new It(_.array.slice(),_.itemSize,_.normalized)),_.normalized=!1;for(let N=0,U=O.length;N<U;N++){const A=O[N];if(_.setX(A,P[N*c]),c>=2&&_.setY(A,P[N*c+1]),c>=3&&_.setZ(A,P[N*c+2]),c>=4&&_.setW(A,P[N*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}_.normalized=h}return _})}loadTexture(e){const t=this.json,n=this.options,r=t.textures[e].source,l=t.images[r];let p=this.textureLoader;if(l.uri){const c=n.manager.getHandler(l.uri);c!==null&&(p=c)}return this.loadTextureImage(e,r,p)}loadTextureImage(e,t,n){const i=this,r=this.json,l=r.textures[e],p=r.images[t],c=(p.uri||p.bufferView)+":"+l.sampler;if(this.textureCache[c])return this.textureCache[c];const u=this.loadImageSource(t,n).then(function(m){m.flipY=!1,m.name=l.name||p.name||"",m.name===""&&typeof p.uri=="string"&&p.uri.startsWith("data:image/")===!1&&(m.name=p.uri);const o=(r.samplers||{})[l.sampler]||{};return m.magFilter=Id[o.magFilter]||ht,m.minFilter=Id[o.minFilter]||Cn,m.wrapS=Pd[o.wrapS]||Ki,m.wrapT=Pd[o.wrapT]||Ki,m.generateMipmaps=!m.isCompressedTexture&&m.minFilter!==St&&m.minFilter!==ht,i.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[c]=u,u}loadImageSource(e,t){const n=this,i=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const l=i.images[e],p=self.URL||self.webkitURL;let c=l.uri||"",u=!1;if(l.bufferView!==void 0)c=n.getDependency("bufferView",l.bufferView).then(function(d){u=!0;const o=new Blob([d],{type:l.mimeType});return c=p.createObjectURL(o),c});else if(l.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(c).then(function(d){return new Promise(function(o,s){let h=o;t.isImageBitmapLoader===!0&&(h=function(g){const _=new Rt(g);_.needsUpdate=!0,o(_)}),t.load(Sa.resolveURL(d,r.path),h,void 0,s)})}).then(function(d){return u===!0&&p.revokeObjectURL(c),yn(d,l),d.userData.mimeType=l.mimeType||tE(l.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),d});return this.sourceCache[e]=m,m}assignTexture(e,t,n,i){const r=this;return this.getDependency("texture",n.index).then(function(l){if(!l)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(l=l.clone(),l.channel=n.texCoord),r.extensions[Qe.KHR_TEXTURE_TRANSFORM]){const p=n.extensions!==void 0?n.extensions[Qe.KHR_TEXTURE_TRANSFORM]:void 0;if(p){const c=r.associations.get(l);l=r.extensions[Qe.KHR_TEXTURE_TRANSFORM].extendTexture(l,p),r.associations.set(l,c)}}return i!==void 0&&(l.colorSpace=i),e[t]=l,l})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=t.attributes.tangent===void 0,r=t.attributes.color!==void 0,l=t.attributes.normal===void 0;if(e.isPoints){const p="PointsMaterial:"+n.uuid;let c=this.cache.get(p);c||(c=new Tu,An.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,c.sizeAttenuation=!1,this.cache.add(p,c)),n=c}else if(e.isLine){const p="LineBasicMaterial:"+n.uuid;let c=this.cache.get(p);c||(c=new Xs,An.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,this.cache.add(p,c)),n=c}if(i||r||l){let p="ClonedMaterial:"+n.uuid+":";i&&(p+="derivative-tangents:"),r&&(p+="vertex-colors:"),l&&(p+="flat-shading:");let c=this.cache.get(p);c||(c=n.clone(),r&&(c.vertexColors=!0),l&&(c.flatShading=!0),i&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(p,c),this.associations.set(c,this.associations.get(n))),n=c}e.material=n}getMaterialType(){return ii}loadMaterial(e){const t=this,n=this.json,i=this.extensions,r=n.materials[e];let l;const p={},c=r.extensions||{},u=[];if(c[Qe.KHR_MATERIALS_UNLIT]){const d=i[Qe.KHR_MATERIALS_UNLIT];l=d.getMaterialType(),u.push(d.extendParams(p,r,t))}else{const d=r.pbrMetallicRoughness||{};if(p.color=new ke(1,1,1),p.opacity=1,Array.isArray(d.baseColorFactor)){const o=d.baseColorFactor;p.color.setRGB(o[0],o[1],o[2],Pt),p.opacity=o[3]}d.baseColorTexture!==void 0&&u.push(t.assignTexture(p,"map",d.baseColorTexture,bt)),p.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,p.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(p,"metalnessMap",d.metallicRoughnessTexture)),u.push(t.assignTexture(p,"roughnessMap",d.metallicRoughnessTexture))),l=this._invokeOne(function(o){return o.getMaterialType&&o.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(o){return o.extendMaterialParams&&o.extendMaterialParams(e,p)})))}r.doubleSided===!0&&(p.side=un);const m=r.alphaMode||vr.OPAQUE;if(m===vr.BLEND?(p.transparent=!0,p.depthWrite=!1):(p.transparent=!1,m===vr.MASK&&(p.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&l!==Bn&&(u.push(t.assignTexture(p,"normalMap",r.normalTexture)),p.normalScale=new Ve(1,1),r.normalTexture.scale!==void 0)){const d=r.normalTexture.scale;p.normalScale.set(d,d)}if(r.occlusionTexture!==void 0&&l!==Bn&&(u.push(t.assignTexture(p,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(p.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&l!==Bn){const d=r.emissiveFactor;p.emissive=new ke().setRGB(d[0],d[1],d[2],Pt)}return r.emissiveTexture!==void 0&&l!==Bn&&u.push(t.assignTexture(p,"emissiveMap",r.emissiveTexture,bt)),Promise.all(u).then(function(){const d=new l(p);return r.name&&(d.name=r.name),yn(d,r),t.associations.set(d,{materials:e}),r.extensions&&hi(i,d,r),d})}createUniqueName(e){const t=rt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function r(p){return n[Qe.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(p,t).then(function(c){return wd(c,p,t)})}const l=[];for(let p=0,c=e.length;p<c;p++){const u=e[p],m=eE(u),d=i[m];if(d)l.push(d.promise);else{let o;u.extensions&&u.extensions[Qe.KHR_DRACO_MESH_COMPRESSION]?o=r(u):o=wd(new wt,u,t),i[m]={primitive:u,promise:o},l.push(o)}}return Promise.all(l)}loadMesh(e){const t=this,n=this.json,i=this.extensions,r=n.meshes[e],l=r.primitives,p=[];for(let c=0,u=l.length;c<u;c++){const m=l[c].material===void 0?$y(this.cache):this.getDependency("material",l[c].material);p.push(m)}return p.push(t.loadGeometries(l)),Promise.all(p).then(function(c){const u=c.slice(0,c.length-1),m=c[c.length-1],d=[];for(let s=0,h=m.length;s<h;s++){const g=m[s],_=l[s];let f;const E=u[s];if(_.mode===tn.TRIANGLES||_.mode===tn.TRIANGLE_STRIP||_.mode===tn.TRIANGLE_FAN||_.mode===void 0)f=r.isSkinnedMesh===!0?new Tm(g,E):new ct(g,E),f.isSkinnedMesh===!0&&f.normalizeSkinWeights(),_.mode===tn.TRIANGLE_STRIP?f.geometry=Dd(f.geometry,lu):_.mode===tn.TRIANGLE_FAN&&(f.geometry=Dd(f.geometry,Ts));else if(_.mode===tn.LINES)f=new bm(g,E);else if(_.mode===tn.LINE_STRIP)f=new Oa(g,E);else if(_.mode===tn.LINE_LOOP)f=new Dm(g,E);else if(_.mode===tn.POINTS)f=new Om(g,E);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(f.geometry.morphAttributes).length>0&&Qy(f,r),f.name=t.createUniqueName(r.name||"mesh_"+e),yn(f,r),_.extensions&&hi(i,f,_),t.assignFinalMaterial(f),d.push(f)}for(let s=0,h=d.length;s<h;s++)t.associations.set(d[s],{meshes:e,primitives:s});if(d.length===1)return r.extensions&&hi(i,d[0],r),d[0];const o=new Vn;r.extensions&&hi(i,o,r),t.associations.set(o,{meshes:e});for(let s=0,h=d.length;s<h;s++)o.add(d[s]);return o})}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new Ft(pu.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):n.type==="orthographic"&&(t=new Uo(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),yn(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let i=0,r=t.joints.length;i<r;i++)n.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(i){const r=i.pop(),l=i,p=[],c=[];for(let u=0,m=l.length;u<m;u++){const d=l[u];if(d){p.push(d);const o=new Ye;r!==null&&o.fromArray(r.array,u*16),c.push(o)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new qs(p,c)})}loadAnimation(e){const t=this.json,n=this,i=t.animations[e],r=i.name?i.name:"animation_"+e,l=[],p=[],c=[],u=[],m=[];for(let d=0,o=i.channels.length;d<o;d++){const s=i.channels[d],h=i.samplers[s.sampler],g=s.target,_=g.node,f=i.parameters!==void 0?i.parameters[h.input]:h.input,E=i.parameters!==void 0?i.parameters[h.output]:h.output;g.node!==void 0&&(l.push(this.getDependency("node",_)),p.push(this.getDependency("accessor",f)),c.push(this.getDependency("accessor",E)),u.push(h),m.push(g))}return Promise.all([Promise.all(l),Promise.all(p),Promise.all(c),Promise.all(u),Promise.all(m)]).then(function(d){const o=d[0],s=d[1],h=d[2],g=d[3],_=d[4],f=[];for(let T=0,R=o.length;T<R;T++){const O=o[T],P=s[T],N=h[T],U=g[T],A=_[T];if(O===void 0)continue;O.updateMatrix&&O.updateMatrix();const D=n._createAnimationTracks(O,P,N,U,A);if(D)for(let B=0;B<D.length;B++)f.push(D[B])}const E=new Bm(r,void 0,f);return yn(E,i),E})}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return i.mesh===void 0?null:n.getDependency("mesh",i.mesh).then(function(r){const l=n._getNodeRef(n.meshCache,i.mesh,r);return i.weights!==void 0&&l.traverse(function(p){if(p.isMesh)for(let c=0,u=i.weights.length;c<u;c++)p.morphTargetInfluences[c]=i.weights[c]}),l})}loadNode(e){const t=this.json,n=this,i=t.nodes[e],r=n._loadNodeShallow(e),l=[],p=i.children||[];for(let u=0,m=p.length;u<m;u++)l.push(n.getDependency("node",p[u]));const c=i.skin===void 0?Promise.resolve(null):n.getDependency("skin",i.skin);return Promise.all([r,Promise.all(l),c]).then(function(u){const m=u[0],d=u[1],o=u[2];o!==null&&m.traverse(function(s){s.isSkinnedMesh&&s.bind(o,nE)});for(let s=0,h=d.length;s<h;s++)m.add(d[s]);return m})}_loadNodeShallow(e){const t=this.json,n=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const r=t.nodes[e],l=r.name?i.createUniqueName(r.name):"",p=[],c=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return c&&p.push(c),r.camera!==void 0&&p.push(i.getDependency("camera",r.camera).then(function(u){return i._getNodeRef(i.cameraCache,r.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){p.push(u)}),this.nodeCache[e]=Promise.all(p).then(function(u){let m;if(r.isBone===!0?m=new Cu:u.length>1?m=new Vn:u.length===1?m=u[0]:m=new ft,m!==u[0])for(let d=0,o=u.length;d<o;d++)m.add(u[d]);if(r.name&&(m.userData.name=r.name,m.name=l),yn(m,r),r.extensions&&hi(n,m,r),r.matrix!==void 0){const d=new Ye;d.fromArray(r.matrix),m.applyMatrix4(d)}else r.translation!==void 0&&m.position.fromArray(r.translation),r.rotation!==void 0&&m.quaternion.fromArray(r.rotation),r.scale!==void 0&&m.scale.fromArray(r.scale);if(!i.associations.has(m))i.associations.set(m,{});else if(r.mesh!==void 0&&i.meshCache.refs[r.mesh]>1){const d=i.associations.get(m);i.associations.set(m,{...d})}return i.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],i=this,r=new Vn;n.name&&(r.name=i.createUniqueName(n.name)),yn(r,n),n.extensions&&hi(t,r,n);const l=n.nodes||[],p=[];for(let c=0,u=l.length;c<u;c++)p.push(i.getDependency("node",l[c]));return Promise.all(p).then(function(c){for(let m=0,d=c.length;m<d;m++)r.add(c[m]);const u=m=>{const d=new Map;for(const[o,s]of i.associations)(o instanceof An||o instanceof Rt)&&d.set(o,s);return m.traverse(o=>{const s=i.associations.get(o);s!=null&&d.set(o,s)}),d};return i.associations=u(r),r})}_createAnimationTracks(e,t,n,i,r){const l=[],p=e.name?e.name:e.uuid,c=[];Qn[r.path]===Qn.weights?e.traverse(function(o){o.morphTargetInfluences&&c.push(o.name?o.name:o.uuid)}):c.push(p);let u;switch(Qn[r.path]){case Qn.weights:u=Ji;break;case Qn.rotation:u=Qi;break;case Qn.translation:case Qn.scale:u=ea;break;default:switch(n.itemSize){case 1:u=Ji;break;case 2:case 3:default:u=ea;break}break}const m=i.interpolation!==void 0?Zy[i.interpolation]:Ra,d=this._getArrayFromAccessor(n);for(let o=0,s=c.length;o<s;o++){const h=new u(c[o]+"."+Qn[r.path],t.array,d,m);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(h),l.push(h)}return l}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=Os(t.constructor),i=new Float32Array(t.length);for(let r=0,l=t.length;r<l;r++)i[r]=t[r]*n;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const i=this instanceof Qi?jy:Nu;return new i(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function aE(a,e,t){const n=e.attributes,i=new bn;if(n.POSITION!==void 0){const p=t.json.accessors[n.POSITION],c=p.min,u=p.max;if(c!==void 0&&u!==void 0){if(i.set(new K(c[0],c[1],c[2]),new K(u[0],u[1],u[2])),p.normalized){const m=Os(qi[p.componentType]);i.min.multiplyScalar(m),i.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const p=new K,c=new K;for(let u=0,m=r.length;u<m;u++){const d=r[u];if(d.POSITION!==void 0){const o=t.json.accessors[d.POSITION],s=o.min,h=o.max;if(s!==void 0&&h!==void 0){if(c.setX(Math.max(Math.abs(s[0]),Math.abs(h[0]))),c.setY(Math.max(Math.abs(s[1]),Math.abs(h[1]))),c.setZ(Math.max(Math.abs(s[2]),Math.abs(h[2]))),o.normalized){const g=Os(qi[o.componentType]);c.multiplyScalar(g)}p.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(p)}a.boundingBox=i;const l=new Dn;i.getCenter(l.center),l.radius=i.min.distanceTo(i.max)/2,a.boundingSphere=l}function wd(a,e,t){const n=e.attributes,i=[];function r(l,p){return t.getDependency("accessor",l).then(function(c){a.setAttribute(p,c)})}for(const l in n){const p=Ds[l]||l.toLowerCase();p in a.attributes||i.push(r(n[l],p))}if(e.indices!==void 0&&!a.index){const l=t.getDependency("accessor",e.indices).then(function(p){a.setIndex(p)});i.push(l)}return et.workingColorSpace!==Pt&&"COLOR_0"in n&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${et.workingColorSpace}" not supported.`),yn(a,e),aE(a,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Jy(a,e.targets,t):a})}class oE extends Xm{constructor(e){super(e),this.type=Zt}parse(e){const l=function(U,A){switch(U){case 1:throw new Error("THREE.HDRLoader: Read Error: "+(A||""));case 2:throw new Error("THREE.HDRLoader: Write Error: "+(A||""));case 3:throw new Error("THREE.HDRLoader: Bad File Format: "+(A||""));default:case 4:throw new Error("THREE.HDRLoader: Memory Error: "+(A||""))}},d=function(U,A,D){A=A||1024;let Y=U.pos,y=-1,v=0,M="",b=String.fromCharCode.apply(null,new Uint16Array(U.subarray(Y,Y+128)));for(;0>(y=b.indexOf(`
`))&&v<A&&Y<U.byteLength;)M+=b,v+=b.length,Y+=128,b+=String.fromCharCode.apply(null,new Uint16Array(U.subarray(Y,Y+128)));return-1<y?(U.pos+=v+y+1,M+b.slice(0,y)):!1},o=function(U){const A=/^#\?(\S+)/,D=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,B=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Y=/^\s*FORMAT=(\S+)\s*$/,y=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,v={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let M,b;for((U.pos>=U.byteLength||!(M=d(U)))&&l(1,"no header found"),(b=M.match(A))||l(3,"bad initial token"),v.valid|=1,v.programtype=b[1],v.string+=M+`
`;M=d(U),M!==!1;){if(v.string+=M+`
`,M.charAt(0)==="#"){v.comments+=M+`
`;continue}if((b=M.match(D))&&(v.gamma=parseFloat(b[1])),(b=M.match(B))&&(v.exposure=parseFloat(b[1])),(b=M.match(Y))&&(v.valid|=2,v.format=b[1]),(b=M.match(y))&&(v.valid|=4,v.height=parseInt(b[1],10),v.width=parseInt(b[2],10)),v.valid&2&&v.valid&4)break}return v.valid&2||l(3,"missing format specifier"),v.valid&4||l(3,"missing image size specifier"),v},s=function(U,A,D){const B=A;if(B<8||B>32767||U[0]!==2||U[1]!==2||U[2]&128)return new Uint8Array(U);B!==(U[2]<<8|U[3])&&l(3,"wrong scanline width");const Y=new Uint8Array(4*A*D);Y.length||l(4,"unable to allocate buffer space");let y=0,v=0;const M=4*B,b=new Uint8Array(4),x=new Uint8Array(M);let k=D;for(;k>0&&v<U.byteLength;){v+4>U.byteLength&&l(1),b[0]=U[v++],b[1]=U[v++],b[2]=U[v++],b[3]=U[v++],(b[0]!=2||b[1]!=2||(b[2]<<8|b[3])!=B)&&l(3,"bad rgbe scanline format");let Z=0,q;for(;Z<M&&v<U.byteLength;){q=U[v++];const de=q>128;if(de&&(q-=128),(q===0||Z+q>M)&&l(3,"bad scanline data"),de){const ie=U[v++];for(let be=0;be<q;be++)x[Z++]=ie}else x.set(U.subarray(v,v+q),Z),Z+=q,v+=q}const J=B;for(let de=0;de<J;de++){let ie=0;Y[y]=x[de+ie],ie+=B,Y[y+1]=x[de+ie],ie+=B,Y[y+2]=x[de+ie],ie+=B,Y[y+3]=x[de+ie],y+=4}k--}return Y},h=function(U,A,D,B){const Y=U[A+3],y=Math.pow(2,Y-128)/255;D[B+0]=U[A+0]*y,D[B+1]=U[A+1]*y,D[B+2]=U[A+2]*y,D[B+3]=1},g=function(U,A,D,B){const Y=U[A+3],y=Math.pow(2,Y-128)/255;D[B+0]=Ya.toHalfFloat(Math.min(U[A+0]*y,65504)),D[B+1]=Ya.toHalfFloat(Math.min(U[A+1]*y,65504)),D[B+2]=Ya.toHalfFloat(Math.min(U[A+2]*y,65504)),D[B+3]=Ya.toHalfFloat(1)},_=new Uint8Array(e);_.pos=0;const f=o(_),E=f.width,T=f.height,R=s(_.subarray(_.pos),E,T);let O,P,N;switch(this.type){case kt:N=R.length/4;const U=new Float32Array(N*4);for(let D=0;D<N;D++)h(R,D*4,U,D*4);O=U,P=kt;break;case Zt:N=R.length/4;const A=new Uint16Array(N*4);for(let D=0;D<N;D++)g(R,D*4,A,D*4);O=A,P=Zt;break;default:throw new Error("THREE.HDRLoader: Unsupported type: "+this.type)}return{width:E,height:T,data:O,header:f.string,gamma:f.gamma,exposure:f.exposure,type:P}}setDataType(e){return this.type=e,this}load(e,t,n,i){function r(l,p){switch(l.type){case kt:case Zt:l.colorSpace=Pt,l.minFilter=ht,l.magFilter=ht,l.generateMipmaps=!1,l.flipY=!0;break}t&&t(l,p)}return super.load(e,r,n,i)}}class rE extends oE{constructor(e){console.warn("RGBELoader has been deprecated. Please use HDRLoader instead."),super(e)}}const Et={ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};async function Lu(a){const e=await fetch(a);if(e.ok)return e.json();throw new Error(e.statusText)}async function sE(a){if(!a)throw new Error("No basePath supplied");return await Lu(`${a}/profilesList.json`)}async function lE(a,e,t=null,n=!0){if(!a)throw new Error("No xrInputSource supplied");if(!e)throw new Error("No basePath supplied");const i=await sE(e);let r;if(a.profiles.some(c=>{const u=i[c];return u&&(r={profileId:c,profilePath:`${e}/${u.path}`,deprecated:!!u.deprecated}),!!r}),!r){if(!t)throw new Error("No matching profile name found");const c=i[t];if(!c)throw new Error(`No matching profile name found and default profile "${t}" missing.`);r={profileId:t,profilePath:`${e}/${c.path}`,deprecated:!!c.deprecated}}const l=await Lu(r.profilePath);let p;if(n){let c;if(a.handedness==="any"?c=l.layouts[Object.keys(l.layouts)[0]]:c=l.layouts[a.handedness],!c)throw new Error(`No matching handedness, ${a.handedness}, in profile ${r.profileId}`);c.assetPath&&(p=r.profilePath.replace("profile.json",c.assetPath))}return{profile:l,assetPath:p}}const dE={xAxis:0,yAxis:0,button:0,state:Et.ComponentState.DEFAULT};function uE(a=0,e=0){let t=a,n=e;if(Math.sqrt(a*a+e*e)>1){const l=Math.atan2(e,a);t=Math.cos(l),n=Math.sin(l)}return{normalizedXAxis:t*.5+.5,normalizedYAxis:n*.5+.5}}class pE{constructor(e){this.componentProperty=e.componentProperty,this.states=e.states,this.valueNodeName=e.valueNodeName,this.valueNodeProperty=e.valueNodeProperty,this.valueNodeProperty===Et.VisualResponseProperty.TRANSFORM&&(this.minNodeName=e.minNodeName,this.maxNodeName=e.maxNodeName),this.value=0,this.updateFromComponent(dE)}updateFromComponent({xAxis:e,yAxis:t,button:n,state:i}){const{normalizedXAxis:r,normalizedYAxis:l}=uE(e,t);switch(this.componentProperty){case Et.ComponentProperty.X_AXIS:this.value=this.states.includes(i)?r:.5;break;case Et.ComponentProperty.Y_AXIS:this.value=this.states.includes(i)?l:.5;break;case Et.ComponentProperty.BUTTON:this.value=this.states.includes(i)?n:0;break;case Et.ComponentProperty.STATE:this.valueNodeProperty===Et.VisualResponseProperty.VISIBILITY?this.value=this.states.includes(i):this.value=this.states.includes(i)?1:0;break;default:throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`)}}}class mE{constructor(e,t){if(!e||!t||!t.visualResponses||!t.gamepadIndices||Object.keys(t.gamepadIndices).length===0)throw new Error("Invalid arguments supplied");this.id=e,this.type=t.type,this.rootNodeName=t.rootNodeName,this.touchPointNodeName=t.touchPointNodeName,this.visualResponses={},Object.keys(t.visualResponses).forEach(n=>{const i=new pE(t.visualResponses[n]);this.visualResponses[n]=i}),this.gamepadIndices=Object.assign({},t.gamepadIndices),this.values={state:Et.ComponentState.DEFAULT,button:this.gamepadIndices.button!==void 0?0:void 0,xAxis:this.gamepadIndices.xAxis!==void 0?0:void 0,yAxis:this.gamepadIndices.yAxis!==void 0?0:void 0}}get data(){return{id:this.id,...this.values}}updateFromGamepad(e){if(this.values.state=Et.ComponentState.DEFAULT,this.gamepadIndices.button!==void 0&&e.buttons.length>this.gamepadIndices.button){const t=e.buttons[this.gamepadIndices.button];this.values.button=t.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,t.pressed||this.values.button===1?this.values.state=Et.ComponentState.PRESSED:(t.touched||this.values.button>Et.ButtonTouchThreshold)&&(this.values.state=Et.ComponentState.TOUCHED)}this.gamepadIndices.xAxis!==void 0&&e.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=e.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===Et.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>Et.AxisTouchThreshold&&(this.values.state=Et.ComponentState.TOUCHED)),this.gamepadIndices.yAxis!==void 0&&e.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=e.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===Et.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>Et.AxisTouchThreshold&&(this.values.state=Et.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(t=>{t.updateFromComponent(this.values)})}}class cE{constructor(e,t,n){if(!e)throw new Error("No xrInputSource supplied");if(!t)throw new Error("No profile supplied");this.xrInputSource=e,this.assetUrl=n,this.id=t.profileId,this.layoutDescription=t.layouts[e.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(i=>{const r=this.layoutDescription.components[i];this.components[i]=new mE(i,r)}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const e=[];return Object.values(this.components).forEach(t=>{e.push(t.data)}),e}updateFromGamepad(){Object.values(this.components).forEach(e=>{e.updateFromGamepad(this.xrInputSource.gamepad)})}}const hE="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles",fE="generic-trigger";class _E extends ft{constructor(){super(),this.motionController=null,this.envMap=null}setEnvironmentMap(e){return this.envMap==e?this:(this.envMap=e,this.traverse(t=>{t.isMesh&&(t.material.envMap=this.envMap,t.material.needsUpdate=!0)}),this)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.motionController&&(this.motionController.updateFromGamepad(),Object.values(this.motionController.components).forEach(t=>{Object.values(t.visualResponses).forEach(n=>{const{valueNode:i,minNode:r,maxNode:l,value:p,valueNodeProperty:c}=n;i&&(c===Et.VisualResponseProperty.VISIBILITY?i.visible=p:c===Et.VisualResponseProperty.TRANSFORM&&(i.quaternion.slerpQuaternions(r.quaternion,l.quaternion,p),i.position.lerpVectors(r.position,l.position,p)))})}))}}function gE(a,e){Object.values(a.components).forEach(t=>{const{type:n,touchPointNodeName:i,visualResponses:r}=t;if(n===Et.ComponentType.TOUCHPAD)if(t.touchPointNode=e.getObjectByName(i),t.touchPointNode){const l=new Ei(.001),p=new Bn({color:255}),c=new ct(l,p);t.touchPointNode.add(c)}else console.warn(`Could not find touch dot, ${t.touchPointNodeName}, in touchpad component ${t.id}`);Object.values(r).forEach(l=>{const{valueNodeName:p,minNodeName:c,maxNodeName:u,valueNodeProperty:m}=l;if(m===Et.VisualResponseProperty.TRANSFORM){if(l.minNode=e.getObjectByName(c),l.maxNode=e.getObjectByName(u),!l.minNode){console.warn(`Could not find ${c} in the model`);return}if(!l.maxNode){console.warn(`Could not find ${u} in the model`);return}}l.valueNode=e.getObjectByName(p),l.valueNode||console.warn(`Could not find ${p} in the model`)})})}function Nd(a,e){gE(a.motionController,e),a.envMap&&e.traverse(t=>{t.isMesh&&(t.material.envMap=a.envMap,t.material.needsUpdate=!0)}),a.add(e)}class yE{constructor(e=null,t=null){this.gltfLoader=e,this.path=hE,this._assetCache={},this.onLoad=t,this.gltfLoader||(this.gltfLoader=new Pu)}setPath(e){return this.path=e,this}createControllerModel(e){const t=new _E;let n=null;return e.addEventListener("connected",i=>{const r=i.data;r.targetRayMode!=="tracked-pointer"||!r.gamepad||r.hand||lE(r,this.path,fE).then(({profile:l,assetPath:p})=>{t.motionController=new cE(r,l,p);const c=this._assetCache[t.motionController.assetUrl];if(c)n=c.scene.clone(),Nd(t,n),this.onLoad&&this.onLoad(n);else{if(!this.gltfLoader)throw new Error("GLTFLoader not set.");this.gltfLoader.setPath(""),this.gltfLoader.load(t.motionController.assetUrl,u=>{this._assetCache[t.motionController.assetUrl]=u,n=u.scene.clone(),Nd(t,n),this.onLoad&&this.onLoad(n)},null,()=>{throw new Error(`Asset ${t.motionController.assetUrl} missing or malformed.`)})}}).catch(l=>{console.warn(l)})}),e.addEventListener("disconnected",()=>{t.motionController=null,t.remove(n),n=null}),t}}class EE{static createButton(e,t={}){const n=document.createElement("button");function i(u){let m=null;async function d(h){h.addEventListener("end",o),await e.xr.setSession(h),n.textContent="STOP XR",m=h}function o(){m.removeEventListener("end",o),n.textContent="START XR",m=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="START XR";const s={...t,optionalFeatures:["local-floor","bounded-floor","layers",...t.optionalFeatures||[]]};n.onmouseenter=function(){n.style.opacity="1.0"},n.onmouseleave=function(){n.style.opacity="0.5"},n.onclick=function(){m===null?navigator.xr.requestSession(u,s).then(d):(m.end(),navigator.xr.offerSession!==void 0&&navigator.xr.offerSession(u,s).then(d).catch(h=>{console.warn(h)}))},navigator.xr.offerSession!==void 0&&navigator.xr.offerSession(u,s).then(d).catch(h=>{console.warn(h)})}function r(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null}function l(){r(),n.textContent="XR NOT SUPPORTED"}function p(u){r(),console.warn("Exception when trying to call xr.isSessionSupported",u),n.textContent="XR NOT ALLOWED"}function c(u){u.style.position="absolute",u.style.bottom="20px",u.style.padding="12px 6px",u.style.border="1px solid #fff",u.style.borderRadius="4px",u.style.background="rgba(0,0,0,0.1)",u.style.color="#fff",u.style.font="normal 13px sans-serif",u.style.textAlign="center",u.style.opacity="0.5",u.style.outline="none",u.style.zIndex="999"}if("xr"in navigator)return n.id="XRButton",n.style.display="none",c(n),navigator.xr.isSessionSupported("immersive-ar").then(function(u){u?i("immersive-ar"):navigator.xr.isSessionSupported("immersive-vr").then(function(m){m?i("immersive-vr"):l()}).catch(p)}).catch(p),n;{const u=document.createElement("a");return window.isSecureContext===!1?(u.href=document.location.href.replace(/^http:/,"https:"),u.innerHTML="WEBXR NEEDS HTTPS"):(u.href="https://immersiveweb.dev/",u.innerHTML="WEBXR NOT AVAILABLE"),u.style.left="calc(50% - 90px)",u.style.width="180px",u.style.textDecoration="none",c(u),u}}}var Ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CE(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function TE(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var e=a.default;if(typeof e=="function"){var t=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(a).forEach(function(n){var i=Object.getOwnPropertyDescriptor(a,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return a[n]}})}),t}function tl(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vo={exports:{}},xo={exports:{}},Ro={exports:{}},ME=Ro.exports,Ld;function Gu(){return Ld||(Ld=1,(function(a){(function(e,t){typeof tl=="function"&&a&&a.exports?a.exports=t():(e.dcodeIO=e.dcodeIO||{}).Long=t()})(ME,function(){function e(m,d,o){this.low=m|0,this.high=d|0,this.unsigned=!!o}e.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=function(d){return(d&&d.__isLong__)===!0};var t={},n={};e.fromInt=function(d,o){var s,h;return o?(d=d>>>0,0<=d&&d<256&&(h=n[d],h)?h:(s=new e(d,(d|0)<0?-1:0,!0),0<=d&&d<256&&(n[d]=s),s)):(d=d|0,-128<=d&&d<128&&(h=t[d],h)?h:(s=new e(d,d<0?-1:0,!1),-128<=d&&d<128&&(t[d]=s),s))},e.fromNumber=function(d,o){return o=!!o,isNaN(d)||!isFinite(d)?e.ZERO:!o&&d<=-c?e.MIN_VALUE:!o&&d+1>=c?e.MAX_VALUE:o&&d>=p?e.MAX_UNSIGNED_VALUE:d<0?e.fromNumber(-d,o).negate():new e(d%l|0,d/l|0,o)},e.fromBits=function(d,o,s){return new e(d,o,s)},e.fromString=function(d,o,s){if(d.length===0)throw Error("number format error: empty string");if(d==="NaN"||d==="Infinity"||d==="+Infinity"||d==="-Infinity")return e.ZERO;if(typeof o=="number"&&(s=o,o=!1),s=s||10,s<2||36<s)throw Error("radix out of range: "+s);var h;if((h=d.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+d);if(h===0)return e.fromString(d.substring(1),o,s).negate();for(var g=e.fromNumber(Math.pow(s,8)),_=e.ZERO,f=0;f<d.length;f+=8){var E=Math.min(8,d.length-f),T=parseInt(d.substring(f,f+E),s);if(E<8){var R=e.fromNumber(Math.pow(s,E));_=_.multiply(R).add(e.fromNumber(T))}else _=_.multiply(g),_=_.add(e.fromNumber(T))}return _.unsigned=o,_},e.fromValue=function(d){return d instanceof e?d:typeof d=="number"?e.fromNumber(d):typeof d=="string"?e.fromString(d):new e(d.low,d.high,d.unsigned)};var i=65536,r=1<<24,l=i*i,p=l*l,c=p/2,u=e.fromInt(r);return e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},e.prototype.toString=function(d){if(d=d||10,d<2||36<d)throw RangeError("radix out of range: "+d);if(this.isZero())return"0";var o;if(this.isNegative())if(this.equals(e.MIN_VALUE)){var s=e.fromNumber(d),h=this.divide(s);return o=h.multiply(s).subtract(this),h.toString(d)+o.toInt().toString(d)}else return"-"+this.negate().toString(d);var g=e.fromNumber(Math.pow(d,6),this.unsigned);o=this;for(var _="";;){var f=o.divide(g),E=o.subtract(f.multiply(g)).toInt()>>>0,T=E.toString(d);if(o=f,o.isZero())return T+_;for(;T.length<6;)T="0"+T;_=""+T+_}},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var d=this.high!=0?this.high:this.low,o=31;o>0&&(d&1<<o)==0;o--);return this.high!=0?o+33:o+1},e.prototype.isZero=function(){return this.high===0&&this.low===0},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isOdd=function(){return(this.low&1)===1},e.prototype.isEven=function(){return(this.low&1)===0},e.prototype.equals=function(d){return e.isLong(d)||(d=e.fromValue(d)),this.unsigned!==d.unsigned&&this.high>>>31===1&&d.high>>>31===1?!1:this.high===d.high&&this.low===d.low},e.eq=e.prototype.equals,e.prototype.notEquals=function(d){return!this.equals(d)},e.neq=e.prototype.notEquals,e.prototype.lessThan=function(d){return this.compare(d)<0},e.prototype.lt=e.prototype.lessThan,e.prototype.lessThanOrEqual=function(d){return this.compare(d)<=0},e.prototype.lte=e.prototype.lessThanOrEqual,e.prototype.greaterThan=function(d){return this.compare(d)>0},e.prototype.gt=e.prototype.greaterThan,e.prototype.greaterThanOrEqual=function(d){return this.compare(d)>=0},e.prototype.gte=e.prototype.greaterThanOrEqual,e.prototype.compare=function(d){if(e.isLong(d)||(d=e.fromValue(d)),this.equals(d))return 0;var o=this.isNegative(),s=d.isNegative();return o&&!s?-1:!o&&s?1:this.unsigned?d.high>>>0>this.high>>>0||d.high===this.high&&d.low>>>0>this.low>>>0?-1:1:this.subtract(d).isNegative()?-1:1},e.prototype.negate=function(){return!this.unsigned&&this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=e.prototype.negate,e.prototype.add=function(d){e.isLong(d)||(d=e.fromValue(d));var o=this.high>>>16,s=this.high&65535,h=this.low>>>16,g=this.low&65535,_=d.high>>>16,f=d.high&65535,E=d.low>>>16,T=d.low&65535,R=0,O=0,P=0,N=0;return N+=g+T,P+=N>>>16,N&=65535,P+=h+E,O+=P>>>16,P&=65535,O+=s+f,R+=O>>>16,O&=65535,R+=o+_,R&=65535,e.fromBits(P<<16|N,R<<16|O,this.unsigned)},e.prototype.subtract=function(d){return e.isLong(d)||(d=e.fromValue(d)),this.add(d.negate())},e.prototype.sub=e.prototype.subtract,e.prototype.multiply=function(d){if(this.isZero()||(e.isLong(d)||(d=e.fromValue(d)),d.isZero()))return e.ZERO;if(this.equals(e.MIN_VALUE))return d.isOdd()?e.MIN_VALUE:e.ZERO;if(d.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return d.isNegative()?this.negate().multiply(d.negate()):this.negate().multiply(d).negate();if(d.isNegative())return this.multiply(d.negate()).negate();if(this.lessThan(u)&&d.lessThan(u))return e.fromNumber(this.toNumber()*d.toNumber(),this.unsigned);var o=this.high>>>16,s=this.high&65535,h=this.low>>>16,g=this.low&65535,_=d.high>>>16,f=d.high&65535,E=d.low>>>16,T=d.low&65535,R=0,O=0,P=0,N=0;return N+=g*T,P+=N>>>16,N&=65535,P+=h*T,O+=P>>>16,P&=65535,P+=g*E,O+=P>>>16,P&=65535,O+=s*T,R+=O>>>16,O&=65535,O+=h*E,R+=O>>>16,O&=65535,O+=g*f,R+=O>>>16,O&=65535,R+=o*T+s*E+h*f+g*_,R&=65535,e.fromBits(P<<16|N,R<<16|O,this.unsigned)},e.prototype.mul=e.prototype.multiply,e.prototype.divide=function(d){if(e.isLong(d)||(d=e.fromValue(d)),d.isZero())throw new Error("division by zero");if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var o,s,h;if(this.equals(e.MIN_VALUE)){if(d.equals(e.ONE)||d.equals(e.NEG_ONE))return e.MIN_VALUE;if(d.equals(e.MIN_VALUE))return e.ONE;var g=this.shiftRight(1);return o=g.divide(d).shiftLeft(1),o.equals(e.ZERO)?d.isNegative()?e.ONE:e.NEG_ONE:(s=this.subtract(d.multiply(o)),h=o.add(s.divide(d)),h)}else if(d.equals(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return d.isNegative()?this.negate().divide(d.negate()):this.negate().divide(d).negate();if(d.isNegative())return this.divide(d.negate()).negate();for(h=e.ZERO,s=this;s.greaterThanOrEqual(d);){o=Math.max(1,Math.floor(s.toNumber()/d.toNumber()));for(var _=Math.ceil(Math.log(o)/Math.LN2),f=_<=48?1:Math.pow(2,_-48),E=e.fromNumber(o),T=E.multiply(d);T.isNegative()||T.greaterThan(s);)o-=f,E=e.fromNumber(o,this.unsigned),T=E.multiply(d);E.isZero()&&(E=e.ONE),h=h.add(E),s=s.subtract(T)}return h},e.prototype.div=e.prototype.divide,e.prototype.modulo=function(d){return e.isLong(d)||(d=e.fromValue(d)),this.subtract(this.divide(d).multiply(d))},e.prototype.mod=e.prototype.modulo,e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.and=function(d){return e.isLong(d)||(d=e.fromValue(d)),e.fromBits(this.low&d.low,this.high&d.high,this.unsigned)},e.prototype.or=function(d){return e.isLong(d)||(d=e.fromValue(d)),e.fromBits(this.low|d.low,this.high|d.high,this.unsigned)},e.prototype.xor=function(d){return e.isLong(d)||(d=e.fromValue(d)),e.fromBits(this.low^d.low,this.high^d.high,this.unsigned)},e.prototype.shiftLeft=function(d){return e.isLong(d)&&(d=d.toInt()),(d&=63)===0?this:d<32?e.fromBits(this.low<<d,this.high<<d|this.low>>>32-d,this.unsigned):e.fromBits(0,this.low<<d-32,this.unsigned)},e.prototype.shl=e.prototype.shiftLeft,e.prototype.shiftRight=function(d){return e.isLong(d)&&(d=d.toInt()),(d&=63)===0?this:d<32?e.fromBits(this.low>>>d|this.high<<32-d,this.high>>d,this.unsigned):e.fromBits(this.high>>d-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=e.prototype.shiftRight,e.prototype.shiftRightUnsigned=function(d){if(e.isLong(d)&&(d=d.toInt()),d&=63,d===0)return this;var o=this.high;if(d<32){var s=this.low;return e.fromBits(s>>>d|o<<32-d,o>>>d,this.unsigned)}else return d===32?e.fromBits(o,0,this.unsigned):e.fromBits(o>>>d-32,0,this.unsigned)},e.prototype.shru=e.prototype.shiftRightUnsigned,e.prototype.toSigned=function(){return this.unsigned?new e(this.low,this.high,!1):this},e.prototype.toUnsigned=function(){return this.unsigned?this:new e(this.low,this.high,!0)},e})})(Ro)),Ro.exports}var SE=xo.exports,Gd;function Uu(){return Gd||(Gd=1,(function(a){(function(e,t){typeof tl=="function"&&a&&a.exports?a.exports=(function(){var n;try{n=Gu()}catch{}return t(n)})():(e.dcodeIO=e.dcodeIO||{}).ByteBuffer=t(e.dcodeIO.Long)})(SE,function(e){var t=function(o,s,h){if(typeof o>"u"&&(o=t.DEFAULT_CAPACITY),typeof s>"u"&&(s=t.DEFAULT_ENDIAN),typeof h>"u"&&(h=t.DEFAULT_NOASSERT),!h){if(o=o|0,o<0)throw RangeError("Illegal capacity");s=!!s,h=!!h}this.buffer=o===0?i:new ArrayBuffer(o),this.view=o===0?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=o,this.littleEndian=typeof s<"u"?!!s:!1,this.noAssert=!!h};t.VERSION="4.1.0",t.LITTLE_ENDIAN=!0,t.BIG_ENDIAN=!1,t.DEFAULT_CAPACITY=16,t.DEFAULT_ENDIAN=t.BIG_ENDIAN,t.DEFAULT_NOASSERT=!1,t.Long=e||null;var n=t.prototype;n.__isByteBuffer__,Object.defineProperty(n,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var i=new ArrayBuffer(0),r=String.fromCharCode;function l(o){var s=0;return function(){return s<o.length?o.charCodeAt(s++):null}}function p(){var o=[],s=[];return function(){if(arguments.length===0)return s.join("")+r.apply(String,o);o.length+arguments.length>1024&&(s.push(r.apply(String,o)),o.length=0),Array.prototype.push.apply(o,arguments)}}t.accessor=function(){return Uint8Array},t.allocate=function(o,s,h){return new t(o,s,h)},t.concat=function(o,s,h,g){(typeof s=="boolean"||typeof s!="string")&&(g=h,h=s,s=void 0);for(var _=0,f=0,E=o.length,T;f<E;++f)t.isByteBuffer(o[f])||(o[f]=t.wrap(o[f],s)),T=o[f].limit-o[f].offset,T>0&&(_+=T);if(_===0)return new t(0,h,g);var R=new t(_,h,g),O;for(f=0;f<E;)O=o[f++],T=O.limit-O.offset,!(T<=0)&&(R.view.set(O.view.subarray(O.offset,O.limit),R.offset),R.offset+=T);return R.limit=R.offset,R.offset=0,R},t.isByteBuffer=function(o){return(o&&o.__isByteBuffer__)===!0},t.type=function(){return ArrayBuffer},t.wrap=function(o,s,h,g){if(typeof s!="string"&&(g=h,h=s,s=void 0),typeof o=="string")switch(typeof s>"u"&&(s="utf8"),s){case"base64":return t.fromBase64(o,h);case"hex":return t.fromHex(o,h);case"binary":return t.fromBinary(o,h);case"utf8":return t.fromUTF8(o,h);case"debug":return t.fromDebug(o,h);default:throw Error("Unsupported encoding: "+s)}if(o===null||typeof o!="object")throw TypeError("Illegal buffer");var _;if(t.isByteBuffer(o))return _=n.clone.call(o),_.markedOffset=-1,_;if(o instanceof Uint8Array)_=new t(0,h,g),o.length>0&&(_.buffer=o.buffer,_.offset=o.byteOffset,_.limit=o.byteOffset+o.byteLength,_.view=new Uint8Array(o.buffer));else if(o instanceof ArrayBuffer)_=new t(0,h,g),o.byteLength>0&&(_.buffer=o,_.offset=0,_.limit=o.byteLength,_.view=o.byteLength>0?new Uint8Array(o):null);else if(Object.prototype.toString.call(o)==="[object Array]"){_=new t(o.length,h,g),_.limit=o.length;for(var f=0;f<o.length;++f)_.view[f]=o[f]}else throw TypeError("Illegal buffer");return _},n.readBytes=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+o>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+"+o+") <= "+this.buffer.byteLength)}var g=this.slice(s,s+o);return h&&(this.offset+=o),g},n.writeBytes=n.append,n.writeInt8=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal value: "+o+" (not an integer)");if(o|=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=1;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=1,this.view[s]=o,h&&(this.offset+=1),this},n.writeByte=n.writeInt8,n.readInt8=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+1) <= "+this.buffer.byteLength)}var h=this.view[o];return(h&128)===128&&(h=-(255-h+1)),s&&(this.offset+=1),h},n.readByte=n.readInt8,n.writeUint8=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal value: "+o+" (not an integer)");if(o>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=1;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=1,this.view[s]=o,h&&(this.offset+=1),this},n.writeUInt8=n.writeUint8,n.readUint8=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+1) <= "+this.buffer.byteLength)}var h=this.view[o];return s&&(this.offset+=1),h},n.readUInt8=n.readUint8,n.writeInt16=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal value: "+o+" (not an integer)");if(o|=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=2;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=2,this.littleEndian?(this.view[s+1]=(o&65280)>>>8,this.view[s]=o&255):(this.view[s]=(o&65280)>>>8,this.view[s+1]=o&255),h&&(this.offset+=2),this},n.writeShort=n.writeInt16,n.readInt16=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+2) <= "+this.buffer.byteLength)}var h=0;return this.littleEndian?(h=this.view[o],h|=this.view[o+1]<<8):(h=this.view[o]<<8,h|=this.view[o+1]),(h&32768)===32768&&(h=-(65535-h+1)),s&&(this.offset+=2),h},n.readShort=n.readInt16,n.writeUint16=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal value: "+o+" (not an integer)");if(o>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=2;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=2,this.littleEndian?(this.view[s+1]=(o&65280)>>>8,this.view[s]=o&255):(this.view[s]=(o&65280)>>>8,this.view[s+1]=o&255),h&&(this.offset+=2),this},n.writeUInt16=n.writeUint16,n.readUint16=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+2) <= "+this.buffer.byteLength)}var h=0;return this.littleEndian?(h=this.view[o],h|=this.view[o+1]<<8):(h=this.view[o]<<8,h|=this.view[o+1]),s&&(this.offset+=2),h},n.readUInt16=n.readUint16,n.writeInt32=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal value: "+o+" (not an integer)");if(o|=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=4;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=4,this.littleEndian?(this.view[s+3]=o>>>24&255,this.view[s+2]=o>>>16&255,this.view[s+1]=o>>>8&255,this.view[s]=o&255):(this.view[s]=o>>>24&255,this.view[s+1]=o>>>16&255,this.view[s+2]=o>>>8&255,this.view[s+3]=o&255),h&&(this.offset+=4),this},n.writeInt=n.writeInt32,n.readInt32=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+4) <= "+this.buffer.byteLength)}var h=0;return this.littleEndian?(h=this.view[o+2]<<16,h|=this.view[o+1]<<8,h|=this.view[o],h+=this.view[o+3]<<24>>>0):(h=this.view[o+1]<<16,h|=this.view[o+2]<<8,h|=this.view[o+3],h+=this.view[o]<<24>>>0),h|=0,s&&(this.offset+=4),h},n.readInt=n.readInt32,n.writeUint32=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal value: "+o+" (not an integer)");if(o>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=4;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=4,this.littleEndian?(this.view[s+3]=o>>>24&255,this.view[s+2]=o>>>16&255,this.view[s+1]=o>>>8&255,this.view[s]=o&255):(this.view[s]=o>>>24&255,this.view[s+1]=o>>>16&255,this.view[s+2]=o>>>8&255,this.view[s+3]=o&255),h&&(this.offset+=4),this},n.writeUInt32=n.writeUint32,n.readUint32=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+4) <= "+this.buffer.byteLength)}var h=0;return this.littleEndian?(h=this.view[o+2]<<16,h|=this.view[o+1]<<8,h|=this.view[o],h+=this.view[o+3]<<24>>>0):(h=this.view[o+1]<<16,h|=this.view[o+2]<<8,h|=this.view[o+3],h+=this.view[o]<<24>>>0),s&&(this.offset+=4),h},n.readUInt32=n.readUint32,e&&(n.writeInt64=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof o=="number")o=e.fromNumber(o);else if(typeof o=="string")o=e.fromString(o);else if(!(o&&o instanceof e))throw TypeError("Illegal value: "+o+" (not an integer or Long)");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}typeof o=="number"?o=e.fromNumber(o):typeof o=="string"&&(o=e.fromString(o)),s+=8;var g=this.buffer.byteLength;s>g&&this.resize((g*=2)>s?g:s),s-=8;var _=o.low,f=o.high;return this.littleEndian?(this.view[s+3]=_>>>24&255,this.view[s+2]=_>>>16&255,this.view[s+1]=_>>>8&255,this.view[s]=_&255,s+=4,this.view[s+3]=f>>>24&255,this.view[s+2]=f>>>16&255,this.view[s+1]=f>>>8&255,this.view[s]=f&255):(this.view[s]=f>>>24&255,this.view[s+1]=f>>>16&255,this.view[s+2]=f>>>8&255,this.view[s+3]=f&255,s+=4,this.view[s]=_>>>24&255,this.view[s+1]=_>>>16&255,this.view[s+2]=_>>>8&255,this.view[s+3]=_&255),h&&(this.offset+=8),this},n.writeLong=n.writeInt64,n.readInt64=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+8) <= "+this.buffer.byteLength)}var h=0,g=0;this.littleEndian?(h=this.view[o+2]<<16,h|=this.view[o+1]<<8,h|=this.view[o],h+=this.view[o+3]<<24>>>0,o+=4,g=this.view[o+2]<<16,g|=this.view[o+1]<<8,g|=this.view[o],g+=this.view[o+3]<<24>>>0):(g=this.view[o+1]<<16,g|=this.view[o+2]<<8,g|=this.view[o+3],g+=this.view[o]<<24>>>0,o+=4,h=this.view[o+1]<<16,h|=this.view[o+2]<<8,h|=this.view[o+3],h+=this.view[o]<<24>>>0);var _=new e(h,g,!1);return s&&(this.offset+=8),_},n.readLong=n.readInt64,n.writeUint64=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof o=="number")o=e.fromNumber(o);else if(typeof o=="string")o=e.fromString(o);else if(!(o&&o instanceof e))throw TypeError("Illegal value: "+o+" (not an integer or Long)");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}typeof o=="number"?o=e.fromNumber(o):typeof o=="string"&&(o=e.fromString(o)),s+=8;var g=this.buffer.byteLength;s>g&&this.resize((g*=2)>s?g:s),s-=8;var _=o.low,f=o.high;return this.littleEndian?(this.view[s+3]=_>>>24&255,this.view[s+2]=_>>>16&255,this.view[s+1]=_>>>8&255,this.view[s]=_&255,s+=4,this.view[s+3]=f>>>24&255,this.view[s+2]=f>>>16&255,this.view[s+1]=f>>>8&255,this.view[s]=f&255):(this.view[s]=f>>>24&255,this.view[s+1]=f>>>16&255,this.view[s+2]=f>>>8&255,this.view[s+3]=f&255,s+=4,this.view[s]=_>>>24&255,this.view[s+1]=_>>>16&255,this.view[s+2]=_>>>8&255,this.view[s+3]=_&255),h&&(this.offset+=8),this},n.writeUInt64=n.writeUint64,n.readUint64=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+8) <= "+this.buffer.byteLength)}var h=0,g=0;this.littleEndian?(h=this.view[o+2]<<16,h|=this.view[o+1]<<8,h|=this.view[o],h+=this.view[o+3]<<24>>>0,o+=4,g=this.view[o+2]<<16,g|=this.view[o+1]<<8,g|=this.view[o],g+=this.view[o+3]<<24>>>0):(g=this.view[o+1]<<16,g|=this.view[o+2]<<8,g|=this.view[o+3],g+=this.view[o]<<24>>>0,o+=4,h=this.view[o+1]<<16,h|=this.view[o+2]<<8,h|=this.view[o+3],h+=this.view[o]<<24>>>0);var _=new e(h,g,!0);return s&&(this.offset+=8),_},n.readUInt64=n.readUint64);function c(o,s,h,g,_){var f,E,T=_*8-g-1,R=(1<<T)-1,O=R>>1,P=-7,N=h?_-1:0,U=h?-1:1,A=o[s+N];for(N+=U,f=A&(1<<-P)-1,A>>=-P,P+=T;P>0;f=f*256+o[s+N],N+=U,P-=8);for(E=f&(1<<-P)-1,f>>=-P,P+=g;P>0;E=E*256+o[s+N],N+=U,P-=8);if(f===0)f=1-O;else{if(f===R)return E?NaN:(A?-1:1)*(1/0);E=E+Math.pow(2,g),f=f-O}return(A?-1:1)*E*Math.pow(2,f-g)}function u(o,s,h,g,_,f){var E,T,R,O=f*8-_-1,P=(1<<O)-1,N=P>>1,U=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=g?0:f-1,D=g?1:-1,B=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(T=isNaN(s)?1:0,E=P):(E=Math.floor(Math.log(s)/Math.LN2),s*(R=Math.pow(2,-E))<1&&(E--,R*=2),E+N>=1?s+=U/R:s+=U*Math.pow(2,1-N),s*R>=2&&(E++,R/=2),E+N>=P?(T=0,E=P):E+N>=1?(T=(s*R-1)*Math.pow(2,_),E=E+N):(T=s*Math.pow(2,N-1)*Math.pow(2,_),E=0));_>=8;o[h+A]=T&255,A+=D,T/=256,_-=8);for(E=E<<_|T,O+=_;O>0;o[h+A]=E&255,A+=D,E/=256,O-=8);o[h+A-D]|=B*128}n.writeFloat32=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof o!="number")throw TypeError("Illegal value: "+o+" (not a number)");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=4;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=4,u(this.view,o,s,this.littleEndian,23,4),h&&(this.offset+=4),this},n.writeFloat=n.writeFloat32,n.readFloat32=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+4) <= "+this.buffer.byteLength)}var h=c(this.view,o,this.littleEndian,23,4);return s&&(this.offset+=4),h},n.readFloat=n.readFloat32,n.writeFloat64=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof o!="number")throw TypeError("Illegal value: "+o+" (not a number)");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=8;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=8,u(this.view,o,s,this.littleEndian,52,8),h&&(this.offset+=8),this},n.writeDouble=n.writeFloat64,n.readFloat64=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+8) <= "+this.buffer.byteLength)}var h=c(this.view,o,this.littleEndian,52,8);return s&&(this.offset+=8),h},n.readDouble=n.readFloat64,t.MAX_VARINT32_BYTES=5,t.calculateVarint32=function(o){return o=o>>>0,o<128?1:o<16384?2:o<1<<21?3:o<1<<28?4:5},t.zigZagEncode32=function(o){return((o|=0)<<1^o>>31)>>>0},t.zigZagDecode32=function(o){return o>>>1^-(o&1)|0},n.writeVarint32=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal value: "+o+" (not an integer)");if(o|=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}var g=t.calculateVarint32(o),_;s+=g;var f=this.buffer.byteLength;for(s>f&&this.resize((f*=2)>s?f:s),s-=g,o>>>=0;o>=128;)_=o&127|128,this.view[s++]=_,o>>>=7;return this.view[s++]=o,h?(this.offset=s,this):g},n.writeVarint32ZigZag=function(o,s){return this.writeVarint32(t.zigZagEncode32(o),s)},n.readVarint32=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+1) <= "+this.buffer.byteLength)}var h=0,g=0,_;do{if(!this.noAssert&&o>this.limit){var f=Error("Truncated");throw f.truncated=!0,f}_=this.view[o++],h<5&&(g|=(_&127)<<7*h),++h}while((_&128)!==0);return g|=0,s?(this.offset=o,g):{value:g,length:h}},n.readVarint32ZigZag=function(o){var s=this.readVarint32(o);return typeof s=="object"?s.value=t.zigZagDecode32(s.value):s=t.zigZagDecode32(s),s},e&&(t.MAX_VARINT64_BYTES=10,t.calculateVarint64=function(o){typeof o=="number"?o=e.fromNumber(o):typeof o=="string"&&(o=e.fromString(o));var s=o.toInt()>>>0,h=o.shiftRightUnsigned(28).toInt()>>>0,g=o.shiftRightUnsigned(56).toInt()>>>0;return g==0?h==0?s<16384?s<128?1:2:s<1<<21?3:4:h<16384?h<128?5:6:h<1<<21?7:8:g<128?9:10},t.zigZagEncode64=function(o){return typeof o=="number"?o=e.fromNumber(o,!1):typeof o=="string"?o=e.fromString(o,!1):o.unsigned!==!1&&(o=o.toSigned()),o.shiftLeft(1).xor(o.shiftRight(63)).toUnsigned()},t.zigZagDecode64=function(o){return typeof o=="number"?o=e.fromNumber(o,!1):typeof o=="string"?o=e.fromString(o,!1):o.unsigned!==!1&&(o=o.toSigned()),o.shiftRightUnsigned(1).xor(o.and(e.ONE).toSigned().negate()).toSigned()},n.writeVarint64=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof o=="number")o=e.fromNumber(o);else if(typeof o=="string")o=e.fromString(o);else if(!(o&&o instanceof e))throw TypeError("Illegal value: "+o+" (not an integer or Long)");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}typeof o=="number"?o=e.fromNumber(o,!1):typeof o=="string"?o=e.fromString(o,!1):o.unsigned!==!1&&(o=o.toSigned());var g=t.calculateVarint64(o),_=o.toInt()>>>0,f=o.shiftRightUnsigned(28).toInt()>>>0,E=o.shiftRightUnsigned(56).toInt()>>>0;s+=g;var T=this.buffer.byteLength;switch(s>T&&this.resize((T*=2)>s?T:s),s-=g,g){case 10:this.view[s+9]=E>>>7&1;case 9:this.view[s+8]=g!==9?E|128:E&127;case 8:this.view[s+7]=g!==8?f>>>21|128:f>>>21&127;case 7:this.view[s+6]=g!==7?f>>>14|128:f>>>14&127;case 6:this.view[s+5]=g!==6?f>>>7|128:f>>>7&127;case 5:this.view[s+4]=g!==5?f|128:f&127;case 4:this.view[s+3]=g!==4?_>>>21|128:_>>>21&127;case 3:this.view[s+2]=g!==3?_>>>14|128:_>>>14&127;case 2:this.view[s+1]=g!==2?_>>>7|128:_>>>7&127;case 1:this.view[s]=g!==1?_|128:_&127}return h?(this.offset+=g,this):g},n.writeVarint64ZigZag=function(o,s){return this.writeVarint64(t.zigZagEncode64(o),s)},n.readVarint64=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+1) <= "+this.buffer.byteLength)}var h=o,g=0,_=0,f=0,E=0;if(E=this.view[o++],g=E&127,E&128&&(E=this.view[o++],g|=(E&127)<<7,(E&128||this.noAssert&&typeof E>"u")&&(E=this.view[o++],g|=(E&127)<<14,(E&128||this.noAssert&&typeof E>"u")&&(E=this.view[o++],g|=(E&127)<<21,(E&128||this.noAssert&&typeof E>"u")&&(E=this.view[o++],_=E&127,(E&128||this.noAssert&&typeof E>"u")&&(E=this.view[o++],_|=(E&127)<<7,(E&128||this.noAssert&&typeof E>"u")&&(E=this.view[o++],_|=(E&127)<<14,(E&128||this.noAssert&&typeof E>"u")&&(E=this.view[o++],_|=(E&127)<<21,(E&128||this.noAssert&&typeof E>"u")&&(E=this.view[o++],f=E&127,(E&128||this.noAssert&&typeof E>"u")&&(E=this.view[o++],f|=(E&127)<<7,E&128||this.noAssert&&typeof E>"u"))))))))))throw Error("Buffer overrun");var T=e.fromBits(g|_<<28,_>>>4|f<<24,!1);return s?(this.offset=o,T):{value:T,length:o-h}},n.readVarint64ZigZag=function(o){var s=this.readVarint64(o);return s&&s.value instanceof e?s.value=t.zigZagDecode64(s.value):s=t.zigZagDecode64(s),s}),n.writeCString=function(o,s){var h=typeof s>"u";h&&(s=this.offset);var g,_=o.length;if(!this.noAssert){if(typeof o!="string")throw TypeError("Illegal str: Not a string");for(g=0;g<_;++g)if(o.charCodeAt(g)===0)throw RangeError("Illegal str: Contains NULL-characters");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}_=d.calculateUTF16asUTF8(l(o))[1],s+=_+1;var f=this.buffer.byteLength;return s>f&&this.resize((f*=2)>s?f:s),s-=_+1,d.encodeUTF16toUTF8(l(o),(function(E){this.view[s++]=E}).bind(this)),this.view[s++]=0,h?(this.offset=s,this):_},n.readCString=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+1) <= "+this.buffer.byteLength)}var h=o,g,_=-1;return d.decodeUTF8toUTF16((function(){if(_===0)return null;if(o>=this.limit)throw RangeError("Illegal range: Truncated data, "+o+" < "+this.limit);return _=this.view[o++],_===0?null:_}).bind(this),g=p(),!0),s?(this.offset=o,g()):{string:g(),length:o-h}},n.writeIString=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof o!="string")throw TypeError("Illegal str: Not a string");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}var g=s,_;_=d.calculateUTF16asUTF8(l(o),this.noAssert)[1],s+=4+_;var f=this.buffer.byteLength;if(s>f&&this.resize((f*=2)>s?f:s),s-=4+_,this.littleEndian?(this.view[s+3]=_>>>24&255,this.view[s+2]=_>>>16&255,this.view[s+1]=_>>>8&255,this.view[s]=_&255):(this.view[s]=_>>>24&255,this.view[s+1]=_>>>16&255,this.view[s+2]=_>>>8&255,this.view[s+3]=_&255),s+=4,d.encodeUTF16toUTF8(l(o),(function(E){this.view[s++]=E}).bind(this)),s!==g+4+_)throw RangeError("Illegal range: Truncated data, "+s+" == "+(s+4+_));return h?(this.offset=s,this):s-g},n.readIString=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+4) <= "+this.buffer.byteLength)}var h=0,g=o,_;this.littleEndian?(h=this.view[o+2]<<16,h|=this.view[o+1]<<8,h|=this.view[o],h+=this.view[o+3]<<24>>>0):(h=this.view[o+1]<<16,h|=this.view[o+2]<<8,h|=this.view[o+3],h+=this.view[o]<<24>>>0),o+=4;var f=o+h,E;return d.decodeUTF8toUTF16((function(){return o<f?this.view[o++]:null}).bind(this),E=p(),this.noAssert),_=E(),s?(this.offset=o,_):{string:_,length:o-g}},t.METRICS_CHARS="c",t.METRICS_BYTES="b",n.writeUTF8String=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}var g,_=s;g=d.calculateUTF16asUTF8(l(o))[1],s+=g;var f=this.buffer.byteLength;return s>f&&this.resize((f*=2)>s?f:s),s-=g,d.encodeUTF16toUTF8(l(o),(function(E){this.view[s++]=E}).bind(this)),h?(this.offset=s,this):s-_},n.writeString=n.writeUTF8String,t.calculateUTF8Chars=function(o){return d.calculateUTF16asUTF8(l(o))[0]},t.calculateUTF8Bytes=function(o){return d.calculateUTF16asUTF8(l(o))[1]},t.calculateString=t.calculateUTF8Bytes,n.readUTF8String=function(o,s,h){typeof s=="number"&&(h=s,s=void 0);var g=typeof h>"u";if(g&&(h=this.offset),typeof s>"u"&&(s=t.METRICS_CHARS),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal length: "+o+" (not an integer)");if(o|=0,typeof h!="number"||h%1!==0)throw TypeError("Illegal offset: "+h+" (not an integer)");if(h>>>=0,h<0||h+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+h+" (+0) <= "+this.buffer.byteLength)}var _=0,f=h,E;if(s===t.METRICS_CHARS){if(E=p(),d.decodeUTF8((function(){return _<o&&h<this.limit?this.view[h++]:null}).bind(this),function(R){++_,d.UTF8toUTF16(R,E)}),_!==o)throw RangeError("Illegal range: Truncated data, "+_+" == "+o);return g?(this.offset=h,E()):{string:E(),length:h-f}}else if(s===t.METRICS_BYTES){if(!this.noAssert){if(typeof h!="number"||h%1!==0)throw TypeError("Illegal offset: "+h+" (not an integer)");if(h>>>=0,h<0||h+o>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+h+" (+"+o+") <= "+this.buffer.byteLength)}var T=h+o;if(d.decodeUTF8toUTF16((function(){return h<T?this.view[h++]:null}).bind(this),E=p(),this.noAssert),h!==T)throw RangeError("Illegal range: Truncated data, "+h+" == "+T);return g?(this.offset=h,E()):{string:E(),length:h-f}}else throw TypeError("Unsupported metrics: "+s)},n.readString=n.readUTF8String,n.writeVString=function(o,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof o!="string")throw TypeError("Illegal str: Not a string");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}var g=s,_,f;_=d.calculateUTF16asUTF8(l(o),this.noAssert)[1],f=t.calculateVarint32(_),s+=f+_;var E=this.buffer.byteLength;if(s>E&&this.resize((E*=2)>s?E:s),s-=f+_,s+=this.writeVarint32(_,s),d.encodeUTF16toUTF8(l(o),(function(T){this.view[s++]=T}).bind(this)),s!==g+_+f)throw RangeError("Illegal range: Truncated data, "+s+" == "+(s+_+f));return h?(this.offset=s,this):s-g},n.readVString=function(o){var s=typeof o>"u";if(s&&(o=this.offset),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+1) <= "+this.buffer.byteLength)}var h=this.readVarint32(o),g=o,_;o+=h.length,h=h.value;var f=o+h,E=p();return d.decodeUTF8toUTF16((function(){return o<f?this.view[o++]:null}).bind(this),E,this.noAssert),_=E(),s?(this.offset=o,_):{string:_,length:o-g}},n.append=function(o,s,h){(typeof s=="number"||typeof s!="string")&&(h=s,s=void 0);var g=typeof h>"u";if(g&&(h=this.offset),!this.noAssert){if(typeof h!="number"||h%1!==0)throw TypeError("Illegal offset: "+h+" (not an integer)");if(h>>>=0,h<0||h+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+h+" (+0) <= "+this.buffer.byteLength)}o instanceof t||(o=t.wrap(o,s));var _=o.limit-o.offset;if(_<=0)return this;h+=_;var f=this.buffer.byteLength;return h>f&&this.resize((f*=2)>h?f:h),h-=_,this.view.set(o.view.subarray(o.offset,o.limit),h),o.offset+=_,g&&(this.offset+=_),this},n.appendTo=function(o,s){return o.append(this,s),this},n.assert=function(o){return this.noAssert=!o,this},n.capacity=function(){return this.buffer.byteLength},n.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},n.clone=function(o){var s=new t(0,this.littleEndian,this.noAssert);return o?(s.buffer=new ArrayBuffer(this.buffer.byteLength),s.view=new Uint8Array(s.buffer)):(s.buffer=this.buffer,s.view=this.view),s.offset=this.offset,s.markedOffset=this.markedOffset,s.limit=this.limit,s},n.compact=function(o,s){if(typeof o>"u"&&(o=this.offset),typeof s>"u"&&(s=this.limit),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal begin: Not an integer");if(o>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal end: Not an integer");if(s>>>=0,o<0||o>s||s>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+o+" <= "+s+" <= "+this.buffer.byteLength)}if(o===0&&s===this.buffer.byteLength)return this;var h=s-o;if(h===0)return this.buffer=i,this.view=null,this.markedOffset>=0&&(this.markedOffset-=o),this.offset=0,this.limit=0,this;var g=new ArrayBuffer(h),_=new Uint8Array(g);return _.set(this.view.subarray(o,s)),this.buffer=g,this.view=_,this.markedOffset>=0&&(this.markedOffset-=o),this.offset=0,this.limit=h,this},n.copy=function(o,s){if(typeof o>"u"&&(o=this.offset),typeof s>"u"&&(s=this.limit),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal begin: Not an integer");if(o>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal end: Not an integer");if(s>>>=0,o<0||o>s||s>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+o+" <= "+s+" <= "+this.buffer.byteLength)}if(o===s)return new t(0,this.littleEndian,this.noAssert);var h=s-o,g=new t(h,this.littleEndian,this.noAssert);return g.offset=0,g.limit=h,g.markedOffset>=0&&(g.markedOffset-=o),this.copyTo(g,0,o,s),g},n.copyTo=function(o,s,h,g){var _,f;if(!this.noAssert&&!t.isByteBuffer(o))throw TypeError("Illegal target: Not a ByteBuffer");if(s=(f=typeof s>"u")?o.offset:s|0,h=(_=typeof h>"u")?this.offset:h|0,g=typeof g>"u"?this.limit:g|0,s<0||s>o.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+s+" <= "+o.buffer.byteLength);if(h<0||g>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+h+" <= "+this.buffer.byteLength);var E=g-h;return E===0?o:(o.ensureCapacity(s+E),o.view.set(this.view.subarray(h,g),s),_&&(this.offset+=E),f&&(o.offset+=E),this)},n.ensureCapacity=function(o){var s=this.buffer.byteLength;return s<o?this.resize((s*=2)>o?s:o):this},n.fill=function(o,s,h){var g=typeof s>"u";if(g&&(s=this.offset),typeof o=="string"&&o.length>0&&(o=o.charCodeAt(0)),typeof s>"u"&&(s=this.offset),typeof h>"u"&&(h=this.limit),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal value: "+o+" (not an integer)");if(o|=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal begin: Not an integer");if(s>>>=0,typeof h!="number"||h%1!==0)throw TypeError("Illegal end: Not an integer");if(h>>>=0,s<0||s>h||h>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+s+" <= "+h+" <= "+this.buffer.byteLength)}if(s>=h)return this;for(;s<h;)this.view[s++]=o;return g&&(this.offset=s),this},n.flip=function(){return this.limit=this.offset,this.offset=0,this},n.mark=function(o){if(o=typeof o>"u"?this.offset:o,!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal offset: "+o+" (not an integer)");if(o>>>=0,o<0||o+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=o,this},n.order=function(o){if(!this.noAssert&&typeof o!="boolean")throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!o,this},n.LE=function(o){return this.littleEndian=typeof o<"u"?!!o:!0,this},n.BE=function(o){return this.littleEndian=typeof o<"u"?!o:!1,this},n.prepend=function(o,s,h){(typeof s=="number"||typeof s!="string")&&(h=s,s=void 0);var g=typeof h>"u";if(g&&(h=this.offset),!this.noAssert){if(typeof h!="number"||h%1!==0)throw TypeError("Illegal offset: "+h+" (not an integer)");if(h>>>=0,h<0||h+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+h+" (+0) <= "+this.buffer.byteLength)}o instanceof t||(o=t.wrap(o,s));var _=o.limit-o.offset;if(_<=0)return this;var f=_-h;if(f>0){var E=new ArrayBuffer(this.buffer.byteLength+f),T=new Uint8Array(E);T.set(this.view.subarray(h,this.buffer.byteLength),_),this.buffer=E,this.view=T,this.offset+=f,this.markedOffset>=0&&(this.markedOffset+=f),this.limit+=f,h+=f}else new Uint8Array(this.buffer);return this.view.set(o.view.subarray(o.offset,o.limit),h-_),o.offset=o.limit,g&&(this.offset-=_),this},n.prependTo=function(o,s){return o.prepend(this,s),this},n.printDebug=function(o){typeof o!="function"&&(o=console.log.bind(console)),o(this.toString()+`
-------------------------------------------------------------------
`+this.toDebug(!0))},n.remaining=function(){return this.limit-this.offset},n.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},n.resize=function(o){if(!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal capacity: "+o+" (not an integer)");if(o|=0,o<0)throw RangeError("Illegal capacity: 0 <= "+o)}if(this.buffer.byteLength<o){var s=new ArrayBuffer(o),h=new Uint8Array(s);h.set(this.view),this.buffer=s,this.view=h}return this},n.reverse=function(o,s){if(typeof o>"u"&&(o=this.offset),typeof s>"u"&&(s=this.limit),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal begin: Not an integer");if(o>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal end: Not an integer");if(s>>>=0,o<0||o>s||s>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+o+" <= "+s+" <= "+this.buffer.byteLength)}return o===s?this:(Array.prototype.reverse.call(this.view.subarray(o,s)),this)},n.skip=function(o){if(!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal length: "+o+" (not an integer)");o|=0}var s=this.offset+o;if(!this.noAssert&&(s<0||s>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+o+" <= "+this.buffer.byteLength);return this.offset=s,this},n.slice=function(o,s){if(typeof o>"u"&&(o=this.offset),typeof s>"u"&&(s=this.limit),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal begin: Not an integer");if(o>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal end: Not an integer");if(s>>>=0,o<0||o>s||s>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+o+" <= "+s+" <= "+this.buffer.byteLength)}var h=this.clone();return h.offset=o,h.limit=s,h},n.toBuffer=function(o){var s=this.offset,h=this.limit;if(!this.noAssert){if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: Not an integer");if(s>>>=0,typeof h!="number"||h%1!==0)throw TypeError("Illegal limit: Not an integer");if(h>>>=0,s<0||s>h||h>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+s+" <= "+h+" <= "+this.buffer.byteLength)}if(!o&&s===0&&h===this.buffer.byteLength)return this.buffer;if(s===h)return i;var g=new ArrayBuffer(h-s);return new Uint8Array(g).set(new Uint8Array(this.buffer).subarray(s,h),0),g},n.toArrayBuffer=n.toBuffer,n.toString=function(o,s,h){if(typeof o>"u")return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch(typeof o=="number"&&(o="utf8",s=o,h=s),o){case"utf8":return this.toUTF8(s,h);case"base64":return this.toBase64(s,h);case"hex":return this.toHex(s,h);case"binary":return this.toBinary(s,h);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+o)}};var m=(function(){for(var o={},s=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],h=[],g=0,_=s.length;g<_;++g)h[s[g]]=g;return o.encode=function(f,E){for(var T,R;(T=f())!==null;)E(s[T>>2&63]),R=(T&3)<<4,(T=f())!==null?(R|=T>>4&15,E(s[(R|T>>4&15)&63]),R=(T&15)<<2,(T=f())!==null?(E(s[(R|T>>6&3)&63]),E(s[T&63])):(E(s[R&63]),E(61))):(E(s[R&63]),E(61),E(61))},o.decode=function(f,E){var T,R,O;function P(N){throw Error("Illegal character code: "+N)}for(;(T=f())!==null;)if(R=h[T],typeof R>"u"&&P(T),(T=f())!==null&&(O=h[T],typeof O>"u"&&P(T),E(R<<2>>>0|(O&48)>>4),(T=f())!==null)){if(R=h[T],typeof R>"u"){if(T===61)break;P(T)}if(E((O&15)<<4>>>0|(R&60)>>2),(T=f())!==null){if(O=h[T],typeof O>"u"){if(T===61)break;P(T)}E((R&3)<<6>>>0|O)}}},o.test=function(f){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(f)},o})();n.toBase64=function(o,s){if(typeof o>"u"&&(o=this.offset),typeof s>"u"&&(s=this.limit),o=o|0,s=s|0,o<0||s>this.capacity||o>s)throw RangeError("begin, end");var h;return m.encode((function(){return o<s?this.view[o++]:null}).bind(this),h=p()),h()},t.fromBase64=function(o,s){if(typeof o!="string")throw TypeError("str");var h=new t(o.length/4*3,s),g=0;return m.decode(l(o),function(_){h.view[g++]=_}),h.limit=g,h},t.btoa=function(o){return t.fromBinary(o).toBase64()},t.atob=function(o){return t.fromBase64(o).toBinary()},n.toBinary=function(o,s){if(typeof o>"u"&&(o=this.offset),typeof s>"u"&&(s=this.limit),o|=0,s|=0,o<0||s>this.capacity()||o>s)throw RangeError("begin, end");if(o===s)return"";for(var h=[],g=[];o<s;)h.push(this.view[o++]),h.length>=1024&&(g.push(String.fromCharCode.apply(String,h)),h=[]);return g.join("")+String.fromCharCode.apply(String,h)},t.fromBinary=function(o,s){if(typeof o!="string")throw TypeError("str");for(var h=0,g=o.length,_,f=new t(g,s);h<g;){if(_=o.charCodeAt(h),_>255)throw RangeError("illegal char code: "+_);f.view[h++]=_}return f.limit=g,f},n.toDebug=function(o){for(var s=-1,h=this.buffer.byteLength,g,_="",f="",E="";s<h;){if(s!==-1&&(g=this.view[s],g<16?_+="0"+g.toString(16).toUpperCase():_+=g.toString(16).toUpperCase(),o&&(f+=g>32&&g<127?String.fromCharCode(g):".")),++s,o&&s>0&&s%16===0&&s!==h){for(;_.length<51;)_+=" ";E+=_+f+`
`,_=f=""}s===this.offset&&s===this.limit?_+=s===this.markedOffset?"!":"|":s===this.offset?_+=s===this.markedOffset?"[":"<":s===this.limit?_+=s===this.markedOffset?"]":">":_+=s===this.markedOffset?"'":o||s!==0&&s!==h?" ":""}if(o&&_!==" "){for(;_.length<51;)_+=" ";E+=_+f+`
`}return o?E:_},t.fromDebug=function(o,s,h){for(var g=o.length,_=new t((g+1)/3|0,s,h),f=0,E=0,T,R,O=!1,P=!1,N=!1,U=!1,A=!1;f<g;){switch(T=o.charAt(f++)){case"!":if(!h){if(P||N||U){A=!0;break}P=N=U=!0}_.offset=_.markedOffset=_.limit=E,O=!1;break;case"|":if(!h){if(P||U){A=!0;break}P=U=!0}_.offset=_.limit=E,O=!1;break;case"[":if(!h){if(P||N){A=!0;break}P=N=!0}_.offset=_.markedOffset=E,O=!1;break;case"<":if(!h){if(P){A=!0;break}P=!0}_.offset=E,O=!1;break;case"]":if(!h){if(U||N){A=!0;break}U=N=!0}_.limit=_.markedOffset=E,O=!1;break;case">":if(!h){if(U){A=!0;break}U=!0}_.limit=E,O=!1;break;case"'":if(!h){if(N){A=!0;break}N=!0}_.markedOffset=E,O=!1;break;case" ":O=!1;break;default:if(!h&&O){A=!0;break}if(R=parseInt(T+o.charAt(f++),16),!h&&(isNaN(R)||R<0||R>255))throw TypeError("Illegal str: Not a debug encoded string");_.view[E++]=R,O=!0}if(A)throw TypeError("Illegal str: Invalid symbol at "+f)}if(!h){if(!P||!U)throw TypeError("Illegal str: Missing offset or limit");if(E<_.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+E+" < "+g)}return _},n.toHex=function(o,s){if(o=typeof o>"u"?this.offset:o,s=typeof s>"u"?this.limit:s,!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal begin: Not an integer");if(o>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal end: Not an integer");if(s>>>=0,o<0||o>s||s>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+o+" <= "+s+" <= "+this.buffer.byteLength)}for(var h=new Array(s-o),g;o<s;)g=this.view[o++],g<16?h.push("0",g.toString(16)):h.push(g.toString(16));return h.join("")},t.fromHex=function(o,s,h){if(!h){if(typeof o!="string")throw TypeError("Illegal str: Not a string");if(o.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var g=o.length,_=new t(g/2|0,s),f,E=0,T=0;E<g;E+=2){if(f=parseInt(o.substring(E,E+2),16),!h&&(!isFinite(f)||f<0||f>255))throw TypeError("Illegal str: Contains non-hex characters");_.view[T++]=f}return _.limit=T,_};var d=(function(){var o={};return o.MAX_CODEPOINT=1114111,o.encodeUTF8=function(s,h){var g=null;for(typeof s=="number"&&(g=s,s=function(){return null});g!==null||(g=s())!==null;)g<128?h(g&127):g<2048?(h(g>>6&31|192),h(g&63|128)):g<65536?(h(g>>12&15|224),h(g>>6&63|128),h(g&63|128)):(h(g>>18&7|240),h(g>>12&63|128),h(g>>6&63|128),h(g&63|128)),g=null},o.decodeUTF8=function(s,h){for(var g,_,f,E,T=function(R){R=R.slice(0,R.indexOf(null));var O=Error(R.toString());throw O.name="TruncatedError",O.bytes=R,O};(g=s())!==null;)if((g&128)===0)h(g);else if((g&224)===192)(_=s())===null&&T([g,_]),h((g&31)<<6|_&63);else if((g&240)===224)((_=s())===null||(f=s())===null)&&T([g,_,f]),h((g&15)<<12|(_&63)<<6|f&63);else if((g&248)===240)((_=s())===null||(f=s())===null||(E=s())===null)&&T([g,_,f,E]),h((g&7)<<18|(_&63)<<12|(f&63)<<6|E&63);else throw RangeError("Illegal starting byte: "+g)},o.UTF16toUTF8=function(s,h){for(var g,_=null;(g=_!==null?_:s())!==null;){if(g>=55296&&g<=57343&&(_=s())!==null&&_>=56320&&_<=57343){h((g-55296)*1024+_-56320+65536),_=null;continue}h(g)}_!==null&&h(_)},o.UTF8toUTF16=function(s,h){var g=null;for(typeof s=="number"&&(g=s,s=function(){return null});g!==null||(g=s())!==null;)g<=65535?h(g):(g-=65536,h((g>>10)+55296),h(g%1024+56320)),g=null},o.encodeUTF16toUTF8=function(s,h){o.UTF16toUTF8(s,function(g){o.encodeUTF8(g,h)})},o.decodeUTF8toUTF16=function(s,h){o.decodeUTF8(s,function(g){o.UTF8toUTF16(g,h)})},o.calculateCodePoint=function(s){return s<128?1:s<2048?2:s<65536?3:4},o.calculateUTF8=function(s){for(var h,g=0;(h=s())!==null;)g+=h<128?1:h<2048?2:h<65536?3:4;return g},o.calculateUTF16asUTF8=function(s){var h=0,g=0;return o.UTF16toUTF8(s,function(_){++h,g+=_<128?1:_<2048?2:_<65536?3:4}),[h,g]},o})();return n.toUTF8=function(o,s){if(typeof o>"u"&&(o=this.offset),typeof s>"u"&&(s=this.limit),!this.noAssert){if(typeof o!="number"||o%1!==0)throw TypeError("Illegal begin: Not an integer");if(o>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal end: Not an integer");if(s>>>=0,o<0||o>s||s>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+o+" <= "+s+" <= "+this.buffer.byteLength)}var h;try{d.decodeUTF8toUTF16((function(){return o<s?this.view[o++]:null}).bind(this),h=p())}catch{if(o!==s)throw RangeError("Illegal range: Truncated data, "+o+" != "+s)}return h()},t.fromUTF8=function(o,s,h){if(!h&&typeof o!="string")throw TypeError("Illegal str: Not a string");var g=new t(d.calculateUTF16asUTF8(l(o),!0)[1],s,h),_=0;return d.encodeUTF16toUTF8(l(o),function(f){g.view[_++]=f}),g.limit=_,g},t})})(xo)),xo.exports}const AE={},vE=Object.freeze(Object.defineProperty({__proto__:null,default:AE},Symbol.toStringTag,{value:"Module"})),Vi=TE(vE);var xE=vo.exports,Ud;function RE(){return Ud||(Ud=1,(function(a){(function(e,t){typeof tl=="function"&&a&&a.exports?a.exports=t(Uu()):(e.dcodeIO=e.dcodeIO||{}).ProtoBuf=t(e.dcodeIO.ByteBuffer)})(xE,function(e){var t={};return t.ByteBuffer=e,t.Long=e.Long||null,t.VERSION="4.0.0",t.WIRE_TYPES={},t.WIRE_TYPES.VARINT=0,t.WIRE_TYPES.BITS64=1,t.WIRE_TYPES.LDELIM=2,t.WIRE_TYPES.STARTGROUP=3,t.WIRE_TYPES.ENDGROUP=4,t.WIRE_TYPES.BITS32=5,t.PACKABLE_WIRE_TYPES=[t.WIRE_TYPES.VARINT,t.WIRE_TYPES.BITS64,t.WIRE_TYPES.BITS32],t.TYPES={int32:{name:"int32",wireType:t.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:t.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:t.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:t.WIRE_TYPES.VARINT,defaultValue:t.Long?t.Long.ZERO:void 0},uint64:{name:"uint64",wireType:t.WIRE_TYPES.VARINT,defaultValue:t.Long?t.Long.UZERO:void 0},sint64:{name:"sint64",wireType:t.WIRE_TYPES.VARINT,defaultValue:t.Long?t.Long.ZERO:void 0},bool:{name:"bool",wireType:t.WIRE_TYPES.VARINT,defaultValue:!1},double:{name:"double",wireType:t.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:t.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:t.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:t.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:t.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:t.WIRE_TYPES.BITS64,defaultValue:t.Long?t.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:t.WIRE_TYPES.BITS64,defaultValue:t.Long?t.Long.ZERO:void 0},float:{name:"float",wireType:t.WIRE_TYPES.BITS32,defaultValue:0},enum:{name:"enum",wireType:t.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:t.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:t.WIRE_TYPES.STARTGROUP,defaultValue:null}},t.MAP_KEY_TYPES=[t.TYPES.int32,t.TYPES.sint32,t.TYPES.sfixed32,t.TYPES.uint32,t.TYPES.fixed32,t.TYPES.int64,t.TYPES.sint64,t.TYPES.sfixed64,t.TYPES.uint64,t.TYPES.fixed64,t.TYPES.bool,t.TYPES.string,t.TYPES.bytes],t.ID_MIN=1,t.ID_MAX=536870911,t.convertFieldsToCamelCase=!1,t.populateAccessors=!0,t.populateDefaults=!0,t.Util=(function(){var n={};return n.IS_NODE=typeof process=="object"&&process+""=="[object process]",n.XHR=function(){for(var i=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],r=null,l=0;l<i.length;l++){try{r=i[l]()}catch{continue}break}if(!r)throw Error("XMLHttpRequest is not supported");return r},n.fetch=function(i,r){if(r&&typeof r!="function"&&(r=null),n.IS_NODE)if(r)Vi.readFile(i,function(p,c){r(p?null:""+c)});else try{return Vi.readFileSync(i)}catch{return null}else{var l=n.XHR();if(l.open("GET",i,!!r),l.setRequestHeader("Accept","text/plain"),typeof l.overrideMimeType=="function"&&l.overrideMimeType("text/plain"),r){if(l.onreadystatechange=function(){l.readyState==4&&(l.status==200||l.status==0&&typeof l.responseText=="string"?r(l.responseText):r(null))},l.readyState==4)return;l.send(null)}else return l.send(null),l.status==200||l.status==0&&typeof l.responseText=="string"?l.responseText:null}},n.toCamelCase=function(i){return i.replace(/_([a-zA-Z])/g,function(r,l){return l.toUpperCase()})},n})(),t.Lang={OPEN:"{",CLOSE:"}",OPTOPEN:"[",OPTCLOSE:"]",OPTEND:",",EQUAL:"=",END:";",COMMA:",",STRINGOPEN:'"',STRINGCLOSE:'"',STRINGOPEN_SQ:"'",STRINGCLOSE_SQ:"'",COPTOPEN:"(",COPTCLOSE:")",LT:"<",GT:">",DELIM:/[\s\{\}=;\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,BOOL:/^(?:true|false)$/i},t.DotProto=(function(n,i){var r={},l=function(m){this.source=""+m,this.index=0,this.line=1,this.stack=[],this.readingString=!1,this.stringEndsWith=i.STRINGCLOSE},p=l.prototype;p._readString=function(){i.STRING.lastIndex=this.index-1;var m;if((m=i.STRING.exec(this.source))!==null){var d=typeof m[1]<"u"?m[1]:m[2];return this.index=i.STRING.lastIndex,this.stack.push(this.stringEndsWith),d}throw Error("Unterminated string at line "+this.line+", index "+this.index)},p.next=function(){if(this.stack.length>0)return this.stack.shift();if(this.index>=this.source.length)return null;if(this.readingString)return this.readingString=!1,this._readString();var m,d;do{for(m=!1;i.WHITESPACE.test(d=this.source.charAt(this.index));)if(this.index++,d===`
`&&this.line++,this.index===this.source.length)return null;if(this.source.charAt(this.index)==="/")if(this.source.charAt(++this.index)==="/"){for(;this.source.charAt(this.index)!==`
`;)if(this.index++,this.index==this.source.length)return null;this.index++,this.line++,m=!0}else if(this.source.charAt(this.index)==="*"){for(d="";d+(d=this.source.charAt(this.index))!=="*/";)if(this.index++,d===`
`&&this.line++,this.index===this.source.length)return null;this.index++,m=!0}else throw Error("Unterminated comment at line "+this.line+": /"+this.source.charAt(this.index))}while(m);if(this.index===this.source.length)return null;var o=this.index;i.DELIM.lastIndex=0;var s=i.DELIM.test(this.source.charAt(o));if(s)++o;else for(++o;o<this.source.length&&!i.DELIM.test(this.source.charAt(o));)o++;var h=this.source.substring(this.index,this.index=o);return h===i.STRINGOPEN?(this.readingString=!0,this.stringEndsWith=i.STRINGCLOSE):h===i.STRINGOPEN_SQ&&(this.readingString=!0,this.stringEndsWith=i.STRINGCLOSE_SQ),h},p.peek=function(){if(this.stack.length===0){var m=this.next();if(m===null)return null;this.stack.push(m)}return this.stack[0]},p.toString=function(){return"Tokenizer("+this.index+"/"+this.source.length+" at line "+this.line+")"},r.Tokenizer=l;var c=function(m){this.tn=new l(m)},u=c.prototype;return u.parse=function(){for(var m={name:"[ROOT]",package:null,messages:[],enums:[],imports:[],options:{},services:[]},d,o=!0;d=this.tn.next();)switch(d){case"package":if(!o||m.package!==null)throw Error("Unexpected package at line "+this.tn.line);m.package=this._parsePackage(d);break;case"import":if(!o)throw Error("Unexpected import at line "+this.tn.line);m.imports.push(this._parseImport(d));break;case"message":this._parseMessage(m,null,d),o=!1;break;case"enum":this._parseEnum(m,d),o=!1;break;case"option":this._parseOption(m,d);break;case"service":this._parseService(m,d);break;case"extend":this._parseExtend(m,d);break;case"syntax":m.syntax=this._parseSyntax(m);break;default:throw Error("Unexpected token at line "+this.tn.line+": "+d)}return delete m.name,m},u._parseNumber=function(m){var d=1;if(m.charAt(0)=="-"&&(d=-1,m=m.substring(1)),i.NUMBER_DEC.test(m))return d*parseInt(m,10);if(i.NUMBER_HEX.test(m))return d*parseInt(m.substring(2),16);if(i.NUMBER_OCT.test(m))return d*parseInt(m.substring(1),8);if(i.NUMBER_FLT.test(m))return m==="inf"?d*(1/0):m==="nan"?NaN:d*parseFloat(m);throw Error("Illegal number at line "+this.tn.line+": "+(d<0?"-":"")+m)},u._parseString=function(){var m="",d,o;do{if(o=this.tn.next(),m+=this.tn.next(),d=this.tn.next(),d!==o)throw Error("Illegal end of string at line "+this.tn.line+": "+d);d=this.tn.peek()}while(d===i.STRINGOPEN||d===i.STRINGOPEN_SQ);return m},u._parseId=function(m,d){var o=-1,s=1;if(m.charAt(0)=="-"&&(s=-1,m=m.substring(1)),i.NUMBER_DEC.test(m))o=parseInt(m);else if(i.NUMBER_HEX.test(m))o=parseInt(m.substring(2),16);else if(i.NUMBER_OCT.test(m))o=parseInt(m.substring(1),8);else throw Error("Illegal id at line "+this.tn.line+": "+(s<0?"-":"")+m);if(o=s*o|0,!d&&o<0)throw Error("Illegal id at line "+this.tn.line+": "+(s<0?"-":"")+m);return o},u._parsePackage=function(m){if(m=this.tn.next(),!i.TYPEREF.test(m))throw Error("Illegal package name at line "+this.tn.line+": "+m);var d=m;if(m=this.tn.next(),m!=i.END)throw Error("Illegal end of package at line "+this.tn.line+": "+m);return d},u._parseImport=function(m){if(m=this.tn.peek(),m==="public"&&(this.tn.next(),m=this.tn.peek()),m!==i.STRINGOPEN&&m!==i.STRINGOPEN_SQ)throw Error("Illegal start of import at line "+this.tn.line+": "+m);var d=this._parseString();if(m=this.tn.next(),m!==i.END)throw Error("Illegal end of import at line "+this.tn.line+": "+m);return d},u._parseOption=function(m,d){d=this.tn.next();var o=!1;if(d==i.COPTOPEN&&(o=!0,d=this.tn.next()),!i.TYPEREF.test(d)&&!/google\.protobuf\./.test(d))throw Error("Illegal option name in message "+m.name+" at line "+this.tn.line+": "+d);var s=d;if(d=this.tn.next(),o){if(d!==i.COPTCLOSE)throw Error("Illegal end in message "+m.name+", option "+s+" at line "+this.tn.line+": "+d);s="("+s+")",d=this.tn.next(),i.FQTYPEREF.test(d)&&(s+=d,d=this.tn.next())}if(d!==i.EQUAL)throw Error("Illegal operator in message "+m.name+", option "+s+" at line "+this.tn.line+": "+d);var h;if(d=this.tn.peek(),d===i.STRINGOPEN||d===i.STRINGOPEN_SQ)h=this._parseString();else if(this.tn.next(),i.NUMBER.test(d))h=this._parseNumber(d,!0);else if(i.BOOL.test(d))h=d==="true";else if(i.TYPEREF.test(d))h=d;else throw Error("Illegal option value in message "+m.name+", option "+s+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),d!==i.END)throw Error("Illegal end of option in message "+m.name+", option "+s+" at line "+this.tn.line+": "+d);m.options[s]=h},u._parseIgnoredStatement=function(m,d){var o;do{if(o=this.tn.next(),o===null)throw Error("Unexpected EOF in "+m.name+", "+d+" at line "+this.tn.line);if(o===i.END)break}while(!0)},u._parseService=function(m,d){if(d=this.tn.next(),!i.NAME.test(d))throw Error("Illegal service name at line "+this.tn.line+": "+d);var o=d,s={name:o,rpc:{},options:{}};if(d=this.tn.next(),d!==i.OPEN)throw Error("Illegal start of service "+o+" at line "+this.tn.line+": "+d);do if(d=this.tn.next(),d==="option")this._parseOption(s,d);else if(d==="rpc")this._parseServiceRPC(s,d);else if(d!==i.CLOSE)throw Error("Illegal type of service "+o+" at line "+this.tn.line+": "+d);while(d!==i.CLOSE);m.services.push(s)},u._parseServiceRPC=function(m,d){var o=d;if(d=this.tn.next(),!i.NAME.test(d))throw Error("Illegal method name in service "+m.name+" at line "+this.tn.line+": "+d);var s=d,h={request:null,response:null,request_stream:!1,response_stream:!1,options:{}};if(d=this.tn.next(),d!==i.COPTOPEN)throw Error("Illegal start of request type in service "+m.name+"#"+s+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),d.toLowerCase()==="stream"&&(h.request_stream=!0,d=this.tn.next()),!i.TYPEREF.test(d))throw Error("Illegal request type in service "+m.name+"#"+s+" at line "+this.tn.line+": "+d);if(h.request=d,d=this.tn.next(),d!=i.COPTCLOSE)throw Error("Illegal end of request type in service "+m.name+"#"+s+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),d.toLowerCase()!=="returns")throw Error("Illegal delimiter in service "+m.name+"#"+s+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),d!=i.COPTOPEN)throw Error("Illegal start of response type in service "+m.name+"#"+s+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),d.toLowerCase()==="stream"&&(h.response_stream=!0,d=this.tn.next()),h.response=d,d=this.tn.next(),d!==i.COPTCLOSE)throw Error("Illegal end of response type in service "+m.name+"#"+s+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),d===i.OPEN){do if(d=this.tn.next(),d==="option")this._parseOption(h,d);else if(d!==i.CLOSE)throw Error("Illegal start of option inservice "+m.name+"#"+s+" at line "+this.tn.line+": "+d);while(d!==i.CLOSE);this.tn.peek()===i.END&&this.tn.next()}else if(d!==i.END)throw Error("Illegal delimiter in service "+m.name+"#"+s+" at line "+this.tn.line+": "+d);typeof m[o]>"u"&&(m[o]={}),m[o][s]=h},u._parseMessage=function(m,d,o){var s={},h=o==="group";if(o=this.tn.next(),!i.NAME.test(o))throw Error("Illegal "+(h?"group":"message")+" name"+(m?" in message "+m.name:"")+" at line "+this.tn.line+": "+o);if(s.name=o,h){if(o=this.tn.next(),o!==i.EQUAL)throw Error("Illegal id assignment after group "+s.name+" at line "+this.tn.line+": "+o);o=this.tn.next();try{d.id=this._parseId(o)}catch{throw Error("Illegal field id value for group "+s.name+"#"+d.name+" at line "+this.tn.line+": "+o)}s.isGroup=!0}if(s.fields=[],s.enums=[],s.messages=[],s.options={},s.oneofs={},o=this.tn.next(),o===i.OPTOPEN&&d&&(this._parseFieldOptions(s,d,o),o=this.tn.next()),o!==i.OPEN)throw Error("Illegal start of "+(h?"group":"message")+" "+s.name+" at line "+this.tn.line+": "+o);do if(o=this.tn.next(),o===i.CLOSE){o=this.tn.peek(),o===i.END&&this.tn.next();break}else if(i.RULE.test(o))this._parseMessageField(s,o);else if(o==="oneof")this._parseMessageOneOf(s,o);else if(o==="enum")this._parseEnum(s,o);else if(o==="message")this._parseMessage(s,null,o);else if(o==="option")this._parseOption(s,o);else if(o==="extensions")s.extensions=this._parseExtensions(s,o);else if(o==="extend")this._parseExtend(s,o);else if(i.TYPEREF.test(o))this._parseMessageField(s,"optional",o);else throw Error("Illegal token in message "+s.name+" at line "+this.tn.line+": "+o);while(!0);return m.messages.push(s),s},u._parseMessageField=function(m,d,o){var s={},h=null;if(s.rule=d,s.options={},d=typeof o<"u"?o:this.tn.next(),s.rule==="map"){if(d!==i.LT)throw Error("Illegal token in message "+m.name+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),!i.TYPE.test(d)&&!i.TYPEREF.test(d))throw Error("Illegal token in message "+m.name+" at line "+this.tn.line+": "+d);if(s.keytype=d,d=this.tn.next(),d!==i.COMMA)throw Error("Illegal token in message "+m.name+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),!i.TYPE.test(d)&&!i.TYPEREF.test(d))throw Error("Illegal token in message "+m.name+" at line "+this.tn.line+": "+d);if(s.type=d,d=this.tn.next(),d!==i.GT)throw Error("Illegal token in message "+m.name+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),!i.NAME.test(d))throw Error("Illegal token in message "+m.name+" at line "+this.tn.line+": "+d);if(s.name=d,d=this.tn.next(),d!==i.EQUAL)throw Error("Illegal token in field "+m.name+"#"+s.name+" at line "+this.line+": "+d);d=this.tn.next();try{s.id=this._parseId(d)}catch{throw Error("Illegal field id in message "+m.name+"#"+s.name+" at line "+this.tn.line+": "+d)}if(d=this.tn.next(),d===i.OPTOPEN&&(this._parseFieldOptions(m,s,d),d=this.tn.next()),d!==i.END)throw Error("Illegal delimiter in message "+m.name+"#"+s.name+" at line "+this.tn.line+": "+d)}else if(d==="group"){if(h=this._parseMessage(m,s,d),!/^[A-Z]/.test(h.name))throw Error("Group names must start with a capital letter");s.type=h.name,s.name=h.name.toLowerCase(),d=this.tn.peek(),d===i.END&&this.tn.next()}else{if(!i.TYPE.test(d)&&!i.TYPEREF.test(d))throw Error("Illegal field type in message "+m.name+" at line "+this.tn.line+": "+d);if(s.type=d,d=this.tn.next(),!i.NAME.test(d))throw Error("Illegal field name in message "+m.name+" at line "+this.tn.line+": "+d);if(s.name=d,d=this.tn.next(),d!==i.EQUAL)throw Error("Illegal token in field "+m.name+"#"+s.name+" at line "+this.tn.line+": "+d);d=this.tn.next();try{s.id=this._parseId(d)}catch{throw Error("Illegal field id in message "+m.name+"#"+s.name+" at line "+this.tn.line+": "+d)}if(d=this.tn.next(),d===i.OPTOPEN&&(this._parseFieldOptions(m,s,d),d=this.tn.next()),d!==i.END)throw Error("Illegal delimiter in message "+m.name+"#"+s.name+" at line "+this.tn.line+": "+d)}return m.fields.push(s),s},u._parseMessageOneOf=function(m,d){if(d=this.tn.next(),!i.NAME.test(d))throw Error("Illegal oneof name in message "+m.name+" at line "+this.tn.line+": "+d);var o=d,s,h=[];if(d=this.tn.next(),d!==i.OPEN)throw Error("Illegal start of oneof "+o+" at line "+this.tn.line+": "+d);for(;this.tn.peek()!==i.CLOSE;)s=this._parseMessageField(m,"optional"),s.oneof=o,h.push(s.id);this.tn.next(),m.oneofs[o]=h},u._parseFieldOptions=function(m,d,o){var s=!0;do{if(o=this.tn.next(),o===i.OPTCLOSE)break;if(o===i.OPTEND){if(s)throw Error("Illegal start of options in message "+m.name+"#"+d.name+" at line "+this.tn.line+": "+o);o=this.tn.next()}this._parseFieldOption(m,d,o),s=!1}while(!0)},u._parseFieldOption=function(m,d,o){var s=!1;if(o===i.COPTOPEN&&(o=this.tn.next(),s=!0),!i.TYPEREF.test(o))throw Error("Illegal field option in "+m.name+"#"+d.name+" at line "+this.tn.line+": "+o);var h=o;if(o=this.tn.next(),s){if(o!==i.COPTCLOSE)throw Error("Illegal delimiter in "+m.name+"#"+d.name+" at line "+this.tn.line+": "+o);h="("+h+")",o=this.tn.next(),i.FQTYPEREF.test(o)&&(h+=o,o=this.tn.next())}if(o!==i.EQUAL)throw Error("Illegal token in "+m.name+"#"+d.name+" at line "+this.tn.line+": "+o);var g;if(o=this.tn.peek(),o===i.STRINGOPEN||o===i.STRINGOPEN_SQ)g=this._parseString();else if(i.NUMBER.test(o,!0))g=this._parseNumber(this.tn.next(),!0);else if(i.BOOL.test(o))g=this.tn.next().toLowerCase()==="true";else if(i.TYPEREF.test(o))g=this.tn.next();else throw Error("Illegal value in message "+m.name+"#"+d.name+", option "+h+" at line "+this.tn.line+": "+o);d.options[h]=g},u._parseEnum=function(m,d){var o={};if(d=this.tn.next(),!i.NAME.test(d))throw Error("Illegal enum name in message "+m.name+" at line "+this.tn.line+": "+d);if(o.name=d,d=this.tn.next(),d!==i.OPEN)throw Error("Illegal start of enum "+o.name+" at line "+this.tn.line+": "+d);o.values=[],o.options={};do{if(d=this.tn.next(),d===i.CLOSE){d=this.tn.peek(),d===i.END&&this.tn.next();break}if(d=="option")this._parseOption(o,d);else{if(!i.NAME.test(d))throw Error("Illegal name in enum "+o.name+" at line "+this.tn.line+": "+d);this._parseEnumValue(o,d)}}while(!0);m.enums.push(o)},u._parseEnumValue=function(m,d){var o={};if(o.name=d,d=this.tn.next(),d!==i.EQUAL)throw Error("Illegal token in enum "+m.name+" at line "+this.tn.line+": "+d);d=this.tn.next();try{o.id=this._parseId(d,!0)}catch{throw Error("Illegal id in enum "+m.name+" at line "+this.tn.line+": "+d)}if(m.values.push(o),d=this.tn.next(),d===i.OPTOPEN){var s={options:{}};this._parseFieldOptions(m,s,d),d=this.tn.next()}if(d!==i.END)throw Error("Illegal delimiter in enum "+m.name+" at line "+this.tn.line+": "+d)},u._parseExtensions=function(m,d){var o=[];if(d=this.tn.next(),d==="min"?o.push(n.ID_MIN):d==="max"?o.push(n.ID_MAX):o.push(this._parseNumber(d)),d=this.tn.next(),d!=="to")throw Error("Illegal extensions delimiter in message "+m.name+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),d==="min"?o.push(n.ID_MIN):d==="max"?o.push(n.ID_MAX):o.push(this._parseNumber(d)),d=this.tn.next(),d!==i.END)throw Error("Illegal extensions delimiter in message "+m.name+" at line "+this.tn.line+": "+d);return o},u._parseExtend=function(m,d){if(d=this.tn.next(),!i.TYPEREF.test(d))throw Error("Illegal message name at line "+this.tn.line+": "+d);var o={};if(o.ref=d,o.fields=[],d=this.tn.next(),d!==i.OPEN)throw Error("Illegal start of extend "+o.name+" at line "+this.tn.line+": "+d);do if(d=this.tn.next(),d===i.CLOSE){d=this.tn.peek(),d==i.END&&this.tn.next();break}else if(i.RULE.test(d))this._parseMessageField(o,d);else if(i.TYPEREF.test(d))this._parseMessageField(o,"optional",d);else throw Error("Illegal token in extend "+o.name+" at line "+this.tn.line+": "+d);while(!0);return m.messages.push(o),o},u._parseSyntax=function(m){var d=this.tn.next();if(d!==i.EQUAL)throw Error("Illegal token at line "+this.tn.line+": "+d);if(d=this.tn.peek(),d!==i.STRINGOPEN&&d!==i.STRINGOPEN_SQ)throw Error("Illegal token at line "+this.tn.line+": "+d);var o=this._parseString();if(d=this.tn.next(),d!==i.END)throw Error("Illegal token at line "+this.tn.line+": "+d);return o},u.toString=function(){return"Parser"},r.Parser=c,r})(t,t.Lang),t.Reflect=(function(n){var i={},r=function(y,v,M){this.builder=y,this.parent=v,this.name=M,this.className},l=r.prototype;l.fqn=function(){var y=this.name,v=this;do{if(v=v.parent,v==null)break;y=v.name+"."+y}while(!0);return y},l.toString=function(y){return(y?this.className+" ":"")+this.fqn()},l.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},i.T=r;var p=function(y,v,M,b,x){r.call(this,y,v,M),this.className="Namespace",this.children=[],this.options=b||{},this.syntax=x||"proto2"},c=p.prototype=Object.create(r.prototype);c.getChildren=function(y){if(y=y||null,y==null)return this.children.slice();for(var v=[],M=0,b=this.children.length;M<b;++M)this.children[M]instanceof y&&v.push(this.children[M]);return v},c.addChild=function(y){var v;if(v=this.getChild(y.name))if(v instanceof s.Field&&v.name!==v.originalName&&this.getChild(v.originalName)===null)v.name=v.originalName;else if(y instanceof s.Field&&y.name!==y.originalName&&this.getChild(y.originalName)===null)y.name=y.originalName;else throw Error("Duplicate name in namespace "+this.toString(!0)+": "+y.name);this.children.push(y)},c.getChild=function(y){for(var v=typeof y=="number"?"id":"name",M=0,b=this.children.length;M<b;++M)if(this.children[M][v]===y)return this.children[M];return null},c.resolve=function(y,v){var M=typeof y=="string"?y.split("."):y,b=this,x=0;if(M[x]===""){for(;b.parent!==null;)b=b.parent;x++}var k;do{do{if(!(b instanceof i.Namespace)){b=null;break}if(k=b.getChild(M[x]),!k||!(k instanceof i.T)||v&&!(k instanceof i.Namespace)){b=null;break}b=k,x++}while(x<M.length);if(b!=null)break;if(this.parent!==null)return this.parent.resolve(y,v)}while(b!=null);return b},c.qn=function(y){var v=[],M=y;do v.unshift(M.name),M=M.parent;while(M!==null);for(var b=1;b<=v.length;b++){var x=v.slice(v.length-b);if(y===this.resolve(x,y instanceof i.Namespace))return x.join(".")}return y.fqn()},c.build=function(){for(var y={},v=this.children,M=0,b=v.length,x;M<b;++M)x=v[M],x instanceof p&&(y[x.name]=x.build());return Object.defineProperty&&Object.defineProperty(y,"$options",{value:this.buildOpt()}),y},c.buildOpt=function(){for(var y={},v=Object.keys(this.options),M=0,b=v.length;M<b;++M){var x=v[M],k=this.options[v[M]];y[x]=k}return y},c.getOption=function(y){return typeof y>"u"?this.options:typeof this.options[y]<"u"?this.options[y]:null},i.Namespace=p;var u=function(y,v,M,b){if(this.type=y,this.resolvedType=v,this.isMapKey=M,this.syntax=b,M&&n.MAP_KEY_TYPES.indexOf(y)<0)throw Error("Invalid map key type: "+y.name)},m=u.prototype;function d(y){if(typeof y=="string"&&(y=n.TYPES[y]),typeof y.defaultValue>"u")throw Error("default value for type "+y.name+" is not supported");return y==n.TYPES.bytes?new e(0):y.defaultValue}m.defaultFieldValue=d;function o(y,v){if(y&&typeof y.low=="number"&&typeof y.high=="number"&&typeof y.unsigned=="boolean"&&y.low===y.low&&y.high===y.high)return new n.Long(y.low,y.high,typeof v>"u"?y.unsigned:v);if(typeof y=="string")return n.Long.fromString(y,v||!1,10);if(typeof y=="number")return n.Long.fromNumber(y,v||!1);throw Error("not convertible to Long")}m.verifyValue=function(y){var v=(function(k,Z){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+k+" ("+Z+")")}).bind(this);switch(this.type){case n.TYPES.int32:case n.TYPES.sint32:case n.TYPES.sfixed32:return(typeof y!="number"||y===y&&y%1!==0)&&v(typeof y,"not an integer"),y>4294967295?y|0:y;case n.TYPES.uint32:case n.TYPES.fixed32:return(typeof y!="number"||y===y&&y%1!==0)&&v(typeof y,"not an integer"),y<0?y>>>0:y;case n.TYPES.int64:case n.TYPES.sint64:case n.TYPES.sfixed64:if(n.Long)try{return o(y,!1)}catch(k){v(typeof y,k.message)}else v(typeof y,"requires Long.js");case n.TYPES.uint64:case n.TYPES.fixed64:if(n.Long)try{return o(y,!0)}catch(k){v(typeof y,k.message)}else v(typeof y,"requires Long.js");case n.TYPES.bool:return typeof y!="boolean"&&v(typeof y,"not a boolean"),y;case n.TYPES.float:case n.TYPES.double:return typeof y!="number"&&v(typeof y,"not a number"),y;case n.TYPES.string:return typeof y!="string"&&!(y&&y instanceof String)&&v(typeof y,"not a string"),""+y;case n.TYPES.bytes:return e.isByteBuffer(y)?y:e.wrap(y,"base64");case n.TYPES.enum:{var M=this.resolvedType.getChildren(n.Reflect.Enum.Value);for(x=0;x<M.length;x++){if(M[x].name==y)return M[x].id;if(M[x].id==y)return M[x].id}if(this.syntax==="proto3")return(typeof y!="number"||y===y&&y%1!==0)&&v(typeof y,"not an integer"),(y>4294967295||y<0)&&v(typeof y,"not in range for uint32"),y;v(y,"not a valid enum value")}case n.TYPES.group:case n.TYPES.message:{if((!y||typeof y!="object")&&v(typeof y,"object expected"),y instanceof this.resolvedType.clazz)return y;if(y instanceof n.Builder.Message){var b={};for(var x in y)y.hasOwnProperty(x)&&(b[x]=y[x]);y=b}return new this.resolvedType.clazz(y)}}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+y+" (undefined type "+this.type+")")},m.calculateLength=function(y,v){if(v===null)return 0;var M;switch(this.type){case n.TYPES.int32:return v<0?e.calculateVarint64(v):e.calculateVarint32(v);case n.TYPES.uint32:return e.calculateVarint32(v);case n.TYPES.sint32:return e.calculateVarint32(e.zigZagEncode32(v));case n.TYPES.fixed32:case n.TYPES.sfixed32:case n.TYPES.float:return 4;case n.TYPES.int64:case n.TYPES.uint64:return e.calculateVarint64(v);case n.TYPES.sint64:return e.calculateVarint64(e.zigZagEncode64(v));case n.TYPES.fixed64:case n.TYPES.sfixed64:return 8;case n.TYPES.bool:return 1;case n.TYPES.enum:return e.calculateVarint32(v);case n.TYPES.double:return 8;case n.TYPES.string:return M=e.calculateUTF8Bytes(v),e.calculateVarint32(M)+M;case n.TYPES.bytes:if(v.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+v.remaining()+" bytes remaining");return e.calculateVarint32(v.remaining())+v.remaining();case n.TYPES.message:return M=this.resolvedType.calculate(v),e.calculateVarint32(M)+M;case n.TYPES.group:return M=this.resolvedType.calculate(v),M+e.calculateVarint32(y<<3|n.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+v+" (unknown type)")},m.encodeValue=function(y,v,M){if(v===null)return M;switch(this.type){case n.TYPES.int32:v<0?M.writeVarint64(v):M.writeVarint32(v);break;case n.TYPES.uint32:M.writeVarint32(v);break;case n.TYPES.sint32:M.writeVarint32ZigZag(v);break;case n.TYPES.fixed32:M.writeUint32(v);break;case n.TYPES.sfixed32:M.writeInt32(v);break;case n.TYPES.int64:case n.TYPES.uint64:M.writeVarint64(v);break;case n.TYPES.sint64:M.writeVarint64ZigZag(v);break;case n.TYPES.fixed64:M.writeUint64(v);break;case n.TYPES.sfixed64:M.writeInt64(v);break;case n.TYPES.bool:typeof v=="string"?M.writeVarint32(v.toLowerCase()==="false"?0:!!v):M.writeVarint32(v?1:0);break;case n.TYPES.enum:M.writeVarint32(v);break;case n.TYPES.float:M.writeFloat32(v);break;case n.TYPES.double:M.writeFloat64(v);break;case n.TYPES.string:M.writeVString(v);break;case n.TYPES.bytes:if(v.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+v.remaining()+" bytes remaining");var b=v.offset;M.writeVarint32(v.remaining()),M.append(v),v.offset=b;break;case n.TYPES.message:var x=new e().LE();this.resolvedType.encode(v,x),M.writeVarint32(x.offset),M.append(x.flip());break;case n.TYPES.group:this.resolvedType.encode(v,M),M.writeVarint32(y<<3|n.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+v+" (unknown type)")}return M},m.decode=function(y,v,M){if(v!=this.type.wireType)throw Error("Unexpected wire type for element");var b,x;switch(this.type){case n.TYPES.int32:return y.readVarint32()|0;case n.TYPES.uint32:return y.readVarint32()>>>0;case n.TYPES.sint32:return y.readVarint32ZigZag()|0;case n.TYPES.fixed32:return y.readUint32()>>>0;case n.TYPES.sfixed32:return y.readInt32()|0;case n.TYPES.int64:return y.readVarint64();case n.TYPES.uint64:return y.readVarint64().toUnsigned();case n.TYPES.sint64:return y.readVarint64ZigZag();case n.TYPES.fixed64:return y.readUint64();case n.TYPES.sfixed64:return y.readInt64();case n.TYPES.bool:return!!y.readVarint32();case n.TYPES.enum:return y.readVarint32();case n.TYPES.float:return y.readFloat();case n.TYPES.double:return y.readDouble();case n.TYPES.string:return y.readVString();case n.TYPES.bytes:{if(x=y.readVarint32(),y.remaining()<x)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+x+" required but got only "+y.remaining());return b=y.clone(),b.limit=b.offset+x,y.offset+=x,b}case n.TYPES.message:return x=y.readVarint32(),this.resolvedType.decode(y,x);case n.TYPES.group:return this.resolvedType.decode(y,-1,M)}throw Error("[INTERNAL] Illegal decode type")},m.valueFromString=function(y){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case n.TYPES.int32:case n.TYPES.sint32:case n.TYPES.sfixed32:case n.TYPES.uint32:case n.TYPES.fixed32:return this.verifyValue(parseInt(y));case n.TYPES.int64:case n.TYPES.sint64:case n.TYPES.sfixed64:case n.TYPES.uint64:case n.TYPES.fixed64:return this.verifyValue(y);case n.TYPES.bool:return y==="true";case n.TYPES.string:return this.verifyValue(y);case n.TYPES.bytes:return e.fromBinary(y)}},m.valueToString=function(y){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===n.TYPES.bytes?y.toString("binary"):y.toString()},i.Element=u;var s=function(y,v,M,b,x,k){p.call(this,y,v,M,b,k),this.className="Message",this.extensions=[n.ID_MIN,n.ID_MAX],this.clazz=null,this.isGroup=!!x,this._fields=null,this._fieldsById=null,this._fieldsByName=null},h=s.prototype=Object.create(p.prototype);h.build=function(y){if(this.clazz&&!y)return this.clazz;var v=(function(k,Z){var q=Z.getChildren(k.Reflect.Message.Field),J=Z.getChildren(k.Reflect.Message.OneOf),de=function(C,L){k.Builder.Message.call(this);for(var V=0,H=J.length;V<H;++V)this[J[V].name]=null;for(V=0,H=q.length;V<H;++V){var X=q[V];this[X.name]=X.repeated?[]:X.map?new k.Map(X):null,(X.required||Z.syntax==="proto3")&&X.defaultValue!==null&&(this[X.name]=X.defaultValue)}if(arguments.length>0){var ee;if(arguments.length===1&&C!==null&&typeof C=="object"&&(typeof C.encode!="function"||C instanceof de)&&!Array.isArray(C)&&!(C instanceof k.Map)&&!e.isByteBuffer(C)&&!(C instanceof ArrayBuffer)&&!(k.Long&&C instanceof k.Long))this.$set(C);else for(V=0,H=arguments.length;V<H;++V)typeof(ee=arguments[V])<"u"&&this.$set(q[V].name,ee)}},ie=de.prototype=Object.create(k.Builder.Message.prototype);ie.add=function(C,L,V){var H=Z._fieldsByName[C];if(!V){if(!H)throw Error(this+"#"+C+" is undefined");if(!(H instanceof k.Reflect.Message.Field))throw Error(this+"#"+C+" is not a field: "+H.toString(!0));if(!H.repeated)throw Error(this+"#"+C+" is not a repeated field");L=H.verifyValue(L,!0)}return this[C]===null&&(this[C]=[]),this[C].push(L),this},ie.$add=ie.add,ie.set=function(C,L,V){if(C&&typeof C=="object"){V=L;for(var H in C)C.hasOwnProperty(H)&&typeof(L=C[H])<"u"&&this.$set(H,L,V);return this}var X=Z._fieldsByName[C];if(V)this[C]=L;else{if(!X)throw Error(this+"#"+C+" is not a field: undefined");if(!(X instanceof k.Reflect.Message.Field))throw Error(this+"#"+C+" is not a field: "+X.toString(!0));this[X.name]=L=X.verifyValue(L)}return X&&X.oneof&&(L!==null?(this[X.oneof.name]!==null&&(this[this[X.oneof.name]]=null),this[X.oneof.name]=X.name):X.oneof.name===C&&(this[X.oneof.name]=null)),this},ie.$set=ie.set,ie.get=function(C,L){if(L)return this[C];var V=Z._fieldsByName[C];if(!V||!(V instanceof k.Reflect.Message.Field))throw Error(this+"#"+C+" is not a field: undefined");if(!(V instanceof k.Reflect.Message.Field))throw Error(this+"#"+C+" is not a field: "+V.toString(!0));return this[V.name]},ie.$get=ie.get;for(var be=0;be<q.length;be++){var Le=q[be];Le instanceof k.Reflect.Message.ExtensionField||Z.builder.options.populateAccessors&&(function(C){var L=C.originalName.replace(/(_[a-zA-Z])/g,function(ee){return ee.toUpperCase().replace("_","")});L=L.substring(0,1).toUpperCase()+L.substring(1);var V=C.originalName.replace(/([A-Z])/g,function(ee){return"_"+ee}),H=function(ee,oe){return this[C.name]=oe?ee:C.verifyValue(ee),this},X=function(){return this[C.name]};Z.getChild("set"+L)===null&&(ie["set"+L]=H),Z.getChild("set_"+V)===null&&(ie["set_"+V]=H),Z.getChild("get"+L)===null&&(ie["get"+L]=X),Z.getChild("get_"+V)===null&&(ie["get_"+V]=X)})(Le)}ie.encode=function(C,L){typeof C=="boolean"&&(L=C,C=void 0);var V=!1;C||(C=new e,V=!0);var H=C.littleEndian;try{return Z.encode(this,C.LE(),L),(V?C.flip():C).LE(H)}catch(X){throw C.LE(H),X}},de.encode=function(C,L,V){return new de(C).encode(L,V)},ie.calculate=function(){return Z.calculate(this)},ie.encodeDelimited=function(C){var L=!1;C||(C=new e,L=!0);var V=new e().LE();return Z.encode(this,V).flip(),C.writeVarint32(V.remaining()),C.append(V),L?C.flip():C},ie.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(C){throw C.encoded&&(C.encoded=C.encoded.toArrayBuffer()),C}},ie.toArrayBuffer=ie.encodeAB,ie.encodeNB=function(){try{return this.encode().toBuffer()}catch(C){throw C.encoded&&(C.encoded=C.encoded.toBuffer()),C}},ie.toBuffer=ie.encodeNB,ie.encode64=function(){try{return this.encode().toBase64()}catch(C){throw C.encoded&&(C.encoded=C.encoded.toBase64()),C}},ie.toBase64=ie.encode64,ie.encodeHex=function(){try{return this.encode().toHex()}catch(C){throw C.encoded&&(C.encoded=C.encoded.toHex()),C}},ie.toHex=ie.encodeHex;function w(C,L,V,H,X){var ee=void 0;if(C===null||typeof C!="object"){if(H==k.TYPES.enum){for(var oe=X.getChildren(k.Reflect.Enum.Value),le=0;le<oe.length;le++)if(oe[le].id===C){C=oe[le].name;break}}ee=C}else if(e.isByteBuffer(C))L?ee=C.toBase64():ee=C.toBuffer();else if(Array.isArray(C)){var me=C;ee=[];for(var Se=0;Se<me.length;Se++)ee.push(w(me[Se],L,V,H,X))}else if(C instanceof k.Map){var Ne=C.entries();ee={};for(var F=Ne.next();!F.done;F=Ne.next())ee[C.keyElem.valueToString(F.value[0])]=w(F.value[1],L,V,C.valueElem.type,C.valueElem.resolvedType)}else if(C instanceof k.Long)V?ee=C.toString():ee=new k.Long(C);else{ee={};var We=C.$type,qe=void 0;for(var le in C)if(C.hasOwnProperty(le)){var $e=C[le];We&&(qe=We.getChild(le)),ee[le]=w($e,L,V,qe.type,qe.resolvedType)}}return ee}return ie.toRaw=function(C,L){return w(this,!!C,!!L,k.TYPES.message,this.$type)},ie.encodeJSON=function(){return JSON.stringify(w(this,!0,!0,k.TYPES.message,this.$type))},de.decode=function(C,L){typeof C=="string"&&(C=e.wrap(C,L||"base64")),C=e.isByteBuffer(C)?C:e.wrap(C);var V=C.littleEndian;try{var H=Z.decode(C.LE());return C.LE(V),H}catch(X){throw C.LE(V),X}},de.decodeDelimited=function(C,L){if(typeof C=="string"&&(C=e.wrap(C,L||"base64")),C=e.isByteBuffer(C)?C:e.wrap(C),C.remaining()<1)return null;var V=C.offset,H=C.readVarint32();if(C.remaining()<H)return C.offset=V,null;try{var X=Z.decode(C.slice(C.offset,C.offset+H).LE());return C.offset+=H,X}catch(ee){throw C.offset+=H,ee}},de.decode64=function(C){return de.decode(C,"base64")},de.decodeHex=function(C){return de.decode(C,"hex")},de.decodeJSON=function(C){return new de(JSON.parse(C))},ie.toString=function(){return Z.toString()},Object.defineProperty&&(Object.defineProperty(de,"$options",{value:Z.buildOpt()}),Object.defineProperty(ie,"$options",{value:de.$options}),Object.defineProperty(de,"$type",{value:Z}),Object.defineProperty(ie,"$type",{value:Z})),de})(n,this);this._fields=[],this._fieldsById={},this._fieldsByName={};for(var M=0,b=this.children.length,x;M<b;M++)if(x=this.children[M],x instanceof R||x instanceof s||x instanceof U){if(v.hasOwnProperty(x.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+x.toString(!0)+" cannot override static property '"+x.name+"'");v[x.name]=x.build()}else if(x instanceof s.Field)x.build(),this._fields.push(x),this._fieldsById[x.id]=x,this._fieldsByName[x.name]=x;else if(!(x instanceof s.OneOf)&&!(x instanceof N))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[M].toString(!0));return this.clazz=v},h.encode=function(y,v,M){for(var b=null,x,k=0,Z=this._fields.length,q;k<Z;++k)x=this._fields[k],q=y[x.name],x.required&&q===null?b===null&&(b=x):x.encode(M?q:x.verifyValue(q),v);if(b!==null){var J=Error("Missing at least one required field for "+this.toString(!0)+": "+b);throw J.encoded=v,J}return v},h.calculate=function(y){for(var v=0,M=0,b=this._fields.length,x,k;M<b;++M){if(x=this._fields[M],k=y[x.name],x.required&&k===null)throw Error("Missing at least one required field for "+this.toString(!0)+": "+x);v+=x.calculate(k)}return v};function g(y,v){var M=v.readVarint32(),b=M&7,x=M>>>3;switch(b){case n.WIRE_TYPES.VARINT:do M=v.readUint8();while((M&128)===128);break;case n.WIRE_TYPES.BITS64:v.offset+=8;break;case n.WIRE_TYPES.LDELIM:M=v.readVarint32(),v.offset+=M;break;case n.WIRE_TYPES.STARTGROUP:g(x,v);break;case n.WIRE_TYPES.ENDGROUP:if(x===y)return!1;throw Error("Illegal GROUPEND after unknown group: "+x+" ("+y+" expected)");case n.WIRE_TYPES.BITS32:v.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+y+": "+b)}return!0}h.decode=function(y,v,M){v=typeof v=="number"?v:-1;for(var b=y.offset,x=new this.clazz,k,Z,q,J;y.offset<b+v||v===-1&&y.remaining()>0;){if(k=y.readVarint32(),Z=k&7,q=k>>>3,Z===n.WIRE_TYPES.ENDGROUP){if(q!==M)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+q+" ("+(M?M+" expected":"not a group")+")");break}if(!(J=this._fieldsById[q])){switch(Z){case n.WIRE_TYPES.VARINT:y.readVarint32();break;case n.WIRE_TYPES.BITS32:y.offset+=4;break;case n.WIRE_TYPES.BITS64:y.offset+=8;break;case n.WIRE_TYPES.LDELIM:var de=y.readVarint32();y.offset+=de;break;case n.WIRE_TYPES.STARTGROUP:for(;g(q,y););break;default:throw Error("Illegal wire type for unknown field "+q+" in "+this.toString(!0)+"#decode: "+Z)}continue}if(J.repeated&&!J.options.packed)x[J.name].push(J.decode(Z,y));else if(J.map){var ie=J.decode(Z,y);x[J.name].set(ie[0],ie[1])}else x[J.name]=J.decode(Z,y),J.oneof&&(this[J.oneof.name]!==null&&(this[this[J.oneof.name]]=null),x[J.oneof.name]=J.name)}for(var be=0,Le=this._fields.length;be<Le;++be)if(J=this._fields[be],x[J.name]===null)if(J.required){var w=Error("Missing at least one required field for "+this.toString(!0)+": "+J.name);throw w.decoded=x,w}else n.populateDefaults&&J.defaultValue!==null&&(x[J.name]=J.defaultValue);return x},i.Message=s;var _=function(y,v,M,b,x,k,Z,q,J,de){r.call(this,y,v,k),this.className="Message.Field",this.required=M==="required",this.repeated=M==="repeated",this.map=M==="map",this.keyType=b||null,this.type=x,this.resolvedType=null,this.id=Z,this.options=q||{},this.defaultValue=null,this.oneof=J||null,this.syntax=de||"proto2",this.originalName=this.name,this.element=null,this.keyElement=null,this.builder.options.convertFieldsToCamelCase&&!(this instanceof s.ExtensionField)&&(this.name=n.Util.toCamelCase(this.name))},f=_.prototype=Object.create(r.prototype);f.build=function(){this.element=new u(this.type,this.resolvedType,!1,this.syntax),this.map&&(this.keyElement=new u(this.keyType,void 0,!0,this.syntax)),this.defaultValue=typeof this.options.default<"u"?this.verifyValue(this.options.default):null,this.syntax==="proto3"&&!this.repeated&&!this.map&&(this.defaultValue=this.element.defaultFieldValue(this.type))},f.verifyValue=function(y,v){v=v||!1;var M=(function(k,Z){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+k+" ("+Z+")")}).bind(this);if(y===null)return this.required&&M(typeof y,"required"),this.syntax==="proto3"&&this.type!==n.TYPES.message&&M(typeof y,"proto3 field without field presence cannot be null"),null;var b;if(this.repeated&&!v){Array.isArray(y)||(y=[y]);var x=[];for(b=0;b<y.length;b++)x.push(this.element.verifyValue(y[b]));return x}return this.map&&!v?y instanceof n.Map?y:(y instanceof Object||M(typeof y,"expected ProtoBuf.Map or raw object for map field"),new n.Map(this,y)):(!this.repeated&&Array.isArray(y)&&M(typeof y,"no array expected"),this.element.verifyValue(y))},f.hasWirePresence=function(y){if(this.syntax!=="proto3")return y!==null;switch(this.type){case n.TYPES.int32:case n.TYPES.sint32:case n.TYPES.sfixed32:case n.TYPES.uint32:case n.TYPES.fixed32:return y!==0;case n.TYPES.int64:case n.TYPES.sint64:case n.TYPES.sfixed64:case n.TYPES.uint64:case n.TYPES.fixed64:return y.low!==0||y.high!==0;case n.TYPES.bool:return y;case n.TYPES.float:case n.TYPES.double:return y!==0;case n.TYPES.string:return y.length>0;case n.TYPES.bytes:return y.remaining()>0;case n.TYPES.enum:return y!==0;case n.TYPES.message:return y!==null;default:return!0}},f.encode=function(y,v){if(this.type===null||typeof this.type!="object")throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(y===null||this.repeated&&y.length==0)return v;try{if(this.repeated){var M;if(this.options.packed&&n.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){v.writeVarint32(this.id<<3|n.WIRE_TYPES.LDELIM),v.ensureCapacity(v.offset+=1);var b=v.offset;for(M=0;M<y.length;M++)this.element.encodeValue(this.id,y[M],v);var x=v.offset-b,k=e.calculateVarint32(x);if(k>1){var Z=v.slice(b,v.offset);b+=k-1,v.offset=b,v.append(Z)}v.writeVarint32(x,b-k)}else for(M=0;M<y.length;M++)v.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,y[M],v)}else this.map?y.forEach(function(q,J,de){var ie=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,J)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,q);v.writeVarint32(this.id<<3|n.WIRE_TYPES.LDELIM),v.writeVarint32(ie),v.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,J,v),v.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,q,v)},this):this.hasWirePresence(y)&&(v.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,y,v))}catch(q){throw Error("Illegal value for "+this.toString(!0)+": "+y+" ("+q+")")}return v},f.calculate=function(y){if(y=this.verifyValue(y),this.type===null||typeof this.type!="object")throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(y===null||this.repeated&&y.length==0)return 0;var v=0;try{if(this.repeated){var M,b;if(this.options.packed&&n.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(v+=e.calculateVarint32(this.id<<3|n.WIRE_TYPES.LDELIM),b=0,M=0;M<y.length;M++)b+=this.element.calculateLength(this.id,y[M]);v+=e.calculateVarint32(b),v+=b}else for(M=0;M<y.length;M++)v+=e.calculateVarint32(this.id<<3|this.type.wireType),v+=this.element.calculateLength(this.id,y[M])}else this.map?y.forEach(function(x,k,Z){var q=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,k)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,x);v+=e.calculateVarint32(this.id<<3|n.WIRE_TYPES.LDELIM),v+=e.calculateVarint32(q),v+=q},this):this.hasWirePresence(y)&&(v+=e.calculateVarint32(this.id<<3|this.type.wireType),v+=this.element.calculateLength(this.id,y))}catch(x){throw Error("Illegal value for "+this.toString(!0)+": "+y+" ("+x+")")}return v},f.decode=function(y,v,M){var b,x,k=!this.map&&y==this.type.wireType||!M&&this.repeated&&this.options.packed&&y==n.WIRE_TYPES.LDELIM||this.map&&y==n.WIRE_TYPES.LDELIM;if(!k)throw Error("Illegal wire type for field "+this.toString(!0)+": "+y+" ("+this.type.wireType+" expected)");if(y==n.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&n.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!M){x=v.readVarint32(),x=v.offset+x;for(var Z=[];v.offset<x;)Z.push(this.decode(this.type.wireType,v,!0));return Z}if(this.map){var q=this.keyElement.defaultFieldValue(this.keyType);if(b=this.element.defaultFieldValue(this.type),x=v.readVarint32(),v.remaining()<x)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+x+" required but got only "+v.remaining());var J=v.clone();for(J.limit=J.offset+x,v.offset+=x;J.remaining()>0;){var de=J.readVarint32();y=de&7;var ie=de>>>3;if(ie===1)q=this.keyElement.decode(J,y,ie);else if(ie===2)b=this.element.decode(J,y,ie);else throw Error("Unexpected tag in map field key/value submessage")}return[q,b]}return this.element.decode(v,y,this.id)},i.Message.Field=_;var E=function(y,v,M,b,x,k,Z){_.call(this,y,v,M,null,b,x,k,Z),this.extension};E.prototype=Object.create(_.prototype),i.Message.ExtensionField=E;var T=function(y,v,M){r.call(this,y,v,M),this.fields=[]};i.Message.OneOf=T;var R=function(y,v,M,b,x){p.call(this,y,v,M,b,x),this.className="Enum",this.object=null},O=R.prototype=Object.create(p.prototype);O.build=function(){for(var y={},v=this.getChildren(R.Value),M=0,b=v.length;M<b;++M)y[v[M].name]=v[M].id;return Object.defineProperty&&Object.defineProperty(y,"$options",{value:this.buildOpt()}),this.object=y},i.Enum=R;var P=function(y,v,M,b){r.call(this,y,v,M),this.className="Enum.Value",this.id=b};P.prototype=Object.create(r.prototype),i.Enum.Value=P;var N=function(y,v,M,b){r.call(this,y,v,M),this.field=b};N.prototype=Object.create(r.prototype),i.Extension=N;var U=function(y,v,M,b){p.call(this,y,v,M,b),this.className="Service",this.clazz=null},A=U.prototype=Object.create(p.prototype);A.build=function(y){return this.clazz&&!y?this.clazz:this.clazz=(function(v,M){for(var b=function(q){v.Builder.Service.call(this),this.rpcImpl=q||function(J,de,ie){setTimeout(ie.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},x=b.prototype=Object.create(v.Builder.Service.prototype),k=M.getChildren(v.Reflect.Service.RPCMethod),Z=0;Z<k.length;Z++)(function(q){x[q.name]=function(J,de){try{try{J=q.resolvedRequestType.clazz.decode(e.wrap(J))}catch(ie){if(!(ie instanceof TypeError))throw ie}if(!J||!(J instanceof q.resolvedRequestType.clazz)){setTimeout(de.bind(this,Error("Illegal request type provided to service method "+M.name+"#"+q.name)),0);return}this.rpcImpl(q.fqn(),J,function(ie,be){if(ie){de(ie);return}try{be=q.resolvedResponseType.clazz.decode(be)}catch{}if(!be||!(be instanceof q.resolvedResponseType.clazz)){de(Error("Illegal response type received in service method "+M.name+"#"+q.name));return}de(null,be)})}catch(ie){setTimeout(de.bind(this,ie),0)}},b[q.name]=function(J,de,ie){new b(J)[q.name](de,ie)},Object.defineProperty&&(Object.defineProperty(b[q.name],"$options",{value:q.buildOpt()}),Object.defineProperty(x[q.name],"$options",{value:b[q.name].$options}))})(k[Z]);return Object.defineProperty&&(Object.defineProperty(b,"$options",{value:M.buildOpt()}),Object.defineProperty(x,"$options",{value:b.$options}),Object.defineProperty(b,"$type",{value:M}),Object.defineProperty(x,"$type",{value:M})),b})(n,this)},i.Service=U;var D=function(y,v,M,b){r.call(this,y,v,M),this.className="Service.Method",this.options=b||{}},B=D.prototype=Object.create(r.prototype);B.buildOpt=c.buildOpt,i.Service.Method=D;var Y=function(y,v,M,b,x,k,Z,q){D.call(this,y,v,M,q),this.className="Service.RPCMethod",this.requestName=b,this.responseName=x,this.requestStream=k,this.responseStream=Z,this.resolvedRequestType=null,this.resolvedResponseType=null};return Y.prototype=Object.create(D.prototype),i.Service.RPCMethod=Y,i})(t),t.Builder=(function(n,i,r){function l(u,m){m.syntax=u,m.messages&&m.messages.forEach(function(d){l(u,d)}),m.enums&&m.enums.forEach(function(d){l(u,d)})}var p=function(u){this.ns=new r.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=u||{}},c=p.prototype;return c.reset=function(){this.ptr=this.ns},c.define=function(u){if(typeof u!="string"||!i.TYPEREF.test(u))throw Error("Illegal package: "+u);var m=u.split("."),d,o;for(d=0;d<m.length;d++)if(!i.NAME.test(m[d]))throw Error("Illegal package: "+m[d]);for(d=0;d<m.length;d++)o=this.ptr.getChild(m[d]),o===null&&this.ptr.addChild(o=new r.Namespace(this,this.ptr,m[d])),this.ptr=o;return this},p.isValidMessage=function(u){if(typeof u.name!="string"||!i.NAME.test(u.name)||typeof u.values<"u"||typeof u.rpc<"u")return!1;var m;if(typeof u.fields<"u"){if(!Array.isArray(u.fields))return!1;var d=[],o;for(m=0;m<u.fields.length;m++){if(!p.isValidMessageField(u.fields[m])||(o=parseInt(u.fields[m].id,10),d.indexOf(o)>=0))return!1;d.push(o)}d=null}if(typeof u.enums<"u"){if(!Array.isArray(u.enums))return!1;for(m=0;m<u.enums.length;m++)if(!p.isValidEnum(u.enums[m]))return!1}if(typeof u.messages<"u"){if(!Array.isArray(u.messages))return!1;for(m=0;m<u.messages.length;m++)if(!p.isValidMessage(u.messages[m])&&!p.isValidExtend(u.messages[m]))return!1}if(typeof u.extensions<"u"&&(!Array.isArray(u.extensions)||u.extensions.length!==2||typeof u.extensions[0]!="number"||typeof u.extensions[1]!="number"))return!1;if(u.syntax==="proto3"){for(m=0;m<u.fields.length;m++){var s=u.fields[m];if(s.rule==="required"||s.default)return!1;if(s.options){for(var h=Object.keys(s.options),g=0;g<h.length;g++)if(h[g]==="default")return!1}}if(u.extensions)return!1}return!0},p.isValidMessageField=function(u){if(typeof u.rule!="string"||typeof u.name!="string"||typeof u.type!="string"||typeof u.id>"u"||!i.RULE.test(u.rule)||!i.NAME.test(u.name)||!i.TYPEREF.test(u.type)||!i.ID.test(""+u.id))return!1;if(typeof u.options<"u"){if(typeof u.options!="object")return!1;for(var m=Object.keys(u.options),d=0,o;d<m.length;d++)if(typeof(o=m[d])!="string"||typeof u.options[o]!="string"&&typeof u.options[o]!="number"&&typeof u.options[o]!="boolean")return!1}return!0},p.isValidEnum=function(u){if(typeof u.name!="string"||!i.NAME.test(u.name)||typeof u.values>"u"||!Array.isArray(u.values)||u.values.length==0)return!1;for(var m=0;m<u.values.length;m++)if(typeof u.values[m]!="object"||typeof u.values[m].name!="string"||typeof u.values[m].id>"u"||!i.NAME.test(u.values[m].name)||!i.NEGID.test(""+u.values[m].id))return!1;return!(u.syntax==="proto3"&&u.values[0].id!==0)},c.create=function(u){if(!u)return this;if(!Array.isArray(u))u=[u];else{if(u.length===0)return this;u=u.slice()}var m=[];for(m.push(u);m.length>0;){if(u=m.pop(),Array.isArray(u))for(;u.length>0;){var d=u.shift();if(p.isValidMessage(d)){var o=new r.Message(this,this.ptr,d.name,d.options,d.isGroup,d.syntax),s={};if(d.oneofs)for(var h=Object.keys(d.oneofs),g=0,_=h.length;g<_;++g)o.addChild(s[h[g]]=new r.Message.OneOf(this,o,h[g]));if(d.fields&&d.fields.length>0)for(g=0,_=d.fields.length;g<_;++g){var f=d.fields[g];if(o.getChild(f.id)!==null)throw Error("Duplicate field id in message "+o.name+": "+f.id);if(f.options)for(var E=Object.keys(f.options),T=0,R=E.length;T<R;++T){if(typeof E[T]!="string")throw Error("Illegal field option name in message "+o.name+"#"+f.name+": "+E[T]);if(typeof f.options[E[T]]!="string"&&typeof f.options[E[T]]!="number"&&typeof f.options[E[T]]!="boolean")throw Error("Illegal field option value in message "+o.name+"#"+f.name+"#"+E[T]+": "+f.options[E[T]])}var O=null;if(typeof f.oneof=="string"&&(O=s[f.oneof],typeof O>"u"))throw Error("Illegal oneof in message "+o.name+"#"+f.name+": "+f.oneof);f=new r.Message.Field(this,o,f.rule,f.keytype,f.type,f.name,f.id,f.options,O,d.syntax),O&&O.fields.push(f),o.addChild(f)}var P=[];if(typeof d.enums<"u"&&d.enums.length>0)for(g=0;g<d.enums.length;g++)P.push(d.enums[g]);if(d.messages&&d.messages.length>0)for(g=0;g<d.messages.length;g++)P.push(d.messages[g]);if(d.services&&d.services.length>0)for(g=0;g<d.services.length;g++)P.push(d.services[g]);if(d.extensions&&(o.extensions=d.extensions,o.extensions[0]<n.ID_MIN&&(o.extensions[0]=n.ID_MIN),o.extensions[1]>n.ID_MAX&&(o.extensions[1]=n.ID_MAX)),this.ptr.addChild(o),P.length>0){m.push(u),u=P,P=null,this.ptr=o,o=null;continue}P=null,o=null}else if(p.isValidEnum(d)){for(o=new r.Enum(this,this.ptr,d.name,d.options,d.syntax),g=0;g<d.values.length;g++)o.addChild(new r.Enum.Value(this,o,d.values[g].name,d.values[g].id));this.ptr.addChild(o),o=null}else if(p.isValidService(d)){o=new r.Service(this,this.ptr,d.name,d.options);for(g in d.rpc)d.rpc.hasOwnProperty(g)&&o.addChild(new r.Service.RPCMethod(this,o,g,d.rpc[g].request,d.rpc[g].response,!!d.rpc[g].request_stream,!!d.rpc[g].response_stream,d.rpc[g].options));this.ptr.addChild(o),o=null}else if(p.isValidExtend(d)){if(o=this.ptr.resolve(d.ref,!0),o)for(g=0;g<d.fields.length;g++){if(o.getChild(d.fields[g].id)!==null)throw Error("Duplicate extended field id in message "+o.name+": "+d.fields[g].id);if(d.fields[g].id<o.extensions[0]||d.fields[g].id>o.extensions[1])throw Error("Illegal extended field id in message "+o.name+": "+d.fields[g].id+" ("+o.extensions.join(" to ")+" expected)");var N=d.fields[g].name;this.options.convertFieldsToCamelCase&&(N=n.Util.toCamelCase(d.fields[g].name)),f=new r.Message.ExtensionField(this,o,d.fields[g].rule,d.fields[g].type,this.ptr.fqn()+"."+N,d.fields[g].id,d.fields[g].options);var U=new r.Extension(this,this.ptr,d.fields[g].name,f);f.extension=U,this.ptr.addChild(U),o.addChild(f)}else if(!/\.?google\.protobuf\./.test(d.ref))throw Error("Extended message "+d.ref+" is not defined")}else throw Error("Not a valid definition: "+JSON.stringify(d));d=null}else throw Error("Not a valid namespace: "+JSON.stringify(u));u=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},c.import=function(u,m){if(typeof m=="string"){if(n.Util.IS_NODE&&(m=Vi.resolve(m)),this.files[m]===!0)return this.reset(),this;this.files[m]=!0}else if(typeof m=="object"){var d=m.root;n.Util.IS_NODE&&(d=Vi.resolve(d));var o=[d,m.file].join("/");if(this.files[o]===!0)return this.reset(),this;this.files[o]=!0}if(u.imports&&u.imports.length>0){var s,h="/",g=!1;typeof m=="object"?(this.importRoot=m.root,g=!0,s=this.importRoot,m=m.file,(s.indexOf("\\")>=0||m.indexOf("\\")>=0)&&(h="\\")):typeof m=="string"?this.importRoot?s=this.importRoot:m.indexOf("/")>=0?(s=m.replace(/\/[^\/]*$/,""),s===""&&(s="/")):m.indexOf("\\")>=0?(s=m.replace(/\\[^\\]*$/,""),h="\\"):s=".":s=null;for(var _=0;_<u.imports.length;_++)if(typeof u.imports[_]=="string"){if(!s)throw Error("Cannot determine import root: File name is unknown");var f=u.imports[_];if(f==="google/protobuf/descriptor.proto"||(f=s+h+f,this.files[f]===!0))continue;/\.proto$/i.test(f)&&!n.DotProto&&(f=f.replace(/\.proto$/,".json"));var E=n.Util.fetch(f);if(E===null)throw Error("Failed to import '"+f+"' in '"+m+"': File not found");/\.json$/i.test(f)?this.import(JSON.parse(E+""),f):this.import(new n.DotProto.Parser(E+"").parse(),f)}else m?/\.(\w+)$/.test(m)?this.import(u.imports[_],m.replace(/^(.+)\.(\w+)$/,function(R,O,P){return O+"_import"+_+"."+P})):this.import(u.imports[_],m+"_import"+_):this.import(u.imports[_]);g&&(this.importRoot=null)}u.package&&this.define(u.package),u.syntax&&l(u.syntax,u);var T=this.ptr;return u.options&&Object.keys(u.options).forEach(function(R){T.options[R]=u.options[R]}),u.messages&&(this.create(u.messages),this.ptr=T),u.enums&&(this.create(u.enums),this.ptr=T),u.services&&(this.create(u.services),this.ptr=T),u.extends&&this.create(u.extends),this.reset(),this},p.isValidService=function(u){return!(typeof u.name!="string"||!i.NAME.test(u.name)||typeof u.rpc!="object")},p.isValidExtend=function(u){if(typeof u.ref!="string"||!i.TYPEREF.test(u.ref))return!1;var m;if(typeof u.fields<"u"){if(!Array.isArray(u.fields))return!1;var d=[],o;for(m=0;m<u.fields.length;m++){if(!p.isValidMessageField(u.fields[m])||(o=parseInt(u.id,10),d.indexOf(o)>=0))return!1;d.push(o)}d=null}return!0},c.resolveAll=function(){var u;if(!(this.ptr==null||typeof this.ptr.type=="object")){if(this.ptr instanceof r.Namespace)for(var m=this.ptr.children,d=0,o=m.length;d<o;++d)this.ptr=m[d],this.resolveAll();else if(this.ptr instanceof r.Message.Field){if(i.TYPE.test(this.ptr.type))this.ptr.type=n.TYPES[this.ptr.type];else{if(!i.TYPEREF.test(this.ptr.type))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(u=(this.ptr instanceof r.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0),!u)throw Error("Unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=u,u instanceof r.Enum){if(this.ptr.type=n.TYPES.enum,this.ptr.syntax==="proto3"&&u.syntax!=="proto3")throw Error("Proto3 message refers to proto2 enum; this is not allowed due to differing enum semantics in proto3")}else if(u instanceof r.Message)this.ptr.type=u.isGroup?n.TYPES.group:n.TYPES.message;else throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type)}if(this.ptr.map){if(!i.TYPE.test(this.ptr.keyType))throw Error("Illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.keyType=n.TYPES[this.ptr.keyType]}}else if(!(this.ptr instanceof n.Reflect.Enum.Value)){if(this.ptr instanceof n.Reflect.Service.Method)if(this.ptr instanceof n.Reflect.Service.RPCMethod){if(u=this.ptr.parent.resolve(this.ptr.requestName,!0),!u||!(u instanceof n.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=u,u=this.ptr.parent.resolve(this.ptr.responseName,!0),!u||!(u instanceof n.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=u}else throw Error("Illegal service type in "+this.ptr.toString(!0));else if(!(this.ptr instanceof n.Reflect.Message.OneOf)&&!(this.ptr instanceof n.Reflect.Extension))throw Error("Illegal object in namespace: "+typeof this.ptr+":"+this.ptr)}this.reset()}},c.build=function(u){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),this.result===null&&(this.result=this.ns.build()),u){for(var m=typeof u=="string"?u.split("."):u,d=this.result,o=0;o<m.length;o++)if(d[m[o]])d=d[m[o]];else{d=null;break}return d}else return this.result},c.lookup=function(u,m){return u?this.ns.resolve(u,m):this.ns},c.toString=function(){return"Builder"},p.Message=function(){},p.Service=function(){},p})(t,t.Lang,t.Reflect),t.Map=(function(n,i){var r=function(c,u){if(!c.map)throw Error("field is not a map");if(this.field=c,this.keyElem=new i.Element(c.keyType,null,!0,c.syntax),this.valueElem=new i.Element(c.type,c.resolvedType,!1,c.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),u)for(var m=Object.keys(u),d=0;d<m.length;d++){var o=this.keyElem.valueFromString(m[d]),s=this.valueElem.verifyValue(u[m[d]]);this.map[this.keyElem.valueToString(o)]={key:o,value:s}}},l=r.prototype;function p(c){var u=0;return{next:function(){return u<c.length?{done:!1,value:c[u++]}:{done:!0}}}}return l.clear=function(){this.map={}},l.delete=function(c){var u=this.keyElem.valueToString(this.keyElem.verifyValue(c)),m=u in this.map;return delete this.map[u],m},l.entries=function(){for(var c=[],u=Object.keys(this.map),m=0,d;m<u.length;m++)c.push([(d=this.map[u[m]]).key,d.value]);return p(c)},l.keys=function(){for(var c=[],u=Object.keys(this.map),m=0;m<u.length;m++)c.push(this.map[u[m]].key);return p(c)},l.values=function(){for(var c=[],u=Object.keys(this.map),m=0;m<u.length;m++)c.push(this.map[u[m]].value);return p(c)},l.forEach=function(c,u){for(var m=Object.keys(this.map),d=0,o;d<m.length;d++)c.call(u,(o=this.map[m[d]]).value,o.key,this)},l.set=function(c,u){var m=this.keyElem.verifyValue(c),d=this.valueElem.verifyValue(u);return this.map[this.keyElem.valueToString(m)]={key:m,value:d},this},l.get=function(c){var u=this.keyElem.valueToString(this.keyElem.verifyValue(c));if(u in this.map)return this.map[u].value},l.has=function(c){var u=this.keyElem.valueToString(this.keyElem.verifyValue(c));return u in this.map},r})(t,t.Reflect),t.loadProto=function(n,i,r){return(typeof i=="string"||i&&typeof i.file=="string"&&typeof i.root=="string")&&(r=i,i=void 0),t.loadJson(new t.DotProto.Parser(n).parse(),i,r)},t.protoFromString=t.loadProto,t.loadProtoFile=function(n,i,r){if(i&&typeof i=="object"?(r=i,i=null):(!i||typeof i!="function")&&(i=null),i)return t.Util.fetch(typeof n=="string"?n:n.root+"/"+n.file,function(p){if(p===null){i(Error("Failed to fetch file"));return}try{i(null,t.loadProto(p,r,n))}catch(c){i(c)}});var l=t.Util.fetch(typeof n=="object"?n.root+"/"+n.file:n);return l===null?null:t.loadProto(l,r,n)},t.protoFromFile=t.loadProtoFile,t.newBuilder=function(n){return n=n||{},typeof n.convertFieldsToCamelCase>"u"&&(n.convertFieldsToCamelCase=t.convertFieldsToCamelCase),typeof n.populateAccessors>"u"&&(n.populateAccessors=t.populateAccessors),new t.Builder(n)},t.loadJson=function(n,i,r){return(typeof i=="string"||i&&typeof i.file=="string"&&typeof i.root=="string")&&(r=i,i=null),(!i||typeof i!="object")&&(i=t.newBuilder()),typeof n=="string"&&(n=JSON.parse(n)),i.import(n,r),i.resolveAll(),i},t.loadJsonFile=function(n,i,r){if(i&&typeof i=="object"?(r=i,i=null):(!i||typeof i!="function")&&(i=null),i)return t.Util.fetch(typeof n=="string"?n:n.root+"/"+n.file,function(p){if(p===null){i(Error("Failed to fetch file"));return}try{i(null,t.loadJson(JSON.parse(p),r,n))}catch(c){i(c)}});var l=t.Util.fetch(typeof n=="object"?n.root+"/"+n.file:n);return l===null?null:t.loadJson(JSON.parse(l),r,n)},t})})(vo)),vo.exports}var Rr,Fd;function bE(){if(Fd)return Rr;Fd=1;var a=Uu();return Rr={uncompressSync:function(e){var t=a.wrap(e),n=t.readVarint32(),i=new a(n);i.offset=0,i.length=n,t.littleEndian=!0;for(var r=function(d,o,s){for(var h=d.offset-s,g=0;g<o;++g)d.writeByte(d.readByte(h+g))};t.remaining();){var l=t.readUint8();switch(l&3){case 0:var u=(l>>2)+1;if(u>=61){var p=u-60;u=0;for(var c=0;c<p;++c)u|=t.readUint8()<<8*c;u++}for(var c=0;c<u;++c)i.writeByte(t.readByte());break;case 1:var u=(l>>2&7)+4,m=l>>5<<8|t.readUint8();r(i,u,m);break;case 2:var u=(l>>2)+1,m=t.readUint16();r(i,u,m);break;case 3:var u=(l>>2)+1,m=t.readUint32();r(i,u,m);break}}return i.offset=0,i.toBuffer()}},Rr}var br,kd;function DE(){if(kd)return br;kd=1;var a=Gu(),e=function(t){this.offset=0,this.limit=t.length*8,this.bytes=t};return e.prototype.readBits=function(t){if(t>this.limit-this.offset)throw"not enough bits left in stream to read!";var n=this.offset%8,i=n+t,r=~~(i/8);i%8&&(r+=1);var l=null;if(!n&&t===8)l=this.bytes.readUInt8(this.offset/8);else if(i<=31){l=0;for(var p=0;p<r;p++){var c=this.bytes[~~(this.offset/8)+p];l+=c<<p*8}l>>=n,l&=(1<<t)-1}else{console.error(i),l=new a;for(var p=0;p<r;p++){var u=this.bytes[~~(this.offset/8)+p];u=new a.fromNumber(u),l=l.add(u.shiftLeft(p*8))}l=l.shiftRight(n),l=l.and((1<<t)-1),l=l.toInt()}return this.offset+=t,l},e.prototype.readBuffer=function(t){var n=Math.ceil(t/8),i=new Buffer(n),r=0;for(i.length=n;t>0;){var l=Math.min(t,8);i.writeUInt8(this.readBits(l),r),r+=1,t-=l}return i},e.prototype.readBoolean=function(){return this.readBits(1)},e.prototype.readNullTerminatedString=function(){for(var t="";;){var n=this.readBits(8);if(!n)break;var i=new Buffer(1);i.writeUInt8(n),t+=i.toString()}return t},e.prototype.readVarUInt=function(){for(var t=32,n=(t+6)/7*7,i=0,r=0;;){var l=this.readBits(8);if(i|=(l&127)<<r,r+=7,(l&128)===0||r==n)return i}},e.prototype.readUBitVar=function(){var t=this.readBits(6);switch(t&48){case 16:t=t&15|this.readBits(4)<<4;break;case 32:t=t&15|this.readBits(8)<<4;break;case 48:t=t&15|this.readBits(28)<<4;break}return t},br=e,br}var Dr={exports:{}};var Bd;function OE(){return Bd||(Bd=1,(function(a){(function(){var e={};function t(){}function n(w){return w}function i(w){return!!w}function r(w){return!w}var l,p=typeof self=="object"&&self.self===self&&self||typeof Ca=="object"&&Ca.global===Ca&&Ca||this;p!=null&&(l=p.async),e.noConflict=function(){return p.async=l,e};function c(w){return function(){if(w===null)throw new Error("Callback was already called.");w.apply(this,arguments),w=null}}function u(w){return function(){w!==null&&(w.apply(this,arguments),w=null)}}var m=Object.prototype.toString,d=Array.isArray||function(w){return m.call(w)==="[object Array]"},o=function(w){var C=typeof w;return C==="function"||C==="object"&&!!w};function s(w){return d(w)||typeof w.length=="number"&&w.length>=0&&w.length%1===0}function h(w,C){for(var L=-1,V=w.length;++L<V;)C(w[L],L,w)}function g(w,C){for(var L=-1,V=w.length,H=Array(V);++L<V;)H[L]=C(w[L],L,w);return H}function _(w){return g(Array(w),function(C,L){return L})}function f(w,C,L){return h(w,function(V,H,X){L=C(L,V,H,X)}),L}function E(w,C){h(R(w),function(L){C(w[L],L)})}function T(w,C){for(var L=0;L<w.length;L++)if(w[L]===C)return L;return-1}var R=Object.keys||function(w){var C=[];for(var L in w)w.hasOwnProperty(L)&&C.push(L);return C};function O(w){var C=-1,L,V;return s(w)?(L=w.length,function(){return C++,C<L?C:null}):(V=R(w),L=V.length,function(){return C++,C<L?V[C]:null})}function P(w,C){return C=C==null?w.length-1:+C,function(){for(var L=Math.max(arguments.length-C,0),V=Array(L),H=0;H<L;H++)V[H]=arguments[H+C];switch(C){case 0:return w.call(this,V);case 1:return w.call(this,arguments[0],V)}}}function N(w){return function(C,L,V){return w(C,V)}}var U=typeof setImmediate=="function"&&setImmediate,A=U?function(w){U(w)}:function(w){setTimeout(w,0)};typeof process=="object"&&typeof process.nextTick=="function"?e.nextTick=process.nextTick:e.nextTick=A,e.setImmediate=U?A:e.nextTick,e.forEach=e.each=function(w,C,L){return e.eachOf(w,N(C),L)},e.forEachSeries=e.eachSeries=function(w,C,L){return e.eachOfSeries(w,N(C),L)},e.forEachLimit=e.eachLimit=function(w,C,L,V){return D(C)(w,N(L),V)},e.forEachOf=e.eachOf=function(w,C,L){L=u(L||t),w=w||[];for(var V=O(w),H,X=0;(H=V())!=null;)X+=1,C(w[H],H,c(ee));X===0&&L(null);function ee(oe){X--,oe?L(oe):H===null&&X<=0&&L(null)}},e.forEachOfSeries=e.eachOfSeries=function(w,C,L){L=u(L||t),w=w||[];var V=O(w),H=V();function X(){var ee=!0;if(H===null)return L(null);C(w[H],H,c(function(oe){if(oe)L(oe);else{if(H=V(),H===null)return L(null);ee?e.setImmediate(X):X()}})),ee=!1}X()},e.forEachOfLimit=e.eachOfLimit=function(w,C,L,V){D(C)(w,L,V)};function D(w){return function(C,L,V){V=u(V||t),C=C||[];var H=O(C);if(w<=0)return V(null);var X=!1,ee=0,oe=!1;(function le(){if(X&&ee<=0)return V(null);for(;ee<w&&!oe;){var me=H();if(me===null){X=!0,ee<=0&&V(null);return}ee+=1,L(C[me],me,c(function(Se){ee-=1,Se?(V(Se),oe=!0):le()}))}})()}}function B(w){return function(C,L,V){return w(e.eachOf,C,L,V)}}function Y(w){return function(C,L,V,H){return w(D(L),C,V,H)}}function y(w){return function(C,L,V){return w(e.eachOfSeries,C,L,V)}}function v(w,C,L,V){V=u(V||t),C=C||[];var H=s(C)?[]:{};w(C,function(X,ee,oe){L(X,function(le,me){H[ee]=me,oe(le)})},function(X){V(X,H)})}e.map=B(v),e.mapSeries=y(v),e.mapLimit=Y(v),e.inject=e.foldl=e.reduce=function(w,C,L,V){e.eachOfSeries(w,function(H,X,ee){L(C,H,function(oe,le){C=le,ee(oe)})},function(H){V(H,C)})},e.foldr=e.reduceRight=function(w,C,L,V){var H=g(w,n).reverse();e.reduce(H,C,L,V)},e.transform=function(w,C,L,V){arguments.length===3&&(V=L,L=C,C=d(w)?[]:{}),e.eachOf(w,function(H,X,ee){L(C,H,X,ee)},function(H){V(H,C)})};function M(w,C,L,V){var H=[];w(C,function(X,ee,oe){L(X,function(le){le&&H.push({index:ee,value:X}),oe()})},function(){V(g(H.sort(function(X,ee){return X.index-ee.index}),function(X){return X.value}))})}e.select=e.filter=B(M),e.selectLimit=e.filterLimit=Y(M),e.selectSeries=e.filterSeries=y(M);function b(w,C,L,V){M(w,C,function(H,X){L(H,function(ee){X(!ee)})},V)}e.reject=B(b),e.rejectLimit=Y(b),e.rejectSeries=y(b);function x(w,C,L){return function(V,H,X,ee){function oe(){ee&&ee(L(!1,void 0))}function le(me,Se,Ne){if(!ee)return Ne();X(me,function(F){ee&&C(F)&&(ee(L(!0,me)),ee=X=!1),Ne()})}arguments.length>3?w(V,H,le,oe):(ee=X,X=H,w(V,le,oe))}}e.any=e.some=x(e.eachOf,i,n),e.someLimit=x(e.eachOfLimit,i,n),e.all=e.every=x(e.eachOf,r,r),e.everyLimit=x(e.eachOfLimit,r,r);function k(w,C){return C}e.detect=x(e.eachOf,n,k),e.detectSeries=x(e.eachOfSeries,n,k),e.detectLimit=x(e.eachOfLimit,n,k),e.sortBy=function(w,C,L){e.map(w,function(H,X){C(H,function(ee,oe){ee?X(ee):X(null,{value:H,criteria:oe})})},function(H,X){if(H)return L(H);L(null,g(X.sort(V),function(ee){return ee.value}))});function V(H,X){var ee=H.criteria,oe=X.criteria;return ee<oe?-1:ee>oe?1:0}},e.auto=function(w,C,L){typeof arguments[1]=="function"&&(L=C,C=null),L=u(L||t);var V=R(w),H=V.length;if(!H)return L(null);C||(C=H);var X={},ee=0,oe=!1,le=[];function me(F){le.unshift(F)}function Se(F){var We=T(le,F);We>=0&&le.splice(We,1)}function Ne(){H--,h(le.slice(0),function(F){F()})}me(function(){H||L(null,X)}),h(V,function(F){if(oe)return;for(var We=d(w[F])?w[F]:[w[F]],qe=P(function(ae,re){if(ee--,re.length<=1&&(re=re[0]),ae){var ne={};E(X,function(De,he){ne[he]=De}),ne[F]=re,oe=!0,L(ae,ne)}else X[F]=re,e.setImmediate(Ne)}),$e=We.slice(0,We.length-1),Te=$e.length,G;Te--;){if(!(G=w[$e[Te]]))throw new Error("Has nonexistent dependency in "+$e.join(", "));if(d(G)&&T(G,F)>=0)throw new Error("Has cyclic dependencies")}function S(){return ee<C&&f($e,function(ae,re){return ae&&X.hasOwnProperty(re)},!0)&&!X.hasOwnProperty(F)}S()?(ee++,We[We.length-1](qe,X)):me(W);function W(){S()&&(ee++,Se(W),We[We.length-1](qe,X))}})},e.retry=function(w,C,L){var V=5,H=0,X=[],ee={times:V,interval:H};function oe(Se,Ne){if(typeof Ne=="number")Se.times=parseInt(Ne,10)||V;else if(typeof Ne=="object")Se.times=parseInt(Ne.times,10)||V,Se.interval=parseInt(Ne.interval,10)||H;else throw new Error("Unsupported argument type for 'times': "+typeof Ne)}var le=arguments.length;if(le<1||le>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");le<=2&&typeof w=="function"&&(L=C,C=w),typeof w!="function"&&oe(ee,w),ee.callback=L,ee.task=C;function me(Se,Ne){function F($e,Te){return function(G){$e(function(S,W){G(!S||Te,{err:S,result:W})},Ne)}}function We($e){return function(Te){setTimeout(function(){Te(null)},$e)}}for(;ee.times;){var qe=!(ee.times-=1);X.push(F(ee.task,qe)),!qe&&ee.interval>0&&X.push(We(ee.interval))}e.series(X,function($e,Te){Te=Te[Te.length-1],(Se||ee.callback)(Te.err,Te.result)})}return ee.callback?me():me},e.waterfall=function(w,C){if(C=u(C||t),!d(w)){var L=new Error("First argument to waterfall must be an array of functions");return C(L)}if(!w.length)return C();function V(H){return P(function(X,ee){if(X)C.apply(null,[X].concat(ee));else{var oe=H.next();oe?ee.push(V(oe)):ee.push(C),Le(H).apply(null,ee)}})}V(e.iterator(w))()};function Z(w,C,L){L=L||t;var V=s(C)?[]:{};w(C,function(H,X,ee){H(P(function(oe,le){le.length<=1&&(le=le[0]),V[X]=le,ee(oe)}))},function(H){L(H,V)})}e.parallel=function(w,C){Z(e.eachOf,w,C)},e.parallelLimit=function(w,C,L){Z(D(C),w,L)},e.series=function(w,C){Z(e.eachOfSeries,w,C)},e.iterator=function(w){function C(L){function V(){return w.length&&w[L].apply(null,arguments),V.next()}return V.next=function(){return L<w.length-1?C(L+1):null},V}return C(0)},e.apply=P(function(w,C){return P(function(L){return w.apply(null,C.concat(L))})});function q(w,C,L,V){var H=[];w(C,function(X,ee,oe){L(X,function(le,me){H=H.concat(me||[]),oe(le)})},function(X){V(X,H)})}e.concat=B(q),e.concatSeries=y(q),e.whilst=function(w,C,L){if(L=L||t,w()){var V=P(function(H,X){H?L(H):w.apply(this,X)?C(V):L.apply(null,[null].concat(X))});C(V)}else L(null)},e.doWhilst=function(w,C,L){var V=0;return e.whilst(function(){return++V<=1||C.apply(this,arguments)},w,L)},e.until=function(w,C,L){return e.whilst(function(){return!w.apply(this,arguments)},C,L)},e.doUntil=function(w,C,L){return e.doWhilst(w,function(){return!C.apply(this,arguments)},L)},e.during=function(w,C,L){L=L||t;var V=P(function(X,ee){X?L(X):(ee.push(H),w.apply(this,ee))}),H=function(X,ee){X?L(X):ee?C(V):L(null)};w(H)},e.doDuring=function(w,C,L){var V=0;e.during(function(H){V++<1?H(null,!0):C.apply(this,arguments)},w,L)};function J(w,C,L){if(C==null)C=1;else if(C===0)throw new Error("Concurrency must not be zero");function V(le,me,Se,Ne){if(Ne!=null&&typeof Ne!="function")throw new Error("task callback must be a function");if(le.started=!0,d(me)||(me=[me]),me.length===0&&le.idle())return e.setImmediate(function(){le.drain()});h(me,function(F){var We={data:F,callback:Ne||t};Se?le.tasks.unshift(We):le.tasks.push(We),le.tasks.length===le.concurrency&&le.saturated()}),e.setImmediate(le.process)}function H(le,me){return function(){X-=1;var Se=!1,Ne=arguments;h(me,function(F){h(ee,function(We,qe){We===F&&!Se&&(ee.splice(qe,1),Se=!0)}),F.callback.apply(F,Ne)}),le.tasks.length+X===0&&le.drain(),le.process()}}var X=0,ee=[],oe={tasks:[],concurrency:C,payload:L,saturated:t,empty:t,drain:t,started:!1,paused:!1,push:function(le,me){V(oe,le,!1,me)},kill:function(){oe.drain=t,oe.tasks=[]},unshift:function(le,me){V(oe,le,!0,me)},process:function(){for(;!oe.paused&&X<oe.concurrency&&oe.tasks.length;){var le=oe.payload?oe.tasks.splice(0,oe.payload):oe.tasks.splice(0,oe.tasks.length),me=g(le,function(Ne){return Ne.data});oe.tasks.length===0&&oe.empty(),X+=1,ee.push(le[0]);var Se=c(H(oe,le));w(me,Se)}},length:function(){return oe.tasks.length},running:function(){return X},workersList:function(){return ee},idle:function(){return oe.tasks.length+X===0},pause:function(){oe.paused=!0},resume:function(){if(oe.paused!==!1){oe.paused=!1;for(var le=Math.min(oe.concurrency,oe.tasks.length),me=1;me<=le;me++)e.setImmediate(oe.process)}}};return oe}e.queue=function(w,C){var L=J(function(V,H){w(V[0],H)},C,1);return L},e.priorityQueue=function(w,C){function L(ee,oe){return ee.priority-oe.priority}function V(ee,oe,le){for(var me=-1,Se=ee.length-1;me<Se;){var Ne=me+(Se-me+1>>>1);le(oe,ee[Ne])>=0?me=Ne:Se=Ne-1}return me}function H(ee,oe,le,me){if(me!=null&&typeof me!="function")throw new Error("task callback must be a function");if(ee.started=!0,d(oe)||(oe=[oe]),oe.length===0)return e.setImmediate(function(){ee.drain()});h(oe,function(Se){var Ne={data:Se,priority:le,callback:typeof me=="function"?me:t};ee.tasks.splice(V(ee.tasks,Ne,L)+1,0,Ne),ee.tasks.length===ee.concurrency&&ee.saturated(),e.setImmediate(ee.process)})}var X=e.queue(w,C);return X.push=function(ee,oe,le){H(X,ee,oe,le)},delete X.unshift,X},e.cargo=function(w,C){return J(w,1,C)};function de(w){return P(function(C,L){C.apply(null,L.concat([P(function(V,H){typeof console=="object"&&(V?console.error&&console.error(V):console[w]&&h(H,function(X){console[w](X)}))})]))})}e.log=de("log"),e.dir=de("dir"),e.memoize=function(w,C){var L={},V={},H=Object.prototype.hasOwnProperty;C=C||n;var X=P(function(oe){var le=oe.pop(),me=C.apply(null,oe);H.call(L,me)?e.setImmediate(function(){le.apply(null,L[me])}):H.call(V,me)?V[me].push(le):(V[me]=[le],w.apply(null,oe.concat([P(function(Se){L[me]=Se;var Ne=V[me];delete V[me];for(var F=0,We=Ne.length;F<We;F++)Ne[F].apply(null,Se)})])))});return X.memo=L,X.unmemoized=w,X},e.unmemoize=function(w){return function(){return(w.unmemoized||w).apply(null,arguments)}};function ie(w){return function(C,L,V){w(_(C),L,V)}}e.times=ie(e.map),e.timesSeries=ie(e.mapSeries),e.timesLimit=function(w,C,L,V){return e.mapLimit(_(w),C,L,V)},e.seq=function(){var w=arguments;return P(function(C){var L=this,V=C[C.length-1];typeof V=="function"?C.pop():V=t,e.reduce(w,C,function(H,X,ee){X.apply(L,H.concat([P(function(oe,le){ee(oe,le)})]))},function(H,X){V.apply(L,[H].concat(X))})})},e.compose=function(){return e.seq.apply(null,Array.prototype.reverse.call(arguments))};function be(w){return P(function(C,L){var V=P(function(H){var X=this,ee=H.pop();return w(C,function(oe,le,me){oe.apply(X,H.concat([me]))},ee)});return L.length?V.apply(this,L):V})}e.applyEach=be(e.eachOf),e.applyEachSeries=be(e.eachOfSeries),e.forever=function(w,C){var L=c(C||t),V=Le(w);function H(X){if(X)return L(X);V(H)}H()};function Le(w){return P(function(C){var L=C.pop();C.push(function(){var H=arguments;V?e.setImmediate(function(){L.apply(null,H)}):L.apply(null,H)});var V=!0;w.apply(this,C),V=!1})}e.ensureAsync=Le,e.constant=P(function(w){var C=[null].concat(w);return function(L){return L.apply(this,C)}}),e.wrapSync=e.asyncify=function(C){return P(function(L){var V=L.pop(),H;try{H=C.apply(this,L)}catch(X){return V(X)}o(H)&&typeof H.then=="function"?H.then(function(X){V(null,X)}).catch(function(X){V(X.message?X:new Error(X))}):V(null,H)})},a.exports?a.exports=e:p.async=e})()})(Dr)),Dr.exports}const IE={0:"CNETMsg_NOP",1:"CNETMsg_Disconnect",3:"CNETMsg_SplitScreenUser",4:"CNETMsg_Tick",5:"CNETMsg_StringCmd",6:"CNETMsg_SetConVar",7:"CNETMsg_SignonState",8:"CNETMsg_SpawnGroup_Load",9:"CNETMsg_SpawnGroup_ManifestUpdate",11:"CNETMsg_SpawnGroup_SetCreationTick",12:"CNETMsg_SpawnGroup_Unload",13:"CNETMsg_SpawnGroup_LoadCompleted",40:"CSVCMsg_ServerInfo",41:"CSVCMsg_FlattenedSerializer",42:"CSVCMsg_ClassInfo",43:"CSVCMsg_SetPause",44:"CSVCMsg_CreateStringTable",45:"CSVCMsg_UpdateStringTable",46:"CSVCMsg_VoiceInit",47:"CSVCMsg_VoiceData",48:"CSVCMsg_Print",49:"CSVCMsg_Sounds",50:"CSVCMsg_SetView",51:"CSVCMsg_ClearAllStringTables",52:"CSVCMsg_CmdKeyValues",53:"CSVCMsg_BSPDecal",54:"CSVCMsg_SplitScreen",55:"CSVCMsg_PacketEntities",56:"CSVCMsg_Prefetch",57:"CSVCMsg_Menu",58:"CSVCMsg_GetCvarValue",59:"CSVCMsg_StopSound",60:"CSVCMsg_PeerList",61:"CSVCMsg_PacketReliable",62:"CSVCMsg_UserMessage",63:"CSVCMsg_SendTable",67:"CSVCMsg_GameEvent",68:"CSVCMsg_TempEntities",69:"CSVCMsg_GameEventList",70:"CSVCMsg_FullFrameSplit",101:"CUserMessageAchievementEvent",102:"CUserMessageCloseCaption",103:"CUserMessageCloseCaptionDirect",104:"CUserMessageCurrentTimescale",105:"CUserMessageDesiredTimescale",106:"CUserMessageFade",107:"CUserMessageGameTitle",109:"CUserMessageHintText",110:"CUserMessageHudMsg",111:"CUserMessageHudText",112:"CUserMessageKeyHintText",113:"CUserMessageColoredText",114:"CUserMessageRequestState",115:"CUserMessageResetHUD",116:"CUserMessageRumble",117:"CUserMessageSayText",118:"CUserMessageSayText2",119:"CUserMessageSayTextChannel",120:"CUserMessageShake",121:"CUserMessageShakeDir",124:"CUserMessageTextMsg",125:"CUserMessageScreenTilt",126:"CUserMessageTrain",127:"CUserMessageVGUIMenu",128:"CUserMessageVoiceMask",129:"CUserMessageVoiceSubtitle",130:"CUserMessageSendAudio",131:"CUserMessageItemPickup",132:"CUserMessageAmmoDenied",133:"CUserMessageCrosshairAngle",134:"CUserMessageShowMenu",135:"CUserMessageCreditsMsg",136:"CEntityMessagePlayJingle",137:"CEntityMessageScreenOverlay",138:"CEntityMessageRemoveAllDecals",139:"CEntityMessagePropagateForce",140:"CEntityMessageDoSpark",141:"CEntityMessageFixAngle",142:"CUserMessageCloseCaptionPlaceholder",143:"CUserMessageCameraTransition",144:"CUserMessageAudioParameter",145:"CUserMessageParticleManager",146:"CUserMessageHudError",147:"CUserMessageCustomGameEvent_ClientToServer",148:"CUserMessageCustomGameEvent_ServerToClient",149:"CUserMessageTrackedControllerInput_ClientToServer",200:"CMsgVDebugGameSessionIDEvent",201:"CMsgPlaceDecalEvent",202:"CMsgClearWorldDecalsEvent",203:"CMsgClearEntityDecalsEvent",204:"CMsgClearDecalsForSkeletonInstanceEvent",205:"CMsgSource1LegacyGameEventList",206:"CMsgSource1LegacyListenEvents",207:"CMsgSource1LegacyGameEvent",208:"CMsgSosStartSoundEvent",209:"CMsgSosStopSoundEvent",210:"CMsgSosSetSoundEventParams",211:"CMsgSosSetLibraryStackFields",212:"CMsgSosStopSoundEventHash",464:"CDOTAUserMsg_AddUnitToSelection",465:"CDOTAUserMsg_AIDebugLine",466:"CDOTAUserMsg_ChatEvent",467:"CDOTAUserMsg_CombatHeroPositions",468:"CDOTAUserMsg_CombatLogData",470:"CDOTAUserMsg_CombatLogShowDeath",471:"CDOTAUserMsg_CreateLinearProjectile",472:"CDOTAUserMsg_DestroyLinearProjectile",473:"CDOTAUserMsg_DodgeTrackingProjectiles",474:"CDOTAUserMsg_GlobalLightColor",475:"CDOTAUserMsg_GlobalLightDirection",476:"CDOTAUserMsg_InvalidCommand",477:"CDOTAUserMsg_LocationPing",478:"CDOTAUserMsg_MapLine",479:"CDOTAUserMsg_MiniKillCamInfo",480:"CDOTAUserMsg_MinimapDebugPoint",481:"CDOTAUserMsg_MinimapEvent",482:"CDOTAUserMsg_NevermoreRequiem",483:"CDOTAUserMsg_OverheadEvent",484:"CDOTAUserMsg_SetNextAutobuyItem",485:"CDOTAUserMsg_SharedCooldown",486:"CDOTAUserMsg_SpectatorPlayerClick",487:"CDOTAUserMsg_TutorialTipInfo",488:"CDOTAUserMsg_UnitEvent",489:"CDOTAUserMsg_ParticleManager",490:"CDOTAUserMsg_BotChat",491:"CDOTAUserMsg_HudError",492:"CDOTAUserMsg_ItemPurchased",493:"CDOTAUserMsg_Ping",494:"CDOTAUserMsg_ItemFound",495:"CDOTAUserMsg_CharacterSpeakConcept",496:"CDOTAUserMsg_SwapVerify",497:"CDOTAUserMsg_WorldLine",498:"CDOTAUserMsg_TournamentDrop",499:"CDOTAUserMsg_ItemAlert",500:"CDOTAUserMsg_HalloweenDrops",501:"CDOTAUserMsg_ChatWheel",502:"CDOTAUserMsg_ReceivedXmasGift",503:"CDOTAUserMsg_UpdateSharedContent",504:"CDOTAUserMsg_TutorialRequestExp",505:"CDOTAUserMsg_TutorialPingMinimap",506:"CDOTAUserMsg_GamerulesStateChanged",507:"CDOTAUserMsg_ShowSurvey",508:"CDOTAUserMsg_TutorialFade",509:"CDOTAUserMsg_AddQuestLogEntry",510:"CDOTAUserMsg_SendStatPopup",511:"CDOTAUserMsg_TutorialFinish",512:"CDOTAUserMsg_SendRoshanPopup",513:"CDOTAUserMsg_SendGenericToolTip",514:"CDOTAUserMsg_SendFinalGold",515:"CDOTAUserMsg_CustomMsg",516:"CDOTAUserMsg_CoachHUDPing",517:"CDOTAUserMsg_ClientLoadGridNav",518:"CDOTAUserMsg_TE_Projectile",519:"CDOTAUserMsg_TE_ProjectileLoc",520:"CDOTAUserMsg_TE_DotaBloodImpact",521:"CDOTAUserMsg_TE_UnitAnimation",522:"CDOTAUserMsg_TE_UnitAnimationEnd",523:"CDOTAUserMsg_AbilityPing",524:"CDOTAUserMsg_ShowGenericPopup",525:"CDOTAUserMsg_VoteStart",526:"CDOTAUserMsg_VoteUpdate",527:"CDOTAUserMsg_VoteEnd",528:"CDOTAUserMsg_BoosterState",529:"CDOTAUserMsg_WillPurchaseAlert",530:"CDOTAUserMsg_TutorialMinimapPosition",531:"CDOTAUserMsg_PlayerMMR",532:"CDOTAUserMsg_AbilitySteal",533:"CDOTAUserMsg_CourierKilledAlert",534:"CDOTAUserMsg_EnemyItemAlert",535:"CDOTAUserMsg_StatsMatchDetails",536:"CDOTAUserMsg_MiniTaunt",537:"CDOTAUserMsg_BuyBackStateAlert",538:"CDOTAUserMsg_SpeechBubble",539:"CDOTAUserMsg_CustomHeaderMessage",540:"CDOTAUserMsg_QuickBuyAlert",541:"CDOTAUserMsg_StatsHeroDetails",542:"CDOTAUserMsg_PredictionResult",543:"CDOTAUserMsg_ModifierAlert",544:"CDOTAUserMsg_HPManaAlert",545:"CDOTAUserMsg_GlyphAlert",546:"CDOTAUserMsg_BeastChat",547:"CDOTAUserMsg_SpectatorPlayerUnitOrders",548:"CDOTAUserMsg_CustomHudElement_Create",549:"CDOTAUserMsg_CustomHudElement_Modify",550:"CDOTAUserMsg_CustomHudElement_Destroy",551:"CDOTAUserMsg_CompendiumState",552:"CDOTAUserMsg_ProjectionAbility"},PE={0:"CDemoStop",1:"CDemoFileHeader",2:"CDemoFileInfo",3:"CDemoSyncTick",4:"CDemoSendTables",5:"CDemoClassInfo",6:"CDemoStringTables",7:"CDemoPacket",8:"CDemoSignonPacket",9:"CDemoConsoleCmd",10:"CDemoCustomData",11:"CDemoCustomDataCallbacks",12:"CDemoUserCmd",13:"CDemoFullPacket",14:"CDemoSaveGame",15:"CDemoSpawnGroups",16:"CDemoMax",64:"CDemoIsCompressed","-1":"CDemoError"},wE={0:"CHAT_MESSAGE_HERO_KILL",1:"CHAT_MESSAGE_HERO_DENY",2:"CHAT_MESSAGE_BARRACKS_KILL",3:"CHAT_MESSAGE_TOWER_KILL",4:"CHAT_MESSAGE_TOWER_DENY",5:"CHAT_MESSAGE_FIRSTBLOOD",6:"CHAT_MESSAGE_STREAK_KILL",7:"CHAT_MESSAGE_BUYBACK",8:"CHAT_MESSAGE_AEGIS",9:"CHAT_MESSAGE_ROSHAN_KILL",10:"CHAT_MESSAGE_COURIER_LOST",11:"CHAT_MESSAGE_COURIER_RESPAWNED",12:"CHAT_MESSAGE_GLYPH_USED",13:"CHAT_MESSAGE_ITEM_PURCHASE",14:"CHAT_MESSAGE_CONNECT",15:"CHAT_MESSAGE_DISCONNECT",16:"CHAT_MESSAGE_DISCONNECT_WAIT_FOR_RECONNECT",17:"CHAT_MESSAGE_DISCONNECT_TIME_REMAINING",18:"CHAT_MESSAGE_DISCONNECT_TIME_REMAINING_PLURAL",19:"CHAT_MESSAGE_RECONNECT",20:"CHAT_MESSAGE_PLAYER_LEFT",21:"CHAT_MESSAGE_SAFE_TO_LEAVE",22:"CHAT_MESSAGE_RUNE_PICKUP",23:"CHAT_MESSAGE_RUNE_BOTTLE",24:"CHAT_MESSAGE_INTHEBAG",25:"CHAT_MESSAGE_SECRETSHOP",26:"CHAT_MESSAGE_ITEM_AUTOPURCHASED",27:"CHAT_MESSAGE_ITEMS_COMBINED",28:"CHAT_MESSAGE_SUPER_CREEPS",29:"CHAT_MESSAGE_CANT_USE_ACTION_ITEM",30:"CHAT_MESSAGE_CHARGES_EXHAUSTED",31:"CHAT_MESSAGE_CANTPAUSE",32:"CHAT_MESSAGE_NOPAUSESLEFT",33:"CHAT_MESSAGE_CANTPAUSEYET",34:"CHAT_MESSAGE_PAUSED",35:"CHAT_MESSAGE_UNPAUSE_COUNTDOWN",36:"CHAT_MESSAGE_UNPAUSED",37:"CHAT_MESSAGE_AUTO_UNPAUSED",38:"CHAT_MESSAGE_YOUPAUSED",39:"CHAT_MESSAGE_CANTUNPAUSETEAM",41:"CHAT_MESSAGE_VOICE_TEXT_BANNED",42:"CHAT_MESSAGE_SPECTATORS_WATCHING_THIS_GAME",43:"CHAT_MESSAGE_REPORT_REMINDER",44:"CHAT_MESSAGE_ECON_ITEM",45:"CHAT_MESSAGE_TAUNT",46:"CHAT_MESSAGE_RANDOM",47:"CHAT_MESSAGE_RD_TURN",49:"CHAT_MESSAGE_DROP_RATE_BONUS",50:"CHAT_MESSAGE_NO_BATTLE_POINTS",51:"CHAT_MESSAGE_DENIED_AEGIS",52:"CHAT_MESSAGE_INFORMATIONAL",53:"CHAT_MESSAGE_AEGIS_STOLEN",54:"CHAT_MESSAGE_ROSHAN_CANDY",55:"CHAT_MESSAGE_ITEM_GIFTED",56:"CHAT_MESSAGE_HERO_KILL_WITH_GREEVIL",57:"CHAT_MESSAGE_HOLDOUT_TOWER_DESTROYED",58:"CHAT_MESSAGE_HOLDOUT_WALL_DESTROYED",59:"CHAT_MESSAGE_HOLDOUT_WALL_FINISHED",62:"CHAT_MESSAGE_PLAYER_LEFT_LIMITED_HERO",63:"CHAT_MESSAGE_ABANDON_LIMITED_HERO_EXPLANATION",64:"CHAT_MESSAGE_DISCONNECT_LIMITED_HERO",65:"CHAT_MESSAGE_LOW_PRIORITY_COMPLETED_EXPLANATION",66:"CHAT_MESSAGE_RECRUITMENT_DROP_RATE_BONUS",67:"CHAT_MESSAGE_FROSTIVUS_SHINING_BOOSTER_ACTIVE",73:"CHAT_MESSAGE_PLAYER_LEFT_AFK",74:"CHAT_MESSAGE_PLAYER_LEFT_DISCONNECTED_TOO_LONG",75:"CHAT_MESSAGE_PLAYER_ABANDONED",76:"CHAT_MESSAGE_PLAYER_ABANDONED_AFK",77:"CHAT_MESSAGE_PLAYER_ABANDONED_DISCONNECTED_TOO_LONG",78:"CHAT_MESSAGE_WILL_NOT_BE_SCORED",79:"CHAT_MESSAGE_WILL_NOT_BE_SCORED_RANKED",80:"CHAT_MESSAGE_WILL_NOT_BE_SCORED_NETWORK",81:"CHAT_MESSAGE_WILL_NOT_BE_SCORED_NETWORK_RANKED",82:"CHAT_MESSAGE_CAN_QUIT_WITHOUT_ABANDON",83:"CHAT_MESSAGE_RANKED_GAME_STILL_SCORED_LEAVERS_GET_LOSS",84:"CHAT_MESSAGE_ABANDON_RANKED_BEFORE_FIRST_BLOOD_PARTY",85:"CHAT_MESSAGE_COMPENDIUM_LEVEL",86:"CHAT_MESSAGE_VICTORY_PREDICTION_STREAK",87:"CHAT_MESSAGE_ASSASSIN_ANNOUNCE",88:"CHAT_MESSAGE_ASSASSIN_SUCCESS",89:"CHAT_MESSAGE_ASSASSIN_DENIED",90:"CHAT_MESSAGE_VICTORY_PREDICTION_SINGLE_USER_CONFIRM",91:"CHAT_MESSAGE_EFFIGY_KILL",92:"CHAT_MESSAGE_VOICE_TEXT_BANNED_OVERFLOW",93:"CHAT_MESSAGE_YEAR_BEAST_KILLED",94:"CHAT_MESSAGE_PAUSE_COUNTDOWN","-1":"CHAT_MESSAGE_INVALID"},NE={0:"DOTA_COMBATLOG_DAMAGE",1:"DOTA_COMBATLOG_HEAL",2:"DOTA_COMBATLOG_MODIFIER_ADD",3:"DOTA_COMBATLOG_MODIFIER_REMOVE",4:"DOTA_COMBATLOG_DEATH",5:"DOTA_COMBATLOG_ABILITY",6:"DOTA_COMBATLOG_ITEM",7:"DOTA_COMBATLOG_LOCATION",8:"DOTA_COMBATLOG_GOLD",9:"DOTA_COMBATLOG_GAME_STATE",10:"DOTA_COMBATLOG_XP",11:"DOTA_COMBATLOG_PURCHASE",12:"DOTA_COMBATLOG_BUYBACK",13:"DOTA_COMBATLOG_ABILITY_TRIGGER",14:"DOTA_COMBATLOG_PLAYERSTATS",15:"DOTA_COMBATLOG_MULTIKILL",16:"DOTA_COMBATLOG_KILLSTREAK",17:"DOTA_COMBATLOG_TEAM_BUILDING_KILL",18:"DOTA_COMBATLOG_FIRST_BLOOD",19:"DOTA_COMBATLOG_MODIFIER_REFRESH"},LE={packets:IE,dems:PE,DOTA_CHAT_MESSAGE:wE,DOTA_COMBATLOG_TYPES:NE},GE={optimize_for:"SPEED",cc_generic_services:!1},UE=JSON.parse('[{"name":"CMsgProtoBufHeader","options":{"(msgpool_soft_limit)":256,"(msgpool_hard_limit)":1024},"fields":[{"rule":"optional","type":"fixed64","name":"client_steam_id","id":1},{"rule":"optional","type":"int32","name":"client_session_id","id":2},{"rule":"optional","type":"uint32","name":"source_app_id","id":3},{"rule":"optional","type":"fixed64","name":"job_id_source","id":10,"options":{"default":18446744073709552000}},{"rule":"optional","type":"fixed64","name":"job_id_target","id":11,"options":{"default":18446744073709552000}},{"rule":"optional","type":"string","name":"target_job_name","id":12},{"rule":"optional","type":"int32","name":"eresult","id":13,"options":{"default":2}},{"rule":"optional","type":"string","name":"error_message","id":14},{"rule":"optional","type":"GCProtoBufMsgSrc","name":"gc_msg_src","id":200,"options":{"default":"GCProtoBufMsgSrc_Unspecified"}},{"rule":"optional","type":"uint32","name":"gc_dir_index_source","id":201}]},{"name":"CMsgWebAPIKey","fields":[{"rule":"optional","type":"uint32","name":"status","id":1,"options":{"default":255}},{"rule":"optional","type":"uint32","name":"account_id","id":2,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"publisher_group_id","id":3,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"key_id","id":4},{"rule":"optional","type":"string","name":"domain","id":5}]},{"name":"CMsgHttpRequest","fields":[{"rule":"optional","type":"uint32","name":"request_method","id":1},{"rule":"optional","type":"string","name":"hostname","id":2},{"rule":"optional","type":"string","name":"url","id":3},{"rule":"repeated","type":"RequestHeader","name":"headers","id":4},{"rule":"repeated","type":"QueryParam","name":"get_params","id":5},{"rule":"repeated","type":"QueryParam","name":"post_params","id":6},{"rule":"optional","type":"bytes","name":"body","id":7},{"rule":"optional","type":"uint32","name":"absolute_timeout","id":8}],"messages":[{"name":"RequestHeader","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"value","id":2}]},{"name":"QueryParam","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"bytes","name":"value","id":2}]}]},{"name":"CMsgWebAPIRequest","fields":[{"rule":"optional","type":"string","name":"UNUSED_job_name","id":1},{"rule":"optional","type":"string","name":"interface_name","id":2},{"rule":"optional","type":"string","name":"method_name","id":3},{"rule":"optional","type":"uint32","name":"version","id":4},{"rule":"optional","type":"CMsgWebAPIKey","name":"api_key","id":5},{"rule":"optional","type":"CMsgHttpRequest","name":"request","id":6},{"rule":"optional","type":"uint32","name":"routing_app_id","id":7}]},{"name":"CMsgHttpResponse","fields":[{"rule":"optional","type":"uint32","name":"status_code","id":1},{"rule":"repeated","type":"ResponseHeader","name":"headers","id":2},{"rule":"optional","type":"bytes","name":"body","id":3}],"messages":[{"name":"ResponseHeader","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"value","id":2}]}]},{"name":"CMsgAMFindAccounts","fields":[{"rule":"optional","type":"uint32","name":"search_type","id":1},{"rule":"optional","type":"string","name":"search_string","id":2}]},{"name":"CMsgAMFindAccountsResponse","fields":[{"rule":"repeated","type":"fixed64","name":"steam_id","id":1}]},{"name":"CMsgNotifyWatchdog","fields":[{"rule":"optional","type":"uint32","name":"source","id":1},{"rule":"optional","type":"uint32","name":"alert_type","id":2},{"rule":"optional","type":"uint32","name":"alert_destination","id":3},{"rule":"optional","type":"bool","name":"critical","id":4},{"rule":"optional","type":"uint32","name":"time","id":5},{"rule":"optional","type":"uint32","name":"appid","id":6},{"rule":"optional","type":"string","name":"text","id":7}]},{"name":"CMsgAMGetLicenses","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1}]},{"name":"CMsgPackageLicense","fields":[{"rule":"optional","type":"uint32","name":"package_id","id":1},{"rule":"optional","type":"uint32","name":"time_created","id":2},{"rule":"optional","type":"uint32","name":"owner_id","id":3}]},{"name":"CMsgAMGetLicensesResponse","fields":[{"rule":"repeated","type":"CMsgPackageLicense","name":"license","id":1},{"rule":"optional","type":"uint32","name":"result","id":2}]},{"name":"CMsgAMGetUserGameStats","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"fixed64","name":"game_id","id":2},{"rule":"repeated","type":"uint32","name":"stats","id":3}]},{"name":"CMsgAMGetUserGameStatsResponse","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"fixed64","name":"game_id","id":2},{"rule":"optional","type":"int32","name":"eresult","id":3,"options":{"default":2}},{"rule":"repeated","type":"Stats","name":"stats","id":4},{"rule":"repeated","type":"Achievement_Blocks","name":"achievement_blocks","id":5}],"messages":[{"name":"Stats","fields":[{"rule":"optional","type":"uint32","name":"stat_id","id":1},{"rule":"optional","type":"uint32","name":"stat_value","id":2}]},{"name":"Achievement_Blocks","fields":[{"rule":"optional","type":"uint32","name":"achievement_id","id":1},{"rule":"optional","type":"uint32","name":"achievement_bit_id","id":2},{"rule":"optional","type":"fixed32","name":"unlock_time","id":3}]}]},{"name":"CMsgGCGetCommandList","fields":[{"rule":"optional","type":"uint32","name":"app_id","id":1},{"rule":"optional","type":"string","name":"command_prefix","id":2}]},{"name":"CMsgGCGetCommandListResponse","fields":[{"rule":"repeated","type":"string","name":"command_name","id":1}]},{"name":"CGCMsgMemCachedGet","fields":[{"rule":"repeated","type":"string","name":"keys","id":1}]},{"name":"CGCMsgMemCachedGetResponse","fields":[{"rule":"repeated","type":"ValueTag","name":"values","id":1}],"messages":[{"name":"ValueTag","fields":[{"rule":"optional","type":"bool","name":"found","id":1},{"rule":"optional","type":"bytes","name":"value","id":2}]}]},{"name":"CGCMsgMemCachedSet","fields":[{"rule":"repeated","type":"KeyPair","name":"keys","id":1}],"messages":[{"name":"KeyPair","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"bytes","name":"value","id":2}]}]},{"name":"CGCMsgMemCachedDelete","fields":[{"rule":"repeated","type":"string","name":"keys","id":1}]},{"name":"CGCMsgMemCachedStats","fields":[]},{"name":"CGCMsgMemCachedStatsResponse","fields":[{"rule":"optional","type":"uint64","name":"curr_connections","id":1},{"rule":"optional","type":"uint64","name":"cmd_get","id":2},{"rule":"optional","type":"uint64","name":"cmd_set","id":3},{"rule":"optional","type":"uint64","name":"cmd_flush","id":4},{"rule":"optional","type":"uint64","name":"get_hits","id":5},{"rule":"optional","type":"uint64","name":"get_misses","id":6},{"rule":"optional","type":"uint64","name":"delete_hits","id":7},{"rule":"optional","type":"uint64","name":"delete_misses","id":8},{"rule":"optional","type":"uint64","name":"bytes_read","id":9},{"rule":"optional","type":"uint64","name":"bytes_written","id":10},{"rule":"optional","type":"uint64","name":"limit_maxbytes","id":11},{"rule":"optional","type":"uint64","name":"curr_items","id":12},{"rule":"optional","type":"uint64","name":"evictions","id":13},{"rule":"optional","type":"uint64","name":"bytes","id":14}]},{"name":"CGCMsgSQLStats","fields":[{"rule":"optional","type":"uint32","name":"schema_catalog","id":1}]},{"name":"CGCMsgSQLStatsResponse","fields":[{"rule":"optional","type":"uint32","name":"threads","id":1},{"rule":"optional","type":"uint32","name":"threads_connected","id":2},{"rule":"optional","type":"uint32","name":"threads_active","id":3},{"rule":"optional","type":"uint32","name":"operations_submitted","id":4},{"rule":"optional","type":"uint32","name":"prepared_statements_executed","id":5},{"rule":"optional","type":"uint32","name":"non_prepared_statements_executed","id":6},{"rule":"optional","type":"uint32","name":"deadlock_retries","id":7},{"rule":"optional","type":"uint32","name":"operations_timed_out_in_queue","id":8},{"rule":"optional","type":"uint32","name":"errors","id":9}]},{"name":"CMsgAMAddFreeLicense","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1},{"rule":"optional","type":"uint32","name":"ip_public","id":2},{"rule":"optional","type":"uint32","name":"packageid","id":3},{"rule":"optional","type":"string","name":"store_country_code","id":4}]},{"name":"CMsgAMAddFreeLicenseResponse","fields":[{"rule":"optional","type":"int32","name":"eresult","id":1,"options":{"default":2}},{"rule":"optional","type":"int32","name":"purchase_result_detail","id":2},{"rule":"optional","type":"fixed64","name":"transid","id":3}]},{"name":"CGCMsgGetIPLocation","fields":[{"rule":"repeated","type":"fixed32","name":"ips","id":1}]},{"name":"CIPLocationInfo","fields":[{"rule":"optional","type":"uint32","name":"ip","id":1},{"rule":"optional","type":"float","name":"latitude","id":2},{"rule":"optional","type":"float","name":"longitude","id":3},{"rule":"optional","type":"string","name":"country","id":4},{"rule":"optional","type":"string","name":"state","id":5},{"rule":"optional","type":"string","name":"city","id":6}]},{"name":"CGCMsgGetIPLocationResponse","fields":[{"rule":"repeated","type":"CIPLocationInfo","name":"infos","id":1}]},{"name":"CGCMsgGetIPASN","fields":[{"rule":"repeated","type":"fixed32","name":"ips","id":1}]},{"name":"CIPASNInfo","fields":[{"rule":"optional","type":"fixed32","name":"ip","id":1},{"rule":"optional","type":"uint32","name":"asn","id":2}]},{"name":"CGCMsgGetIPASNResponse","fields":[{"rule":"repeated","type":"CIPASNInfo","name":"infos","id":1}]},{"name":"CGCMsgSystemStatsSchema","fields":[{"rule":"optional","type":"uint32","name":"gc_app_id","id":1},{"rule":"optional","type":"bytes","name":"schema_kv","id":2}]},{"name":"CGCMsgGetSystemStats","fields":[]},{"name":"CGCMsgGetSystemStatsResponse","fields":[{"rule":"optional","type":"uint32","name":"gc_app_id","id":1},{"rule":"optional","type":"bytes","name":"stats_kv","id":2},{"rule":"optional","type":"uint32","name":"active_jobs","id":3},{"rule":"optional","type":"uint32","name":"yielding_jobs","id":4},{"rule":"optional","type":"uint32","name":"user_sessions","id":5},{"rule":"optional","type":"uint32","name":"game_server_sessions","id":6},{"rule":"optional","type":"uint32","name":"socaches","id":7},{"rule":"optional","type":"uint32","name":"socaches_to_unload","id":8},{"rule":"optional","type":"uint32","name":"socaches_loading","id":9},{"rule":"optional","type":"uint32","name":"writeback_queue","id":10},{"rule":"optional","type":"uint32","name":"steamid_locks","id":11},{"rule":"optional","type":"uint32","name":"logon_queue","id":12},{"rule":"optional","type":"uint32","name":"logon_jobs","id":13}]},{"name":"CMsgAMSendEmail","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1},{"rule":"optional","type":"uint32","name":"email_msg_type","id":2},{"rule":"optional","type":"uint32","name":"email_format","id":3},{"rule":"repeated","type":"PersonaNameReplacementToken","name":"persona_name_tokens","id":5},{"rule":"optional","type":"uint32","name":"source_gc","id":6},{"rule":"repeated","type":"ReplacementToken","name":"tokens","id":7}],"messages":[{"name":"ReplacementToken","fields":[{"rule":"optional","type":"string","name":"token_name","id":1},{"rule":"optional","type":"string","name":"token_value","id":2}]},{"name":"PersonaNameReplacementToken","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1},{"rule":"optional","type":"string","name":"token_name","id":2}]}]},{"name":"CMsgAMSendEmailResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgGCGetEmailTemplate","fields":[{"rule":"optional","type":"uint32","name":"app_id","id":1},{"rule":"optional","type":"uint32","name":"email_msg_type","id":2},{"rule":"optional","type":"int32","name":"email_lang","id":3},{"rule":"optional","type":"int32","name":"email_format","id":4}]},{"name":"CMsgGCGetEmailTemplateResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}},{"rule":"optional","type":"bool","name":"template_exists","id":2},{"rule":"optional","type":"string","name":"template","id":3}]},{"name":"CMsgAMGrantGuestPasses2","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"package_id","id":2},{"rule":"optional","type":"int32","name":"passes_to_grant","id":3},{"rule":"optional","type":"int32","name":"days_to_expiration","id":4},{"rule":"optional","type":"int32","name":"action","id":5}]},{"name":"CMsgAMGrantGuestPasses2Response","fields":[{"rule":"optional","type":"int32","name":"eresult","id":1,"options":{"default":2}},{"rule":"optional","type":"int32","name":"passes_granted","id":2,"options":{"default":0}}]},{"name":"CGCSystemMsg_GetAccountDetails","options":{"(msgpool_soft_limit)":128,"(msgpool_hard_limit)":512},"fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1},{"rule":"optional","type":"uint32","name":"appid","id":2}]},{"name":"CGCSystemMsg_GetAccountDetails_Response","options":{"(msgpool_soft_limit)":128,"(msgpool_hard_limit)":512},"fields":[{"rule":"optional","type":"uint32","name":"eresult_deprecated","id":1,"options":{"default":2}},{"rule":"optional","type":"string","name":"account_name","id":2},{"rule":"optional","type":"string","name":"persona_name","id":3},{"rule":"optional","type":"bool","name":"is_profile_created","id":26},{"rule":"optional","type":"bool","name":"is_profile_public","id":4},{"rule":"optional","type":"bool","name":"is_inventory_public","id":5},{"rule":"optional","type":"bool","name":"is_vac_banned","id":7},{"rule":"optional","type":"bool","name":"is_cyber_cafe","id":8},{"rule":"optional","type":"bool","name":"is_school_account","id":9},{"rule":"optional","type":"bool","name":"is_limited","id":10},{"rule":"optional","type":"bool","name":"is_subscribed","id":11},{"rule":"optional","type":"uint32","name":"package","id":12},{"rule":"optional","type":"bool","name":"is_free_trial_account","id":13},{"rule":"optional","type":"uint32","name":"free_trial_expiration","id":14},{"rule":"optional","type":"bool","name":"is_low_violence","id":15},{"rule":"optional","type":"bool","name":"is_account_locked_down","id":16},{"rule":"optional","type":"bool","name":"is_community_banned","id":17},{"rule":"optional","type":"bool","name":"is_trade_banned","id":18},{"rule":"optional","type":"uint32","name":"trade_ban_expiration","id":19},{"rule":"optional","type":"uint32","name":"accountid","id":20},{"rule":"optional","type":"uint32","name":"suspension_end_time","id":21},{"rule":"optional","type":"string","name":"currency","id":22},{"rule":"optional","type":"uint32","name":"steam_level","id":23},{"rule":"optional","type":"uint32","name":"friend_count","id":24},{"rule":"optional","type":"uint32","name":"account_creation_time","id":25}]},{"name":"CMsgGCGetPersonaNames","fields":[{"rule":"repeated","type":"fixed64","name":"steamids","id":1}]},{"name":"CMsgGCGetPersonaNames_Response","fields":[{"rule":"repeated","type":"PersonaName","name":"succeeded_lookups","id":1},{"rule":"repeated","type":"fixed64","name":"failed_lookup_steamids","id":2}],"messages":[{"name":"PersonaName","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1},{"rule":"optional","type":"string","name":"persona_name","id":2}]}]},{"name":"CMsgGCCheckFriendship","fields":[{"rule":"optional","type":"fixed64","name":"steamid_left","id":1},{"rule":"optional","type":"fixed64","name":"steamid_right","id":2}]},{"name":"CMsgGCCheckFriendship_Response","fields":[{"rule":"optional","type":"bool","name":"success","id":1},{"rule":"optional","type":"bool","name":"found_friendship","id":2}]},{"name":"CMsgGCGetAppFriendsList","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1}]},{"name":"CMsgGCGetAppFriendsList_Response","fields":[{"rule":"optional","type":"bool","name":"success","id":1},{"rule":"repeated","type":"fixed64","name":"steamids","id":2}]},{"name":"CMsgGCMsgMasterSetDirectory","fields":[{"rule":"optional","type":"uint32","name":"master_dir_index","id":1},{"rule":"repeated","type":"SubGC","name":"dir","id":2}],"messages":[{"name":"SubGC","fields":[{"rule":"optional","type":"uint32","name":"dir_index","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"string","name":"box","id":3},{"rule":"optional","type":"string","name":"command_line","id":4},{"rule":"optional","type":"string","name":"gc_binary","id":5}]}]},{"name":"CMsgGCMsgMasterSetDirectory_Response","fields":[{"rule":"optional","type":"int32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgGCMsgWebAPIJobRequestForwardResponse","fields":[{"rule":"optional","type":"uint32","name":"dir_index","id":1}]},{"name":"CGCSystemMsg_GetPurchaseTrust_Request","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1}]},{"name":"CGCSystemMsg_GetPurchaseTrust_Response","fields":[{"rule":"optional","type":"bool","name":"has_prior_purchase_history","id":1},{"rule":"optional","type":"bool","name":"has_no_recent_password_resets","id":2},{"rule":"optional","type":"bool","name":"is_wallet_cash_trusted","id":3},{"rule":"optional","type":"uint32","name":"time_all_trusted","id":4}]},{"name":"CMsgGCHAccountVacStatusChange","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"app_id","id":2},{"rule":"optional","type":"uint32","name":"rtime_vacban_starts","id":3},{"rule":"optional","type":"bool","name":"is_banned_now","id":4},{"rule":"optional","type":"bool","name":"is_banned_future","id":5}]},{"name":"CMsgGCGetPartnerAccountLink","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1}]},{"name":"CMsgGCGetPartnerAccountLink_Response","fields":[{"rule":"optional","type":"uint32","name":"pwid","id":1},{"rule":"optional","type":"uint32","name":"nexonid","id":2}]},{"name":"CMsgGCRoutingInfo","fields":[{"rule":"repeated","type":"uint32","name":"dir_index","id":1},{"rule":"optional","type":"RoutingMethod","name":"method","id":2,"options":{"default":"RANDOM"}},{"rule":"optional","type":"RoutingMethod","name":"fallback","id":3,"options":{"default":"DISCARD"}},{"rule":"optional","type":"uint32","name":"protobuf_field","id":4},{"rule":"optional","type":"string","name":"webapi_param","id":5}],"enums":[{"name":"RoutingMethod","values":[{"name":"RANDOM","id":0},{"name":"DISCARD","id":1},{"name":"CLIENT_STEAMID","id":2},{"name":"PROTOBUF_FIELD_UINT64","id":3},{"name":"WEBAPI_PARAM_UINT64","id":4}]}]},{"name":"CMsgGCMsgMasterSetWebAPIRouting","fields":[{"rule":"repeated","type":"Entry","name":"entries","id":1}],"messages":[{"name":"Entry","fields":[{"rule":"optional","type":"string","name":"interface_name","id":1},{"rule":"optional","type":"string","name":"method_name","id":2},{"rule":"optional","type":"CMsgGCRoutingInfo","name":"routing","id":3}]}]},{"name":"CMsgGCMsgMasterSetClientMsgRouting","fields":[{"rule":"repeated","type":"Entry","name":"entries","id":1}],"messages":[{"name":"Entry","fields":[{"rule":"optional","type":"uint32","name":"msg_type","id":1},{"rule":"optional","type":"CMsgGCRoutingInfo","name":"routing","id":2}]}]},{"name":"CMsgGCMsgMasterSetWebAPIRouting_Response","fields":[{"rule":"optional","type":"int32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgGCMsgMasterSetClientMsgRouting_Response","fields":[{"rule":"optional","type":"int32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgGCMsgSetOptions","fields":[{"rule":"repeated","type":"Option","name":"options","id":1},{"rule":"repeated","type":"MessageRange","name":"client_msg_ranges","id":2},{"rule":"optional","type":"GCSQLVersion","name":"gcsql_version","id":3,"options":{"default":"GCSQL_VERSION_BASELINE"}}],"messages":[{"name":"MessageRange","fields":[{"rule":"required","type":"uint32","name":"low","id":1},{"rule":"required","type":"uint32","name":"high","id":2}]}],"enums":[{"name":"Option","values":[{"name":"NOTIFY_USER_SESSIONS","id":0},{"name":"NOTIFY_SERVER_SESSIONS","id":1},{"name":"NOTIFY_ACHIEVEMENTS","id":2},{"name":"NOTIFY_VAC_ACTION","id":3}]},{"name":"GCSQLVersion","values":[{"name":"GCSQL_VERSION_BASELINE","id":1},{"name":"GCSQL_VERSION_BOOLTYPE","id":2}]}]},{"name":"CMsgGCHUpdateSession","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"app_id","id":2},{"rule":"optional","type":"bool","name":"online","id":3},{"rule":"optional","type":"fixed64","name":"server_steam_id","id":4},{"rule":"optional","type":"uint32","name":"server_addr","id":5},{"rule":"optional","type":"uint32","name":"server_port","id":6},{"rule":"optional","type":"uint32","name":"os_type","id":7},{"rule":"optional","type":"uint32","name":"client_addr","id":8},{"rule":"repeated","type":"ExtraField","name":"extra_fields","id":9}],"messages":[{"name":"ExtraField","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"value","id":2}]}]},{"name":"CMsgNotificationOfSuspiciousActivity","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1},{"rule":"optional","type":"uint32","name":"appid","id":2},{"rule":"optional","type":"MultipleGameInstances","name":"multiple_instances","id":3}],"messages":[{"name":"MultipleGameInstances","fields":[{"rule":"optional","type":"uint32","name":"app_instance_count","id":1},{"rule":"repeated","type":"fixed64","name":"other_steamids","id":2}]}]},{"name":"CMsgDPPartnerMicroTxns","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1},{"rule":"optional","type":"string","name":"gc_name","id":2},{"rule":"optional","type":"PartnerInfo","name":"partner","id":3},{"rule":"repeated","type":"PartnerMicroTxn","name":"transactions","id":4}],"messages":[{"name":"PartnerMicroTxn","fields":[{"rule":"optional","type":"uint32","name":"init_time","id":1},{"rule":"optional","type":"uint32","name":"last_update_time","id":2},{"rule":"optional","type":"uint64","name":"txn_id","id":3},{"rule":"optional","type":"uint32","name":"account_id","id":4},{"rule":"optional","type":"uint32","name":"line_item","id":5},{"rule":"optional","type":"uint64","name":"item_id","id":6},{"rule":"optional","type":"uint32","name":"def_index","id":7},{"rule":"optional","type":"uint32","name":"price","id":8},{"rule":"optional","type":"uint32","name":"tax","id":9},{"rule":"optional","type":"uint32","name":"price_usd","id":10},{"rule":"optional","type":"uint32","name":"tax_usd","id":11},{"rule":"optional","type":"uint32","name":"purchase_type","id":12},{"rule":"optional","type":"uint32","name":"steam_txn_type","id":13},{"rule":"optional","type":"string","name":"country_code","id":14},{"rule":"optional","type":"string","name":"region_code","id":15},{"rule":"optional","type":"int32","name":"quantity","id":16},{"rule":"optional","type":"uint64","name":"ref_trans_id","id":17}]},{"name":"PartnerInfo","fields":[{"rule":"optional","type":"uint32","name":"partner_id","id":1},{"rule":"optional","type":"string","name":"partner_name","id":2},{"rule":"optional","type":"string","name":"currency_code","id":3},{"rule":"optional","type":"string","name":"currency_name","id":4}]}]},{"name":"CMsgDPPartnerMicroTxnsResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}},{"rule":"optional","type":"EErrorCode","name":"eerrorcode","id":2,"options":{"default":"k_MsgValid"}}],"enums":[{"name":"EErrorCode","values":[{"name":"k_MsgValid","id":0},{"name":"k_MsgInvalidAppID","id":1},{"name":"k_MsgInvalidPartnerInfo","id":2},{"name":"k_MsgNoTransactions","id":3},{"name":"k_MsgSQLFailure","id":4},{"name":"k_MsgPartnerInfoDiscrepancy","id":5},{"name":"k_MsgTransactionInsertFailed","id":7},{"name":"k_MsgAlreadyRunning","id":8},{"name":"k_MsgInvalidTransactionData","id":9}]}]},{"name":"CGCStorePurchaseInit_LineItem","fields":[{"rule":"optional","type":"uint32","name":"item_def_id","id":1},{"rule":"optional","type":"uint32","name":"quantity","id":2},{"rule":"optional","type":"uint32","name":"cost_in_local_currency","id":3},{"rule":"optional","type":"uint32","name":"purchase_type","id":4},{"rule":"optional","type":"uint64","name":"source_reference_id","id":5}]},{"name":"CMsgGCStorePurchaseInit","fields":[{"rule":"optional","type":"string","name":"country","id":1},{"rule":"optional","type":"int32","name":"language","id":2},{"rule":"optional","type":"int32","name":"currency","id":3},{"rule":"repeated","type":"CGCStorePurchaseInit_LineItem","name":"line_items","id":4}]},{"name":"CMsgGCStorePurchaseInitResponse","fields":[{"rule":"optional","type":"int32","name":"result","id":1},{"rule":"optional","type":"uint64","name":"txn_id","id":2}]},{"name":"CMsgSystemBroadcast","fields":[{"rule":"optional","type":"string","name":"message","id":1}]},{"name":"CMsgInviteToParty","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"client_version","id":2},{"rule":"optional","type":"uint32","name":"team_id","id":3},{"rule":"optional","type":"bool","name":"as_coach","id":4}]},{"name":"CMsgInviteToLobby","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"client_version","id":2}]},{"name":"CMsgInvitationCreated","fields":[{"rule":"optional","type":"uint64","name":"group_id","id":1},{"rule":"optional","type":"fixed64","name":"steam_id","id":2}]},{"name":"CMsgPartyInviteResponse","fields":[{"rule":"optional","type":"uint64","name":"party_id","id":1},{"rule":"optional","type":"bool","name":"accept","id":2},{"rule":"optional","type":"uint32","name":"client_version","id":3},{"rule":"optional","type":"uint32","name":"team_id","id":4},{"rule":"optional","type":"bool","name":"as_coach","id":5},{"rule":"optional","type":"uint32","name":"game_language_enum","id":6},{"rule":"optional","type":"string","name":"game_language_name","id":7}]},{"name":"CMsgLobbyInviteResponse","fields":[{"rule":"optional","type":"fixed64","name":"lobby_id","id":1},{"rule":"optional","type":"bool","name":"accept","id":2},{"rule":"optional","type":"uint32","name":"client_version","id":3},{"rule":"optional","type":"uint32","name":"game_language_enum","id":4},{"rule":"optional","type":"string","name":"game_language_name","id":5},{"rule":"optional","type":"fixed64","name":"custom_game_crc","id":6},{"rule":"optional","type":"fixed32","name":"custom_game_timestamp","id":7}]},{"name":"CMsgKickFromParty","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1}]},{"name":"CMsgLeaveParty","fields":[]},{"name":"CMsgCustomGameInstallStatus","fields":[{"rule":"optional","type":"ECustomGameInstallStatus","name":"status","id":1,"options":{"default":"k_ECustomGameInstallStatus_Unknown"}},{"rule":"optional","type":"string","name":"message","id":2},{"rule":"optional","type":"fixed32","name":"latest_timestamp_from_steam","id":3}]},{"name":"CMsgServerAvailable","fields":[{"rule":"optional","type":"CMsgCustomGameInstallStatus","name":"custom_game_install_status","id":1}]},{"name":"CMsgLANServerAvailable","fields":[{"rule":"optional","type":"fixed64","name":"lobby_id","id":1}]},{"name":"CSOEconGameAccountClient","fields":[{"rule":"optional","type":"uint32","name":"additional_backpack_slots","id":1,"options":{"default":0}},{"rule":"optional","type":"bool","name":"trial_account","id":2,"options":{"default":false}},{"rule":"optional","type":"bool","name":"eligible_for_online_play","id":3,"options":{"default":true}},{"rule":"optional","type":"bool","name":"need_to_choose_most_helpful_friend","id":4},{"rule":"optional","type":"bool","name":"in_coaches_list","id":5},{"rule":"optional","type":"fixed32","name":"trade_ban_expiration","id":6},{"rule":"optional","type":"fixed32","name":"duel_ban_expiration","id":7},{"rule":"optional","type":"uint32","name":"preview_item_def","id":8,"options":{"default":0}},{"rule":"optional","type":"bool","name":"made_first_purchase","id":9,"options":{"default":false}}]},{"name":"CSOItemCriteriaCondition","fields":[{"rule":"optional","type":"int32","name":"op","id":1},{"rule":"optional","type":"string","name":"field","id":2},{"rule":"optional","type":"bool","name":"required","id":3},{"rule":"optional","type":"float","name":"float_value","id":4},{"rule":"optional","type":"string","name":"string_value","id":5}]},{"name":"CSOItemCriteria","fields":[{"rule":"optional","type":"uint32","name":"item_level","id":1},{"rule":"optional","type":"int32","name":"item_quality","id":2},{"rule":"optional","type":"bool","name":"item_level_set","id":3},{"rule":"optional","type":"bool","name":"item_quality_set","id":4},{"rule":"optional","type":"uint32","name":"initial_inventory","id":5},{"rule":"optional","type":"uint32","name":"initial_quantity","id":6},{"rule":"optional","type":"bool","name":"ignore_enabled_flag","id":8},{"rule":"repeated","type":"CSOItemCriteriaCondition","name":"conditions","id":9},{"rule":"optional","type":"bool","name":"recent_only","id":10}]},{"name":"CSOItemRecipe","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"string","name":"n_a","id":3},{"rule":"optional","type":"string","name":"desc_inputs","id":4},{"rule":"optional","type":"string","name":"desc_outputs","id":5},{"rule":"optional","type":"string","name":"di_a","id":6},{"rule":"optional","type":"string","name":"di_b","id":7},{"rule":"optional","type":"string","name":"di_c","id":8},{"rule":"optional","type":"string","name":"do_a","id":9},{"rule":"optional","type":"string","name":"do_b","id":10},{"rule":"optional","type":"string","name":"do_c","id":11},{"rule":"optional","type":"bool","name":"requires_all_same_class","id":12},{"rule":"optional","type":"bool","name":"requires_all_same_slot","id":13},{"rule":"optional","type":"int32","name":"class_usage_for_output","id":14},{"rule":"optional","type":"int32","name":"slot_usage_for_output","id":15},{"rule":"optional","type":"int32","name":"set_for_output","id":16},{"rule":"repeated","type":"CSOItemCriteria","name":"input_items_criteria","id":20},{"rule":"repeated","type":"CSOItemCriteria","name":"output_items_criteria","id":21},{"rule":"repeated","type":"uint32","name":"input_item_dupe_counts","id":22}]},{"name":"CMsgApplyStrangePart","fields":[{"rule":"optional","type":"uint64","name":"strange_part_item_id","id":1},{"rule":"optional","type":"uint64","name":"item_item_id","id":2}]},{"name":"CMsgApplyPennantUpgrade","fields":[{"rule":"optional","type":"uint64","name":"upgrade_item_id","id":1},{"rule":"optional","type":"uint64","name":"pennant_item_id","id":2}]},{"name":"CMsgApplyEggEssence","fields":[{"rule":"optional","type":"uint64","name":"essence_item_id","id":1},{"rule":"optional","type":"uint64","name":"egg_item_id","id":2}]},{"name":"CSOEconItemAttribute","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"uint32","name":"value","id":2},{"rule":"optional","type":"bytes","name":"value_bytes","id":3}]},{"name":"CSOEconItemEquipped","fields":[{"rule":"optional","type":"uint32","name":"new_class","id":1},{"rule":"optional","type":"uint32","name":"new_slot","id":2}]},{"name":"CSOEconItem","fields":[{"rule":"optional","type":"uint64","name":"id","id":1},{"rule":"optional","type":"uint32","name":"account_id","id":2},{"rule":"optional","type":"uint32","name":"inventory","id":3},{"rule":"optional","type":"uint32","name":"def_index","id":4},{"rule":"optional","type":"uint32","name":"quantity","id":5,"options":{"default":1}},{"rule":"optional","type":"uint32","name":"level","id":6,"options":{"default":1}},{"rule":"optional","type":"uint32","name":"quality","id":7,"options":{"default":4}},{"rule":"optional","type":"uint32","name":"flags","id":8,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"origin","id":9,"options":{"default":0}},{"rule":"repeated","type":"CSOEconItemAttribute","name":"attribute","id":12},{"rule":"optional","type":"CSOEconItem","name":"interior_item","id":13},{"rule":"optional","type":"bool","name":"in_use","id":14,"options":{"default":false}},{"rule":"optional","type":"uint32","name":"style","id":15,"options":{"default":0}},{"rule":"optional","type":"uint64","name":"original_id","id":16,"options":{"default":0}},{"rule":"repeated","type":"CSOEconItemEquipped","name":"equipped_state","id":18}]},{"name":"CMsgSortItems","fields":[{"rule":"optional","type":"uint32","name":"sort_type","id":1}]},{"name":"CSOEconClaimCode","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"code_type","id":2},{"rule":"optional","type":"uint32","name":"time_acquired","id":3},{"rule":"optional","type":"string","name":"code","id":4}]},{"name":"CMsgStoreGetUserData","fields":[{"rule":"optional","type":"fixed32","name":"price_sheet_version","id":1}]},{"name":"CMsgStoreGetUserDataResponse","fields":[{"rule":"optional","type":"int32","name":"result","id":1},{"rule":"optional","type":"int32","name":"currency","id":2},{"rule":"optional","type":"string","name":"country","id":3},{"rule":"optional","type":"fixed32","name":"price_sheet_version","id":4},{"rule":"optional","type":"uint64","name":"experiment_data","id":5,"options":{"default":0}},{"rule":"optional","type":"int32","name":"featured_item_idx","id":6},{"rule":"optional","type":"bool","name":"show_hat_descriptions","id":7,"options":{"default":true}},{"rule":"optional","type":"bytes","name":"price_sheet","id":8},{"rule":"optional","type":"int32","name":"default_item_sort","id":9,"options":{"default":0}},{"rule":"repeated","type":"uint32","name":"popular_items","id":10}]},{"name":"CMsgUpdateItemSchema","fields":[{"rule":"optional","type":"bytes","name":"items_game","id":1},{"rule":"optional","type":"fixed32","name":"item_schema_version","id":2},{"rule":"optional","type":"string","name":"items_game_url","id":3}]},{"name":"CMsgGCError","fields":[{"rule":"optional","type":"string","name":"error_text","id":1}]},{"name":"CMsgRequestInventoryRefresh","fields":[]},{"name":"CMsgConVarValue","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"value","id":2}]},{"name":"CMsgReplicateConVars","fields":[{"rule":"repeated","type":"CMsgConVarValue","name":"convars","id":1}]},{"name":"CMsgReplayUploadedToYouTube","fields":[{"rule":"optional","type":"string","name":"youtube_url","id":1},{"rule":"optional","type":"string","name":"youtube_account_name","id":2},{"rule":"optional","type":"uint64","name":"session_id","id":3}]},{"name":"CMsgConsumableExhausted","fields":[{"rule":"optional","type":"int32","name":"item_def_id","id":1}]},{"name":"CMsgItemAcknowledged","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"inventory","id":2},{"rule":"optional","type":"uint32","name":"def_index","id":3},{"rule":"optional","type":"uint32","name":"quality","id":4},{"rule":"optional","type":"uint32","name":"rarity","id":5},{"rule":"optional","type":"uint32","name":"origin","id":6}]},{"name":"CMsgSetPresetItemPosition","fields":[{"rule":"optional","type":"uint32","name":"class_id","id":1},{"rule":"optional","type":"uint32","name":"preset_id","id":2},{"rule":"optional","type":"uint32","name":"slot_id","id":3},{"rule":"optional","type":"uint64","name":"item_id","id":4}]},{"name":"CMsgSetItemPositions","fields":[{"rule":"repeated","type":"ItemPosition","name":"item_positions","id":1}],"messages":[{"name":"ItemPosition","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1},{"rule":"optional","type":"uint32","name":"position","id":2}]}]},{"name":"CSOEconItemPresetInstance","fields":[{"rule":"optional","type":"uint32","name":"class_id","id":2,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"preset_id","id":3,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"slot_id","id":4,"options":{"(key_field)":true}},{"rule":"optional","type":"uint64","name":"item_id","id":5}]},{"name":"CMsgSelectItemPresetForClass","fields":[{"rule":"optional","type":"uint32","name":"class_id","id":1},{"rule":"optional","type":"uint32","name":"preset_id","id":2}]},{"name":"CMsgSelectItemPresetForClassReply","fields":[{"rule":"optional","type":"bool","name":"success","id":1}]},{"name":"CSOSelectedItemPreset","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"class_id","id":2,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"preset_id","id":3}]},{"name":"CMsgGCReportAbuse","fields":[{"rule":"optional","type":"fixed64","name":"target_steam_id","id":1},{"rule":"optional","type":"string","name":"description","id":4},{"rule":"optional","type":"uint64","name":"gid","id":5},{"rule":"optional","type":"uint32","name":"abuse_type","id":2},{"rule":"optional","type":"uint32","name":"content_type","id":3},{"rule":"optional","type":"fixed32","name":"target_game_server_ip","id":6},{"rule":"optional","type":"uint32","name":"target_game_server_port","id":7}]},{"name":"CMsgGCReportAbuseResponse","fields":[{"rule":"optional","type":"fixed64","name":"target_steam_id","id":1},{"rule":"optional","type":"uint32","name":"result","id":2},{"rule":"optional","type":"string","name":"error_message","id":3}]},{"name":"CMsgGCNameItemNotification","fields":[{"rule":"optional","type":"fixed64","name":"player_steamid","id":1},{"rule":"optional","type":"uint32","name":"item_def_index","id":2},{"rule":"optional","type":"string","name":"item_name_custom","id":3}]},{"name":"CMsgGCClientDisplayNotification","fields":[{"rule":"optional","type":"string","name":"notification_title_localization_key","id":1},{"rule":"optional","type":"string","name":"notification_body_localization_key","id":2},{"rule":"repeated","type":"string","name":"body_substring_keys","id":3},{"rule":"repeated","type":"string","name":"body_substring_values","id":4}]},{"name":"CMsgGCShowItemsPickedUp","fields":[{"rule":"optional","type":"fixed64","name":"player_steamid","id":1}]},{"name":"CMsgGCIncrementKillCountResponse","fields":[{"rule":"optional","type":"uint32","name":"killer_account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"num_kills","id":2},{"rule":"optional","type":"uint32","name":"item_def","id":3},{"rule":"optional","type":"uint32","name":"level_type","id":4}]},{"name":"CSOEconItemDropRateBonus","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"fixed32","name":"expiration_date","id":2},{"rule":"optional","type":"float","name":"bonus","id":3,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"bonus_count","id":4},{"rule":"optional","type":"uint64","name":"item_id","id":5},{"rule":"optional","type":"uint32","name":"def_index","id":6},{"rule":"optional","type":"uint32","name":"seconds_left","id":7},{"rule":"optional","type":"uint32","name":"booster_type","id":8,"options":{"(key_field)":true}}]},{"name":"CSOEconItemLeagueViewPass","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"league_id","id":2,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"itemindex","id":4},{"rule":"optional","type":"uint32","name":"grant_reason","id":5}]},{"name":"CSOEconItemEventTicket","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"event_id","id":2},{"rule":"optional","type":"uint64","name":"item_id","id":3}]},{"name":"CSOEconItemTournamentPassport","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2},{"rule":"optional","type":"uint64","name":"item_id","id":3},{"rule":"optional","type":"uint32","name":"original_purchaser_id","id":4},{"rule":"optional","type":"uint32","name":"passports_bought","id":5},{"rule":"optional","type":"uint32","name":"version","id":6},{"rule":"optional","type":"uint32","name":"def_index","id":7},{"rule":"optional","type":"uint32","name":"reward_flags","id":8}]},{"name":"CMsgGCItemPreviewItemBoughtNotification","fields":[{"rule":"optional","type":"uint32","name":"item_def_index","id":1}]},{"name":"CMsgGCStorePurchaseCancel","fields":[{"rule":"optional","type":"uint64","name":"txn_id","id":1}]},{"name":"CMsgGCStorePurchaseCancelResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1}]},{"name":"CMsgGCStorePurchaseFinalize","fields":[{"rule":"optional","type":"uint64","name":"txn_id","id":1}]},{"name":"CMsgGCStorePurchaseFinalizeResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1},{"rule":"repeated","type":"uint64","name":"item_ids","id":2}]},{"name":"CMsgGCBannedWordListRequest","fields":[{"rule":"optional","type":"uint32","name":"ban_list_group_id","id":1},{"rule":"optional","type":"uint32","name":"word_id","id":2}]},{"name":"CMsgGCBannedWord","fields":[{"rule":"optional","type":"uint32","name":"word_id","id":1},{"rule":"optional","type":"GC_BannedWordType","name":"word_type","id":2,"options":{"default":"GC_BANNED_WORD_DISABLE_WORD"}},{"rule":"optional","type":"string","name":"word","id":3}]},{"name":"CMsgGCBannedWordListResponse","fields":[{"rule":"optional","type":"uint32","name":"ban_list_group_id","id":1},{"rule":"repeated","type":"CMsgGCBannedWord","name":"word_list","id":2}]},{"name":"CMsgGCToGCBannedWordListBroadcast","fields":[{"rule":"optional","type":"CMsgGCBannedWordListResponse","name":"broadcast","id":1}]},{"name":"CMsgGCToGCBannedWordListUpdated","fields":[{"rule":"optional","type":"uint32","name":"group_id","id":1}]},{"name":"CMsgGCToGCDirtySDOCache","fields":[{"rule":"optional","type":"uint32","name":"sdo_type","id":1},{"rule":"optional","type":"uint64","name":"key_uint64","id":2}]},{"name":"CMsgGCToGCDirtyMultipleSDOCache","fields":[{"rule":"optional","type":"uint32","name":"sdo_type","id":1},{"rule":"repeated","type":"uint64","name":"key_uint64","id":2}]},{"name":"CMsgGCToGCApplyLocalizationDiff","fields":[{"rule":"optional","type":"uint32","name":"language","id":1},{"rule":"optional","type":"string","name":"packed_diff","id":2}]},{"name":"CMsgGCToGCApplyLocalizationDiffResponse","fields":[{"rule":"optional","type":"bool","name":"success","id":1}]},{"name":"CMsgGCCollectItem","fields":[{"rule":"optional","type":"uint64","name":"collection_item_id","id":1},{"rule":"optional","type":"uint64","name":"subject_item_id","id":2}]},{"name":"CMsgSDONoMemcached","fields":[]},{"name":"CMsgGCToGCUpdateSQLKeyValue","fields":[{"rule":"optional","type":"string","name":"key_name","id":1}]},{"name":"CMsgGCToGCBroadcastConsoleCommand","fields":[{"rule":"optional","type":"string","name":"con_command","id":1}]},{"name":"CMsgGCServerVersionUpdated","fields":[{"rule":"optional","type":"uint32","name":"server_version","id":1}]},{"name":"CMsgGCClientVersionUpdated","fields":[{"rule":"optional","type":"uint32","name":"client_version","id":1}]},{"name":"CMsgGCToGCWebAPIAccountChanged","fields":[]},{"name":"CMsgRecipeComponent","fields":[{"rule":"optional","type":"uint64","name":"subject_item_id","id":1},{"rule":"optional","type":"uint64","name":"attribute_index","id":2}]},{"name":"CMsgFulfillDynamicRecipeComponent","fields":[{"rule":"optional","type":"uint64","name":"tool_item_id","id":1},{"rule":"repeated","type":"CMsgRecipeComponent","name":"consumption_components","id":2}]},{"name":"CMsgGCClientMarketDataRequest","fields":[{"rule":"optional","type":"uint32","name":"user_currency","id":1}]},{"name":"CMsgGCClientMarketDataEntry","fields":[{"rule":"optional","type":"uint32","name":"item_def_index","id":1},{"rule":"optional","type":"uint32","name":"item_quality","id":2},{"rule":"optional","type":"uint32","name":"item_sell_listings","id":3},{"rule":"optional","type":"uint32","name":"price_in_local_currency","id":4}]},{"name":"CMsgGCClientMarketData","fields":[{"rule":"repeated","type":"CMsgGCClientMarketDataEntry","name":"entries","id":1}]},{"name":"CMsgExtractGems","fields":[{"rule":"optional","type":"uint64","name":"tool_item_id","id":1},{"rule":"optional","type":"uint64","name":"item_item_id","id":2}]},{"name":"CMsgAddSocket","fields":[{"rule":"optional","type":"uint64","name":"tool_item_id","id":1},{"rule":"optional","type":"uint64","name":"item_item_id","id":2},{"rule":"optional","type":"bool","name":"unusual","id":3}]},{"name":"CMsgAddSocketResponse","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1},{"rule":"repeated","type":"uint32","name":"updated_socket_index","id":2}]},{"name":"CMsgAddItemToSocketData","fields":[{"rule":"optional","type":"uint64","name":"gem_item_id","id":1},{"rule":"optional","type":"uint32","name":"socket_index","id":2}]},{"name":"CMsgAddItemToSocket","fields":[{"rule":"optional","type":"uint64","name":"item_item_id","id":1},{"rule":"repeated","type":"CMsgAddItemToSocketData","name":"gems_to_socket","id":2}]},{"name":"CMsgAddItemToSocketResponse","fields":[{"rule":"optional","type":"uint64","name":"item_item_id","id":1},{"rule":"repeated","type":"uint32","name":"updated_socket_index","id":2}]},{"name":"CMsgResetStrangeGemCount","fields":[{"rule":"optional","type":"uint64","name":"item_item_id","id":1},{"rule":"optional","type":"uint32","name":"socket_index","id":2}]},{"name":"CMsgVector","fields":[{"rule":"optional","type":"float","name":"x","id":1},{"rule":"optional","type":"float","name":"y","id":2},{"rule":"optional","type":"float","name":"z","id":3}]},{"name":"CMsgVector2D","fields":[{"rule":"optional","type":"float","name":"x","id":1},{"rule":"optional","type":"float","name":"y","id":2}]},{"name":"CMsgQAngle","fields":[{"rule":"optional","type":"float","name":"x","id":1},{"rule":"optional","type":"float","name":"y","id":2},{"rule":"optional","type":"float","name":"z","id":3}]},{"name":"CMsgPlayerInfo","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"fixed64","name":"xuid","id":2},{"rule":"optional","type":"int32","name":"userid","id":3},{"rule":"optional","type":"fixed64","name":"steamid","id":4},{"rule":"optional","type":"bool","name":"fakeplayer","id":5},{"rule":"optional","type":"bool","name":"ishltv","id":6}]},{"name":"CMsg_CVars","fields":[{"rule":"repeated","type":"CVar","name":"cvars","id":1}],"messages":[{"name":"CVar","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"value","id":2}]}]},{"name":"CNETMsg_NOP","fields":[]},{"name":"CNETMsg_SplitScreenUser","fields":[{"rule":"optional","type":"int32","name":"slot","id":1}]},{"name":"CNETMsg_Disconnect","fields":[{"rule":"optional","type":"ENetworkDisconnectionReason","name":"reason","id":2,"options":{"default":"NETWORK_DISCONNECT_INVALID"}}]},{"name":"CNETMsg_Tick","fields":[{"rule":"optional","type":"uint32","name":"tick","id":1},{"rule":"optional","type":"uint32","name":"host_frametime","id":2},{"rule":"optional","type":"uint32","name":"host_frametime_std_deviation","id":3},{"rule":"optional","type":"uint32","name":"host_computationtime","id":4},{"rule":"optional","type":"uint32","name":"host_computationtime_std_deviation","id":5},{"rule":"optional","type":"uint32","name":"host_framestarttime_std_deviation","id":6}]},{"name":"CNETMsg_StringCmd","fields":[{"rule":"optional","type":"string","name":"command","id":1}]},{"name":"CNETMsg_SetConVar","fields":[{"rule":"optional","type":"CMsg_CVars","name":"convars","id":1}]},{"name":"CNETMsg_SignonState","fields":[{"rule":"optional","type":"uint32","name":"signon_state","id":1},{"rule":"optional","type":"uint32","name":"spawn_count","id":2},{"rule":"optional","type":"uint32","name":"num_server_players","id":3},{"rule":"repeated","type":"string","name":"players_networkids","id":4},{"rule":"optional","type":"string","name":"map_name","id":5}]},{"name":"CSVCMsg_GameEvent","fields":[{"rule":"optional","type":"string","name":"event_name","id":1},{"rule":"optional","type":"int32","name":"eventid","id":2},{"rule":"repeated","type":"key_t","name":"keys","id":3}],"messages":[{"name":"key_t","fields":[{"rule":"optional","type":"int32","name":"type","id":1},{"rule":"optional","type":"string","name":"val_string","id":2},{"rule":"optional","type":"float","name":"val_float","id":3},{"rule":"optional","type":"int32","name":"val_long","id":4},{"rule":"optional","type":"int32","name":"val_short","id":5},{"rule":"optional","type":"int32","name":"val_byte","id":6},{"rule":"optional","type":"bool","name":"val_bool","id":7},{"rule":"optional","type":"uint64","name":"val_uint64","id":8}]}]},{"name":"CSVCMsgList_GameEvents","fields":[{"rule":"repeated","type":"event_t","name":"events","id":1}],"messages":[{"name":"event_t","fields":[{"rule":"optional","type":"int32","name":"tick","id":1},{"rule":"optional","type":"CSVCMsg_GameEvent","name":"event","id":2}]}]},{"name":"CSVCMsg_UserMessage","fields":[{"rule":"optional","type":"int32","name":"msg_type","id":1},{"rule":"optional","type":"bytes","name":"msg_data","id":2}]},{"name":"CSVCMsgList_UserMessages","fields":[{"rule":"repeated","type":"usermsg_t","name":"usermsgs","id":1}],"messages":[{"name":"usermsg_t","fields":[{"rule":"optional","type":"int32","name":"tick","id":1},{"rule":"optional","type":"CSVCMsg_UserMessage","name":"msg","id":2}]}]},{"name":"CNETMsg_SpawnGroup_Load","fields":[{"rule":"optional","type":"string","name":"worldname","id":1},{"rule":"optional","type":"string","name":"entitylumpname","id":2},{"rule":"optional","type":"string","name":"entityfiltername","id":3},{"rule":"optional","type":"uint32","name":"spawngrouphandle","id":4},{"rule":"optional","type":"uint32","name":"spawngroupownerhandle","id":5},{"rule":"optional","type":"CMsgVector","name":"world_offset_pos","id":6},{"rule":"optional","type":"CMsgQAngle","name":"world_offset_angle","id":7},{"rule":"optional","type":"bytes","name":"spawngroupmanifest","id":8},{"rule":"optional","type":"uint32","name":"flags","id":9},{"rule":"optional","type":"int32","name":"tickcount","id":10},{"rule":"optional","type":"bool","name":"manifestincomplete","id":11},{"rule":"optional","type":"string","name":"localnamefixup","id":12},{"rule":"optional","type":"string","name":"parentnamefixup","id":13},{"rule":"optional","type":"int32","name":"manifestloadpriority","id":14},{"rule":"optional","type":"uint32","name":"worldgroupid","id":15},{"rule":"optional","type":"uint32","name":"creationsequence","id":16}]},{"name":"CNETMsg_SpawnGroup_ManifestUpdate","fields":[{"rule":"optional","type":"uint32","name":"spawngrouphandle","id":1},{"rule":"optional","type":"bytes","name":"spawngroupmanifest","id":2},{"rule":"optional","type":"bool","name":"manifestincomplete","id":3}]},{"name":"CNETMsg_SpawnGroup_SetCreationTick","fields":[{"rule":"optional","type":"uint32","name":"spawngrouphandle","id":1},{"rule":"optional","type":"int32","name":"tickcount","id":2},{"rule":"optional","type":"uint32","name":"creationsequence","id":3}]},{"name":"CNETMsg_SpawnGroup_Unload","fields":[{"rule":"optional","type":"uint32","name":"spawngrouphandle","id":1},{"rule":"optional","type":"uint32","name":"flags","id":2},{"rule":"optional","type":"int32","name":"tickcount","id":3}]},{"name":"CNETMsg_SpawnGroup_LoadCompleted","fields":[{"rule":"optional","type":"uint32","name":"spawngrouphandle","id":1}]},{"name":"CSVCMsg_GameSessionConfiguration","fields":[{"rule":"optional","type":"bool","name":"is_multiplayer","id":1},{"rule":"optional","type":"bool","name":"is_loadsavegame","id":2},{"rule":"optional","type":"bool","name":"is_background_map","id":3},{"rule":"optional","type":"bool","name":"is_headless","id":4},{"rule":"optional","type":"uint32","name":"min_client_limit","id":5},{"rule":"optional","type":"uint32","name":"max_client_limit","id":6},{"rule":"optional","type":"uint32","name":"max_clients","id":7},{"rule":"optional","type":"fixed32","name":"tick_interval","id":8},{"rule":"optional","type":"string","name":"hostname","id":9},{"rule":"optional","type":"string","name":"savegamename","id":10},{"rule":"optional","type":"string","name":"s1_mapname","id":11},{"rule":"optional","type":"string","name":"gamemode","id":12},{"rule":"optional","type":"string","name":"server_ip_address","id":13},{"rule":"optional","type":"bytes","name":"data","id":14},{"rule":"optional","type":"bool","name":"is_localonly","id":15}]},{"name":"CCLCMsg_ClientInfo","fields":[{"rule":"optional","type":"fixed32","name":"send_table_crc","id":1},{"rule":"optional","type":"uint32","name":"server_count","id":2},{"rule":"optional","type":"bool","name":"is_hltv","id":3},{"rule":"optional","type":"bool","name":"is_replay","id":4},{"rule":"optional","type":"uint32","name":"friends_id","id":5},{"rule":"optional","type":"string","name":"friends_name","id":6}]},{"name":"CCLCMsg_Move","fields":[{"rule":"optional","type":"uint32","name":"num_backup_commands","id":1},{"rule":"optional","type":"uint32","name":"num_new_commands","id":2},{"rule":"optional","type":"bytes","name":"data","id":3}]},{"name":"CMsgVoiceAudio","fields":[{"rule":"optional","type":"VoiceDataFormat_t","name":"format","id":1,"options":{"default":"VOICEDATA_FORMAT_STEAM"}},{"rule":"optional","type":"bytes","name":"voice_data","id":2},{"rule":"optional","type":"int32","name":"sequence_bytes","id":3},{"rule":"optional","type":"uint32","name":"section_number","id":4},{"rule":"optional","type":"uint32","name":"sample_rate","id":5},{"rule":"optional","type":"uint32","name":"uncompressed_sample_offset","id":6}]},{"name":"CCLCMsg_VoiceData","fields":[{"rule":"optional","type":"CMsgVoiceAudio","name":"audio","id":1},{"rule":"optional","type":"fixed64","name":"xuid","id":2},{"rule":"optional","type":"uint32","name":"tick","id":3}]},{"name":"CCLCMsg_BaselineAck","fields":[{"rule":"optional","type":"int32","name":"baseline_tick","id":1},{"rule":"optional","type":"int32","name":"baseline_nr","id":2}]},{"name":"CCLCMsg_ListenEvents","fields":[{"rule":"repeated","type":"fixed32","name":"event_mask","id":1}]},{"name":"CCLCMsg_RespondCvarValue","fields":[{"rule":"optional","type":"int32","name":"cookie","id":1},{"rule":"optional","type":"int32","name":"status_code","id":2},{"rule":"optional","type":"string","name":"name","id":3},{"rule":"optional","type":"string","name":"value","id":4}]},{"name":"CCLCMsg_FileCRCCheck","fields":[{"rule":"optional","type":"int32","name":"code_path","id":1},{"rule":"optional","type":"string","name":"path","id":2},{"rule":"optional","type":"int32","name":"code_filename","id":3},{"rule":"optional","type":"string","name":"filename","id":4},{"rule":"optional","type":"fixed32","name":"crc","id":5}]},{"name":"CCLCMsg_LoadingProgress","fields":[{"rule":"optional","type":"int32","name":"progress","id":1}]},{"name":"CCLCMsg_SplitPlayerConnect","fields":[{"rule":"optional","type":"string","name":"playername","id":1}]},{"name":"CCLCMsg_ClientMessage","fields":[{"rule":"optional","type":"int32","name":"msg_type","id":1},{"rule":"optional","type":"bytes","name":"data","id":2}]},{"name":"CCLCMsg_SplitPlayerDisconnect","fields":[{"rule":"optional","type":"int32","name":"slot","id":1}]},{"name":"CCLCMsg_ServerStatus","fields":[{"rule":"optional","type":"bool","name":"simplified","id":1}]},{"name":"CCLCMsg_ServerPing","fields":[]},{"name":"CCLCMsg_RequestPause","fields":[{"rule":"optional","type":"RequestPause_t","name":"pause_type","id":1,"options":{"default":"RP_PAUSE"}},{"rule":"optional","type":"int32","name":"pause_group","id":2}]},{"name":"CCLCMsg_CmdKeyValues","fields":[{"rule":"optional","type":"bytes","name":"data","id":1}]},{"name":"CSVCMsg_ServerInfo","fields":[{"rule":"optional","type":"int32","name":"protocol","id":1},{"rule":"optional","type":"int32","name":"server_count","id":2},{"rule":"optional","type":"bool","name":"is_dedicated","id":3},{"rule":"optional","type":"bool","name":"is_hltv","id":4},{"rule":"optional","type":"bool","name":"is_replay","id":5},{"rule":"optional","type":"int32","name":"c_os","id":6},{"rule":"optional","type":"fixed32","name":"map_crc","id":7},{"rule":"optional","type":"fixed32","name":"client_crc","id":8},{"rule":"optional","type":"fixed32","name":"string_table_crc","id":9},{"rule":"optional","type":"int32","name":"max_clients","id":10},{"rule":"optional","type":"int32","name":"max_classes","id":11},{"rule":"optional","type":"int32","name":"player_slot","id":12},{"rule":"optional","type":"float","name":"tick_interval","id":13},{"rule":"optional","type":"string","name":"game_dir","id":14},{"rule":"optional","type":"string","name":"map_name","id":15},{"rule":"optional","type":"string","name":"sky_name","id":16},{"rule":"optional","type":"string","name":"host_name","id":17},{"rule":"optional","type":"string","name":"addon_name","id":18},{"rule":"optional","type":"CSVCMsg_GameSessionConfiguration","name":"game_session_config","id":19},{"rule":"optional","type":"bytes","name":"game_session_manifest","id":20}]},{"name":"CSVCMsg_ClassInfo","fields":[{"rule":"optional","type":"bool","name":"create_on_client","id":1},{"rule":"repeated","type":"class_t","name":"classes","id":2}],"messages":[{"name":"class_t","fields":[{"rule":"optional","type":"int32","name":"class_id","id":1},{"rule":"optional","type":"string","name":"data_table_name","id":2},{"rule":"optional","type":"string","name":"class_name","id":3}]}]},{"name":"CSVCMsg_SetPause","fields":[{"rule":"optional","type":"bool","name":"paused","id":1}]},{"name":"CSVCMsg_VoiceInit","fields":[{"rule":"optional","type":"int32","name":"quality","id":1},{"rule":"optional","type":"string","name":"codec","id":2},{"rule":"optional","type":"int32","name":"version","id":3,"options":{"default":0}}]},{"name":"CSVCMsg_Print","fields":[{"rule":"optional","type":"string","name":"text","id":1}]},{"name":"CSVCMsg_Sounds","fields":[{"rule":"optional","type":"bool","name":"reliable_sound","id":1},{"rule":"repeated","type":"sounddata_t","name":"sounds","id":2}],"messages":[{"name":"sounddata_t","fields":[{"rule":"optional","type":"sint32","name":"origin_x","id":1},{"rule":"optional","type":"sint32","name":"origin_y","id":2},{"rule":"optional","type":"sint32","name":"origin_z","id":3},{"rule":"optional","type":"uint32","name":"volume","id":4},{"rule":"optional","type":"float","name":"delay_value","id":5},{"rule":"optional","type":"int32","name":"sequence_number","id":6},{"rule":"optional","type":"int32","name":"entity_index","id":7},{"rule":"optional","type":"int32","name":"channel","id":8},{"rule":"optional","type":"int32","name":"pitch","id":9},{"rule":"optional","type":"int32","name":"flags","id":10},{"rule":"optional","type":"uint32","name":"sound_num","id":11},{"rule":"optional","type":"fixed32","name":"sound_num_handle","id":12},{"rule":"optional","type":"int32","name":"speaker_entity","id":13},{"rule":"optional","type":"int32","name":"random_seed","id":14},{"rule":"optional","type":"int32","name":"sound_level","id":15},{"rule":"optional","type":"bool","name":"is_sentence","id":16},{"rule":"optional","type":"bool","name":"is_ambient","id":17},{"rule":"optional","type":"uint32","name":"guid","id":18},{"rule":"optional","type":"fixed64","name":"sound_resource_id","id":19}]}]},{"name":"CSVCMsg_Prefetch","fields":[{"rule":"optional","type":"int32","name":"sound_index","id":1},{"rule":"optional","type":"PrefetchType","name":"resource_type","id":2,"options":{"default":"PFT_SOUND"}}]},{"name":"CSVCMsg_SetView","fields":[{"rule":"optional","type":"int32","name":"entity_index","id":1},{"rule":"optional","type":"int32","name":"slot","id":2}]},{"name":"CSVCMsg_FixAngle","fields":[{"rule":"optional","type":"bool","name":"relative","id":1},{"rule":"optional","type":"CMsgQAngle","name":"angle","id":2}]},{"name":"CSVCMsg_CrosshairAngle","fields":[{"rule":"optional","type":"CMsgQAngle","name":"angle","id":1}]},{"name":"CSVCMsg_BSPDecal","fields":[{"rule":"optional","type":"CMsgVector","name":"pos","id":1},{"rule":"optional","type":"int32","name":"decal_texture_index","id":2},{"rule":"optional","type":"int32","name":"entity_index","id":3},{"rule":"optional","type":"int32","name":"model_index","id":4},{"rule":"optional","type":"bool","name":"low_priority","id":5}]},{"name":"CSVCMsg_SplitScreen","fields":[{"rule":"optional","type":"ESplitScreenMessageType","name":"type","id":1,"options":{"default":"MSG_SPLITSCREEN_ADDUSER"}},{"rule":"optional","type":"int32","name":"slot","id":2},{"rule":"optional","type":"int32","name":"player_index","id":3}]},{"name":"CSVCMsg_GetCvarValue","fields":[{"rule":"optional","type":"int32","name":"cookie","id":1},{"rule":"optional","type":"string","name":"cvar_name","id":2}]},{"name":"CSVCMsg_Menu","fields":[{"rule":"optional","type":"int32","name":"dialog_type","id":1},{"rule":"optional","type":"bytes","name":"menu_key_values","id":2}]},{"name":"CSVCMsg_SendTable","fields":[{"rule":"optional","type":"bool","name":"is_end","id":1},{"rule":"optional","type":"string","name":"net_table_name","id":2},{"rule":"optional","type":"bool","name":"needs_decoder","id":3},{"rule":"repeated","type":"sendprop_t","name":"props","id":4}],"messages":[{"name":"sendprop_t","fields":[{"rule":"optional","type":"int32","name":"type","id":1},{"rule":"optional","type":"string","name":"var_name","id":2},{"rule":"optional","type":"int32","name":"flags","id":3},{"rule":"optional","type":"int32","name":"priority","id":4},{"rule":"optional","type":"string","name":"dt_name","id":5},{"rule":"optional","type":"int32","name":"num_elements","id":6},{"rule":"optional","type":"float","name":"low_value","id":7},{"rule":"optional","type":"float","name":"high_value","id":8},{"rule":"optional","type":"int32","name":"num_bits","id":9}]}]},{"name":"CSVCMsg_GameEventList","fields":[{"rule":"repeated","type":"descriptor_t","name":"descriptors","id":1}],"messages":[{"name":"key_t","fields":[{"rule":"optional","type":"int32","name":"type","id":1},{"rule":"optional","type":"string","name":"name","id":2}]},{"name":"descriptor_t","fields":[{"rule":"optional","type":"int32","name":"eventid","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"repeated","type":"key_t","name":"keys","id":3}]}]},{"name":"CSVCMsg_PacketEntities","fields":[{"rule":"optional","type":"int32","name":"max_entries","id":1},{"rule":"optional","type":"int32","name":"updated_entries","id":2},{"rule":"optional","type":"bool","name":"is_delta","id":3},{"rule":"optional","type":"bool","name":"update_baseline","id":4},{"rule":"optional","type":"int32","name":"baseline","id":5},{"rule":"optional","type":"int32","name":"delta_from","id":6},{"rule":"optional","type":"bytes","name":"entity_data","id":7},{"rule":"optional","type":"bool","name":"pending_full_frame","id":8},{"rule":"optional","type":"uint32","name":"active_spawngroup_handle","id":9},{"rule":"optional","type":"uint32","name":"max_spawngroup_creationsequence","id":10}]},{"name":"CSVCMsg_TempEntities","fields":[{"rule":"optional","type":"bool","name":"reliable","id":1},{"rule":"optional","type":"int32","name":"num_entries","id":2},{"rule":"optional","type":"bytes","name":"entity_data","id":3}]},{"name":"CSVCMsg_CreateStringTable","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"int32","name":"num_entries","id":2},{"rule":"optional","type":"bool","name":"user_data_fixed_size","id":3},{"rule":"optional","type":"int32","name":"user_data_size","id":4},{"rule":"optional","type":"int32","name":"user_data_size_bits","id":5},{"rule":"optional","type":"int32","name":"flags","id":6},{"rule":"optional","type":"bytes","name":"string_data","id":7},{"rule":"optional","type":"int32","name":"uncompressed_size","id":8},{"rule":"optional","type":"bool","name":"data_compressed","id":9}]},{"name":"CSVCMsg_UpdateStringTable","fields":[{"rule":"optional","type":"int32","name":"table_id","id":1},{"rule":"optional","type":"int32","name":"num_changed_entries","id":2},{"rule":"optional","type":"bytes","name":"string_data","id":3}]},{"name":"CSVCMsg_VoiceData","fields":[{"rule":"optional","type":"CMsgVoiceAudio","name":"audio","id":1},{"rule":"optional","type":"int32","name":"client","id":2},{"rule":"optional","type":"bool","name":"proximity","id":3},{"rule":"optional","type":"fixed64","name":"xuid","id":4},{"rule":"optional","type":"int32","name":"audible_mask","id":5},{"rule":"optional","type":"uint32","name":"tick","id":6}]},{"name":"CSVCMsg_PacketReliable","fields":[{"rule":"optional","type":"int32","name":"tick","id":1},{"rule":"optional","type":"int32","name":"messagessize","id":2},{"rule":"optional","type":"bool","name":"state","id":3}]},{"name":"CSVCMsg_FullFrameSplit","fields":[{"rule":"optional","type":"int32","name":"tick","id":1},{"rule":"optional","type":"int32","name":"section","id":2},{"rule":"optional","type":"int32","name":"total","id":3},{"rule":"optional","type":"bytes","name":"data","id":4}]},{"name":"CSVCMsg_CmdKeyValues","fields":[{"rule":"optional","type":"bytes","name":"data","id":1}]},{"name":"CMsgIPCAddress","fields":[{"rule":"optional","type":"fixed64","name":"computer_guid","id":1},{"rule":"optional","type":"uint32","name":"process_id","id":2}]},{"name":"CMsgServerPeer","fields":[{"rule":"optional","type":"int32","name":"player_slot","id":1},{"rule":"optional","type":"fixed64","name":"steamid","id":2},{"rule":"optional","type":"CMsgIPCAddress","name":"ipc","id":3},{"rule":"optional","type":"bool","name":"they_hear_you","id":4},{"rule":"optional","type":"bool","name":"you_hear_them","id":5},{"rule":"optional","type":"bool","name":"is_listenserver_host","id":6}]},{"name":"CSVCMsg_PeerList","fields":[{"rule":"repeated","type":"CMsgServerPeer","name":"peer","id":1}]},{"name":"CSVCMsg_ClearAllStringTables","fields":[{"rule":"optional","type":"string","name":"mapname","id":1},{"rule":"optional","type":"uint32","name":"map_crc","id":2}]},{"name":"ProtoFlattenedSerializerField_t","fields":[{"rule":"optional","type":"int32","name":"var_type_sym","id":1},{"rule":"optional","type":"int32","name":"var_name_sym","id":2},{"rule":"optional","type":"int32","name":"bit_count","id":3},{"rule":"optional","type":"float","name":"low_value","id":4},{"rule":"optional","type":"float","name":"high_value","id":5},{"rule":"optional","type":"int32","name":"encode_flags","id":6},{"rule":"optional","type":"int32","name":"field_serializer_name_sym","id":7},{"rule":"optional","type":"int32","name":"field_serializer_version","id":8},{"rule":"optional","type":"int32","name":"send_node_sym","id":9},{"rule":"optional","type":"int32","name":"var_encoder_sym","id":10}]},{"name":"ProtoFlattenedSerializer_t","fields":[{"rule":"optional","type":"int32","name":"serializer_name_sym","id":1},{"rule":"optional","type":"int32","name":"serializer_version","id":2},{"rule":"repeated","type":"int32","name":"fields_index","id":3}]},{"name":"CSVCMsg_FlattenedSerializer","fields":[{"rule":"repeated","type":"ProtoFlattenedSerializer_t","name":"serializers","id":1},{"rule":"repeated","type":"string","name":"symbols","id":2},{"rule":"repeated","type":"ProtoFlattenedSerializerField_t","name":"fields","id":3}]},{"name":"CSVCMsg_StopSound","fields":[{"rule":"optional","type":"fixed32","name":"guid","id":1}]},{"name":"CBidirMsg_RebroadcastGameEvent","fields":[{"rule":"optional","type":"bool","name":"posttoserver","id":1},{"rule":"optional","type":"int32","name":"buftype","id":2},{"rule":"optional","type":"uint32","name":"clientbitcount","id":3},{"rule":"optional","type":"uint64","name":"receivingclients","id":4}]},{"name":"CBidirMsg_RebroadcastSource","fields":[{"rule":"optional","type":"int32","name":"eventsource","id":1}]},{"name":"SerializedNetAddress_t","fields":[{"rule":"required","type":"bytes","name":"serializedAddress","id":1}]},{"name":"CBidirMsg_RelayInfo","fields":[{"rule":"required","type":"Operation_t","name":"operation","id":1,"options":{"default":"RIO_REQUEST_RELAY"}},{"rule":"optional","type":"SerializedNetAddress_t","name":"serializedTargetAddress","id":2},{"rule":"optional","type":"uint32","name":"additionalHops","id":3}],"enums":[{"name":"Operation_t","values":[{"name":"RIO_REQUEST_RELAY","id":0},{"name":"RIO_WILL_RELAY","id":1},{"name":"RIO_NO_ROUTE","id":2},{"name":"RIO_REJECT_RELAY","id":3},{"name":"RIO_ESTABLISH_CONNECTION","id":4}]}]},{"name":"SignedPayload_t","fields":[{"rule":"required","type":"bytes","name":"payloadData","id":1},{"rule":"required","type":"uint32","name":"signature","id":2},{"rule":"required","type":"bool","name":"bPayloadEncrypted","id":3}]},{"name":"CBidirMsg_RelayPacket","fields":[{"rule":"required","type":"uint32","name":"prevhopcount","id":1},{"rule":"required","type":"SerializedNetAddress_t","name":"originalSender","id":2},{"rule":"required","type":"SignedPayload_t","name":"signedPayload","id":3},{"rule":"repeated","type":"SignedDestinationAddress_t","name":"recipientList","id":4}],"messages":[{"name":"SignedDestinationAddress_t","fields":[{"rule":"required","type":"SerializedNetAddress_t","name":"serializedAddr","id":1},{"rule":"required","type":"uint32","name":"signature","id":2},{"rule":"optional","type":"bytes","name":"encryptedPayloadKey","id":3}]}]},{"name":"CP2P_TextMessage","fields":[{"rule":"optional","type":"bytes","name":"text","id":1}]},{"name":"CSteam_Voice_Encoding","fields":[{"rule":"optional","type":"bytes","name":"voice_data","id":1}]},{"name":"CP2P_Voice","fields":[{"rule":"optional","type":"CMsgVoiceAudio","name":"audio","id":1},{"rule":"optional","type":"uint32","name":"broadcast_group","id":2}],"enums":[{"name":"Handler_Flags","values":[{"name":"Played_Audio","id":1}]}]},{"name":"CP2P_Ping","fields":[{"rule":"required","type":"uint64","name":"send_time","id":1},{"rule":"required","type":"bool","name":"is_reply","id":2}]},{"name":"C2S_CONNECT_Message","fields":[{"rule":"optional","type":"uint32","name":"host_version","id":1},{"rule":"optional","type":"uint32","name":"auth_protocol","id":2},{"rule":"optional","type":"uint32","name":"challenge_number","id":3},{"rule":"optional","type":"fixed64","name":"reservation_cookie","id":4},{"rule":"optional","type":"bool","name":"low_violence","id":5},{"rule":"optional","type":"bytes","name":"encrypted_password","id":6},{"rule":"repeated","type":"CCLCMsg_SplitPlayerConnect","name":"splitplayers","id":7},{"rule":"optional","type":"bytes","name":"auth_steam","id":8}]},{"name":"C2S_CONNECTION_Message","fields":[{"rule":"optional","type":"string","name":"addon_name","id":1}]},{"name":"CDemoFileHeader","fields":[{"rule":"required","type":"string","name":"demo_file_stamp","id":1},{"rule":"optional","type":"int32","name":"network_protocol","id":2},{"rule":"optional","type":"string","name":"server_name","id":3},{"rule":"optional","type":"string","name":"client_name","id":4},{"rule":"optional","type":"string","name":"map_name","id":5},{"rule":"optional","type":"string","name":"game_directory","id":6},{"rule":"optional","type":"int32","name":"fullpackets_version","id":7},{"rule":"optional","type":"bool","name":"allow_clientside_entities","id":8},{"rule":"optional","type":"bool","name":"allow_clientside_particles","id":9},{"rule":"optional","type":"string","name":"addons","id":10}]},{"name":"CGameInfo","fields":[{"rule":"optional","type":"CDotaGameInfo","name":"dota","id":4}],"messages":[{"name":"CDotaGameInfo","fields":[{"rule":"optional","type":"uint32","name":"match_id","id":1},{"rule":"optional","type":"int32","name":"game_mode","id":2},{"rule":"optional","type":"int32","name":"game_winner","id":3},{"rule":"repeated","type":"CPlayerInfo","name":"player_info","id":4},{"rule":"optional","type":"uint32","name":"leagueid","id":5},{"rule":"repeated","type":"CHeroSelectEvent","name":"picks_bans","id":6},{"rule":"optional","type":"uint32","name":"radiant_team_id","id":7},{"rule":"optional","type":"uint32","name":"dire_team_id","id":8},{"rule":"optional","type":"string","name":"radiant_team_tag","id":9},{"rule":"optional","type":"string","name":"dire_team_tag","id":10},{"rule":"optional","type":"uint32","name":"end_time","id":11}],"messages":[{"name":"CPlayerInfo","fields":[{"rule":"optional","type":"string","name":"hero_name","id":1},{"rule":"optional","type":"string","name":"player_name","id":2},{"rule":"optional","type":"bool","name":"is_fake_client","id":3},{"rule":"optional","type":"uint64","name":"steamid","id":4},{"rule":"optional","type":"int32","name":"game_team","id":5}]},{"name":"CHeroSelectEvent","fields":[{"rule":"optional","type":"bool","name":"is_pick","id":1},{"rule":"optional","type":"uint32","name":"team","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3}]}]}]},{"name":"CDemoFileInfo","fields":[{"rule":"optional","type":"float","name":"playback_time","id":1},{"rule":"optional","type":"int32","name":"playback_ticks","id":2},{"rule":"optional","type":"int32","name":"playback_frames","id":3},{"rule":"optional","type":"CGameInfo","name":"game_info","id":4}]},{"name":"CDemoPacket","fields":[{"rule":"optional","type":"int32","name":"sequence_in","id":1},{"rule":"optional","type":"int32","name":"sequence_out_ack","id":2},{"rule":"optional","type":"bytes","name":"data","id":3}]},{"name":"CDemoFullPacket","fields":[{"rule":"optional","type":"CDemoStringTables","name":"string_table","id":1},{"rule":"optional","type":"CDemoPacket","name":"packet","id":2}]},{"name":"CDemoSaveGame","fields":[{"rule":"optional","type":"bytes","name":"data","id":1},{"rule":"optional","type":"fixed64","name":"steam_id","id":2},{"rule":"optional","type":"fixed64","name":"signature","id":3},{"rule":"optional","type":"int32","name":"version","id":4}]},{"name":"CDemoSyncTick","fields":[]},{"name":"CDemoConsoleCmd","fields":[{"rule":"optional","type":"string","name":"cmdstring","id":1}]},{"name":"CDemoSendTables","fields":[{"rule":"optional","type":"bytes","name":"data","id":1}]},{"name":"CDemoClassInfo","fields":[{"rule":"repeated","type":"class_t","name":"classes","id":1}],"messages":[{"name":"class_t","fields":[{"rule":"optional","type":"int32","name":"class_id","id":1},{"rule":"optional","type":"string","name":"network_name","id":2},{"rule":"optional","type":"string","name":"table_name","id":3}]}]},{"name":"CDemoCustomData","fields":[{"rule":"optional","type":"int32","name":"callback_index","id":1},{"rule":"optional","type":"bytes","name":"data","id":2}]},{"name":"CDemoCustomDataCallbacks","fields":[{"rule":"repeated","type":"string","name":"save_id","id":1}]},{"name":"CDemoStringTables","fields":[{"rule":"repeated","type":"table_t","name":"tables","id":1}],"messages":[{"name":"items_t","fields":[{"rule":"optional","type":"string","name":"str","id":1},{"rule":"optional","type":"bytes","name":"data","id":2}]},{"name":"table_t","fields":[{"rule":"optional","type":"string","name":"table_name","id":1},{"rule":"repeated","type":"items_t","name":"items","id":2},{"rule":"repeated","type":"items_t","name":"items_clientside","id":3},{"rule":"optional","type":"int32","name":"table_flags","id":4}]}]},{"name":"CDemoStop","fields":[]},{"name":"CDemoUserCmd","fields":[{"rule":"optional","type":"int32","name":"cmd_number","id":1},{"rule":"optional","type":"bytes","name":"data","id":2}]},{"name":"CDemoSpawnGroups","fields":[{"rule":"repeated","type":"bytes","name":"msgs","id":3}]},{"name":"CDOTABroadcastMsg","fields":[{"rule":"required","type":"EDotaBroadcastMessages","name":"type","id":1,"options":{"default":"DOTA_BM_LANLobbyRequest"}},{"rule":"optional","type":"bytes","name":"msg","id":2}]},{"name":"CDOTABroadcastMsg_LANLobbyRequest","fields":[]},{"name":"CDOTABroadcastMsg_LANLobbyReply","fields":[{"rule":"optional","type":"uint64","name":"id","id":1},{"rule":"optional","type":"uint32","name":"tournament_id","id":2},{"rule":"optional","type":"uint32","name":"tournament_game_id","id":3},{"rule":"repeated","type":"CLobbyMember","name":"members","id":4},{"rule":"optional","type":"bool","name":"requires_pass_key","id":5},{"rule":"optional","type":"uint32","name":"leader_account_id","id":6},{"rule":"optional","type":"uint32","name":"game_mode","id":7},{"rule":"optional","type":"string","name":"name","id":8},{"rule":"optional","type":"uint32","name":"players","id":9}],"messages":[{"name":"CLobbyMember","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"string","name":"player_name","id":2}]}]},{"name":"CDOTAMsg_LocationPing","fields":[{"rule":"optional","type":"int32","name":"x","id":1},{"rule":"optional","type":"int32","name":"y","id":2},{"rule":"optional","type":"int32","name":"target","id":3},{"rule":"optional","type":"bool","name":"direct_ping","id":4},{"rule":"optional","type":"int32","name":"type","id":5}]},{"name":"CDOTAMsg_ItemAlert","fields":[{"rule":"optional","type":"int32","name":"x","id":1},{"rule":"optional","type":"int32","name":"y","id":2},{"rule":"optional","type":"int32","name":"itemid","id":3}]},{"name":"CDOTAMsg_MapLine","fields":[{"rule":"optional","type":"int32","name":"x","id":1},{"rule":"optional","type":"int32","name":"y","id":2},{"rule":"optional","type":"bool","name":"initial","id":3}]},{"name":"CDOTAMsg_WorldLine","fields":[{"rule":"optional","type":"int32","name":"x","id":1},{"rule":"optional","type":"int32","name":"y","id":2},{"rule":"optional","type":"int32","name":"z","id":3},{"rule":"optional","type":"bool","name":"initial","id":4},{"rule":"optional","type":"bool","name":"end","id":5}]},{"name":"CDOTAMsg_SendStatPopup","fields":[{"rule":"optional","type":"EDOTAStatPopupTypes","name":"style","id":1,"options":{"default":"k_EDOTA_SPT_Textline"}},{"rule":"repeated","type":"string","name":"stat_strings","id":2},{"rule":"repeated","type":"int32","name":"stat_images","id":3}]},{"name":"CDOTAMsg_CoachHUDPing","fields":[{"rule":"optional","type":"uint32","name":"x","id":1},{"rule":"optional","type":"uint32","name":"y","id":2},{"rule":"optional","type":"string","name":"tgtpath","id":3}]},{"name":"CDOTAClientMsg_MapPing","fields":[{"rule":"optional","type":"CDOTAMsg_LocationPing","name":"location_ping","id":1}]},{"name":"CDOTAClientMsg_ItemAlert","fields":[{"rule":"optional","type":"CDOTAMsg_ItemAlert","name":"item_alert","id":1}]},{"name":"CDOTAClientMsg_EnemyItemAlert","fields":[{"rule":"optional","type":"uint32","name":"item_entindex","id":1}]},{"name":"CDOTAClientMsg_ModifierAlert","fields":[{"rule":"optional","type":"int32","name":"buff_internal_index","id":1},{"rule":"optional","type":"uint32","name":"target_entindex","id":2}]},{"name":"CDOTAClientMsg_ClickedBuff","fields":[{"rule":"optional","type":"int32","name":"buff_internal_index","id":1},{"rule":"optional","type":"uint32","name":"target_entindex","id":2}]},{"name":"CDOTAClientMsg_HPManaAlert","fields":[{"rule":"optional","type":"uint32","name":"target_entindex","id":1}]},{"name":"CDOTAClientMsg_GlyphAlert","fields":[{"rule":"optional","type":"bool","name":"negative","id":1}]},{"name":"CDOTAClientMsg_MapLine","fields":[{"rule":"optional","type":"CDOTAMsg_MapLine","name":"mapline","id":1}]},{"name":"CDOTAClientMsg_AspectRatio","fields":[{"rule":"optional","type":"float","name":"ratio","id":1}]},{"name":"CDOTAClientMsg_UnitsAutoAttack","fields":[{"rule":"optional","type":"bool","name":"enabled","id":1}]},{"name":"CDOTAClientMsg_UnitsAutoAttackAfterSpell","fields":[{"rule":"optional","type":"bool","name":"enabled","id":1}]},{"name":"CDOTAClientMsg_TeleportRequiresHalt","fields":[{"rule":"optional","type":"bool","name":"enabled","id":1}]},{"name":"CDOTAClientMsg_AutoPurchaseItems","fields":[{"rule":"optional","type":"bool","name":"enabled","id":1}]},{"name":"CDOTAClientMsg_TestItems","fields":[{"rule":"optional","type":"string","name":"key_values","id":1}]},{"name":"CDOTAClientMsg_SearchString","fields":[{"rule":"optional","type":"string","name":"search","id":1}]},{"name":"CDOTAClientMsg_Pause","fields":[]},{"name":"CDOTAClientMsg_ShopViewMode","fields":[{"rule":"optional","type":"uint32","name":"mode","id":1}]},{"name":"CDOTAClientMsg_SetUnitShareFlag","fields":[{"rule":"optional","type":"uint32","name":"playerID","id":1},{"rule":"optional","type":"uint32","name":"flag","id":2},{"rule":"optional","type":"bool","name":"state","id":3}]},{"name":"CDOTAClientMsg_SwapRequest","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1}]},{"name":"CDOTAClientMsg_SwapAccept","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1}]},{"name":"CDOTAClientMsg_WorldLine","fields":[{"rule":"optional","type":"CDOTAMsg_WorldLine","name":"worldline","id":1}]},{"name":"CDOTAClientMsg_RequestGraphUpdate","fields":[]},{"name":"CDOTAClientMsg_ChatWheel","fields":[{"rule":"optional","type":"EDOTAChatWheelMessage","name":"chat_message","id":1,"options":{"default":"k_EDOTA_CW_Ok"}},{"rule":"optional","type":"uint32","name":"param_hero_id","id":2}]},{"name":"CDOTAClientMsg_SendStatPopup","fields":[{"rule":"optional","type":"CDOTAMsg_SendStatPopup","name":"statpopup","id":1}]},{"name":"CDOTAClientMsg_BeginLastHitChallenge","fields":[{"rule":"optional","type":"uint32","name":"chosen_lane","id":1},{"rule":"optional","type":"bool","name":"helper_enabled","id":2}]},{"name":"CDOTAClientMsg_UpdateQuickBuyItem","fields":[{"rule":"optional","type":"int32","name":"item_type","id":1},{"rule":"optional","type":"bool","name":"purchasable","id":2}]},{"name":"CDOTAClientMsg_UpdateQuickBuy","fields":[{"rule":"repeated","type":"CDOTAClientMsg_UpdateQuickBuyItem","name":"items","id":1}]},{"name":"CDOTAClientMsg_UpdateCoachListen","fields":[{"rule":"optional","type":"uint32","name":"player_mask","id":1}]},{"name":"CDOTAClientMsg_CoachHUDPing","fields":[{"rule":"optional","type":"CDOTAMsg_CoachHUDPing","name":"hud_ping","id":1}]},{"name":"CDOTAClientMsg_RecordVote","fields":[{"rule":"optional","type":"int32","name":"choice_index","id":1}]},{"name":"CDOTAClientMsg_WillPurchaseAlert","fields":[{"rule":"optional","type":"int32","name":"itemid","id":1},{"rule":"optional","type":"uint32","name":"gold_remaining","id":2}]},{"name":"CDOTAClientMsg_BuyBackStateAlert","fields":[]},{"name":"CDOTAClientMsg_QuickBuyAlert","fields":[{"rule":"optional","type":"int32","name":"itemid","id":1},{"rule":"optional","type":"int32","name":"gold_required","id":2}]},{"name":"CDOTAClientMsg_PlayerShowCase","fields":[{"rule":"optional","type":"bool","name":"showcase","id":1}]},{"name":"CDOTAClientMsg_CameraZoomAmount","fields":[{"rule":"optional","type":"float","name":"zoom_amount","id":1}]},{"name":"CDOTAClientMsg_BroadcasterUsingCameraman","fields":[{"rule":"optional","type":"bool","name":"cameraman","id":1}]},{"name":"CDOTAClientMsg_BroadcasterUsingAssistedCameraOperator","fields":[{"rule":"optional","type":"bool","name":"enabled","id":1}]},{"name":"CAdditionalEquipSlotClientMsg","fields":[{"rule":"optional","type":"uint32","name":"class_id","id":1},{"rule":"optional","type":"uint32","name":"slot_id","id":2},{"rule":"optional","type":"uint32","name":"def_index","id":3}]},{"name":"CDOTAClientMsg_FreeInventory","fields":[{"rule":"repeated","type":"CAdditionalEquipSlotClientMsg","name":"equips","id":1}]},{"name":"CDOTAClientMsg_FillEmptySlotsWithBots","fields":[{"rule":"optional","type":"bool","name":"fillwithbots","id":1}]},{"name":"CDOTAClientMsg_HeroStatueLike","fields":[{"rule":"optional","type":"uint32","name":"owner_player_id","id":1}]},{"name":"CDOTAClientMsg_TeamShowcaseEditor","fields":[{"rule":"optional","type":"bytes","name":"data","id":1}]},{"name":"CDOTAClientMsg_TeamShowcaseClientData","fields":[{"rule":"optional","type":"bytes","name":"data","id":1}]},{"name":"CDOTAClientMsg_PlayTeamShowcase","fields":[]},{"name":"CDOTAClientMsg_EventCNY2015Cmd","fields":[{"rule":"optional","type":"bytes","name":"data","id":1}]},{"name":"CDOTAClientMsg_DemoHero","fields":[{"rule":"optional","type":"int32","name":"hero_id","id":1},{"rule":"optional","type":"int32","name":"hero_id_to_spawn","id":2},{"rule":"repeated","type":"uint32","name":"item_defs","id":3},{"rule":"repeated","type":"uint64","name":"item_ids","id":4},{"rule":"optional","type":"uint32","name":"style_index","id":5}]},{"name":"CDOTAClientMsg_ChallengeSelect","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"optional","type":"uint32","name":"slot_id","id":2},{"rule":"optional","type":"uint32","name":"sequence_id","id":3}]},{"name":"CDOTAClientMsg_ChallengeReroll","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"optional","type":"uint32","name":"slot_id","id":2},{"rule":"optional","type":"uint32","name":"sequence_id","id":3}]},{"name":"CMsgSHA1Digest","fields":[{"rule":"required","type":"fixed64","name":"block1","id":1},{"rule":"required","type":"fixed64","name":"block2","id":2},{"rule":"required","type":"fixed32","name":"block3","id":3}]},{"name":"CMsgSOIDOwner","fields":[{"rule":"optional","type":"uint32","name":"type","id":1},{"rule":"optional","type":"uint64","name":"id","id":2}]},{"name":"CMsgSOSingleObject","fields":[{"rule":"optional","type":"int32","name":"type_id","id":2},{"rule":"optional","type":"bytes","name":"object_data","id":3},{"rule":"optional","type":"fixed64","name":"version","id":4},{"rule":"optional","type":"CMsgSOIDOwner","name":"owner_soid","id":5},{"rule":"optional","type":"uint32","name":"service_id","id":6}]},{"name":"CMsgSOMultipleObjects","fields":[{"rule":"repeated","type":"SingleObject","name":"objects_modified","id":2},{"rule":"optional","type":"fixed64","name":"version","id":3},{"rule":"repeated","type":"SingleObject","name":"objects_added","id":4},{"rule":"repeated","type":"SingleObject","name":"objects_removed","id":5},{"rule":"optional","type":"CMsgSOIDOwner","name":"owner_soid","id":6},{"rule":"optional","type":"uint32","name":"service_id","id":7}],"messages":[{"name":"SingleObject","options":{"(msgpool_soft_limit)":256,"(msgpool_hard_limit)":1024},"fields":[{"rule":"optional","type":"int32","name":"type_id","id":1},{"rule":"optional","type":"bytes","name":"object_data","id":2}]}]},{"name":"CMsgSOCacheSubscribed","fields":[{"rule":"repeated","type":"SubscribedType","name":"objects","id":2},{"rule":"optional","type":"fixed64","name":"version","id":3},{"rule":"optional","type":"CMsgSOIDOwner","name":"owner_soid","id":4},{"rule":"optional","type":"uint32","name":"service_id","id":5},{"rule":"repeated","type":"uint32","name":"service_list","id":6},{"rule":"optional","type":"fixed64","name":"sync_version","id":7}],"messages":[{"name":"SubscribedType","fields":[{"rule":"optional","type":"int32","name":"type_id","id":1},{"rule":"repeated","type":"bytes","name":"object_data","id":2}]}]},{"name":"CMsgSOCacheSubscribedUpToDate","fields":[{"rule":"optional","type":"fixed64","name":"version","id":1},{"rule":"optional","type":"CMsgSOIDOwner","name":"owner_soid","id":2},{"rule":"optional","type":"uint32","name":"service_id","id":3},{"rule":"repeated","type":"uint32","name":"service_list","id":4},{"rule":"optional","type":"fixed64","name":"sync_version","id":5}]},{"name":"CMsgSOCacheUnsubscribed","fields":[{"rule":"optional","type":"CMsgSOIDOwner","name":"owner_soid","id":2}]},{"name":"CMsgSOCacheSubscriptionCheck","fields":[{"rule":"optional","type":"fixed64","name":"version","id":2},{"rule":"optional","type":"CMsgSOIDOwner","name":"owner_soid","id":3},{"rule":"optional","type":"uint32","name":"service_id","id":4},{"rule":"repeated","type":"uint32","name":"service_list","id":5},{"rule":"optional","type":"fixed64","name":"sync_version","id":6}]},{"name":"CMsgSOCacheSubscriptionRefresh","fields":[{"rule":"optional","type":"CMsgSOIDOwner","name":"owner_soid","id":2}]},{"name":"CMsgSOCacheVersion","fields":[{"rule":"optional","type":"fixed64","name":"version","id":1}]},{"name":"CMsgGCMultiplexMessage","fields":[{"rule":"optional","type":"uint32","name":"msgtype","id":1},{"rule":"optional","type":"bytes","name":"payload","id":2},{"rule":"repeated","type":"fixed64","name":"steamids","id":3}]},{"name":"CGCToGCMsgMasterAck","fields":[{"rule":"optional","type":"uint32","name":"dir_index","id":1},{"rule":"optional","type":"string","name":"machine_name","id":3},{"rule":"optional","type":"string","name":"process_name","id":4},{"rule":"repeated","type":"Process","name":"directory","id":6}],"messages":[{"name":"Process","fields":[{"rule":"optional","type":"uint32","name":"dir_index","id":1},{"rule":"repeated","type":"uint32","name":"type_instances","id":2}]}]},{"name":"CGCToGCMsgMasterAck_Response","fields":[{"rule":"optional","type":"int32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CGCToGCMsgMasterStartupComplete","fields":[{"rule":"repeated","type":"GCInfo","name":"gc_info","id":1}],"messages":[{"name":"GCInfo","fields":[{"rule":"optional","type":"uint32","name":"dir_index","id":1},{"rule":"optional","type":"string","name":"machine_name","id":2}]}]},{"name":"CGCToGCMsgRouted","fields":[{"rule":"optional","type":"uint32","name":"msg_type","id":1},{"rule":"optional","type":"fixed64","name":"sender_id","id":2},{"rule":"optional","type":"bytes","name":"net_message","id":3}]},{"name":"CGCToGCMsgRoutedReply","fields":[{"rule":"optional","type":"uint32","name":"msg_type","id":1},{"rule":"optional","type":"bytes","name":"net_message","id":2}]},{"name":"CMsgGCUpdateSubGCSessionInfo","fields":[{"rule":"repeated","type":"CMsgUpdate","name":"updates","id":1}],"messages":[{"name":"CMsgUpdate","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1},{"rule":"optional","type":"fixed32","name":"ip","id":2},{"rule":"optional","type":"bool","name":"trusted","id":3}]}]},{"name":"CMsgGCRequestSubGCSessionInfo","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1}]},{"name":"CMsgGCRequestSubGCSessionInfoResponse","fields":[{"rule":"optional","type":"fixed32","name":"ip","id":1},{"rule":"optional","type":"bool","name":"trusted","id":2}]},{"name":"CMsgSOCacheHaveVersion","fields":[{"rule":"optional","type":"CMsgSOIDOwner","name":"soid","id":1},{"rule":"optional","type":"fixed64","name":"version","id":2},{"rule":"optional","type":"uint32","name":"service_id","id":3},{"rule":"optional","type":"uint32","name":"cached_file_version","id":4}]},{"name":"CMsgClientHello","fields":[{"rule":"optional","type":"uint32","name":"version","id":1},{"rule":"repeated","type":"CMsgSOCacheHaveVersion","name":"socache_have_versions","id":2},{"rule":"optional","type":"uint32","name":"client_session_need","id":3},{"rule":"optional","type":"PartnerAccountType","name":"client_launcher","id":4,"options":{"default":"PARTNER_NONE"}},{"rule":"optional","type":"string","name":"secret_key","id":5},{"rule":"optional","type":"uint32","name":"client_language","id":6},{"rule":"optional","type":"ESourceEngine","name":"engine","id":7,"options":{"default":"k_ESE_Source1"}}]},{"name":"CMsgClientWelcome","fields":[{"rule":"optional","type":"uint32","name":"version","id":1},{"rule":"optional","type":"bytes","name":"game_data","id":2},{"rule":"repeated","type":"CMsgSOCacheSubscribed","name":"outofdate_subscribed_caches","id":3},{"rule":"repeated","type":"CMsgSOCacheSubscriptionCheck","name":"uptodate_subscribed_caches","id":4},{"rule":"optional","type":"Location","name":"location","id":5},{"rule":"optional","type":"bytes","name":"save_game_key","id":6}],"messages":[{"name":"Location","fields":[{"rule":"optional","type":"float","name":"latitude","id":1},{"rule":"optional","type":"float","name":"longitude","id":2},{"rule":"optional","type":"string","name":"country","id":3}]}]},{"name":"CMsgConnectionStatus","fields":[{"rule":"optional","type":"GCConnectionStatus","name":"status","id":1,"options":{"default":"GCConnectionStatus_HAVE_SESSION"}},{"rule":"optional","type":"uint32","name":"client_session_need","id":2},{"rule":"optional","type":"int32","name":"queue_position","id":3},{"rule":"optional","type":"int32","name":"queue_size","id":4},{"rule":"optional","type":"int32","name":"wait_seconds","id":5},{"rule":"optional","type":"int32","name":"estimated_wait_seconds_remaining","id":6}]},{"name":"CMsgGCToGCSOCacheSubscribe","fields":[{"rule":"optional","type":"fixed64","name":"subscriber","id":1},{"rule":"optional","type":"fixed64","name":"subscribe_to","id":2},{"rule":"optional","type":"fixed64","name":"sync_version","id":3},{"rule":"repeated","type":"CMsgHaveVersions","name":"have_versions","id":4}],"messages":[{"name":"CMsgHaveVersions","fields":[{"rule":"optional","type":"uint32","name":"service_id","id":1},{"rule":"optional","type":"uint64","name":"version","id":2}]}]},{"name":"CMsgGCToGCSOCacheUnsubscribe","fields":[{"rule":"optional","type":"fixed64","name":"subscriber","id":1},{"rule":"optional","type":"fixed64","name":"unsubscribe_from","id":2}]},{"name":"CMsgGCClientPing","fields":[]},{"name":"CMsgGCToGCLoadSessionSOCache","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgGCToGCLoadSessionSOCacheResponse","fields":[]},{"name":"CMsgGCToGCUpdateSessionStats","fields":[{"rule":"optional","type":"uint32","name":"user_sessions","id":1},{"rule":"optional","type":"uint32","name":"server_sessions","id":2},{"rule":"optional","type":"bool","name":"in_logon_surge","id":3}]},{"name":"CWorkshop_PopulateItemDescriptions_Request","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1},{"rule":"repeated","type":"ItemDescriptionsLanguageBlock","name":"languages","id":2}],"messages":[{"name":"SingleItemDescription","fields":[{"rule":"optional","type":"uint32","name":"gameitemid","id":1},{"rule":"optional","type":"string","name":"item_description","id":2}]},{"name":"ItemDescriptionsLanguageBlock","fields":[{"rule":"optional","type":"string","name":"language","id":1},{"rule":"repeated","type":"SingleItemDescription","name":"descriptions","id":2}]}]},{"name":"CWorkshop_GetContributors_Request","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1},{"rule":"optional","type":"uint32","name":"gameitemid","id":2}]},{"name":"CWorkshop_GetContributors_Response","fields":[{"rule":"repeated","type":"fixed64","name":"contributors","id":1}]},{"name":"CWorkshop_SetItemPaymentRules_Request","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1},{"rule":"optional","type":"uint32","name":"gameitemid","id":2},{"rule":"repeated","type":"WorkshopItemPaymentRule","name":"associated_workshop_files","id":3},{"rule":"repeated","type":"PartnerItemPaymentRule","name":"partner_accounts","id":4}],"messages":[{"name":"WorkshopItemPaymentRule","fields":[{"rule":"optional","type":"uint64","name":"workshop_file_id","id":1},{"rule":"optional","type":"float","name":"revenue_percentage","id":2},{"rule":"optional","type":"string","name":"rule_description","id":3}]},{"name":"PartnerItemPaymentRule","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"float","name":"revenue_percentage","id":2},{"rule":"optional","type":"string","name":"rule_description","id":3}]}]},{"name":"CWorkshop_SetItemPaymentRules_Response","fields":[]},{"name":"CBroadcast_PostGameDataFrame_Request","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1},{"rule":"optional","type":"fixed64","name":"steamid","id":2},{"rule":"optional","type":"fixed64","name":"broadcast_id","id":3},{"rule":"optional","type":"bytes","name":"frame_data","id":4}]},{"name":"CSODOTAGameAccountClient","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"wins","id":3},{"rule":"optional","type":"uint32","name":"losses","id":4},{"rule":"optional","type":"uint32","name":"xp","id":12},{"rule":"optional","type":"uint32","name":"level","id":13},{"rule":"optional","type":"uint32","name":"initial_skill","id":14},{"rule":"optional","type":"uint32","name":"leaver_count","id":15},{"rule":"optional","type":"uint32","name":"secondary_leaver_count","id":58},{"rule":"optional","type":"uint32","name":"low_priority_until_date","id":18},{"rule":"optional","type":"uint32","name":"prevent_text_chat_until_date","id":20},{"rule":"optional","type":"uint32","name":"prevent_voice_until_date","id":21},{"rule":"optional","type":"uint32","name":"last_abandoned_game_date","id":22},{"rule":"optional","type":"uint32","name":"last_secondary_abandoned_game_date","id":59},{"rule":"optional","type":"uint32","name":"leaver_penalty_count","id":23},{"rule":"optional","type":"uint32","name":"completed_game_streak","id":24},{"rule":"optional","type":"uint32","name":"teaching","id":28},{"rule":"optional","type":"uint32","name":"leadership","id":29},{"rule":"optional","type":"uint32","name":"friendly","id":30},{"rule":"optional","type":"uint32","name":"forgiving","id":31},{"rule":"optional","type":"uint32","name":"account_disabled_until_date","id":38},{"rule":"optional","type":"uint32","name":"account_disabled_count","id":39},{"rule":"optional","type":"uint32","name":"showcase_hero_id","id":40},{"rule":"optional","type":"uint32","name":"match_disabled_until_date","id":41},{"rule":"optional","type":"uint32","name":"match_disabled_count","id":42},{"rule":"optional","type":"PartnerAccountType","name":"partner_account_type","id":44,"options":{"default":"PARTNER_NONE"}},{"rule":"optional","type":"uint32","name":"partner_account_state","id":45},{"rule":"optional","type":"uint32","name":"shutdownlawterminatetimestamp","id":47},{"rule":"optional","type":"uint32","name":"low_priority_games_remaining","id":48},{"rule":"optional","type":"uint32","name":"competitive_rank","id":49},{"rule":"optional","type":"uint32","name":"calibration_games_remaining","id":51},{"rule":"optional","type":"uint32","name":"solo_competitive_rank","id":52},{"rule":"optional","type":"uint32","name":"solo_calibration_games_remaining","id":54},{"rule":"optional","type":"uint32","name":"competitive_1v1_rank","id":63},{"rule":"optional","type":"uint32","name":"competitive_1v1_calibration_games_remaining","id":64},{"rule":"optional","type":"uint32","name":"recruitment_level","id":55},{"rule":"optional","type":"bool","name":"has_new_notifications","id":56},{"rule":"optional","type":"bool","name":"is_league_admin","id":57},{"rule":"optional","type":"uint32","name":"casual_games_played","id":60},{"rule":"optional","type":"uint32","name":"solo_competitive_games_played","id":61},{"rule":"optional","type":"uint32","name":"party_competitive_games_played","id":62},{"rule":"optional","type":"uint32","name":"casual_1v1_games_played","id":65},{"rule":"optional","type":"uint32","name":"competitive_team_games_played","id":66},{"rule":"optional","type":"uint32","name":"curr_all_hero_challenge_id","id":67}]},{"name":"CSODOTAPartyMember","fields":[{"rule":"optional","type":"PartnerAccountType","name":"partner_type","id":1,"options":{"default":"PARTNER_NONE"}},{"rule":"optional","type":"bool","name":"is_coach","id":2}]},{"name":"CSODOTAParty","fields":[{"rule":"optional","type":"uint64","name":"party_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"fixed64","name":"leader_id","id":2},{"rule":"repeated","type":"fixed64","name":"member_ids","id":3},{"rule":"optional","type":"uint32","name":"game_modes","id":4},{"rule":"optional","type":"State","name":"state","id":6,"options":{"default":"UI"}},{"rule":"optional","type":"uint32","name":"effective_started_matchmaking_time","id":7},{"rule":"optional","type":"uint32","name":"raw_started_matchmaking_time","id":32},{"rule":"optional","type":"uint32","name":"attempt_start_time","id":33},{"rule":"optional","type":"uint32","name":"attempt_num","id":34},{"rule":"optional","type":"uint32","name":"matchgroups","id":11},{"rule":"optional","type":"uint32","name":"low_priority_account_id","id":19},{"rule":"optional","type":"MatchType","name":"match_type","id":21,"options":{"default":"MATCH_TYPE_CASUAL"}},{"rule":"optional","type":"DOTABotDifficulty","name":"bot_difficulty","id":22,"options":{"default":"BOT_DIFFICULTY_PASSIVE"}},{"rule":"optional","type":"uint32","name":"team_id","id":23},{"rule":"optional","type":"uint32","name":"match_disabled_until_date","id":24},{"rule":"optional","type":"uint32","name":"match_disabled_account_id","id":25},{"rule":"optional","type":"uint32","name":"matchmaking_max_range_minutes","id":26},{"rule":"optional","type":"uint32","name":"matchlanguages","id":27},{"rule":"optional","type":"uint32","name":"map_preference","id":38},{"rule":"repeated","type":"CSODOTAPartyMember","name":"members","id":29},{"rule":"optional","type":"uint32","name":"open_guild_id","id":30},{"rule":"repeated","type":"uint32","name":"common_guilds","id":31},{"rule":"optional","type":"uint32","name":"low_priority_games_remaining","id":35},{"rule":"optional","type":"uint32","name":"min_level","id":36},{"rule":"optional","type":"uint32","name":"max_level","id":37},{"rule":"repeated","type":"EIngameEvent","name":"active_ingame_events","id":39},{"rule":"optional","type":"bool","name":"open_for_join_requests","id":40},{"rule":"repeated","type":"CSODOTAPartyInvite","name":"sent_invites","id":41},{"rule":"repeated","type":"CSODOTAPartyInvite","name":"recv_invites","id":42}],"enums":[{"name":"State","values":[{"name":"UI","id":0},{"name":"FINDING_MATCH","id":1},{"name":"IN_MATCH","id":2}]}]},{"name":"CSODOTAPartyInvite","fields":[{"rule":"optional","type":"uint64","name":"group_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"fixed64","name":"sender_id","id":2},{"rule":"optional","type":"string","name":"sender_name","id":3},{"rule":"repeated","type":"PartyMember","name":"members","id":4},{"rule":"optional","type":"uint32","name":"team_id","id":5},{"rule":"optional","type":"bool","name":"low_priority_status","id":6},{"rule":"optional","type":"bool","name":"as_coach","id":7},{"rule":"optional","type":"fixed64","name":"invite_gid","id":8},{"rule":"optional","type":"uint32","name":"engine","id":9}],"messages":[{"name":"PartyMember","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"fixed64","name":"steam_id","id":2},{"rule":"optional","type":"bool","name":"is_coach","id":4}]}]},{"name":"CSODOTALobbyInvite","fields":[{"rule":"optional","type":"uint64","name":"group_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"fixed64","name":"sender_id","id":2},{"rule":"optional","type":"string","name":"sender_name","id":3},{"rule":"repeated","type":"LobbyMember","name":"members","id":4},{"rule":"optional","type":"uint64","name":"custom_game_id","id":5},{"rule":"optional","type":"fixed64","name":"invite_gid","id":6},{"rule":"optional","type":"fixed64","name":"custom_game_crc","id":7},{"rule":"optional","type":"fixed32","name":"custom_game_timestamp","id":8}],"messages":[{"name":"LobbyMember","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"fixed64","name":"steam_id","id":2}]}]},{"name":"CDOTAClientHardwareSpecs","fields":[{"rule":"optional","type":"uint32","name":"logical_processors","id":1},{"rule":"optional","type":"fixed64","name":"cpu_cycles_per_second","id":2},{"rule":"optional","type":"fixed64","name":"total_physical_memory","id":3},{"rule":"optional","type":"bool","name":"is_64_bit_os","id":4},{"rule":"optional","type":"uint64","name":"upload_measurement","id":5},{"rule":"optional","type":"bool","name":"prefer_not_host","id":6}]},{"name":"CDOTASaveGame","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":5},{"rule":"optional","type":"uint32","name":"save_time","id":2},{"rule":"repeated","type":"Player","name":"players","id":3},{"rule":"repeated","type":"SaveInstance","name":"save_instances","id":4}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"DOTA_GC_TEAM","name":"team","id":1,"options":{"default":"DOTA_GC_TEAM_GOOD_GUYS"}},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"string","name":"hero","id":3}]},{"name":"SaveInstance","fields":[{"rule":"optional","type":"uint32","name":"game_time","id":2},{"rule":"optional","type":"uint32","name":"team1_score","id":3},{"rule":"optional","type":"uint32","name":"team2_score","id":4},{"rule":"repeated","type":"PlayerPositions","name":"player_positions","id":5},{"rule":"optional","type":"uint32","name":"save_id","id":6},{"rule":"optional","type":"uint32","name":"save_time","id":7}],"messages":[{"name":"PlayerPositions","fields":[{"rule":"optional","type":"float","name":"x","id":1},{"rule":"optional","type":"float","name":"y","id":2}]}]}]},{"name":"CMsgLeaverState","fields":[{"rule":"optional","type":"uint32","name":"lobby_state","id":1},{"rule":"optional","type":"DOTA_GameState","name":"game_state","id":2,"options":{"default":"DOTA_GAMERULES_STATE_INIT"}},{"rule":"optional","type":"bool","name":"leaver_detected","id":3},{"rule":"optional","type":"bool","name":"first_blood_happened","id":4},{"rule":"optional","type":"bool","name":"discard_match_results","id":5},{"rule":"optional","type":"bool","name":"mass_disconnect","id":6}]},{"name":"CDOTALobbyMember","fields":[{"rule":"optional","type":"fixed64","name":"id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"hero_id","id":2},{"rule":"optional","type":"DOTA_GC_TEAM","name":"team","id":3,"options":{"default":"DOTA_GC_TEAM_GOOD_GUYS"}},{"rule":"optional","type":"string","name":"name","id":6},{"rule":"optional","type":"uint32","name":"slot","id":7},{"rule":"optional","type":"uint64","name":"party_id","id":12},{"rule":"optional","type":"uint32","name":"meta_level","id":13},{"rule":"optional","type":"uint32","name":"meta_xp","id":14},{"rule":"optional","type":"uint32","name":"meta_xp_awarded","id":15},{"rule":"optional","type":"DOTALeaverStatus_t","name":"leaver_status","id":16,"options":{"default":"DOTA_LEAVER_NONE"}},{"rule":"optional","type":"uint32","name":"leaver_actions","id":28},{"rule":"optional","type":"uint32","name":"channel","id":17},{"rule":"optional","type":"uint32","name":"prize_def_index","id":18},{"rule":"repeated","type":"uint32","name":"disabled_hero_id","id":20},{"rule":"optional","type":"PartnerAccountType","name":"partner_account_type","id":21,"options":{"default":"PARTNER_NONE"}},{"rule":"repeated","type":"uint32","name":"enabled_hero_id","id":22},{"rule":"optional","type":"DOTA_GC_TEAM","name":"coach_team","id":23,"options":{"default":"DOTA_GC_TEAM_GOOD_GUYS"}},{"rule":"optional","type":"uint32","name":"nexon_pc_bang_no","id":24},{"rule":"optional","type":"string","name":"nexon_pc_bang_name","id":25},{"rule":"repeated","type":"CDOTALobbyMemberXPBonus","name":"xp_bonuses","id":27},{"rule":"optional","type":"sint32","name":"rank_change","id":29},{"rule":"optional","type":"bool","name":"cameraman","id":30},{"rule":"repeated","type":"uint32","name":"custom_game_product_ids","id":31}],"messages":[{"name":"CDOTALobbyMemberXPBonus","fields":[{"rule":"optional","type":"uint32","name":"type","id":1},{"rule":"optional","type":"float","name":"xp_bonus","id":2},{"rule":"optional","type":"uint64","name":"source_key","id":3}]}]},{"name":"CLobbyTeamDetails","fields":[{"rule":"optional","type":"string","name":"team_name","id":1},{"rule":"optional","type":"string","name":"team_tag","id":3},{"rule":"optional","type":"uint32","name":"team_id","id":4},{"rule":"optional","type":"uint64","name":"team_logo","id":5},{"rule":"optional","type":"uint64","name":"team_base_logo","id":6},{"rule":"optional","type":"uint64","name":"team_banner_logo","id":7},{"rule":"optional","type":"bool","name":"team_complete","id":8},{"rule":"optional","type":"string","name":"guild_name","id":9},{"rule":"optional","type":"string","name":"guild_tag","id":10},{"rule":"optional","type":"uint32","name":"guild_id","id":11},{"rule":"optional","type":"uint64","name":"guild_logo","id":12},{"rule":"optional","type":"uint64","name":"guild_base_logo","id":13},{"rule":"optional","type":"uint64","name":"guild_banner_logo","id":14},{"rule":"optional","type":"uint32","name":"rank","id":15},{"rule":"optional","type":"sint32","name":"rank_change","id":16}]},{"name":"CLobbyTimedRewardDetails","fields":[{"rule":"optional","type":"uint32","name":"item_def_index","id":2},{"rule":"optional","type":"bool","name":"is_supply_crate","id":3},{"rule":"optional","type":"bool","name":"is_timed_drop","id":4},{"rule":"optional","type":"uint32","name":"account_id","id":5},{"rule":"optional","type":"uint32","name":"origin","id":6}]},{"name":"CLobbyBroadcastChannelInfo","fields":[{"rule":"optional","type":"uint32","name":"channel_id","id":1},{"rule":"optional","type":"string","name":"country_code","id":2},{"rule":"optional","type":"string","name":"description","id":3},{"rule":"optional","type":"string","name":"language_code","id":4}]},{"name":"CSODOTALobby","fields":[{"rule":"optional","type":"uint64","name":"lobby_id","id":1,"options":{"(key_field)":true}},{"rule":"repeated","type":"CDOTALobbyMember","name":"members","id":2},{"rule":"repeated","type":"CDOTALobbyMember","name":"left_members","id":7},{"rule":"optional","type":"fixed64","name":"leader_id","id":11},{"rule":"optional","type":"fixed64","name":"server_id","id":6,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"game_mode","id":3},{"rule":"repeated","type":"fixed64","name":"pending_invites","id":10},{"rule":"optional","type":"State","name":"state","id":4,"options":{"default":"UI"}},{"rule":"optional","type":"string","name":"connect","id":5},{"rule":"optional","type":"LobbyType","name":"lobby_type","id":12,"options":{"default":"INVALID"}},{"rule":"optional","type":"bool","name":"allow_cheats","id":13},{"rule":"optional","type":"bool","name":"fill_with_bots","id":14},{"rule":"optional","type":"bool","name":"intro_mode","id":15},{"rule":"optional","type":"string","name":"game_name","id":16},{"rule":"repeated","type":"CLobbyTeamDetails","name":"team_details","id":17},{"rule":"optional","type":"uint32","name":"tutorial_lesson","id":18},{"rule":"optional","type":"uint32","name":"tournament_id","id":19},{"rule":"optional","type":"uint32","name":"tournament_game_id","id":20},{"rule":"optional","type":"uint32","name":"server_region","id":21,"options":{"default":0}},{"rule":"optional","type":"DOTA_GameState","name":"game_state","id":22,"options":{"default":"DOTA_GAMERULES_STATE_INIT"}},{"rule":"optional","type":"uint32","name":"num_spectators","id":23},{"rule":"optional","type":"uint32","name":"matchgroup","id":25},{"rule":"optional","type":"DOTA_CM_PICK","name":"cm_pick","id":28,"options":{"default":"DOTA_CM_RANDOM"}},{"rule":"optional","type":"uint64","name":"match_id","id":30},{"rule":"optional","type":"bool","name":"allow_spectating","id":31,"options":{"default":true}},{"rule":"optional","type":"DOTABotDifficulty","name":"bot_difficulty","id":36,"options":{"default":"BOT_DIFFICULTY_HARD"}},{"rule":"optional","type":"DOTAGameVersion","name":"game_version","id":37,"options":{"default":"GAME_VERSION_CURRENT"}},{"rule":"repeated","type":"CLobbyTimedRewardDetails","name":"timed_reward_details","id":38},{"rule":"optional","type":"string","name":"pass_key","id":39},{"rule":"repeated","type":"DOTABotDifficulty","name":"bot_slot_difficulty","id":41},{"rule":"optional","type":"uint32","name":"leagueid","id":42},{"rule":"optional","type":"uint32","name":"penalty_level_radiant","id":43,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"penalty_level_dire","id":44,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"load_game_id","id":45},{"rule":"optional","type":"uint32","name":"series_type","id":46},{"rule":"optional","type":"uint32","name":"radiant_series_wins","id":47},{"rule":"optional","type":"uint32","name":"dire_series_wins","id":48},{"rule":"optional","type":"uint32","name":"loot_generated","id":49},{"rule":"optional","type":"uint32","name":"loot_awarded","id":50},{"rule":"optional","type":"bool","name":"allchat","id":51,"options":{"default":false}},{"rule":"optional","type":"LobbyDotaTVDelay","name":"dota_tv_delay","id":53,"options":{"default":"LobbyDotaTV_10"}},{"rule":"optional","type":"string","name":"custom_game_mode","id":54},{"rule":"optional","type":"string","name":"custom_map_name","id":55},{"rule":"optional","type":"uint32","name":"custom_difficulty","id":56},{"rule":"optional","type":"bool","name":"lan","id":57},{"rule":"repeated","type":"CLobbyBroadcastChannelInfo","name":"broadcast_channel_info","id":58},{"rule":"optional","type":"uint32","name":"first_leaver_accountid","id":59},{"rule":"optional","type":"uint32","name":"series_id","id":60},{"rule":"optional","type":"bool","name":"low_priority","id":61},{"rule":"repeated","type":"CExtraMsg","name":"extra_messages","id":62},{"rule":"optional","type":"CDOTASaveGame","name":"save_game","id":63},{"rule":"optional","type":"bool","name":"first_blood_happened","id":65},{"rule":"optional","type":"EMatchOutcome","name":"match_outcome","id":70,"options":{"default":"k_EMatchOutcome_Unknown"}},{"rule":"optional","type":"bool","name":"mass_disconnect","id":67},{"rule":"optional","type":"uint64","name":"custom_game_id","id":68},{"rule":"repeated","type":"EIngameEvent","name":"active_ingame_events","id":69},{"rule":"optional","type":"uint32","name":"custom_min_players","id":71},{"rule":"optional","type":"uint32","name":"custom_max_players","id":72},{"rule":"optional","type":"PartnerAccountType","name":"partner_type","id":73,"options":{"default":"PARTNER_NONE"}},{"rule":"optional","type":"uint32","name":"lan_host_ping_to_server_region","id":74},{"rule":"optional","type":"DOTALobbyVisibility","name":"visibility","id":75,"options":{"default":"DOTALobbyVisibility_Public"}},{"rule":"optional","type":"fixed64","name":"custom_game_crc","id":76},{"rule":"optional","type":"bool","name":"custom_game_auto_created_lobby","id":77},{"rule":"optional","type":"fixed32","name":"custom_game_timestamp","id":80}],"messages":[{"name":"CExtraMsg","fields":[{"rule":"optional","type":"uint32","name":"id","id":1},{"rule":"optional","type":"bytes","name":"contents","id":2}]}],"enums":[{"name":"State","values":[{"name":"UI","id":0},{"name":"READYUP","id":4},{"name":"SERVERSETUP","id":1},{"name":"RUN","id":2},{"name":"POSTGAME","id":3},{"name":"NOTREADY","id":5},{"name":"SERVERASSIGN","id":6}]},{"name":"LobbyType","values":[{"name":"INVALID","id":-1},{"name":"CASUAL_MATCH","id":0},{"name":"PRACTICE","id":1},{"name":"TOURNAMENT","id":2},{"name":"COOP_BOT_MATCH","id":4},{"name":"LEGACY_TEAM_MATCH","id":5},{"name":"LEGACY_SOLO_QUEUE_MATCH","id":6},{"name":"COMPETITIVE_MATCH","id":7},{"name":"CASUAL_1V1_MATCH","id":8},{"name":"WEEKEND_TOURNEY","id":9},{"name":"LOCAL_BOT_MATCH","id":10}]}]},{"name":"CMsgLobbyEventPoints","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"repeated","type":"AccountPoints","name":"account_points","id":2}],"messages":[{"name":"AccountPoints","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"normal_points","id":2},{"rule":"optional","type":"uint32","name":"premium_points","id":3},{"rule":"optional","type":"bool","name":"owned","id":4},{"rule":"optional","type":"uint32","name":"favorite_team","id":5},{"rule":"optional","type":"uint32","name":"favorite_team_level","id":6},{"rule":"optional","type":"uint32","name":"points_held","id":7},{"rule":"optional","type":"uint32","name":"premium_points_held","id":8},{"rule":"optional","type":"uint32","name":"favorite_team_foil_level","id":9}]}]},{"name":"CMsgDOTAGenericResult","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgDOTABroadcastNotification","fields":[{"rule":"optional","type":"string","name":"message","id":1}]},{"name":"CMsgDOTAPCBangTimedReward","fields":[{"rule":"optional","type":"string","name":"persona","id":1},{"rule":"optional","type":"uint32","name":"itemdef","id":2},{"rule":"optional","type":"string","name":"pcbangname","id":3}]},{"name":"CAttribute_String","fields":[{"rule":"optional","type":"string","name":"value","id":1}]},{"name":"CAttribute_ItemDynamicRecipeComponent","fields":[{"rule":"optional","type":"uint32","name":"item_def","id":1},{"rule":"optional","type":"uint32","name":"item_quality","id":2},{"rule":"optional","type":"uint32","name":"item_flags","id":3},{"rule":"optional","type":"string","name":"attributes_string","id":4},{"rule":"optional","type":"uint32","name":"item_count","id":5},{"rule":"optional","type":"uint32","name":"items_fulfilled","id":6},{"rule":"optional","type":"uint32","name":"item_rarity","id":7},{"rule":"optional","type":"string","name":"lootlist","id":8},{"rule":"optional","type":"uint64","name":"fulfilled_item_id","id":9}]},{"name":"CProtoItemHeroStatue","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"optional","type":"uint32","name":"status_effect_index","id":2},{"rule":"optional","type":"string","name":"sequence_name","id":3},{"rule":"optional","type":"float","name":"cycle","id":4},{"rule":"repeated","type":"uint32","name":"wearable","id":5},{"rule":"optional","type":"string","name":"inscription","id":6},{"rule":"repeated","type":"uint32","name":"style","id":7},{"rule":"optional","type":"bool","name":"tournament_drop","id":8}]},{"name":"CProtoItemTeamShowcase","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"optional","type":"uint32","name":"status_effect_index","id":2},{"rule":"optional","type":"string","name":"sequence_name","id":3},{"rule":"optional","type":"float","name":"cycle","id":4},{"rule":"repeated","type":"uint32","name":"wearable","id":5},{"rule":"optional","type":"string","name":"inscription","id":6},{"rule":"repeated","type":"uint32","name":"style","id":7}]},{"name":"CProtoItemSocket","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1},{"rule":"optional","type":"uint32","name":"attr_def_index","id":2},{"rule":"optional","type":"uint32","name":"required_type","id":3},{"rule":"optional","type":"string","name":"required_hero","id":4},{"rule":"optional","type":"uint32","name":"gem_def_index","id":5},{"rule":"optional","type":"bool","name":"not_tradable","id":6},{"rule":"optional","type":"string","name":"required_item_slot","id":7}]},{"name":"CProtoItemSocket_Empty","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1}]},{"name":"CProtoItemSocket_Effect","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1},{"rule":"optional","type":"uint32","name":"effect","id":2}]},{"name":"CProtoItemSocket_Color","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1},{"rule":"optional","type":"uint32","name":"red","id":2},{"rule":"optional","type":"uint32","name":"green","id":3},{"rule":"optional","type":"uint32","name":"blue","id":4}]},{"name":"CProtoItemSocket_Strange","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1},{"rule":"optional","type":"uint32","name":"strange_type","id":2},{"rule":"optional","type":"uint32","name":"strange_value","id":3}]},{"name":"CProtoItemSocket_Spectator","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1},{"rule":"optional","type":"uint32","name":"games_viewed","id":2},{"rule":"optional","type":"uint32","name":"corporation_id","id":3},{"rule":"optional","type":"uint32","name":"league_id","id":4},{"rule":"optional","type":"uint32","name":"team_id","id":5}]},{"name":"CProtoItemSocket_AssetModifier","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1},{"rule":"optional","type":"uint32","name":"asset_modifier","id":2}]},{"name":"CProtoItemSocket_AssetModifier_DESERIALIZE_FROM_STRING_ONLY","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1},{"rule":"optional","type":"uint32","name":"asset_modifier","id":2},{"rule":"optional","type":"uint32","name":"anim_modifier","id":3},{"rule":"optional","type":"uint32","name":"ability_effect","id":4}]},{"name":"CProtoItemSocket_Autograph","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1},{"rule":"optional","type":"string","name":"autograph","id":2},{"rule":"optional","type":"uint32","name":"autograph_id","id":3}]},{"name":"CProtoItemSocket_StaticVisuals","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1}]},{"name":"CMatchPlayerAbilityUpgrade","fields":[{"rule":"optional","type":"uint32","name":"ability","id":1},{"rule":"optional","type":"uint32","name":"time","id":2}]},{"name":"CMatchAdditionalUnitInventory","fields":[{"rule":"optional","type":"string","name":"unit_name","id":1},{"rule":"repeated","type":"uint32","name":"items","id":2}]},{"name":"CMatchHeroSelectEvent","fields":[{"rule":"optional","type":"bool","name":"is_pick","id":1},{"rule":"optional","type":"uint32","name":"team","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3}]},{"name":"CMsgDOTAProcessFantasyScheduledEvent","fields":[{"rule":"optional","type":"uint32","name":"event","id":1},{"rule":"optional","type":"uint32","name":"timestamp","id":2},{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":3},{"rule":"optional","type":"uint32","name":"season","id":4},{"rule":"optional","type":"uint32","name":"reference_data","id":5}]},{"name":"CMsgDOTAHasItemQuery","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2}]},{"name":"CMsgDOTAHasItemResponse","fields":[{"rule":"optional","type":"bool","name":"has_item","id":1}]},{"name":"CMsgDOTAHasItemDefsQuery","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"uint32","name":"itemdef_ids","id":2}]},{"name":"CMsgDOTAHasItemDefsResponse","fields":[{"rule":"optional","type":"bool","name":"has_items","id":1}]},{"name":"CMsgDOTAConsumeFantasyTicket","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2},{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":3}]},{"name":"CMsgDOTAConsumeFantasyTicketFailure","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2},{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":3}]},{"name":"CMsgGCToGCFantasySetMatchLeague","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2}]},{"name":"CSODOTAMapLocationState","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"int32","name":"location_id","id":2,"options":{"(key_field)":true}},{"rule":"optional","type":"bool","name":"completed","id":3}]},{"name":"CMsgNexonPartnerUpdate","fields":[{"rule":"optional","type":"uint32","name":"messagetype","id":1},{"rule":"optional","type":"uint32","name":"timeremaining","id":2},{"rule":"optional","type":"bool","name":"terminate","id":3}]},{"name":"CMsgMakeOffering","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1}]},{"name":"CMsgRequestOfferings","fields":[]},{"name":"CMsgRequestOfferingsResponse","fields":[{"rule":"repeated","type":"NewYearsOffering","name":"offerings","id":1},{"rule":"optional","type":"bool","name":"completed","id":2}],"messages":[{"name":"NewYearsOffering","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2}]}]},{"name":"CMsgLeagueAdminList","fields":[{"rule":"repeated","type":"uint32","name":"account_ids","id":1}]},{"name":"CMsgPerfectWorldUserLookupRequest","fields":[{"rule":"optional","type":"string","name":"user_name","id":1}]},{"name":"CMsgPerfectWorldUserLookupResponse","fields":[{"rule":"optional","type":"EResultCode","name":"result_code","id":1,"options":{"default":"SUCCESS_ACCOUNT_FOUND"}},{"rule":"optional","type":"uint32","name":"account_id","id":2}],"enums":[{"name":"EResultCode","values":[{"name":"SUCCESS_ACCOUNT_FOUND","id":0},{"name":"ERROR_UNKNOWN","id":1},{"name":"ERROR_USER_NAME_WRONG_FORMAT","id":2},{"name":"ERROR_NO_PERFECT_WORLD_ACCOUNT_FOUND","id":3},{"name":"ERROR_NO_LINKED_STEAM_ACCOUNT_FOUND","id":4}]}]},{"name":"CCompendiumTimestampedData","fields":[{"rule":"optional","type":"uint32","name":"game_time","id":1},{"rule":"optional","type":"uint32","name":"gpm","id":2},{"rule":"optional","type":"uint32","name":"xpm","id":3},{"rule":"optional","type":"uint32","name":"kills","id":4},{"rule":"optional","type":"uint32","name":"deaths","id":5},{"rule":"repeated","type":"uint32","name":"item_purchases","id":6}]},{"name":"CCompendiumGameTimeline","fields":[{"rule":"repeated","type":"CCompendiumTimestampedData","name":"data","id":1},{"rule":"repeated","type":"string","name":"tags","id":2}]},{"name":"CCompendiumGameList","fields":[{"rule":"repeated","type":"CCompendiumGameTimeline","name":"games","id":1}]},{"name":"CAdditionalEquipSlot","fields":[{"rule":"optional","type":"uint32","name":"class_id","id":1},{"rule":"optional","type":"uint32","name":"slot_id","id":2},{"rule":"optional","type":"uint32","name":"def_index","id":3}]},{"name":"CMsgDOTARedeemItem","fields":[{"rule":"optional","type":"uint64","name":"currency_id","id":1},{"rule":"optional","type":"uint32","name":"purchase_def","id":2}]},{"name":"CMsgDOTARedeemItemResponse","fields":[]},{"name":"CMsgDOTACombatLogEntry","fields":[{"rule":"optional","type":"DOTA_COMBATLOG_TYPES","name":"type","id":1,"options":{"default":"DOTA_COMBATLOG_DAMAGE"}},{"rule":"optional","type":"uint32","name":"target_name","id":2},{"rule":"optional","type":"uint32","name":"target_source_name","id":3},{"rule":"optional","type":"uint32","name":"attacker_name","id":4},{"rule":"optional","type":"uint32","name":"damage_source_name","id":5},{"rule":"optional","type":"uint32","name":"inflictor_name","id":6},{"rule":"optional","type":"bool","name":"is_attacker_illusion","id":7},{"rule":"optional","type":"bool","name":"is_attacker_hero","id":8},{"rule":"optional","type":"bool","name":"is_target_illusion","id":9},{"rule":"optional","type":"bool","name":"is_target_hero","id":10},{"rule":"optional","type":"bool","name":"is_visible_radiant","id":11},{"rule":"optional","type":"bool","name":"is_visible_dire","id":12},{"rule":"optional","type":"uint32","name":"value","id":13},{"rule":"optional","type":"int32","name":"health","id":14},{"rule":"optional","type":"float","name":"timestamp","id":15},{"rule":"optional","type":"float","name":"stun_duration","id":16},{"rule":"optional","type":"float","name":"slow_duration","id":17},{"rule":"optional","type":"bool","name":"is_ability_toggle_on","id":18},{"rule":"optional","type":"bool","name":"is_ability_toggle_off","id":19},{"rule":"optional","type":"uint32","name":"ability_level","id":20},{"rule":"optional","type":"float","name":"location_x","id":21},{"rule":"optional","type":"float","name":"location_y","id":22},{"rule":"optional","type":"uint32","name":"gold_reason","id":23},{"rule":"optional","type":"float","name":"timestamp_raw","id":24},{"rule":"optional","type":"float","name":"modifier_duration","id":25},{"rule":"optional","type":"uint32","name":"xp_reason","id":26},{"rule":"optional","type":"uint32","name":"last_hits","id":27},{"rule":"optional","type":"uint32","name":"attacker_team","id":28},{"rule":"optional","type":"uint32","name":"target_team","id":29},{"rule":"optional","type":"uint32","name":"obs_wards_placed","id":30},{"rule":"optional","type":"uint32","name":"assist_player0","id":31},{"rule":"optional","type":"uint32","name":"assist_player1","id":32},{"rule":"optional","type":"uint32","name":"assist_player2","id":33},{"rule":"optional","type":"uint32","name":"assist_player3","id":34},{"rule":"optional","type":"uint32","name":"stack_count","id":35},{"rule":"optional","type":"bool","name":"hidden_modifier","id":36}]},{"name":"CMsgDOTAProfileCard","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"background_def_index","id":2},{"rule":"repeated","type":"Slot","name":"slots","id":3}],"messages":[{"name":"Slot","fields":[{"rule":"optional","type":"uint32","name":"slot_id","id":1},{"rule":"optional","type":"Trophy","name":"trophy","id":2},{"rule":"optional","type":"Stat","name":"stat","id":3},{"rule":"optional","type":"Item","name":"item","id":4},{"rule":"optional","type":"Hero","name":"hero","id":5},{"rule":"optional","type":"Emoticon","name":"emoticon","id":6}],"messages":[{"name":"Trophy","fields":[{"rule":"optional","type":"uint32","name":"trophy_id","id":1},{"rule":"optional","type":"uint32","name":"trophy_score","id":2}]},{"name":"Stat","fields":[{"rule":"optional","type":"EStatID","name":"stat_id","id":1,"options":{"default":"k_eStat_SoloRank"}},{"rule":"optional","type":"uint32","name":"stat_score","id":2}]},{"name":"Item","fields":[{"rule":"optional","type":"bytes","name":"serialized_item","id":1}]},{"name":"Hero","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"optional","type":"uint32","name":"hero_wins","id":2},{"rule":"optional","type":"uint32","name":"hero_losses","id":3}]},{"name":"Emoticon","fields":[{"rule":"optional","type":"uint32","name":"emoticon_id","id":1}]}]}],"enums":[{"name":"EStatID","values":[{"name":"k_eStat_SoloRank","id":1},{"name":"k_eStat_PartyRank","id":2},{"name":"k_eStat_Wins","id":3},{"name":"k_eStat_Commends","id":4},{"name":"k_eStat_GamesPlayed","id":5},{"name":"k_eStat_FirstMatchDate","id":6}]}]},{"name":"CMsgGCToClientNewBloomTimingUpdated","fields":[{"rule":"optional","type":"bool","name":"is_active","id":1},{"rule":"optional","type":"uint32","name":"next_transition_time","id":2},{"rule":"optional","type":"uint32","name":"bonus_amount","id":3},{"rule":"optional","type":"uint32","name":"standby_duration","id":4},{"rule":"optional","type":"uint32","name":"transition_time","id":5}]},{"name":"CSODOTAPlayerChallenge","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"event_id","id":2,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"slot_id","id":3,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"challenge_type","id":4},{"rule":"optional","type":"uint32","name":"int_param_0","id":5},{"rule":"optional","type":"uint32","name":"int_param_1","id":6},{"rule":"optional","type":"uint32","name":"created_time","id":7},{"rule":"optional","type":"uint32","name":"completed","id":8},{"rule":"optional","type":"uint32","name":"sequence_id","id":9},{"rule":"optional","type":"uint32","name":"challenge_tier","id":10},{"rule":"optional","type":"uint32","name":"flags","id":11}],"enums":[{"name":"EFlags","values":[{"name":"eFlag_InstantRerollUncompleted","id":1}]}]},{"name":"CMsgClientToGCRerollPlayerChallenge","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"optional","type":"uint32","name":"sequence_id","id":3}]},{"name":"CMsgGCRerollPlayerChallengeResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"eResult_Success"}}],"enums":[{"name":"EResult","values":[{"name":"eResult_Success","id":0},{"name":"eResult_Dropped","id":1},{"name":"eResult_NotFound","id":2},{"name":"eResult_CantReroll","id":3},{"name":"eResult_ServerError","id":4}]}]},{"name":"CMsgGCTopCustomGamesList","fields":[{"rule":"repeated","type":"uint64","name":"top_custom_games","id":1}]},{"name":"CMsgDOTARealtimeGameStats","fields":[{"rule":"optional","type":"MatchDetails","name":"match","id":1},{"rule":"repeated","type":"TeamDetails","name":"teams","id":2},{"rule":"repeated","type":"BuildingDetails","name":"buildings","id":3},{"rule":"optional","type":"GraphData","name":"graph_data","id":4},{"rule":"optional","type":"bool","name":"delta_frame","id":5}],"messages":[{"name":"TeamDetails","fields":[{"rule":"optional","type":"uint32","name":"team_number","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2},{"rule":"optional","type":"string","name":"team_name","id":3},{"rule":"optional","type":"fixed64","name":"team_logo","id":4},{"rule":"optional","type":"uint32","name":"score","id":5},{"rule":"repeated","type":"PlayerDetails","name":"players","id":6},{"rule":"optional","type":"bool","name":"only_team","id":7},{"rule":"optional","type":"uint32","name":"cheers","id":8}]},{"name":"ItemDetails","fields":[{"rule":"optional","type":"uint32","name":"id","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"int32","name":"time","id":3},{"rule":"optional","type":"bool","name":"sold","id":4},{"rule":"optional","type":"uint32","name":"stackcount","id":5}]},{"name":"AbilityDetails","fields":[{"rule":"optional","type":"uint32","name":"id","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"uint32","name":"level","id":3}]},{"name":"HeroToHeroStats","fields":[{"rule":"optional","type":"uint32","name":"victimid","id":1},{"rule":"optional","type":"uint32","name":"kills","id":2},{"rule":"optional","type":"uint32","name":"assists","id":3}]},{"name":"AbilityList","fields":[{"rule":"repeated","type":"uint32","name":"id","id":1}]},{"name":"PlayerDetails","fields":[{"rule":"optional","type":"uint32","name":"accountid","id":1},{"rule":"optional","type":"uint32","name":"playerid","id":2},{"rule":"optional","type":"string","name":"name","id":3},{"rule":"optional","type":"uint32","name":"team","id":4},{"rule":"optional","type":"uint32","name":"heroid","id":5},{"rule":"optional","type":"uint32","name":"healthpoints","id":6},{"rule":"optional","type":"uint32","name":"maxhealthpoints","id":7},{"rule":"optional","type":"float","name":"healthregenrate","id":8},{"rule":"optional","type":"uint32","name":"manapoints","id":9},{"rule":"optional","type":"uint32","name":"maxmanapoints","id":10},{"rule":"optional","type":"float","name":"manaregenrate","id":11},{"rule":"optional","type":"uint32","name":"base_strength","id":12},{"rule":"optional","type":"uint32","name":"base_agility","id":13},{"rule":"optional","type":"uint32","name":"base_intelligence","id":14},{"rule":"optional","type":"int32","name":"base_armor","id":15},{"rule":"optional","type":"uint32","name":"base_movespeed","id":16},{"rule":"optional","type":"uint32","name":"base_damage","id":17},{"rule":"optional","type":"uint32","name":"strength","id":18},{"rule":"optional","type":"uint32","name":"agility","id":19},{"rule":"optional","type":"uint32","name":"intelligence","id":20},{"rule":"optional","type":"int32","name":"armor","id":21},{"rule":"optional","type":"uint32","name":"movespeed","id":22},{"rule":"optional","type":"uint32","name":"damage","id":23},{"rule":"optional","type":"uint32","name":"hero_damage","id":24},{"rule":"optional","type":"uint32","name":"tower_damage","id":25},{"rule":"repeated","type":"AbilityDetails","name":"abilities","id":26},{"rule":"optional","type":"uint32","name":"level","id":27},{"rule":"optional","type":"uint32","name":"kill_count","id":28},{"rule":"optional","type":"uint32","name":"death_count","id":29},{"rule":"optional","type":"uint32","name":"assists_count","id":30},{"rule":"optional","type":"uint32","name":"denies_count","id":31},{"rule":"optional","type":"uint32","name":"lh_count","id":32},{"rule":"optional","type":"uint32","name":"hero_healing","id":33},{"rule":"optional","type":"uint32","name":"gold_per_min","id":34},{"rule":"optional","type":"uint32","name":"xp_per_min","id":35},{"rule":"optional","type":"uint32","name":"net_gold","id":36},{"rule":"optional","type":"uint32","name":"gold","id":37},{"rule":"optional","type":"float","name":"x","id":38},{"rule":"optional","type":"float","name":"y","id":39},{"rule":"optional","type":"int32","name":"respawn_time","id":40},{"rule":"optional","type":"uint32","name":"ultimate_cooldown","id":41},{"rule":"optional","type":"bool","name":"has_buyback","id":42},{"rule":"repeated","type":"ItemDetails","name":"items","id":43},{"rule":"repeated","type":"ItemDetails","name":"stashitems","id":44},{"rule":"repeated","type":"ItemDetails","name":"itemshoppinglist","id":45},{"rule":"repeated","type":"AbilityList","name":"levelpoints","id":46},{"rule":"repeated","type":"HeroToHeroStats","name":"hero_to_hero_stats","id":47},{"rule":"optional","type":"bool","name":"has_ultimate","id":48},{"rule":"optional","type":"bool","name":"has_ultimate_mana","id":49}]},{"name":"BuildingDetails","fields":[{"rule":"optional","type":"uint32","name":"team","id":2},{"rule":"optional","type":"float","name":"heading","id":3},{"rule":"optional","type":"uint32","name":"lane","id":4},{"rule":"optional","type":"uint32","name":"tier","id":5},{"rule":"optional","type":"uint32","name":"type","id":6},{"rule":"optional","type":"float","name":"x","id":7},{"rule":"optional","type":"float","name":"y","id":8}]},{"name":"KillDetails","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"int32","name":"death_time","id":2},{"rule":"optional","type":"uint32","name":"killer_player_id","id":3}]},{"name":"BroadcasterDetails","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"uint32","name":"selected_hero","id":2},{"rule":"optional","type":"uint32","name":"selected_graph","id":3}]},{"name":"PickBanDetails","fields":[{"rule":"optional","type":"uint32","name":"hero","id":1},{"rule":"optional","type":"uint32","name":"team","id":2}]},{"name":"MatchDetails","fields":[{"rule":"optional","type":"fixed64","name":"server_steam_id","id":1},{"rule":"optional","type":"uint64","name":"matchid","id":2},{"rule":"optional","type":"uint32","name":"timestamp","id":3},{"rule":"optional","type":"float","name":"time_of_day","id":4},{"rule":"optional","type":"bool","name":"is_nightstalker_night","id":5},{"rule":"optional","type":"int32","name":"game_time","id":6},{"rule":"optional","type":"uint32","name":"teamid_radiant","id":8},{"rule":"optional","type":"uint32","name":"teamid_dire","id":9},{"rule":"repeated","type":"PickBanDetails","name":"picks","id":10},{"rule":"repeated","type":"PickBanDetails","name":"bans","id":11},{"rule":"repeated","type":"KillDetails","name":"kills","id":12},{"rule":"repeated","type":"BroadcasterDetails","name":"broadcasters","id":13},{"rule":"optional","type":"uint32","name":"game_mode","id":14},{"rule":"optional","type":"uint32","name":"league_id","id":15},{"rule":"optional","type":"bool","name":"single_team","id":16},{"rule":"optional","type":"uint32","name":"cheers_peak","id":17}]},{"name":"GraphData","fields":[{"rule":"repeated","type":"int32","name":"graph_gold","id":1},{"rule":"repeated","type":"int32","name":"graph_xp","id":2},{"rule":"repeated","type":"int32","name":"graph_kill","id":3},{"rule":"repeated","type":"int32","name":"graph_tower","id":4},{"rule":"repeated","type":"int32","name":"graph_rax","id":5},{"rule":"repeated","type":"TeamLocationStats","name":"team_loc_stats","id":6}],"messages":[{"name":"LocationStats","fields":[{"rule":"repeated","type":"int32","name":"stats","id":1}]},{"name":"TeamLocationStats","fields":[{"rule":"repeated","type":"LocationStats","name":"loc_stats","id":1}]}],"enums":[{"name":"eStat","values":[{"name":"CreepGoldEarned","id":0},{"name":"KillGoldEarned","id":1},{"name":"DeathAndBuybackGoldLost","id":2},{"name":"XPEarned","id":3}]},{"name":"eLocation","values":[{"name":"BotLane","id":0},{"name":"MidLane","id":1},{"name":"TopLane","id":2},{"name":"Jungle","id":3},{"name":"Ancients","id":4},{"name":"Other","id":5}]}]}]},{"name":"CMsgDOTARealtimeGameStatsTerse","fields":[{"rule":"optional","type":"MatchDetails","name":"match","id":1},{"rule":"repeated","type":"TeamDetails","name":"teams","id":2},{"rule":"repeated","type":"BuildingDetails","name":"buildings","id":3},{"rule":"optional","type":"GraphData","name":"graph_data","id":4},{"rule":"optional","type":"bool","name":"delta_frame","id":5}],"messages":[{"name":"TeamDetails","fields":[{"rule":"optional","type":"uint32","name":"team_number","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2},{"rule":"optional","type":"string","name":"team_name","id":3},{"rule":"optional","type":"fixed64","name":"team_logo","id":4},{"rule":"optional","type":"uint32","name":"score","id":5},{"rule":"repeated","type":"PlayerDetails","name":"players","id":6}]},{"name":"PlayerDetails","fields":[{"rule":"optional","type":"uint32","name":"accountid","id":1},{"rule":"optional","type":"uint32","name":"playerid","id":2},{"rule":"optional","type":"string","name":"name","id":3},{"rule":"optional","type":"uint32","name":"team","id":4},{"rule":"optional","type":"uint32","name":"heroid","id":5},{"rule":"optional","type":"uint32","name":"level","id":6},{"rule":"optional","type":"uint32","name":"kill_count","id":7},{"rule":"optional","type":"uint32","name":"death_count","id":8},{"rule":"optional","type":"uint32","name":"assists_count","id":9},{"rule":"optional","type":"uint32","name":"denies_count","id":10},{"rule":"optional","type":"uint32","name":"lh_count","id":11},{"rule":"optional","type":"uint32","name":"gold","id":12},{"rule":"optional","type":"float","name":"x","id":13},{"rule":"optional","type":"float","name":"y","id":14}]},{"name":"BuildingDetails","fields":[{"rule":"optional","type":"uint32","name":"team","id":1},{"rule":"optional","type":"float","name":"heading","id":2},{"rule":"optional","type":"uint32","name":"type","id":3},{"rule":"optional","type":"uint32","name":"lane","id":4},{"rule":"optional","type":"uint32","name":"tier","id":5},{"rule":"optional","type":"float","name":"x","id":6},{"rule":"optional","type":"float","name":"y","id":7}]},{"name":"MatchDetails","fields":[{"rule":"optional","type":"fixed64","name":"server_steam_id","id":1},{"rule":"optional","type":"uint64","name":"matchid","id":2},{"rule":"optional","type":"uint32","name":"timestamp","id":3},{"rule":"optional","type":"int32","name":"game_time","id":4},{"rule":"repeated","type":"uint32","name":"steam_broadcaster_account_ids","id":6},{"rule":"optional","type":"uint32","name":"game_mode","id":7},{"rule":"optional","type":"uint32","name":"league_id","id":8}]},{"name":"GraphData","fields":[{"rule":"repeated","type":"int32","name":"graph_gold","id":1}]}]},{"name":"CMsgStartFindingMatch","fields":[{"rule":"optional","type":"string","name":"key","id":1},{"rule":"optional","type":"uint32","name":"matchgroups","id":2,"options":{"default":4294967295}},{"rule":"optional","type":"uint32","name":"client_version","id":3},{"rule":"optional","type":"uint32","name":"game_modes","id":4,"options":{"default":4294967295}},{"rule":"optional","type":"DOTABotDifficulty","name":"bot_difficulty","id":5,"options":{"default":"BOT_DIFFICULTY_HARD"}},{"rule":"optional","type":"MatchType","name":"match_type","id":6,"options":{"default":"MATCH_TYPE_CASUAL"}},{"rule":"optional","type":"uint32","name":"matchlanguages","id":7,"options":{"default":4294967295}},{"rule":"optional","type":"uint32","name":"map_preference","id":9},{"rule":"optional","type":"uint32","name":"team_id","id":8},{"rule":"optional","type":"MatchLanguages","name":"game_language_enum","id":10,"options":{"default":"MATCH_LANGUAGE_INVALID"}},{"rule":"optional","type":"string","name":"game_language_name","id":11}]},{"name":"CMsgStopFindingMatch","fields":[]},{"name":"CMsgReadyUp","fields":[{"rule":"optional","type":"DOTALobbyReadyState","name":"state","id":1,"options":{"default":"DOTALobbyReadyState_UNDECLARED"}},{"rule":"optional","type":"fixed64","name":"ready_up_key","id":2},{"rule":"optional","type":"CDOTAClientHardwareSpecs","name":"hardware_specs","id":3}]},{"name":"CMsgReadyUpStatus","fields":[{"rule":"optional","type":"fixed64","name":"lobby_id","id":1},{"rule":"repeated","type":"uint32","name":"accepted_ids","id":2},{"rule":"repeated","type":"uint32","name":"declined_ids","id":3}]},{"name":"CSourceTVGame","fields":[{"rule":"optional","type":"uint32","name":"source_tv_public_addr","id":1},{"rule":"optional","type":"uint32","name":"source_tv_private_addr","id":2},{"rule":"optional","type":"uint32","name":"source_tv_port","id":3},{"rule":"repeated","type":"Player","name":"good_players","id":14},{"rule":"repeated","type":"Player","name":"bad_players","id":15},{"rule":"repeated","type":"Player","name":"other_players","id":16},{"rule":"optional","type":"string","name":"game_name","id":7},{"rule":"repeated","type":"CLobbyTeamDetails","name":"team_details","id":9},{"rule":"optional","type":"uint32","name":"num_spectators","id":10},{"rule":"optional","type":"uint32","name":"tournament_id","id":11},{"rule":"optional","type":"uint32","name":"tournament_game_id","id":12},{"rule":"optional","type":"uint32","name":"tower_state","id":13},{"rule":"optional","type":"float","name":"tv_broadcast_time","id":17},{"rule":"optional","type":"float","name":"game_time","id":18},{"rule":"optional","type":"fixed64","name":"server_steamid","id":19},{"rule":"optional","type":"uint32","name":"leagueid","id":20},{"rule":"optional","type":"DOTA_GameMode","name":"game_mode","id":21,"options":{"default":"DOTA_GAMEMODE_NONE"}},{"rule":"optional","type":"uint32","name":"lobby_type","id":22},{"rule":"optional","type":"uint64","name":"custom_game_id","id":24},{"rule":"optional","type":"uint32","name":"average_rank","id":25},{"rule":"optional","type":"uint32","name":"radiant_kills","id":26},{"rule":"optional","type":"uint32","name":"dire_kills","id":27},{"rule":"optional","type":"uint32","name":"barracks_state","id":28},{"rule":"optional","type":"uint64","name":"group_id","id":29},{"rule":"optional","type":"uint32","name":"engine","id":31},{"rule":"optional","type":"uint32","name":"broadcast_delay","id":32}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3}]}]},{"name":"CSourceTVGameSmall","fields":[{"rule":"optional","type":"uint32","name":"activate_time","id":1},{"rule":"optional","type":"uint32","name":"deactivate_time","id":2},{"rule":"optional","type":"uint64","name":"server_steam_id","id":3},{"rule":"optional","type":"uint64","name":"lobby_id","id":4},{"rule":"optional","type":"uint32","name":"league_id","id":5},{"rule":"optional","type":"uint32","name":"lobby_type","id":6},{"rule":"optional","type":"int32","name":"game_time","id":7},{"rule":"optional","type":"uint32","name":"delay","id":8},{"rule":"optional","type":"uint32","name":"spectators","id":9},{"rule":"optional","type":"uint32","name":"game_mode","id":10},{"rule":"optional","type":"uint32","name":"average_mmr","id":11},{"rule":"optional","type":"uint32","name":"engine","id":12},{"rule":"repeated","type":"uint32","name":"hero_ids","id":13},{"rule":"repeated","type":"fixed64","name":"steam_ids","id":14},{"rule":"optional","type":"string","name":"team_name_radiant","id":15},{"rule":"optional","type":"string","name":"team_name_dire","id":16},{"rule":"optional","type":"uint32","name":"sort_score","id":17},{"rule":"optional","type":"float","name":"last_update_time","id":18}]},{"name":"CMsgSourceTVGamesResponse","fields":[{"rule":"repeated","type":"CSourceTVGame","name":"games","id":1},{"rule":"optional","type":"uint32","name":"num_total_games","id":2}]},{"name":"CMsgFindSourceTVGames","fields":[{"rule":"optional","type":"string","name":"search_key","id":1},{"rule":"optional","type":"uint32","name":"start","id":2},{"rule":"optional","type":"uint32","name":"num_games","id":3},{"rule":"optional","type":"uint32","name":"leagueid","id":4},{"rule":"optional","type":"uint32","name":"heroid","id":5},{"rule":"optional","type":"bool","name":"team_game","id":6},{"rule":"optional","type":"uint64","name":"custom_game_id","id":10}]},{"name":"CMsgClientToGCFindTopSourceTVGames","fields":[{"rule":"optional","type":"string","name":"search_key","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"uint32","name":"start_game","id":4},{"rule":"optional","type":"uint32","name":"game_list_index","id":5},{"rule":"repeated","type":"uint64","name":"lobby_ids","id":6}]},{"name":"CMsgGCToClientFindTopSourceTVGamesResponse","fields":[{"rule":"optional","type":"string","name":"search_key","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"uint32","name":"start_game","id":4},{"rule":"optional","type":"uint32","name":"num_games","id":5},{"rule":"optional","type":"uint32","name":"game_list_index","id":6},{"rule":"repeated","type":"CSourceTVGameSmall","name":"game_list","id":7},{"rule":"optional","type":"bool","name":"specific_games","id":8}]},{"name":"CMsgClientToGCTopLeagueMatchesRequest","fields":[]},{"name":"CMsgClientToGCTopFriendMatchesRequest","fields":[]},{"name":"CMsgClientToGCTopPubMatchesRequest","fields":[]},{"name":"CMsgGCToClientTopMatchesResponse","fields":[{"rule":"optional","type":"Type","name":"type","id":1,"options":{"default":"LEAGUES"}},{"rule":"repeated","type":"CMsgDOTAMatch","name":"matches","id":2}],"enums":[{"name":"Type","values":[{"name":"LEAGUES","id":1},{"name":"FRIENDS","id":2},{"name":"PUBS","id":3}]}]},{"name":"CMsgClientToGCFindTopMatches","fields":[{"rule":"optional","type":"uint32","name":"start_game","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"uint32","name":"friend_id","id":4},{"rule":"optional","type":"bool","name":"friend_list","id":5},{"rule":"optional","type":"bool","name":"league_list","id":6}]},{"name":"CMsgGCToClientFindTopLeagueMatchesResponse","fields":[{"rule":"optional","type":"uint32","name":"start_game","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"repeated","type":"uint32","name":"match_ids","id":4},{"rule":"repeated","type":"CMsgDOTAMatch","name":"matches","id":5}]},{"name":"CMsgSpectateFriendGame","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1}]},{"name":"CMsgSpectateFriendGameResponse","fields":[{"rule":"optional","type":"fixed64","name":"server_steamid","id":4}]},{"name":"CMsgAbandonCurrentGame","fields":[]},{"name":"CMsgClientSuspended","fields":[{"rule":"optional","type":"uint32","name":"time_end","id":1}]},{"name":"CMsgPracticeLobbySetDetails","fields":[{"rule":"optional","type":"uint64","name":"lobby_id","id":1},{"rule":"optional","type":"string","name":"game_name","id":2},{"rule":"repeated","type":"CLobbyTeamDetails","name":"team_details","id":3},{"rule":"optional","type":"uint32","name":"server_region","id":4},{"rule":"optional","type":"uint32","name":"game_mode","id":5},{"rule":"optional","type":"DOTA_CM_PICK","name":"cm_pick","id":6,"options":{"default":"DOTA_CM_RANDOM"}},{"rule":"optional","type":"DOTABotDifficulty","name":"bot_difficulty","id":9,"options":{"default":"BOT_DIFFICULTY_MEDIUM"}},{"rule":"optional","type":"bool","name":"allow_cheats","id":10},{"rule":"optional","type":"bool","name":"fill_with_bots","id":11},{"rule":"optional","type":"bool","name":"intro_mode","id":12},{"rule":"optional","type":"bool","name":"allow_spectating","id":13},{"rule":"optional","type":"DOTAGameVersion","name":"game_version","id":14,"options":{"default":"GAME_VERSION_CURRENT"}},{"rule":"optional","type":"string","name":"pass_key","id":15},{"rule":"optional","type":"uint32","name":"leagueid","id":16},{"rule":"optional","type":"uint32","name":"penalty_level_radiant","id":17},{"rule":"optional","type":"uint32","name":"penalty_level_dire","id":18},{"rule":"optional","type":"uint32","name":"load_game_id","id":19},{"rule":"optional","type":"uint32","name":"series_type","id":20},{"rule":"optional","type":"uint32","name":"radiant_series_wins","id":21},{"rule":"optional","type":"uint32","name":"dire_series_wins","id":22},{"rule":"optional","type":"bool","name":"allchat","id":23,"options":{"default":false}},{"rule":"optional","type":"LobbyDotaTVDelay","name":"dota_tv_delay","id":24,"options":{"default":"LobbyDotaTV_120"}},{"rule":"optional","type":"bool","name":"lan","id":25},{"rule":"optional","type":"string","name":"custom_game_mode","id":26},{"rule":"optional","type":"string","name":"custom_map_name","id":27},{"rule":"optional","type":"uint32","name":"custom_difficulty","id":28},{"rule":"optional","type":"uint64","name":"custom_game_id","id":29},{"rule":"optional","type":"uint32","name":"custom_min_players","id":30},{"rule":"optional","type":"uint32","name":"custom_max_players","id":31},{"rule":"optional","type":"uint32","name":"lan_host_ping_to_server_region","id":32},{"rule":"optional","type":"DOTALobbyVisibility","name":"visibility","id":33,"options":{"default":"DOTALobbyVisibility_Public"}},{"rule":"optional","type":"fixed64","name":"custom_game_crc","id":34},{"rule":"optional","type":"fixed32","name":"custom_game_timestamp","id":37}]},{"name":"CMsgPracticeLobbyCreate","fields":[{"rule":"optional","type":"string","name":"search_key","id":1},{"rule":"optional","type":"bool","name":"tournament_game","id":2},{"rule":"optional","type":"uint32","name":"tournament_game_id","id":3},{"rule":"optional","type":"uint32","name":"tournament_id","id":4},{"rule":"optional","type":"string","name":"pass_key","id":5},{"rule":"optional","type":"uint32","name":"client_version","id":6},{"rule":"optional","type":"CMsgPracticeLobbySetDetails","name":"lobby_details","id":7},{"rule":"optional","type":"SaveGame","name":"save_game","id":8}],"messages":[{"name":"SaveGame","fields":[{"rule":"optional","type":"bytes","name":"data","id":1},{"rule":"optional","type":"int32","name":"version","id":2},{"rule":"optional","type":"fixed64","name":"steam_id","id":3},{"rule":"optional","type":"fixed64","name":"signature","id":4}]}]},{"name":"CMsgPracticeLobbySetTeamSlot","fields":[{"rule":"optional","type":"DOTA_GC_TEAM","name":"team","id":1,"options":{"default":"DOTA_GC_TEAM_GOOD_GUYS"}},{"rule":"optional","type":"uint32","name":"slot","id":2},{"rule":"optional","type":"DOTABotDifficulty","name":"bot_difficulty","id":3,"options":{"default":"BOT_DIFFICULTY_PASSIVE"}}]},{"name":"CMsgPracticeLobbySetCoach","fields":[{"rule":"optional","type":"DOTA_GC_TEAM","name":"team","id":1,"options":{"default":"DOTA_GC_TEAM_GOOD_GUYS"}}]},{"name":"CMsgPracticeLobbyJoinBroadcastChannel","fields":[{"rule":"optional","type":"uint32","name":"channel","id":1},{"rule":"optional","type":"string","name":"preferred_description","id":2},{"rule":"optional","type":"string","name":"preferred_country_code","id":3},{"rule":"optional","type":"string","name":"preferred_language_code","id":4}]},{"name":"CMsgPracticeLobbyCloseBroadcastChannel","fields":[{"rule":"optional","type":"uint32","name":"channel","id":1}]},{"name":"CMsgPracticeLobbyToggleBroadcastChannelCameramanStatus","fields":[]},{"name":"CMsgPracticeLobbyKick","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":3}]},{"name":"CMsgPracticeLobbyKickFromTeam","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgPracticeLobbyLeave","fields":[]},{"name":"CMsgPracticeLobbyLaunch","fields":[{"rule":"optional","type":"uint32","name":"client_version","id":5}]},{"name":"CMsgApplyTeamToPracticeLobby","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1}]},{"name":"CMsgClearPracticeLobbyTeam","fields":[]},{"name":"CMsgPracticeLobbyList","fields":[{"rule":"optional","type":"bool","name":"tournament_games","id":1},{"rule":"optional","type":"string","name":"pass_key","id":2},{"rule":"optional","type":"uint32","name":"region","id":3},{"rule":"optional","type":"DOTA_GameMode","name":"game_mode","id":4,"options":{"default":"DOTA_GAMEMODE_NONE"}}]},{"name":"CMsgPracticeLobbyListResponseEntry","fields":[{"rule":"optional","type":"uint64","name":"id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"tournament_id","id":3},{"rule":"optional","type":"uint32","name":"tournament_game_id","id":4},{"rule":"repeated","type":"CLobbyMember","name":"members","id":5},{"rule":"optional","type":"bool","name":"requires_pass_key","id":6},{"rule":"optional","type":"uint32","name":"leader_account_id","id":7},{"rule":"optional","type":"uint32","name":"guild_id","id":8},{"rule":"optional","type":"uint64","name":"guild_logo","id":9},{"rule":"optional","type":"string","name":"name","id":10},{"rule":"optional","type":"string","name":"custom_game_mode","id":11},{"rule":"optional","type":"DOTA_GameMode","name":"game_mode","id":12,"options":{"default":"DOTA_GAMEMODE_NONE"}},{"rule":"optional","type":"bool","name":"friend_present","id":13},{"rule":"optional","type":"uint32","name":"players","id":14},{"rule":"optional","type":"string","name":"custom_map_name","id":15},{"rule":"optional","type":"uint32","name":"max_player_count","id":16},{"rule":"optional","type":"uint32","name":"server_region","id":17},{"rule":"optional","type":"uint32","name":"lan_host_ping_to_server_region","id":18}],"messages":[{"name":"CLobbyMember","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"string","name":"player_name","id":2}]}]},{"name":"CMsgPracticeLobbyListResponse","fields":[{"rule":"optional","type":"bool","name":"tournament_games","id":1},{"rule":"repeated","type":"CMsgPracticeLobbyListResponseEntry","name":"lobbies","id":2}]},{"name":"CMsgLobbyList","fields":[{"rule":"optional","type":"uint32","name":"server_region","id":1,"options":{"default":0}},{"rule":"optional","type":"DOTA_GameMode","name":"game_mode","id":2,"options":{"default":"DOTA_GAMEMODE_NONE"}}]},{"name":"CMsgLobbyListResponse","fields":[{"rule":"repeated","type":"CMsgPracticeLobbyListResponseEntry","name":"lobbies","id":1}]},{"name":"CMsgPracticeLobbyJoin","fields":[{"rule":"optional","type":"uint64","name":"lobby_id","id":1},{"rule":"optional","type":"uint32","name":"client_version","id":2},{"rule":"optional","type":"string","name":"pass_key","id":3},{"rule":"optional","type":"fixed64","name":"custom_game_crc","id":4},{"rule":"optional","type":"fixed32","name":"custom_game_timestamp","id":5}]},{"name":"CMsgPracticeLobbyJoinResponse","fields":[{"rule":"optional","type":"DOTAJoinLobbyResult","name":"result","id":1,"options":{"default":"DOTA_JOIN_RESULT_SUCCESS"}}]},{"name":"CMsgFriendPracticeLobbyListRequest","fields":[{"rule":"repeated","type":"uint32","name":"friends","id":1}]},{"name":"CMsgFriendPracticeLobbyListResponse","fields":[{"rule":"repeated","type":"CMsgPracticeLobbyListResponseEntry","name":"lobbies","id":1}]},{"name":"CMsgGuildmatePracticeLobbyListRequest","fields":[{"rule":"repeated","type":"uint32","name":"guilds","id":1}]},{"name":"CMsgGuildmatePracticeLobbyListResponse","fields":[{"rule":"repeated","type":"CMsgPracticeLobbyListResponseEntry","name":"lobbies","id":1}]},{"name":"CMsgJoinableCustomGameModesRequest","fields":[{"rule":"optional","type":"uint32","name":"server_region","id":1}]},{"name":"CMsgJoinableCustomGameModesResponseEntry","fields":[{"rule":"optional","type":"uint64","name":"custom_game_id","id":1},{"rule":"optional","type":"uint32","name":"lobby_count","id":2},{"rule":"optional","type":"uint32","name":"player_count","id":3}]},{"name":"CMsgJoinableCustomGameModesResponse","fields":[{"rule":"repeated","type":"CMsgJoinableCustomGameModesResponseEntry","name":"game_modes","id":1}]},{"name":"CMsgJoinableCustomLobbiesRequest","fields":[{"rule":"optional","type":"uint32","name":"server_region","id":1},{"rule":"optional","type":"uint64","name":"custom_game_id","id":2}]},{"name":"CMsgJoinableCustomLobbiesResponseEntry","fields":[{"rule":"optional","type":"fixed64","name":"lobby_id","id":1},{"rule":"optional","type":"uint64","name":"custom_game_id","id":2},{"rule":"optional","type":"string","name":"lobby_name","id":3},{"rule":"optional","type":"uint32","name":"member_count","id":4},{"rule":"optional","type":"uint32","name":"leader_account_id","id":5},{"rule":"optional","type":"string","name":"leader_name","id":6},{"rule":"optional","type":"string","name":"custom_map_name","id":7},{"rule":"optional","type":"uint32","name":"max_player_count","id":8},{"rule":"optional","type":"uint32","name":"server_region","id":9},{"rule":"optional","type":"uint32","name":"lan_host_ping_to_server_region","id":10},{"rule":"optional","type":"bool","name":"has_pass_key","id":11}]},{"name":"CMsgJoinableCustomLobbiesResponse","fields":[{"rule":"repeated","type":"CMsgJoinableCustomLobbiesResponseEntry","name":"lobbies","id":1}]},{"name":"CMsgQuickJoinCustomLobby","fields":[{"rule":"optional","type":"uint32","name":"server_region","id":1},{"rule":"optional","type":"uint64","name":"custom_game_id","id":2},{"rule":"optional","type":"uint32","name":"client_version","id":3},{"rule":"optional","type":"CMsgPracticeLobbySetDetails","name":"create_lobby_details","id":4},{"rule":"optional","type":"bool","name":"allow_any_map","id":5},{"rule":"repeated","type":"RegionPing","name":"region_pings","id":6}],"messages":[{"name":"RegionPing","fields":[{"rule":"optional","type":"uint32","name":"server_region","id":1},{"rule":"optional","type":"uint32","name":"ping","id":2},{"rule":"optional","type":"fixed32","name":"region_code","id":3}]}]},{"name":"CMsgQuickJoinCustomLobbyResponse","fields":[{"rule":"optional","type":"DOTAJoinLobbyResult","name":"result","id":1,"options":{"default":"DOTA_JOIN_RESULT_SUCCESS"}}]},{"name":"CMsgBotGameCreate","fields":[{"rule":"optional","type":"string","name":"search_key","id":1},{"rule":"optional","type":"uint32","name":"client_version","id":2},{"rule":"optional","type":"DOTABotDifficulty","name":"difficulty","id":3,"options":{"default":"BOT_DIFFICULTY_PASSIVE"}},{"rule":"optional","type":"DOTA_GC_TEAM","name":"team","id":4,"options":{"default":"DOTA_GC_TEAM_GOOD_GUYS"}},{"rule":"optional","type":"uint32","name":"game_mode","id":5}]},{"name":"CMsgCustomGameCreate","fields":[{"rule":"optional","type":"string","name":"search_key","id":1},{"rule":"optional","type":"uint32","name":"client_version","id":2},{"rule":"optional","type":"uint32","name":"difficulty","id":3},{"rule":"optional","type":"string","name":"game_mode","id":4},{"rule":"optional","type":"string","name":"map","id":5},{"rule":"optional","type":"uint64","name":"custom_game_id","id":7}]},{"name":"CMsgEventGameCreate","fields":[{"rule":"optional","type":"string","name":"search_key","id":1},{"rule":"optional","type":"uint32","name":"client_version","id":2},{"rule":"optional","type":"uint32","name":"difficulty","id":3},{"rule":"optional","type":"string","name":"game_mode","id":4},{"rule":"optional","type":"string","name":"map","id":5},{"rule":"optional","type":"uint64","name":"custom_game_id","id":7}]},{"name":"CMsgRequestInternationalTicket","fields":[]},{"name":"CMsgBalancedShuffleLobby","fields":[]},{"name":"CMsgInitialQuestionnaireResponse","fields":[{"rule":"optional","type":"uint32","name":"initial_skill","id":1}]},{"name":"CMsgDOTATournament","fields":[{"rule":"repeated","type":"Team","name":"teams","id":1},{"rule":"repeated","type":"Game","name":"games","id":2},{"rule":"optional","type":"uint64","name":"gid","id":3},{"rule":"optional","type":"uint32","name":"tournament_id","id":4},{"rule":"optional","type":"ETournamentType","name":"tournament_type","id":5,"options":{"default":"k_ETournamentType_Unknown"}},{"rule":"optional","type":"ETournamentTemplate","name":"tournament_template","id":6,"options":{"default":"k_ETournamentTemplate_None"}},{"rule":"optional","type":"uint32","name":"league_id","id":7},{"rule":"optional","type":"uint32","name":"start_time","id":8},{"rule":"optional","type":"ETournamentState","name":"state","id":9,"options":{"default":"k_ETournamentState_Unknown"}},{"rule":"repeated","type":"Node","name":"nodes","id":10}],"messages":[{"name":"Team","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1},{"rule":"optional","type":"string","name":"team_name","id":2},{"rule":"optional","type":"string","name":"team_abbrev","id":3},{"rule":"repeated","type":"uint32","name":"players","id":4,"options":{"packed":true}},{"rule":"optional","type":"uint32","name":"seed","id":5},{"rule":"optional","type":"uint64","name":"team_logo","id":6},{"rule":"optional","type":"string","name":"country_code","id":7},{"rule":"optional","type":"uint32","name":"node_or_state","id":8}]},{"name":"Game","fields":[{"rule":"optional","type":"uint32","name":"game_id","id":1},{"rule":"optional","type":"uint32","name":"good_team_id","id":2},{"rule":"optional","type":"uint32","name":"bad_team_id","id":3},{"rule":"optional","type":"uint32","name":"good_team_seed","id":12},{"rule":"optional","type":"uint32","name":"bad_team_seed","id":13},{"rule":"optional","type":"fixed64","name":"lobby_id","id":4},{"rule":"optional","type":"uint64","name":"match_id","id":5},{"rule":"optional","type":"string","name":"game_name","id":6},{"rule":"optional","type":"bool","name":"live_stream","id":7},{"rule":"optional","type":"string","name":"message","id":9},{"rule":"optional","type":"bool","name":"results_final","id":10},{"rule":"optional","type":"ETournamentGameState","name":"state","id":14,"options":{"default":"k_ETournamentGameState_Unknown"}},{"rule":"optional","type":"uint32","name":"node_id","id":15},{"rule":"optional","type":"uint32","name":"start_time","id":16}]},{"name":"Node","fields":[{"rule":"optional","type":"uint32","name":"node_id","id":1},{"rule":"optional","type":"uint32","name":"team_seed_a","id":2},{"rule":"optional","type":"uint32","name":"team_seed_b","id":3},{"rule":"optional","type":"uint32","name":"winner_node","id":4},{"rule":"optional","type":"uint32","name":"loser_node","id":5},{"rule":"optional","type":"uint32","name":"series_type","id":7},{"rule":"optional","type":"ETournamentNodeState","name":"node_state","id":8,"options":{"default":"k_ETournamentNodeState_Unknown"}},{"rule":"optional","type":"uint32","name":"series_id","id":9},{"rule":"optional","type":"uint32","name":"start_time","id":16}]}]},{"name":"CMsgDOTATournamentRequest","fields":[{"rule":"optional","type":"uint32","name":"tournament_id","id":1},{"rule":"optional","type":"uint64","name":"client_tournament_gid","id":2}]},{"name":"CMsgDOTATournamentResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1,"options":{"default":2}},{"rule":"optional","type":"CMsgDOTATournament","name":"tournament","id":2}]},{"name":"CMsgDOTAClearTournamentGame","fields":[{"rule":"optional","type":"uint32","name":"tournament_id","id":1},{"rule":"optional","type":"uint32","name":"game_id","id":2}]},{"name":"CMsgDOTAMatch","fields":[{"rule":"optional","type":"bool","name":"good_guys_win","id":2},{"rule":"optional","type":"uint32","name":"duration","id":3},{"rule":"optional","type":"fixed32","name":"startTime","id":4},{"rule":"repeated","type":"Player","name":"players","id":5},{"rule":"optional","type":"uint64","name":"match_id","id":6},{"rule":"repeated","type":"uint32","name":"tower_status","id":8},{"rule":"repeated","type":"uint32","name":"barracks_status","id":9},{"rule":"optional","type":"uint32","name":"cluster","id":10},{"rule":"optional","type":"uint32","name":"first_blood_time","id":12},{"rule":"optional","type":"fixed32","name":"replay_salt","id":13},{"rule":"optional","type":"fixed32","name":"server_ip","id":14},{"rule":"optional","type":"uint32","name":"server_port","id":15},{"rule":"optional","type":"uint32","name":"lobby_type","id":16},{"rule":"optional","type":"uint32","name":"human_players","id":17},{"rule":"optional","type":"uint32","name":"average_skill","id":18},{"rule":"optional","type":"float","name":"game_balance","id":19},{"rule":"optional","type":"uint32","name":"radiant_team_id","id":20},{"rule":"optional","type":"uint32","name":"dire_team_id","id":21},{"rule":"optional","type":"uint32","name":"leagueid","id":22},{"rule":"optional","type":"string","name":"radiant_team_name","id":23},{"rule":"optional","type":"string","name":"dire_team_name","id":24},{"rule":"optional","type":"uint64","name":"radiant_team_logo","id":25},{"rule":"optional","type":"uint64","name":"dire_team_logo","id":26},{"rule":"optional","type":"uint32","name":"radiant_team_complete","id":27},{"rule":"optional","type":"uint32","name":"dire_team_complete","id":28},{"rule":"optional","type":"uint32","name":"positive_votes","id":29},{"rule":"optional","type":"uint32","name":"negative_votes","id":30},{"rule":"optional","type":"DOTA_GameMode","name":"game_mode","id":31,"options":{"default":"DOTA_GAMEMODE_NONE"}},{"rule":"repeated","type":"CMatchHeroSelectEvent","name":"picks_bans","id":32},{"rule":"optional","type":"uint64","name":"match_seq_num","id":33},{"rule":"optional","type":"ReplayState","name":"replay_state","id":34,"options":{"default":"REPLAY_AVAILABLE"}},{"rule":"optional","type":"uint32","name":"radiant_guild_id","id":35},{"rule":"optional","type":"uint32","name":"dire_guild_id","id":36},{"rule":"optional","type":"string","name":"radiant_team_tag","id":37},{"rule":"optional","type":"string","name":"dire_team_tag","id":38},{"rule":"optional","type":"uint32","name":"series_id","id":39},{"rule":"optional","type":"uint32","name":"series_type","id":40},{"rule":"repeated","type":"BroadcasterChannel","name":"broadcaster_channels","id":43},{"rule":"optional","type":"uint32","name":"engine","id":44},{"rule":"optional","type":"CustomGameData","name":"custom_game_data","id":45}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"player_slot","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"uint32","name":"item_0","id":4},{"rule":"optional","type":"uint32","name":"item_1","id":5},{"rule":"optional","type":"uint32","name":"item_2","id":6},{"rule":"optional","type":"uint32","name":"item_3","id":7},{"rule":"optional","type":"uint32","name":"item_4","id":8},{"rule":"optional","type":"uint32","name":"item_5","id":9},{"rule":"optional","type":"float","name":"expected_team_contribution","id":10},{"rule":"optional","type":"float","name":"scaled_metric","id":11},{"rule":"optional","type":"uint32","name":"previous_rank","id":12},{"rule":"optional","type":"uint32","name":"rank_change","id":13},{"rule":"optional","type":"bool","name":"solo_rank","id":49},{"rule":"optional","type":"uint32","name":"kills","id":14},{"rule":"optional","type":"uint32","name":"deaths","id":15},{"rule":"optional","type":"uint32","name":"assists","id":16},{"rule":"optional","type":"uint32","name":"leaver_status","id":17},{"rule":"optional","type":"uint32","name":"gold","id":18},{"rule":"optional","type":"uint32","name":"last_hits","id":19},{"rule":"optional","type":"uint32","name":"denies","id":20},{"rule":"optional","type":"uint32","name":"gold_per_min","id":21},{"rule":"optional","type":"uint32","name":"XP_per_min","id":22},{"rule":"optional","type":"uint32","name":"gold_spent","id":23},{"rule":"optional","type":"uint32","name":"hero_damage","id":24},{"rule":"optional","type":"uint32","name":"tower_damage","id":25},{"rule":"optional","type":"uint32","name":"hero_healing","id":26},{"rule":"optional","type":"uint32","name":"level","id":27},{"rule":"optional","type":"uint32","name":"time_last_seen","id":28},{"rule":"optional","type":"string","name":"player_name","id":29},{"rule":"optional","type":"uint32","name":"support_ability_value","id":30},{"rule":"optional","type":"bool","name":"feeding_detected","id":32},{"rule":"optional","type":"uint32","name":"search_rank","id":34},{"rule":"optional","type":"uint32","name":"search_rank_uncertainty","id":35},{"rule":"optional","type":"int32","name":"rank_uncertainty_change","id":36},{"rule":"optional","type":"uint32","name":"hero_play_count","id":37},{"rule":"optional","type":"fixed64","name":"party_id","id":38},{"rule":"optional","type":"float","name":"scaled_kills","id":39},{"rule":"optional","type":"float","name":"scaled_deaths","id":40},{"rule":"optional","type":"float","name":"scaled_assists","id":41},{"rule":"optional","type":"uint32","name":"claimed_farm_gold","id":42},{"rule":"optional","type":"uint32","name":"support_gold","id":43},{"rule":"optional","type":"uint32","name":"claimed_denies","id":44},{"rule":"optional","type":"uint32","name":"claimed_misses","id":45},{"rule":"optional","type":"uint32","name":"misses","id":46},{"rule":"repeated","type":"CMatchPlayerAbilityUpgrade","name":"ability_upgrades","id":47},{"rule":"repeated","type":"CMatchAdditionalUnitInventory","name":"additional_units_inventory","id":48},{"rule":"optional","type":"CustomGameData","name":"custom_game_data","id":50}],"messages":[{"name":"CustomGameData","fields":[{"rule":"optional","type":"uint32","name":"dota_team","id":1},{"rule":"optional","type":"bool","name":"winner","id":2}]}]},{"name":"BroadcasterInfo","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"string","name":"name","id":2}]},{"name":"BroadcasterChannel","fields":[{"rule":"optional","type":"string","name":"country_code","id":1},{"rule":"optional","type":"string","name":"description","id":2},{"rule":"repeated","type":"BroadcasterInfo","name":"broadcaster_infos","id":3},{"rule":"optional","type":"string","name":"language_code","id":4}]},{"name":"CustomGameData","fields":[{"rule":"optional","type":"uint64","name":"custom_game_id","id":1},{"rule":"optional","type":"string","name":"map_name","id":2}]}],"enums":[{"name":"ReplayState","values":[{"name":"REPLAY_AVAILABLE","id":0},{"name":"REPLAY_NOT_RECORDED","id":1},{"name":"REPLAY_EXPIRED","id":2}]}]},{"name":"CMsgDOTAPlayerMatchHistory","fields":[{"rule":"repeated","type":"uint64","name":"match_ids","id":1}]},{"name":"CMsgDOTAMatchHistoryFilter","fields":[{"rule":"repeated","type":"uint64","name":"match_ids","id":1},{"rule":"optional","type":"uint64","name":"newest_match_id_at_last_query","id":2},{"rule":"optional","type":"uint32","name":"time_last_query","id":3}]},{"name":"CMsgDOTARequestMatches","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":2},{"rule":"optional","type":"uint32","name":"game_mode","id":3},{"rule":"optional","type":"fixed32","name":"date_min","id":6},{"rule":"optional","type":"fixed32","name":"date_max","id":7},{"rule":"optional","type":"uint32","name":"matches_requested","id":10},{"rule":"optional","type":"uint64","name":"start_at_match_id","id":11},{"rule":"optional","type":"fixed32","name":"min_players","id":12},{"rule":"optional","type":"uint32","name":"request_id","id":13},{"rule":"optional","type":"bool","name":"tournament_games_only","id":14},{"rule":"optional","type":"uint32","name":"account_id","id":15},{"rule":"optional","type":"uint32","name":"league_id","id":16},{"rule":"optional","type":"SkillLevel","name":"skill","id":17,"options":{"default":"Any"}},{"rule":"optional","type":"uint32","name":"team_id","id":18},{"rule":"optional","type":"uint64","name":"custom_game_id","id":20}],"enums":[{"name":"SkillLevel","values":[{"name":"Any","id":0},{"name":"Normal","id":1},{"name":"High","id":2},{"name":"VeryHigh","id":3}]}]},{"name":"CMsgDOTARequestMatchesResponse","fields":[{"rule":"repeated","type":"CMsgDOTAMatch","name":"matches","id":1},{"rule":"repeated","type":"Series","name":"series","id":2},{"rule":"optional","type":"uint32","name":"request_id","id":3},{"rule":"optional","type":"uint32","name":"total_results","id":4},{"rule":"optional","type":"uint32","name":"results_remaining","id":5}],"messages":[{"name":"Series","fields":[{"rule":"repeated","type":"CMsgDOTAMatch","name":"matches","id":1},{"rule":"optional","type":"uint32","name":"series_id","id":2},{"rule":"optional","type":"uint32","name":"series_type","id":3}]}]},{"name":"CMsgDOTAPopup","fields":[{"rule":"optional","type":"PopupID","name":"id","id":1,"options":{"default":"KICKED_FROM_LOBBY"}},{"rule":"optional","type":"string","name":"custom_text","id":2},{"rule":"optional","type":"sint32","name":"int_data","id":3},{"rule":"optional","type":"bytes","name":"popup_data","id":4}],"enums":[{"name":"PopupID","values":[{"name":"KICKED_FROM_LOBBY","id":0},{"name":"KICKED_FROM_PARTY","id":1},{"name":"KICKED_FROM_TEAM","id":2},{"name":"TEAM_WAS_DISBANDED","id":3},{"name":"TEAM_MATCHMAKE_ALREADY_MATCH","id":4},{"name":"TEAM_MATCHMAKE_ALREADY_FINDING","id":5},{"name":"TEAM_MATCHMAKE_FULL","id":6},{"name":"TEAM_MATCHMAKE_FAIL_ADD","id":7},{"name":"TEAM_MATCHMAKE_FAIL_ADD_CURRENT","id":8},{"name":"TEAM_MATCHMAKE_FAILED_TEAM_MEMBER","id":9},{"name":"TEAM_MATCHMAKE_ALREADY_GAME","id":10},{"name":"TEAM_MATCHMAKE_FAIL_GET_PARTY","id":11},{"name":"MATCHMAKING_DISABLED","id":12},{"name":"INVITE_DENIED","id":13},{"name":"PARTY_FULL","id":14},{"name":"MADE_ADMIN","id":15},{"name":"NEED_TO_PURCHASE","id":16},{"name":"SIGNON_MESSAGE","id":17},{"name":"GUILD_KICKED","id":18},{"name":"MATCHMAKING_REGION_OFFLINE","id":19},{"name":"TOO_MANY_MATCHGROUPS","id":20},{"name":"TOURNAMENT_GAME_NOT_FOUND","id":21},{"name":"TOURNAMENT_GAME_HAS_LOBBY_ID","id":22},{"name":"TOURNAMENT_GAME_HAS_MATCH_ID","id":23},{"name":"TOURNAMENT_GAME_HAS_NO_RADIANT_TEAM","id":24},{"name":"TOURNAMENT_GAME_HAS_NO_DIRE_TEAM","id":25},{"name":"TOURNAMENT_GAME_SQL_UPDATE_FAILED","id":26},{"name":"NOT_LEAGUE_ADMIN","id":27},{"name":"PARTY_NOT_VALID_TO_MM","id":28},{"name":"PARTY_NOT_VALID_TO_MM_COACHCOUNT","id":29},{"name":"PARTY_MEMBER_IN_ANOTHER_GAME","id":30},{"name":"PARTY_MEMBER_IN_LOW_PRIORITY","id":31},{"name":"CLIENT_OUT_OF_DATE","id":32},{"name":"COMPETITIVE_MM_NO_COACHES","id":33},{"name":"COMPETITIVE_MM_NO_LOW_PRIORITY","id":34},{"name":"COMPETITIVE_MM_NOT_UNLOCKED","id":35},{"name":"COMPETITIVE_MM_GAME_MODE_NOT_ALLOWED","id":36},{"name":"GAME_MODE_NOT_UNLOCKED","id":37},{"name":"SAVE_GAME_CORRUPT","id":38},{"name":"INSUFFICIENT_INGOTS","id":39},{"name":"COMPETITIVE_MM_NO_4STACKS","id":40},{"name":"COMPETITIVE_MM_PARTY_MMR_SPREAD_TOO_LARGE","id":41},{"name":"COMPETITIVE_MM_NOT_ENOUGH_SKILL_DATA_PLAY_MORE_CASUAL","id":42},{"name":"COMPETITIVE_MM_NOT_ENOUGH_SKILL_DATA_IN_PARTY","id":43},{"name":"PARTY_LEADER_JOINED_LOBBY","id":44},{"name":"MM_1V1_NO_PARTIES","id":45},{"name":"MM_1V1_NO_LOW_PRIORITY","id":46},{"name":"WEEKEND_TOURNEY_REGISTRATION_NOT_OPEN","id":47},{"name":"WEEKEND_TOURNEY_UNMATCHED","id":48},{"name":"POST_MATCH_SURVEY","id":49},{"name":"TROPHY_AWARDED","id":50},{"name":"TROPHY_LEVEL_UP","id":51},{"name":"ALL_HERO_CHALLENGE_PROGRESS","id":52},{"name":"NEED_INITIAL_SKILL","id":53},{"name":"NEED_INITIAL_SKILL_IN_PARTY","id":54},{"name":"TARGET_ENGINE_MISMATCH","id":55},{"name":"VAC_NOT_VERIFIED","id":56},{"name":"KICKED_FROM_QUEUE_EVENT_STARTING","id":57},{"name":"KICKED_FROM_QUEUE_EVENT_ENDING","id":58},{"name":"EVENT_NO_LOW_PRIORITY","id":59},{"name":"MM_LOW_PRI_ONLY_CASUAL_AR","id":60},{"name":"CNY2015_ONCE_PER_ROUND","id":61},{"name":"LOBBY_FULL","id":62},{"name":"TI2015_POINTS_EARNED","id":63},{"name":"CUSTOM_GAME_INCORRECT_VERSION","id":64},{"name":"COMPETITIVE_MM_MMR_TOO_HIGH_S2","id":65}]}]},{"name":"CMsgDOTATeamMemberSDO","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"uint32","name":"team_ids","id":2},{"rule":"optional","type":"uint32","name":"profile_team_id","id":3}]},{"name":"CMsgDOTATeamAdminSDO","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"uint32","name":"team_ids","id":2}]},{"name":"CMsgDOTATeamMember","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"time_joined","id":4}]},{"name":"CMsgDOTATeam","fields":[{"rule":"repeated","type":"CMsgDOTATeamMember","name":"members","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2},{"rule":"optional","type":"string","name":"name","id":3},{"rule":"optional","type":"string","name":"tag","id":4},{"rule":"optional","type":"uint32","name":"admin_id","id":5},{"rule":"optional","type":"uint32","name":"time_created","id":6},{"rule":"optional","type":"bool","name":"disbanded","id":7},{"rule":"optional","type":"uint32","name":"wins","id":8},{"rule":"optional","type":"uint32","name":"losses","id":9},{"rule":"optional","type":"uint32","name":"rank","id":10},{"rule":"optional","type":"uint32","name":"calibration_games_remaining","id":24},{"rule":"optional","type":"uint64","name":"logo","id":11},{"rule":"optional","type":"uint64","name":"base_logo","id":12},{"rule":"optional","type":"uint64","name":"banner_logo","id":13},{"rule":"optional","type":"uint64","name":"sponsor_logo","id":14},{"rule":"optional","type":"string","name":"country_code","id":15},{"rule":"optional","type":"string","name":"url","id":16},{"rule":"optional","type":"uint32","name":"fullgamesplayed","id":17},{"rule":"repeated","type":"uint32","name":"leagues","id":18},{"rule":"optional","type":"uint32","name":"gamesplayed","id":19},{"rule":"optional","type":"uint32","name":"gamesplayedwithcurrentroster","id":20},{"rule":"optional","type":"uint32","name":"teammatchmakinggamesplayed","id":21},{"rule":"optional","type":"uint32","name":"lastplayedgametime","id":22},{"rule":"optional","type":"uint32","name":"lastrenametime","id":23}]},{"name":"CMsgDOTACreateTeam","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"tag","id":2},{"rule":"optional","type":"uint64","name":"logo","id":3},{"rule":"optional","type":"uint64","name":"base_logo","id":4},{"rule":"optional","type":"uint64","name":"banner_logo","id":5},{"rule":"optional","type":"uint64","name":"sponsor_logo","id":6},{"rule":"optional","type":"string","name":"country_code","id":7},{"rule":"optional","type":"string","name":"url","id":8}]},{"name":"CMsgDOTACreateTeamResponse","fields":[{"rule":"repeated","type":"Result","name":"results","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2},{"rule":"optional","type":"uint32","name":"seconds_remaining","id":3},{"rule":"optional","type":"uint32","name":"required_level","id":4}],"enums":[{"name":"Result","values":[{"name":"INVALID","id":-1},{"name":"SUCCESS","id":0},{"name":"NAME_EMPTY","id":1},{"name":"NAME_BAD_CHARACTERS","id":2},{"name":"NAME_TAKEN","id":3},{"name":"NAME_TOO_LONG","id":4},{"name":"TAG_EMPTY","id":5},{"name":"TAG_BAD_CHARACTERS","id":6},{"name":"TAG_TAKEN","id":7},{"name":"TAG_TOO_LONG","id":8},{"name":"CREATOR_BUSY","id":9},{"name":"UNSPECIFIED_ERROR","id":10},{"name":"CREATOR_TEAM_LIMIT_REACHED","id":11},{"name":"NO_LOGO","id":12},{"name":"CREATOR_TEAM_CREATION_COOLDOWN","id":13},{"name":"LOGO_UPLOAD_FAILED","id":14},{"name":"NAME_CHANGED_TOO_RECENTLY","id":15},{"name":"CREATOR_INSUFFICIENT_LEVEL","id":16}]}]},{"name":"CMsgDOTAEditTeam","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"tag","id":2},{"rule":"optional","type":"uint64","name":"logo","id":3},{"rule":"optional","type":"uint64","name":"base_logo","id":4},{"rule":"optional","type":"uint64","name":"banner_logo","id":5},{"rule":"optional","type":"uint64","name":"sponsor_logo","id":6},{"rule":"optional","type":"string","name":"country_code","id":7},{"rule":"optional","type":"string","name":"url","id":8},{"rule":"optional","type":"uint32","name":"team_id","id":9}]},{"name":"CMsgDOTAEditTeamLogo","fields":[{"rule":"optional","type":"uint64","name":"logo","id":1},{"rule":"optional","type":"uint64","name":"base_logo","id":2},{"rule":"optional","type":"uint64","name":"banner_logo","id":3},{"rule":"optional","type":"uint64","name":"sponsor_logo","id":4},{"rule":"optional","type":"uint32","name":"team_id","id":5}]},{"name":"CMsgDOTAEditTeamLogoResponse","fields":[{"rule":"repeated","type":"Result","name":"results","id":1}],"enums":[{"name":"Result","values":[{"name":"INVALID","id":-1},{"name":"SUCCESS","id":0},{"name":"CREATOR_BUSY","id":9},{"name":"UNSPECIFIED_ERROR","id":10},{"name":"NO_LOGO","id":12}]}]},{"name":"CMsgDOTAEditTeamDetails","fields":[{"rule":"optional","type":"string","name":"country_code","id":1},{"rule":"optional","type":"string","name":"url","id":2},{"rule":"optional","type":"uint32","name":"team_id","id":3}]},{"name":"CMsgDOTAEditTeamDetailsResponse","fields":[{"rule":"repeated","type":"Result","name":"results","id":1}],"enums":[{"name":"Result","values":[{"name":"INVALID","id":-1},{"name":"SUCCESS","id":0},{"name":"CREATOR_BUSY","id":9},{"name":"UNSPECIFIED_ERROR","id":10}]}]},{"name":"CMsgDOTADisbandTeam","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1}]},{"name":"CMsgDOTADisbandTeamResponse","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"string","name":"team_name","id":2}],"enums":[{"name":"Result","values":[{"name":"SUCCESS","id":0},{"name":"FAILURE","id":1},{"name":"FAILURE_NOT_EMPTY","id":2}]}]},{"name":"CMsgDOTARequestTeamData","fields":[]},{"name":"CMsgDOTARequestTeamDataResponse","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"CMsgDOTATeamData","name":"data","id":2}],"enums":[{"name":"Result","values":[{"name":"SUCCESS","id":0},{"name":"FAILURE","id":1}]}]},{"name":"CMsgDOTATeamData","fields":[{"rule":"optional","type":"bool","name":"on_team","id":1},{"rule":"optional","type":"bool","name":"profile_team","id":2},{"rule":"optional","type":"CMsgDOTATeam","name":"team","id":3}]},{"name":"CMsgDOTATeamProfileRequest","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1}]},{"name":"CMsgDOTATeamMemberProfileRequest","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1}]},{"name":"CMsgDOTATeamIDByNameRequest","fields":[{"rule":"optional","type":"string","name":"name","id":1}]},{"name":"CMsgDOTATeamIDByNameResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2}]},{"name":"CMsgDOTATeamProfileResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1},{"rule":"optional","type":"CMsgDOTATeam","name":"team","id":2}]},{"name":"CMsgDOTAProTeamListRequest","fields":[]},{"name":"CMsgDOTAProTeamListResponse","fields":[{"rule":"repeated","type":"TeamEntry","name":"teams","id":1},{"rule":"optional","type":"uint32","name":"eresult","id":2}],"messages":[{"name":"TeamEntry","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1},{"rule":"optional","type":"string","name":"tag","id":2},{"rule":"optional","type":"uint32","name":"time_created","id":3},{"rule":"optional","type":"uint64","name":"logo","id":4},{"rule":"optional","type":"string","name":"country_code","id":5},{"rule":"optional","type":"uint32","name":"member_count","id":6}]}]},{"name":"CMsgDOTATeamInvite_InviterToGC","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2}]},{"name":"CMsgDOTATeamInvite_GCImmediateResponseToInviter","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"string","name":"invitee_name","id":2},{"rule":"optional","type":"uint32","name":"required_level","id":3}],"enums":[{"name":"Result","values":[{"name":"SUCCESS","id":0},{"name":"MEMBER_LIMIT","id":1},{"name":"INVITEE_NOT_AVAILABLE","id":2},{"name":"INVITEE_BUSY","id":3},{"name":"INVITEE_ALREADY_ON_THE_TEAM","id":4},{"name":"INVITEE_ALREADY_ON_TOO_MANY_TEAMS","id":5},{"name":"UNSPECIFIED_ERROR","id":6},{"name":"INVITEE_INSUFFICIENT_LEVEL","id":7}]}]},{"name":"CMsgDOTATeamInvite_GCRequestToInvitee","fields":[{"rule":"optional","type":"uint32","name":"inviter_account_id","id":1},{"rule":"optional","type":"string","name":"team_name","id":2},{"rule":"optional","type":"string","name":"team_tag","id":3},{"rule":"optional","type":"uint64","name":"logo","id":4}]},{"name":"CMsgDOTATeamInvite_InviteeResponseToGC","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"JOIN"}}],"enums":[{"name":"Result","values":[{"name":"JOIN","id":0},{"name":"REJECT","id":1},{"name":"TIMEOUT","id":2}]}]},{"name":"CMsgDOTATeamInvite_GCResponseToInviter","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"JOINED"}},{"rule":"optional","type":"string","name":"invitee_name","id":2}],"enums":[{"name":"Result","values":[{"name":"JOINED","id":0},{"name":"REJECTION","id":1},{"name":"TIMEOUT","id":2},{"name":"UNSPECIFIED_ERROR","id":3}]}]},{"name":"CMsgDOTATeamInvite_GCResponseToInvitee","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"string","name":"team_name","id":2}],"enums":[{"name":"Result","values":[{"name":"SUCCESS","id":0},{"name":"FAILURE","id":1}]}]},{"name":"CMsgDOTATeamOnProfile","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1},{"rule":"optional","type":"bool","name":"enabled","id":2}]},{"name":"CMsgDOTAKickTeamMember","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2}]},{"name":"CMsgDOTAKickTeamMemberResponse","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"Result","values":[{"name":"SUCCESS","id":0},{"name":"FAILURE","id":1}]}]},{"name":"CMsgDOTATransferTeamAdmin","fields":[{"rule":"optional","type":"uint32","name":"new_admin_account_id","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2}]},{"name":"CMsgDOTATransferTeamAdminResponse","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"string","name":"invitee_name","id":2}],"enums":[{"name":"Result","values":[{"name":"SUCCESS","id":0},{"name":"NOT_ADMIN","id":1},{"name":"ON_OTHER_TEAM","id":2},{"name":"ADMIN_OF_OTHER_TEAM","id":3},{"name":"UNSPECIFIED_ERROR","id":4}]}]},{"name":"CMsgDOTALeaveTeam","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1}]},{"name":"CMsgDOTALeaveTeamResponse","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"string","name":"team_name","id":2}],"enums":[{"name":"Result","values":[{"name":"SUCCESS","id":0},{"name":"FAILURE","id":1}]}]},{"name":"CMsgDOTABetaParticipation","fields":[{"rule":"optional","type":"uint32","name":"access_rights","id":1}]},{"name":"CMsgDOTAJoinChatChannel","fields":[{"rule":"optional","type":"string","name":"channel_name","id":2},{"rule":"optional","type":"DOTAChatChannelType_t","name":"channel_type","id":4,"options":{"default":"DOTAChannelType_Regional"}}]},{"name":"CMsgDOTALeaveChatChannel","fields":[{"rule":"optional","type":"uint64","name":"channel_id","id":1}]},{"name":"CMsgDOTAClientIgnoredUser","fields":[{"rule":"optional","type":"uint32","name":"ignored_account_id","id":1}]},{"name":"CMsgDOTAChatMessage","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"channel_id","id":2},{"rule":"optional","type":"string","name":"persona_name","id":3},{"rule":"optional","type":"string","name":"text","id":4},{"rule":"optional","type":"uint32","name":"timestamp","id":5},{"rule":"optional","type":"uint32","name":"suggest_invite_account_id","id":6},{"rule":"optional","type":"string","name":"suggest_invite_name","id":7},{"rule":"optional","type":"uint32","name":"fantasy_draft_owner_account_id","id":8},{"rule":"optional","type":"uint32","name":"fantasy_draft_player_account_id","id":9},{"rule":"optional","type":"uint32","name":"event_id","id":10},{"rule":"optional","type":"bool","name":"suggest_invite_to_lobby","id":11},{"rule":"optional","type":"uint32","name":"event_points","id":12},{"rule":"optional","type":"int32","name":"player_id","id":13,"options":{"default":-1}}]},{"name":"CMsgDOTAChatMember","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"string","name":"persona_name","id":2}]},{"name":"CMsgDOTAJoinChatChannelResponse","fields":[{"rule":"optional","type":"uint32","name":"response","id":1},{"rule":"optional","type":"string","name":"channel_name","id":2},{"rule":"optional","type":"fixed64","name":"channel_id","id":3},{"rule":"optional","type":"uint32","name":"max_members","id":4},{"rule":"repeated","type":"CMsgDOTAChatMember","name":"members","id":5}]},{"name":"CMsgDOTAChatChannelFullUpdate","fields":[{"rule":"optional","type":"fixed64","name":"channel_id","id":1},{"rule":"repeated","type":"CMsgDOTAChatMember","name":"members","id":2}]},{"name":"CMsgDOTAOtherJoinedChatChannel","fields":[{"rule":"optional","type":"fixed64","name":"channel_id","id":1},{"rule":"optional","type":"string","name":"persona_name","id":2},{"rule":"optional","type":"fixed64","name":"steam_id","id":3}]},{"name":"CMsgDOTAOtherLeftChatChannel","fields":[{"rule":"optional","type":"fixed64","name":"channel_id","id":1},{"rule":"optional","type":"fixed64","name":"steam_id","id":2}]},{"name":"CMsgDOTAChatChannelMemberUpdate","fields":[{"rule":"optional","type":"fixed64","name":"channel_id","id":1},{"rule":"repeated","type":"fixed64","name":"left_steam_ids","id":2},{"rule":"repeated","type":"JoinedMember","name":"joined_members","id":3}],"messages":[{"name":"JoinedMember","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"string","name":"persona_name","id":2}]}]},{"name":"CMsgDOTARequestChatChannelList","fields":[]},{"name":"CMsgDOTARequestChatChannelListResponse","fields":[{"rule":"repeated","type":"ChatChannel","name":"channels","id":1}],"messages":[{"name":"ChatChannel","fields":[{"rule":"optional","type":"string","name":"channel_name","id":1},{"rule":"optional","type":"uint32","name":"num_members","id":2},{"rule":"optional","type":"DOTAChatChannelType_t","name":"channel_type","id":3,"options":{"default":"DOTAChannelType_Regional"}}]}]},{"name":"CMsgDOTAChatGetUserList","fields":[{"rule":"optional","type":"fixed64","name":"channel_id","id":1}]},{"name":"CMsgDOTAChatGetUserListResponse","fields":[{"rule":"optional","type":"fixed64","name":"channel_id","id":1},{"rule":"repeated","type":"Member","name":"members","id":2}],"messages":[{"name":"Member","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"string","name":"persona_name","id":2}]}]},{"name":"CMsgDOTAChatGetMemberCount","fields":[{"rule":"optional","type":"string","name":"channel_name","id":1},{"rule":"optional","type":"DOTAChatChannelType_t","name":"channel_type","id":2,"options":{"default":"DOTAChannelType_Regional"}}]},{"name":"CMsgDOTAChatGetMemberCountResponse","fields":[{"rule":"optional","type":"string","name":"channel_name","id":1},{"rule":"optional","type":"DOTAChatChannelType_t","name":"channel_type","id":2,"options":{"default":"DOTAChannelType_Regional"}},{"rule":"optional","type":"uint32","name":"member_count","id":3}]},{"name":"CMsgDOTAGuildSDO","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"string","name":"tag","id":3},{"rule":"optional","type":"uint32","name":"time_created","id":4},{"rule":"optional","type":"uint32","name":"time_disbanded","id":5},{"rule":"optional","type":"uint64","name":"logo","id":6},{"rule":"optional","type":"uint64","name":"base_logo","id":7},{"rule":"optional","type":"uint64","name":"banner_logo","id":8},{"rule":"repeated","type":"Member","name":"members","id":9},{"rule":"repeated","type":"Invitation","name":"invitations","id":10},{"rule":"optional","type":"string","name":"message","id":11},{"rule":"optional","type":"bool","name":"incremental","id":12}],"messages":[{"name":"Member","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"time_joined","id":2},{"rule":"optional","type":"uint32","name":"role","id":3}]},{"name":"Invitation","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"time_sent","id":2},{"rule":"optional","type":"uint32","name":"account_id_sender","id":3}]}]},{"name":"CMsgDOTAGuildAuditSDO","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"repeated","type":"Entry","name":"entries","id":2}],"messages":[{"name":"Entry","fields":[{"rule":"optional","type":"uint32","name":"event_index","id":1},{"rule":"optional","type":"uint32","name":"timestamp","id":2},{"rule":"optional","type":"uint32","name":"action","id":3},{"rule":"optional","type":"uint32","name":"account_id_requestor","id":4},{"rule":"optional","type":"uint32","name":"account_id_target","id":5},{"rule":"optional","type":"uint32","name":"reference_data_a","id":6},{"rule":"optional","type":"uint32","name":"reference_data_b","id":7}]}]},{"name":"CMsgDOTAAccountGuildMembershipsSDO","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"Membership","name":"memberships","id":2},{"rule":"repeated","type":"Invitation","name":"invitations","id":3}],"messages":[{"name":"Membership","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"uint32","name":"role","id":2}]},{"name":"Invitation","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"uint32","name":"time_sent","id":2},{"rule":"optional","type":"uint32","name":"account_id_sender","id":3}]}]},{"name":"CMsgDOTAGuildCreateRequest","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"tag","id":2},{"rule":"optional","type":"uint64","name":"logo","id":3},{"rule":"optional","type":"uint64","name":"base_logo","id":4},{"rule":"optional","type":"uint64","name":"banner_logo","id":5}]},{"name":"CMsgDOTAGuildCreateResponse","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"repeated","type":"EError","name":"errors","id":2}],"enums":[{"name":"EError","values":[{"name":"UNSPECIFIED","id":0},{"name":"NAME_EMPTY","id":1},{"name":"NAME_BAD_CHARACTERS","id":2},{"name":"NAME_TOO_LONG","id":3},{"name":"NAME_TAKEN","id":4},{"name":"TAG_EMPTY","id":5},{"name":"TAG_BAD_CHARACTERS","id":6},{"name":"TAG_TOO_LONG","id":7},{"name":"ACCOUNT_TOO_MANY_GUILDS","id":8},{"name":"LOGO_UPLOAD_FAILED","id":9}]}]},{"name":"CMsgDOTAGuildSetAccountRoleRequest","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"uint32","name":"target_account_id","id":2},{"rule":"optional","type":"uint32","name":"target_role","id":3}]},{"name":"CMsgDOTAGuildSetAccountRoleResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2},{"name":"ERROR_NO_OTHER_LEADER","id":3},{"name":"ERROR_ACCOUNT_TOO_MANY_GUILDS","id":4},{"name":"ERROR_GUILD_TOO_MANY_MEMBERS","id":5}]}]},{"name":"CMsgDOTAGuildInviteAccountRequest","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"uint32","name":"target_account_id","id":2}]},{"name":"CMsgDOTAGuildInviteAccountResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2},{"name":"ERROR_ACCOUNT_ALREADY_INVITED","id":3},{"name":"ERROR_ACCOUNT_ALREADY_IN_GUILD","id":4},{"name":"ERROR_ACCOUNT_TOO_MANY_INVITES","id":5},{"name":"ERROR_GUILD_TOO_MANY_INVITES","id":6},{"name":"ERROR_ACCOUNT_TOO_MANY_GUILDS","id":7}]}]},{"name":"CMsgDOTAGuildCancelInviteRequest","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"uint32","name":"target_account_id","id":2}]},{"name":"CMsgDOTAGuildCancelInviteResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAGuildUpdateDetailsRequest","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"uint64","name":"logo","id":2},{"rule":"optional","type":"uint64","name":"base_logo","id":3},{"rule":"optional","type":"uint64","name":"banner_logo","id":4}]},{"name":"CMsgDOTAGuildUpdateDetailsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAGCToGCUpdateOpenGuildPartyRequest","fields":[{"rule":"optional","type":"uint64","name":"party_id","id":1},{"rule":"optional","type":"uint32","name":"guild_id","id":2},{"rule":"repeated","type":"uint32","name":"member_account_ids","id":3},{"rule":"optional","type":"string","name":"description","id":4}]},{"name":"CMsgDOTAGCToGCUpdateOpenGuildPartyResponse","fields":[{"rule":"optional","type":"bool","name":"maintain_association","id":1}]},{"name":"CMsgDOTAGCToGCDestroyOpenGuildPartyRequest","fields":[{"rule":"optional","type":"uint64","name":"party_id","id":1},{"rule":"optional","type":"uint32","name":"guild_id","id":2}]},{"name":"CMsgDOTAGCToGCDestroyOpenGuildPartyResponse","fields":[]},{"name":"CMsgDOTAPartySetOpenGuildRequest","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"string","name":"description","id":2}]},{"name":"CMsgDOTAPartySetOpenGuildResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1}]}]},{"name":"CMsgDOTAJoinOpenGuildPartyRequest","fields":[{"rule":"optional","type":"uint64","name":"party_id","id":1}]},{"name":"CMsgDOTAJoinOpenGuildPartyResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1}]}]},{"name":"CMsgDOTAGuildOpenPartyRefresh","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"repeated","type":"OpenParty","name":"open_parties","id":2}],"messages":[{"name":"OpenParty","fields":[{"rule":"optional","type":"uint64","name":"party_id","id":1},{"rule":"repeated","type":"uint32","name":"member_account_ids","id":2},{"rule":"optional","type":"uint32","name":"time_created","id":3},{"rule":"optional","type":"string","name":"description","id":4}]}]},{"name":"CMsgDOTARequestGuildData","fields":[]},{"name":"CMsgDOTAGuildInviteData","fields":[{"rule":"optional","type":"bool","name":"invited_to_guild","id":1},{"rule":"optional","type":"uint32","name":"guild_id","id":2},{"rule":"optional","type":"string","name":"guild_name","id":3},{"rule":"optional","type":"string","name":"guild_tag","id":4},{"rule":"optional","type":"uint64","name":"logo","id":5},{"rule":"optional","type":"uint32","name":"inviter","id":6},{"rule":"optional","type":"string","name":"inviter_name","id":7},{"rule":"optional","type":"uint32","name":"member_count","id":8}]},{"name":"CMsgDOTAGuildUpdateMessage","fields":[{"rule":"optional","type":"string","name":"message","id":1},{"rule":"optional","type":"uint32","name":"guild_id","id":2}]},{"name":"CMsgDOTAGuildEditLogoRequest","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"uint64","name":"logo","id":2}]},{"name":"CMsgDOTAGuildEditLogoResponse","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"EResult","name":"result","id":2,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"NO_PERMISSION","id":1},{"name":"LOGO_UPLOAD_FAILED","id":2},{"name":"UNSPECIFIED_ERROR","id":3}]}]},{"name":"CMsgDOTAReportsRemainingRequest","fields":[]},{"name":"CMsgDOTAReportsRemainingResponse","fields":[{"rule":"optional","type":"uint32","name":"num_positive_reports_remaining","id":1},{"rule":"optional","type":"uint32","name":"num_negative_reports_remaining","id":2},{"rule":"optional","type":"uint32","name":"num_positive_reports_total","id":3},{"rule":"optional","type":"uint32","name":"num_negative_reports_total","id":4}]},{"name":"CMsgDOTASubmitPlayerReport","fields":[{"rule":"optional","type":"uint32","name":"target_account_id","id":1},{"rule":"optional","type":"uint32","name":"report_flags","id":2},{"rule":"optional","type":"string","name":"comment","id":5}]},{"name":"CMsgDOTASubmitPlayerReportResponse","fields":[{"rule":"optional","type":"uint32","name":"target_account_id","id":1},{"rule":"optional","type":"uint32","name":"report_flags","id":2},{"rule":"optional","type":"uint32","name":"result","id":3}]},{"name":"CMsgDOTAReportCountsRequest","fields":[{"rule":"optional","type":"uint32","name":"target_account_id","id":1}]},{"name":"CMsgDOTAReportCountsResponse","fields":[{"rule":"optional","type":"uint32","name":"target_account_id","id":1},{"rule":"optional","type":"uint32","name":"leadership_count","id":2},{"rule":"optional","type":"uint32","name":"teaching_count","id":3},{"rule":"optional","type":"uint32","name":"friendly_count","id":4},{"rule":"optional","type":"uint32","name":"forgiving_count","id":5}]},{"name":"CMsgDOTAKickedFromMatchmakingQueue","fields":[{"rule":"optional","type":"MatchType","name":"match_type","id":1,"options":{"default":"MATCH_TYPE_CASUAL"}}]},{"name":"CMsgDOTARequestSaveGames","fields":[{"rule":"optional","type":"uint32","name":"server_region","id":1}]},{"name":"CMsgDOTARequestSaveGamesResponse","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"repeated","type":"CDOTASaveGame","name":"save_games","id":2}]},{"name":"CMsgWatchGame","fields":[{"rule":"optional","type":"fixed64","name":"server_steamid","id":1},{"rule":"optional","type":"uint32","name":"client_version","id":2},{"rule":"optional","type":"fixed64","name":"watch_server_steamid","id":3},{"rule":"optional","type":"uint64","name":"lobby_id","id":4}]},{"name":"CMsgCancelWatchGame","fields":[]},{"name":"CMsgWatchGameResponse","fields":[{"rule":"optional","type":"WatchGameResult","name":"watch_game_result","id":1,"options":{"default":"PENDING"}},{"rule":"optional","type":"uint32","name":"source_tv_public_addr","id":2},{"rule":"optional","type":"uint32","name":"source_tv_private_addr","id":3},{"rule":"optional","type":"uint32","name":"source_tv_port","id":4},{"rule":"optional","type":"fixed64","name":"game_server_steamid","id":5},{"rule":"optional","type":"fixed64","name":"watch_server_steamid","id":6},{"rule":"optional","type":"fixed64","name":"watch_tv_unique_secret_code","id":7}],"enums":[{"name":"WatchGameResult","values":[{"name":"PENDING","id":0},{"name":"READY","id":1},{"name":"GAMESERVERNOTFOUND","id":2},{"name":"UNAVAILABLE","id":3},{"name":"CANCELLED","id":4},{"name":"INCOMPATIBLEVERSION","id":5},{"name":"MISSINGLEAGUESUBSCRIPTION","id":6},{"name":"LOBBYNOTFOUND","id":7}]}]},{"name":"CMsgPartyLeaderWatchGamePrompt","fields":[{"rule":"optional","type":"fixed64","name":"game_server_steamid","id":5}]},{"name":"CMsgGCMatchDetailsRequest","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1}]},{"name":"CMsgGCMatchDetailsResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1},{"rule":"optional","type":"CMsgDOTAMatch","name":"match","id":2},{"rule":"optional","type":"DOTAMatchVote","name":"vote","id":3,"options":{"default":"DOTAMatchVote_INVALID"}}]},{"name":"CMsgDOTAProfileRequest","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"bool","name":"request_name","id":2},{"rule":"optional","type":"ESourceEngine","name":"engine","id":3,"options":{"default":"k_ESE_Source1"}}]},{"name":"CMsgDOTAProfileResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1},{"rule":"optional","type":"CSODOTAGameAccountClient","name":"game_account_client","id":2},{"rule":"repeated","type":"CMsgDOTAMatch","name":"latest_matches","id":3},{"rule":"repeated","type":"PlayedHero","name":"heroes","id":4},{"rule":"optional","type":"string","name":"player_name","id":5},{"rule":"optional","type":"string","name":"team_name","id":6},{"rule":"optional","type":"string","name":"team_tag","id":7},{"rule":"optional","type":"uint64","name":"team_logo","id":8},{"rule":"optional","type":"ShowcaseHero","name":"showcase_hero","id":9},{"rule":"repeated","type":"LeaguePass","name":"league_passes","id":10},{"rule":"repeated","type":"EventTicket","name":"event_tickets","id":11},{"rule":"optional","type":"uint32","name":"team_id","id":12},{"rule":"optional","type":"bool","name":"has_passport","id":13},{"rule":"repeated","type":"FeaturedItem","name":"featured_items","id":14},{"rule":"optional","type":"uint32","name":"abandon_percent","id":15}],"messages":[{"name":"PlayedHero","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"optional","type":"uint32","name":"wins","id":2}]},{"name":"ShowcaseHero","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"repeated","type":"bytes","name":"object_data","id":2}]},{"name":"LeaguePass","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1},{"rule":"optional","type":"uint32","name":"item_def","id":2}]},{"name":"EventTicket","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1}]},{"name":"FeaturedItem","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1},{"rule":"optional","type":"bytes","name":"object_data","id":2},{"rule":"optional","type":"uint32","name":"slot_index","id":3}]}]},{"name":"CMsgGCSteamProfileRequest","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgGCSteamProfileRequestResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1}]},{"name":"CMsgDOTAClearNotifySuccessfulReport","fields":[]},{"name":"CMsgDOTAWelcome","fields":[{"rule":"optional","type":"bool","name":"tournament_admin","id":3},{"rule":"optional","type":"bool","name":"tournament_broadcaster","id":4},{"rule":"optional","type":"uint32","name":"store_item_hash","id":5},{"rule":"optional","type":"uint32","name":"timeplayedconsecutively","id":6},{"rule":"optional","type":"bool","name":"allow_3rd_party_match_history","id":7},{"rule":"optional","type":"PartnerAccountType","name":"partner_account_type","id":8,"options":{"default":"PARTNER_NONE"}},{"rule":"optional","type":"uint32","name":"banned_word_list_word_id","id":9},{"rule":"optional","type":"uint32","name":"partner_account_state","id":11},{"rule":"optional","type":"uint32","name":"last_time_played","id":12},{"rule":"optional","type":"uint32","name":"last_ip_address","id":13},{"rule":"optional","type":"uint32","name":"shutdownlawterminateminutes","id":15},{"rule":"optional","type":"uint32","name":"banned_word_list_version","id":16},{"rule":"optional","type":"bool","name":"profile_private","id":17},{"rule":"optional","type":"uint32","name":"currency","id":18},{"rule":"optional","type":"uint32","name":"bang_no","id":19},{"rule":"optional","type":"bool","name":"should_request_player_origin","id":20},{"rule":"optional","type":"uint64","name":"compendium_unlocks","id":21},{"rule":"optional","type":"uint32","name":"gc_socache_file_version","id":22},{"rule":"repeated","type":"LocalizationDigest","name":"localization_digests","id":23},{"rule":"optional","type":"bool","name":"is_perfect_world_test_account","id":24},{"rule":"repeated","type":"EIngameEvent","name":"active_events","id":25},{"rule":"repeated","type":"CExtraMsg","name":"extra_messages","id":26}],"messages":[{"name":"LocalizationDigest","fields":[{"rule":"optional","type":"string","name":"context","id":1},{"rule":"optional","type":"CMsgSHA1Digest","name":"english_language_file_sha1","id":2},{"rule":"optional","type":"CMsgSHA1Digest","name":"client_language_file_sha1","id":3}]},{"name":"CExtraMsg","fields":[{"rule":"optional","type":"uint32","name":"id","id":1},{"rule":"optional","type":"bytes","name":"contents","id":2}]}]},{"name":"CSODOTAGameHeroFavorites","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"hero_id","id":2,"options":{"(key_field)":true}}]},{"name":"CMsgDOTAHeroFavoritesAdd","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1}]},{"name":"CMsgDOTAHeroFavoritesRemove","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1}]},{"name":"CMsgSetShowcaseHero","fields":[{"rule":"optional","type":"uint32","name":"showcase_hero_id","id":1}]},{"name":"CMsgSetFeaturedItems","fields":[{"rule":"repeated","type":"uint64","name":"featured_item_id","id":1}]},{"name":"CMsgDOTAFeaturedItems","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"uint64","name":"featured_item_id","id":2},{"rule":"repeated","type":"bytes","name":"object_data","id":3}]},{"name":"CMsgRequestLeagueInfo","fields":[]},{"name":"CLeague","fields":[{"rule":"optional","type":"uint32","name":"leagueid","id":1},{"rule":"optional","type":"bool","name":"live","id":2},{"rule":"optional","type":"fixed32","name":"lastgametime","id":4},{"rule":"optional","type":"uint32","name":"prize_pool_usd","id":5},{"rule":"optional","type":"uint32","name":"version","id":6},{"rule":"optional","type":"bool","name":"compendium_is_public","id":7},{"rule":"optional","type":"uint32","name":"content_version","id":8}]},{"name":"CMsgResponseLeagueInfo","fields":[{"rule":"repeated","type":"CLeague","name":"leagues","id":1}]},{"name":"CMsgDOTAMatchVotes","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"repeated","type":"PlayerVote","name":"votes","id":2}],"messages":[{"name":"PlayerVote","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"vote","id":2}]}]},{"name":"CMsgCastMatchVote","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"DOTAMatchVote","name":"vote","id":2,"options":{"default":"DOTAMatchVote_INVALID"}}]},{"name":"CMsgRetrieveMatchVote","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"incremental","id":2}]},{"name":"CMsgMatchVoteResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}},{"rule":"optional","type":"DOTAMatchVote","name":"vote","id":2,"options":{"default":"DOTAMatchVote_INVALID"}},{"rule":"optional","type":"uint32","name":"positive_votes","id":3},{"rule":"optional","type":"uint32","name":"negative_votes","id":4}]},{"name":"CMsgDOTAHallOfFame","fields":[{"rule":"optional","type":"uint32","name":"week","id":1},{"rule":"repeated","type":"FeaturedPlayer","name":"featured_players","id":2},{"rule":"optional","type":"FeaturedFarmer","name":"featured_farmer","id":3}],"messages":[{"name":"FeaturedPlayer","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"hero_id","id":2},{"rule":"optional","type":"float","name":"average_scaled_metric","id":3},{"rule":"optional","type":"uint32","name":"num_games","id":4}]},{"name":"FeaturedFarmer","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"hero_id","id":2},{"rule":"optional","type":"uint32","name":"gold_per_min","id":3},{"rule":"optional","type":"uint64","name":"match_id","id":4}]}]},{"name":"CMsgDOTAHallOfFameRequest","fields":[{"rule":"optional","type":"uint32","name":"week","id":1}]},{"name":"CMsgDOTAHallOfFameResponse","fields":[{"rule":"optional","type":"CMsgDOTAHallOfFame","name":"hall_of_fame","id":1},{"rule":"optional","type":"uint32","name":"eresult","id":2,"options":{"default":2}}]},{"name":"CMsgDOTAHalloweenHighScoreRequest","fields":[{"rule":"optional","type":"int32","name":"round","id":1,"options":{"default":-1}}]},{"name":"CMsgDOTAHalloweenHighScoreResponse","fields":[{"rule":"optional","type":"uint32","name":"score","id":1},{"rule":"optional","type":"CMsgDOTAMatch","name":"match","id":2},{"rule":"optional","type":"uint32","name":"eresult","id":3},{"rule":"optional","type":"int32","name":"round","id":4}]},{"name":"CMsgDOTAStorePromoPagesRequest","fields":[{"rule":"optional","type":"uint32","name":"version_seen","id":1}]},{"name":"CMsgDOTAStorePromoPagesResponse","fields":[{"rule":"repeated","type":"PromoPage","name":"pages","id":1}],"messages":[{"name":"PromoPage","fields":[{"rule":"optional","type":"uint32","name":"promo_id","id":1},{"rule":"optional","type":"string","name":"title","id":2},{"rule":"optional","type":"string","name":"url","id":3}]}]},{"name":"CMsgLeagueScheduleBlockTeamInfo","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"uint64","name":"logo","id":4}]},{"name":"CMsgLeagueScheduleBlock","fields":[{"rule":"optional","type":"uint32","name":"block_id","id":1},{"rule":"optional","type":"uint32","name":"start_time","id":2},{"rule":"optional","type":"bool","name":"finals","id":4},{"rule":"optional","type":"string","name":"comment","id":5},{"rule":"repeated","type":"CMsgLeagueScheduleBlockTeamInfo","name":"teams","id":6}]},{"name":"CMsgDOTALeague","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1},{"rule":"repeated","type":"CMsgLeagueScheduleBlock","name":"schedule","id":2}]},{"name":"CMsgDOTALeagueScheduleRequest","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1}]},{"name":"CMsgDOTALeagueScheduleResponse","fields":[{"rule":"optional","type":"CMsgDOTALeague","name":"league","id":1},{"rule":"optional","type":"uint32","name":"eresult","id":2,"options":{"default":2}}]},{"name":"CMsgDOTALeagueScheduleEdit","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1},{"rule":"optional","type":"CMsgLeagueScheduleBlock","name":"schedule","id":2},{"rule":"optional","type":"bool","name":"delete_block","id":3}]},{"name":"CMsgDOTALeagueScheduleEditResponse","fields":[{"rule":"optional","type":"CMsgDOTALeague","name":"league","id":1},{"rule":"optional","type":"uint32","name":"eresult","id":2,"options":{"default":2}}]},{"name":"CMsgDOTALeaguesInMonthRequest","fields":[{"rule":"optional","type":"uint32","name":"month","id":1},{"rule":"optional","type":"uint32","name":"year","id":2},{"rule":"optional","type":"uint32","name":"tier","id":3}]},{"name":"CMsgDOTALeaguesInMonthResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}},{"rule":"optional","type":"uint32","name":"month","id":2},{"rule":"optional","type":"uint32","name":"year","id":3},{"rule":"repeated","type":"CMsgDOTALeague","name":"leagues","id":4}]},{"name":"CMsgSockAddrList","fields":[{"rule":"repeated","type":"fixed32","name":"ip","id":1,"options":{"packed":true}},{"rule":"repeated","type":"uint32","name":"port","id":2,"options":{"packed":true}}]},{"name":"CMsgMatchmakingGroupServerSample","fields":[{"rule":"repeated","type":"CMsgSockAddrList","name":"servers_by_group","id":5},{"rule":"optional","type":"uint32","name":"servers_to_ping","id":2},{"rule":"optional","type":"uint32","name":"reply_odds","id":3},{"rule":"optional","type":"uint32","name":"reply_detailed_odds","id":4}]},{"name":"CMsgClientGameserverPings","fields":[{"rule":"repeated","type":"uint32","name":"average_ping_by_group","id":1},{"rule":"repeated","type":"PingDetail","name":"ping_details","id":2}],"messages":[{"name":"PingDetail","fields":[{"rule":"optional","type":"fixed32","name":"ip","id":1},{"rule":"optional","type":"uint32","name":"port","id":2},{"rule":"optional","type":"uint32","name":"ping","id":3}]}]},{"name":"CMsgDOTAMatchmakingStatsRequest","fields":[]},{"name":"CMsgDOTAMatchmakingStatsResponse","fields":[{"rule":"repeated","type":"uint32","name":"searching_players_by_group","id":2},{"rule":"repeated","type":"uint32","name":"searching_players_by_group_source2","id":7},{"rule":"optional","type":"uint32","name":"disabled_groups","id":3},{"rule":"optional","type":"uint32","name":"disabled_groups_source2","id":8},{"rule":"optional","type":"CMsgMatchmakingGroupServerSample","name":"gameserver_sample","id":4},{"rule":"optional","type":"CMsgMatchmakingGroupServerSample","name":"gameserver_sample_source2","id":6},{"rule":"optional","type":"bool","name":"maintenance_alerts","id":5}]},{"name":"CMsgDOTASetMatchHistoryAccess","fields":[{"rule":"optional","type":"bool","name":"allow_3rd_party_match_history","id":1}]},{"name":"CMsgDOTASetMatchHistoryAccessResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgDOTANotifyAccountFlagsChange","fields":[{"rule":"optional","type":"uint32","name":"accountid","id":1},{"rule":"optional","type":"uint32","name":"account_flags","id":2}]},{"name":"CMsgDOTASetProfilePrivacy","fields":[{"rule":"optional","type":"bool","name":"profile_private","id":1}]},{"name":"CMsgDOTASetProfilePrivacyResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1}]},{"name":"CMsgUpgradeLeagueItem","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2}]},{"name":"CMsgUpgradeLeagueItemResponse","fields":[]},{"name":"CMsgGCWatchDownloadedReplay","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"DOTA_WatchReplayType","name":"watch_type","id":2,"options":{"default":"DOTA_WATCH_REPLAY_NORMAL"}}]},{"name":"CMsgSetMapLocationState","fields":[{"rule":"optional","type":"int32","name":"location_id","id":1},{"rule":"optional","type":"bool","name":"completed","id":2}]},{"name":"CMsgSetMapLocationStateResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgResetMapLocations","fields":[]},{"name":"CMsgResetMapLocationsResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgRefreshPartnerAccountLink","fields":[{"rule":"optional","type":"int32","name":"partner_type","id":1}]},{"name":"CMsgClientsRejoinChatChannels","fields":[]},{"name":"CMsgDOTASendFriendRecruits","fields":[{"rule":"repeated","type":"uint32","name":"recruits","id":1}]},{"name":"CMsgDOTAFriendRecruitsRequest","fields":[{"rule":"repeated","type":"uint32","name":"account_ids","id":1}]},{"name":"CMsgDOTAFriendRecruitsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"FriendRecruitStatus","name":"recruits","id":2},{"rule":"repeated","type":"FriendRecruitStatus","name":"recruiters","id":3}],"messages":[{"name":"FriendRecruitStatus","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"status","id":2},{"rule":"optional","type":"uint32","name":"levels_earned","id":3},{"rule":"optional","type":"bool","name":"bonus","id":4}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1}]}]},{"name":"CMsgDOTAFriendRecruitInviteAcceptDecline","fields":[{"rule":"optional","type":"bool","name":"accepted","id":1},{"rule":"optional","type":"uint32","name":"account_id","id":2}]},{"name":"CMsgDOTAPassportVoteTeamGuess","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1},{"rule":"optional","type":"uint32","name":"winner_id","id":2},{"rule":"optional","type":"uint32","name":"runnerup_id","id":3}]},{"name":"CMsgDOTAPassportVoteGenericSelection","fields":[{"rule":"optional","type":"DOTA_2013PassportSelectionIndices","name":"selection_index","id":1,"options":{"default":"PP13_SEL_ALLSTAR_PLAYER_0"}},{"rule":"optional","type":"uint32","name":"selection","id":2}]},{"name":"CMsgDOTAPassportStampedPlayer","fields":[{"rule":"optional","type":"uint64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"stamp_level","id":2}]},{"name":"CMsgDOTAPassportPlayerCardChallenge","fields":[{"rule":"optional","type":"uint32","name":"challenge_id","id":1}]},{"name":"CMsgDOTAPassportVote","fields":[{"rule":"repeated","type":"CMsgDOTAPassportVoteTeamGuess","name":"team_votes","id":1},{"rule":"repeated","type":"CMsgDOTAPassportVoteGenericSelection","name":"generic_selections","id":2},{"rule":"repeated","type":"CMsgDOTAPassportStampedPlayer","name":"stamped_players","id":3},{"rule":"repeated","type":"CMsgDOTAPassportPlayerCardChallenge","name":"player_card_challenges","id":4}]},{"name":"CMsgPassportDataRequest","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgPassportDataResponse","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"result","id":2,"options":{"default":2}},{"rule":"optional","type":"CMsgDOTATournament","name":"international","id":5},{"rule":"optional","type":"uint32","name":"east_qualifiers_predict_end_time","id":7},{"rule":"optional","type":"uint32","name":"west_qualifiers_predict_end_time","id":8},{"rule":"optional","type":"uint32","name":"allstar_match_end_time","id":9},{"rule":"optional","type":"CMsgDOTAPassportVote","name":"league_guesses","id":6},{"rule":"optional","type":"uint32","name":"east_qualifiers_winner_team_id","id":10},{"rule":"optional","type":"uint32","name":"east_qualifiers_runner_up_team_id","id":11},{"rule":"optional","type":"uint32","name":"west_qualifiers_winner_team_id","id":12},{"rule":"optional","type":"uint32","name":"west_qualifiers_runner_up_team_id","id":13},{"rule":"optional","type":"uint32","name":"passports_bought","id":14},{"rule":"optional","type":"uint32","name":"original_purchaser_id","id":15},{"rule":"optional","type":"uint32","name":"fantasy_team_count","id":16},{"rule":"optional","type":"uint32","name":"fantasy_teamexpiration","id":17},{"rule":"optional","type":"uint32","name":"fantasy_teams_will_lock_at","id":18}]},{"name":"CMsgHeroPickStatsRequest","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"uint32","name":"matches_since_time","id":4}]},{"name":"CMsgHeroPickStatPlayer","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"bool","name":"win","id":2},{"rule":"optional","type":"uint32","name":"gpm","id":3},{"rule":"optional","type":"uint32","name":"kills","id":4},{"rule":"optional","type":"uint32","name":"deaths","id":5},{"rule":"optional","type":"uint32","name":"assists","id":6}]},{"name":"CMsgHeroPickStatsResponse","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"optional","type":"uint32","name":"total_picks","id":2},{"rule":"optional","type":"uint32","name":"total_wins","id":3},{"rule":"optional","type":"uint32","name":"team_picks","id":4},{"rule":"optional","type":"uint32","name":"team_wins","id":5},{"rule":"repeated","type":"CMsgHeroPickStatPlayer","name":"player_pick","id":6}]},{"name":"CMsgRequestLeaguePrizePool","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1}]},{"name":"CMsgRequestLeaguePrizePoolResponse","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1},{"rule":"optional","type":"uint32","name":"prize_pool","id":2}]},{"name":"CMsgGCGetHeroStandings","fields":[]},{"name":"CMsgGCGetHeroStandingsResponse","fields":[{"rule":"repeated","type":"Hero","name":"standings","id":1}],"messages":[{"name":"Hero","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"optional","type":"uint32","name":"wins","id":2},{"rule":"optional","type":"uint32","name":"losses","id":3}]}]},{"name":"CMsgGCItemEditorReservationsRequest","fields":[]},{"name":"CMsgGCItemEditorReservation","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"string","name":"name","id":2}]},{"name":"CMsgGCItemEditorReservationsResponse","fields":[{"rule":"repeated","type":"CMsgGCItemEditorReservation","name":"reservations","id":1}]},{"name":"CMsgGCItemEditorReserveItemDef","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"string","name":"username","id":2}]},{"name":"CMsgGCItemEditorReserveItemDefResponse","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"string","name":"username","id":2},{"rule":"optional","type":"uint32","name":"result","id":3}]},{"name":"CMsgGCItemEditorReleaseReservation","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"string","name":"username","id":2}]},{"name":"CMsgGCItemEditorReleaseReservationResponse","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"bool","name":"released","id":2}]},{"name":"CMsgGCItemEditorRequestLeagueInfo","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1}]},{"name":"CMsgGCItemEditorLeagueInfoResponse","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1},{"rule":"optional","type":"string","name":"league_name","id":2},{"rule":"optional","type":"string","name":"league_desc","id":3},{"rule":"optional","type":"string","name":"league_url","id":4},{"rule":"optional","type":"string","name":"revenue_url","id":5},{"rule":"optional","type":"uint32","name":"tier","id":6},{"rule":"optional","type":"uint32","name":"location","id":7},{"rule":"optional","type":"uint32","name":"result","id":8}]},{"name":"CMsgDOTARewardTutorialPrizes","fields":[{"rule":"optional","type":"uint32","name":"location_id","id":1},{"rule":"optional","type":"bool","name":"tracking_only","id":2}]},{"name":"CMsgDOTALastHitChallengeHighScorePost","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"optional","type":"uint32","name":"high_score","id":2}]},{"name":"CMsgDOTALastHitChallengeHighScoreRequest","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1}]},{"name":"CMsgDOTALastHitChallengeHighScoreResponse","fields":[{"rule":"optional","type":"uint32","name":"score","id":1},{"rule":"optional","type":"uint32","name":"eresult","id":2}]},{"name":"CMsgFlipLobbyTeams","fields":[]},{"name":"CMsgPresentedClientTerminateDlg","fields":[]},{"name":"CMsgGCLobbyUpdateBroadcastChannelInfo","fields":[{"rule":"optional","type":"uint32","name":"channel_id","id":1},{"rule":"optional","type":"string","name":"country_code","id":2},{"rule":"optional","type":"string","name":"description","id":3},{"rule":"optional","type":"string","name":"language_code","id":4}]},{"name":"CMsgDOTARedeemEventPrize","fields":[{"rule":"optional","type":"uint32","name":"prize_id","id":1},{"rule":"optional","type":"uint32","name":"event_id","id":2}]},{"name":"CMsgDOTARedeemEventPrizeResponse","fields":[{"rule":"optional","type":"ResultCode","name":"result","id":1,"options":{"default":"Success"}},{"rule":"optional","type":"uint32","name":"remaining_points","id":2},{"rule":"optional","type":"uint32","name":"remaining_premium_points","id":3},{"rule":"optional","type":"uint32","name":"event_id","id":4}],"enums":[{"name":"ResultCode","values":[{"name":"Success","id":0},{"name":"ServerError","id":1},{"name":"InsufficientPoints","id":2},{"name":"PointsHeld","id":3}]}]},{"name":"CMsgDOTAGetEventPoints","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"optional","type":"uint32","name":"account_id","id":2}]},{"name":"CMsgDOTAGetEventPointsResponse","fields":[{"rule":"optional","type":"uint32","name":"total_points","id":1},{"rule":"optional","type":"uint32","name":"total_premium_points","id":2},{"rule":"optional","type":"uint32","name":"event_id","id":3},{"rule":"optional","type":"uint32","name":"points","id":4},{"rule":"optional","type":"uint32","name":"premium_points","id":5},{"rule":"repeated","type":"Action","name":"completed_actions","id":6},{"rule":"optional","type":"uint32","name":"account_id","id":7},{"rule":"optional","type":"bool","name":"owned","id":8}],"messages":[{"name":"Action","fields":[{"rule":"optional","type":"uint32","name":"action_id","id":1},{"rule":"optional","type":"uint32","name":"times_completed","id":2,"options":{"default":1}}]}]},{"name":"CMsgDOTALiveLeagueGameUpdate","fields":[{"rule":"optional","type":"uint32","name":"live_league_games","id":1}]},{"name":"CMsgDOTACompendiumSelection","fields":[{"rule":"optional","type":"uint32","name":"selection_index","id":1},{"rule":"optional","type":"uint32","name":"selection","id":2},{"rule":"optional","type":"uint32","name":"leagueid","id":3}]},{"name":"CMsgDOTACompendiumSelectionResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}},{"rule":"repeated","type":"CMsgDOTACompendiumSelection","name":"extra_selections","id":2}]},{"name":"CMsgDOTACompendiumData","fields":[{"rule":"repeated","type":"CMsgDOTACompendiumSelection","name":"selections","id":1}]},{"name":"CMsgDOTACompendiumDataRequest","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"leagueid","id":2}]},{"name":"CMsgDOTACompendiumDataResponse","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"leagueid","id":2},{"rule":"optional","type":"uint32","name":"result","id":3,"options":{"default":2}},{"rule":"optional","type":"CMsgDOTACompendiumData","name":"compendium_data","id":4}]},{"name":"CMsgDOTAGetPlayerMatchHistory","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"start_at_match_id","id":2},{"rule":"optional","type":"uint32","name":"matches_requested","id":3},{"rule":"optional","type":"uint32","name":"hero_id","id":4},{"rule":"optional","type":"uint32","name":"request_id","id":5},{"rule":"optional","type":"ESourceEngine","name":"engine","id":6,"options":{"default":"k_ESE_Source1"}},{"rule":"optional","type":"bool","name":"include_practice_matches","id":7}]},{"name":"CMsgDOTAGetPlayerMatchHistoryResponse","fields":[{"rule":"repeated","type":"Match","name":"matches","id":1},{"rule":"optional","type":"uint32","name":"request_id","id":2}],"messages":[{"name":"Match","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"start_time","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"bool","name":"winner","id":4},{"rule":"optional","type":"uint32","name":"game_mode","id":5},{"rule":"optional","type":"int32","name":"rank_change","id":6},{"rule":"optional","type":"uint32","name":"previous_rank","id":7},{"rule":"optional","type":"uint32","name":"lobby_type","id":8},{"rule":"optional","type":"bool","name":"solo_rank","id":9},{"rule":"optional","type":"bool","name":"abandon","id":10},{"rule":"optional","type":"uint32","name":"duration","id":11},{"rule":"optional","type":"uint32","name":"engine","id":12}]}]},{"name":"CMsgDOTAStartDailyHeroChallenge","fields":[]},{"name":"CMsgGCNotificationsRequest","fields":[]},{"name":"CMsgGCNotificationsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"Notification","name":"notifications","id":2}],"messages":[{"name":"Notification","fields":[{"rule":"optional","type":"uint64","name":"id","id":1},{"rule":"optional","type":"uint32","name":"type","id":2},{"rule":"optional","type":"uint32","name":"timestamp","id":3},{"rule":"optional","type":"uint32","name":"reference_a","id":4},{"rule":"optional","type":"uint32","name":"reference_b","id":5},{"rule":"optional","type":"uint32","name":"reference_c","id":6},{"rule":"optional","type":"string","name":"message","id":7},{"rule":"optional","type":"bool","name":"unread","id":8}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1}]}]},{"name":"CMsgGCNotificationsMarkReadRequest","fields":[]},{"name":"CMsgClientToGCMarkNotificationListRead","fields":[{"rule":"repeated","type":"uint64","name":"notification_ids","id":1}]},{"name":"CMsgGCLeagueAdminState","fields":[{"rule":"repeated","type":"uint32","name":"leagues","id":1},{"rule":"repeated","type":"PrivateLeagueKeys","name":"keys","id":2}],"messages":[{"name":"PrivateLeagueKeys","fields":[{"rule":"optional","type":"uint32","name":"leagueid","id":1},{"rule":"optional","type":"uint32","name":"privatekey","id":2}]}]},{"name":"CMsgGCPlayerInfoRequest","fields":[{"rule":"repeated","type":"uint32","name":"account_ids","id":1}]},{"name":"CMsgGCPlayerInfoSubmit","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"country_code","id":2},{"rule":"optional","type":"uint32","name":"fantasy_role","id":3},{"rule":"optional","type":"uint32","name":"team_id","id":4},{"rule":"optional","type":"string","name":"sponsor","id":5}]},{"name":"CMsgGCPlayerInfoSubmitResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_INFO_LOCKED","id":2}]}]},{"name":"CMsgSerializedSOCache","fields":[{"rule":"optional","type":"uint32","name":"file_version","id":1},{"rule":"repeated","type":"Cache","name":"caches","id":2},{"rule":"optional","type":"uint32","name":"gc_socache_file_version","id":3}],"messages":[{"name":"TypeCache","fields":[{"rule":"optional","type":"uint32","name":"type","id":1},{"rule":"repeated","type":"bytes","name":"objects","id":2},{"rule":"optional","type":"uint32","name":"service_id","id":3}]},{"name":"Cache","fields":[{"rule":"optional","type":"uint32","name":"type","id":1},{"rule":"optional","type":"uint64","name":"id","id":2},{"rule":"repeated","type":"Version","name":"versions","id":3},{"rule":"repeated","type":"TypeCache","name":"type_caches","id":4}],"messages":[{"name":"Version","fields":[{"rule":"optional","type":"uint32","name":"service","id":1},{"rule":"optional","type":"uint64","name":"version","id":2}]}]}]},{"name":"CMsgRequestWeekendTourneySchedule","fields":[]},{"name":"CMsgWeekendTourneySchedule","fields":[{"rule":"repeated","type":"Division","name":"divisions","id":1}],"messages":[{"name":"Division","fields":[{"rule":"optional","type":"uint32","name":"division_code","id":1},{"rule":"optional","type":"uint32","name":"time_window_open","id":2},{"rule":"optional","type":"uint32","name":"time_window_close","id":3}]}]},{"name":"CMsgClientProvideSurveyResult","fields":[{"rule":"repeated","type":"Response","name":"responses","id":1},{"rule":"optional","type":"uint64","name":"survey_key","id":2}],"messages":[{"name":"Response","fields":[{"rule":"optional","type":"uint32","name":"question_id","id":1},{"rule":"optional","type":"uint32","name":"survey_value","id":2}]}]},{"name":"CMsgDOTAEmoticonAccessSDO","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"bytes","name":"unlocked_emoticons","id":2}]},{"name":"CMsgClientToGCEmoticonDataRequest","fields":[]},{"name":"CMsgGCToClientEmoticonData","fields":[{"rule":"optional","type":"CMsgDOTAEmoticonAccessSDO","name":"emoticon_access","id":1}]},{"name":"CMsgClientToGCTrackDialogResult","fields":[{"rule":"optional","type":"uint32","name":"dialog_id","id":1},{"rule":"optional","type":"uint32","name":"value","id":2}]},{"name":"CMsgGCToClientTournamentItemDrop","fields":[{"rule":"optional","type":"uint32","name":"item_def","id":1},{"rule":"optional","type":"uint32","name":"event_type","id":2}]},{"name":"CMsgClientToGCSetAdditionalEquips","fields":[{"rule":"repeated","type":"CAdditionalEquipSlot","name":"equips","id":1}]},{"name":"CMsgClientToGCSetAdditionalEquipsResponse","fields":[]},{"name":"CMsgClientToGCGetAdditionalEquips","fields":[]},{"name":"CMsgClientToGCGetAdditionalEquipsResponse","fields":[{"rule":"repeated","type":"CAdditionalEquipSlot","name":"equips","id":1}]},{"name":"CMsgClientToGCGetAllHeroProgress","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgClientToGCGetAllHeroProgressResponse","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"curr_hero_id","id":2},{"rule":"optional","type":"uint32","name":"laps_completed","id":3},{"rule":"optional","type":"uint32","name":"curr_hero_games","id":4},{"rule":"optional","type":"uint32","name":"curr_lap_time_started","id":5},{"rule":"optional","type":"uint32","name":"curr_lap_games","id":6},{"rule":"optional","type":"uint32","name":"best_lap_games","id":7},{"rule":"optional","type":"uint32","name":"best_lap_time","id":8},{"rule":"optional","type":"uint32","name":"lap_heroes_completed","id":9},{"rule":"optional","type":"uint32","name":"lap_heroes_remaining","id":10},{"rule":"optional","type":"uint32","name":"next_hero_id","id":11},{"rule":"optional","type":"uint32","name":"prev_hero_id","id":12},{"rule":"optional","type":"uint32","name":"prev_hero_games","id":13},{"rule":"optional","type":"float","name":"prev_avg_tries","id":14},{"rule":"optional","type":"float","name":"curr_avg_tries","id":15},{"rule":"optional","type":"float","name":"next_avg_tries","id":16},{"rule":"optional","type":"float","name":"full_lap_avg_tries","id":17},{"rule":"optional","type":"float","name":"curr_lap_avg_tries","id":18},{"rule":"optional","type":"string","name":"profile_name","id":19}]},{"name":"CMsgClientToGCGetTrophyList","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgClientToGCGetTrophyListResponse","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"Trophy","name":"trophies","id":2},{"rule":"optional","type":"string","name":"profile_name","id":3}],"messages":[{"name":"Trophy","fields":[{"rule":"optional","type":"uint32","name":"trophy_id","id":1},{"rule":"optional","type":"uint32","name":"trophy_score","id":2}]}]},{"name":"CMsgGCToClientTrophyAwarded","fields":[{"rule":"optional","type":"uint32","name":"trophy_id","id":1},{"rule":"optional","type":"uint32","name":"trophy_score","id":2},{"rule":"optional","type":"uint32","name":"trophy_old_score","id":3}]},{"name":"CMsgClientToGCGetProfileCard","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgClientToGCSetProfileCardSlots","fields":[{"rule":"repeated","type":"CardSlot","name":"slots","id":1}],"messages":[{"name":"CardSlot","fields":[{"rule":"optional","type":"uint32","name":"slot_id","id":1},{"rule":"optional","type":"EProfileCardSlotType","name":"slot_type","id":2,"options":{"default":"k_EProfileCardSlotType_Empty"}},{"rule":"optional","type":"uint64","name":"slot_value","id":3}]}]},{"name":"CMsgClientToGCGetProfileCardStats","fields":[]},{"name":"CMsgClientToGCCreateHeroStatue","fields":[{"rule":"optional","type":"uint64","name":"source_item","id":1},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"string","name":"sequence_name","id":4},{"rule":"optional","type":"float","name":"cycle","id":5},{"rule":"repeated","type":"uint32","name":"wearables","id":6},{"rule":"optional","type":"string","name":"inscription","id":7},{"rule":"repeated","type":"uint32","name":"styles","id":8},{"rule":"optional","type":"uint64","name":"reforger_item","id":9},{"rule":"optional","type":"bool","name":"tournament_drop","id":10}]},{"name":"CMsgClientToGCCreateTeamShowcase","fields":[{"rule":"optional","type":"uint64","name":"source_item","id":1},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"string","name":"sequence_name","id":4},{"rule":"optional","type":"float","name":"cycle","id":5},{"rule":"repeated","type":"uint32","name":"wearables","id":6},{"rule":"optional","type":"string","name":"inscription","id":7},{"rule":"repeated","type":"uint32","name":"styles","id":8}]},{"name":"CMsgGCToClientHeroStatueCreateResult","fields":[{"rule":"optional","type":"uint64","name":"resulting_item","id":1}]},{"name":"CMsgGCToClientTeamShowcaseCreateResult","fields":[{"rule":"optional","type":"uint64","name":"resulting_item","id":1}]},{"name":"CMsgClientToGCRecordCompendiumStats","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1},{"rule":"optional","type":"uint32","name":"view_duration_s","id":2},{"rule":"optional","type":"uint32","name":"videos_viewed","id":3},{"rule":"optional","type":"uint32","name":"page_turns","id":4},{"rule":"optional","type":"uint32","name":"links_followed","id":5}]},{"name":"CMsgGCToClientEventStatusChanged","fields":[{"rule":"repeated","type":"EIngameEvent","name":"active_events","id":1}]},{"name":"CMsgClientToGCExchangeItemsForOffering","fields":[{"rule":"repeated","type":"uint64","name":"item_ids","id":1},{"rule":"optional","type":"uint32","name":"recycle_id","id":2}]},{"name":"CMsgClientToGCExchangeItemsForOfferingResponse","fields":[{"rule":"optional","type":"EResponse","name":"response","id":1,"options":{"default":"eResponse_Success"}}],"enums":[{"name":"EResponse","values":[{"name":"eResponse_Success","id":0},{"name":"eResponse_OfferingDisabled","id":1},{"name":"eResponse_InvalidItems","id":2},{"name":"eResponse_InternalError","id":3}]}]},{"name":"CMsgClientToGCPlayerStatsRequest","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgGCToClientPlayerStatsResponse","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"float","name":"player_stats","id":2},{"rule":"optional","type":"uint32","name":"match_count","id":3},{"rule":"optional","type":"float","name":"mean_gpm","id":4},{"rule":"optional","type":"float","name":"mean_xppm","id":5},{"rule":"optional","type":"float","name":"mean_lasthits","id":6},{"rule":"optional","type":"uint32","name":"rampages","id":7},{"rule":"optional","type":"uint32","name":"triple_kills","id":8},{"rule":"optional","type":"uint32","name":"first_blood_claimed","id":9},{"rule":"optional","type":"uint32","name":"first_blood_given","id":10},{"rule":"optional","type":"uint32","name":"couriers_killed","id":11},{"rule":"optional","type":"uint32","name":"aegises_snatched","id":12},{"rule":"optional","type":"uint32","name":"cheeses_eaten","id":13},{"rule":"optional","type":"uint32","name":"creeps_stacked","id":14},{"rule":"optional","type":"float","name":"fight_score","id":15},{"rule":"optional","type":"float","name":"farm_score","id":16},{"rule":"optional","type":"float","name":"support_score","id":17},{"rule":"optional","type":"float","name":"push_score","id":18},{"rule":"optional","type":"float","name":"versatility_score","id":19}]},{"name":"CMsgClientToGCCustomGamePlayerCountRequest","fields":[{"rule":"optional","type":"uint64","name":"custom_game_id","id":1}]},{"name":"CMsgGCToClientCustomGamePlayerCountResponse","fields":[{"rule":"optional","type":"uint64","name":"custom_game_id","id":1},{"rule":"optional","type":"uint64","name":"player_count","id":2},{"rule":"optional","type":"uint64","name":"spectator_count","id":3}]},{"name":"CMsgClientToGCCustomGamesFriendsPlayedRequest","fields":[]},{"name":"CMsgGCToClientCustomGamesFriendsPlayedResponse","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"CustomGame","name":"games","id":2}],"messages":[{"name":"CustomGame","fields":[{"rule":"optional","type":"uint64","name":"custom_game_id","id":1},{"rule":"repeated","type":"uint32","name":"account_ids","id":2}]}]},{"name":"CMsgClientToGCSocialFeedPostCommentRequest","fields":[{"rule":"optional","type":"uint64","name":"event_id","id":1},{"rule":"optional","type":"string","name":"comment","id":2}]},{"name":"CMsgGCToClientSocialFeedPostCommentResponse","fields":[{"rule":"optional","type":"bool","name":"success","id":1}]},{"name":"CMsgClientToGCSocialFeedPostMessageRequest","fields":[{"rule":"optional","type":"string","name":"message","id":1},{"rule":"optional","type":"uint64","name":"match_id","id":2},{"rule":"optional","type":"uint32","name":"match_timestamp","id":3}]},{"name":"CMsgGCToClientSocialFeedPostMessageResponse","fields":[{"rule":"optional","type":"bool","name":"success","id":1}]},{"name":"CMsgClientToGCFriendsPlayedCustomGameRequest","fields":[{"rule":"optional","type":"uint64","name":"custom_game_id","id":1}]},{"name":"CMsgGCToClientFriendsPlayedCustomGameResponse","fields":[{"rule":"optional","type":"uint64","name":"custom_game_id","id":1},{"rule":"repeated","type":"uint32","name":"account_ids","id":2}]},{"name":"CMsgClientToGCFeaturedHeroesRequest","fields":[]},{"name":"CMsgGCToClientFeaturedHeroesResponse","fields":[{"rule":"repeated","type":"Category","name":"categories","id":1}],"messages":[{"name":"DataField","fields":[{"rule":"optional","type":"EFeaturedHeroDataType","name":"data_type","id":1,"options":{"default":"k_EFeaturedHeroDataType_HeroID"}},{"rule":"optional","type":"uint32","name":"uint32_value","id":2},{"rule":"optional","type":"uint64","name":"uint64_value","id":3},{"rule":"optional","type":"string","name":"string_value","id":4},{"rule":"optional","type":"float","name":"float_value","id":5}]},{"name":"FeaturedHero","fields":[{"rule":"repeated","type":"DataField","name":"data_fields","id":1}]},{"name":"Category","fields":[{"rule":"optional","type":"int32","name":"category_weight","id":1},{"rule":"repeated","type":"EFeaturedHeroTextField","name":"text_fields","id":2},{"rule":"repeated","type":"FeaturedHero","name":"featured_heroes","id":3}]}]},{"name":"CMsgClientToGCSocialMatchPostCommentRequest","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"string","name":"comment","id":2}]},{"name":"CMsgGCToClientSocialMatchPostCommentResponse","fields":[{"rule":"optional","type":"bool","name":"success","id":1}]},{"name":"CMsgClientToGCSocialMatchDetailsRequest","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"pagination_timestamp","id":2}]},{"name":"CMsgGCToClientSocialMatchDetailsResponse","fields":[{"rule":"optional","type":"bool","name":"success","id":1},{"rule":"repeated","type":"Comment","name":"comments","id":2}],"messages":[{"name":"Comment","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"string","name":"persona_name","id":2},{"rule":"optional","type":"uint32","name":"timestamp","id":3},{"rule":"optional","type":"string","name":"comment","id":4}]}]},{"name":"CMsgDOTAPartyMemberSetCoach","fields":[{"rule":"optional","type":"bool","name":"wants_coach","id":1}]},{"name":"CMsgDOTASetGroupLeader","fields":[{"rule":"optional","type":"fixed64","name":"new_leader_steamid","id":1}]},{"name":"CMsgDOTACancelGroupInvites","fields":[{"rule":"repeated","type":"fixed64","name":"invited_steamids","id":1},{"rule":"repeated","type":"fixed64","name":"invited_groupids","id":2}]},{"name":"CMsgDOTASetGroupOpenStatus","fields":[{"rule":"optional","type":"bool","name":"open","id":1}]},{"name":"CMsgDOTAGroupMergeInvite","fields":[{"rule":"optional","type":"fixed64","name":"other_group_id","id":1}]},{"name":"CMsgDOTAGroupMergeResponse","fields":[{"rule":"optional","type":"fixed64","name":"initiator_group_id","id":1},{"rule":"optional","type":"bool","name":"accept","id":2}]},{"name":"CMsgDOTAGroupMergeReply","fields":[{"rule":"optional","type":"EDOTAGroupMergeResult","name":"result","id":1,"options":{"default":"k_EDOTAGroupMergeResult_OK"}}]},{"name":"CMsgDOTAPartyRichPresence","fields":[{"rule":"optional","type":"fixed64","name":"party_id","id":1},{"rule":"optional","type":"CSODOTAParty.State","name":"party_state","id":2,"options":{"default":"UI"}},{"rule":"optional","type":"bool","name":"open","id":3},{"rule":"optional","type":"bool","name":"low_priority","id":5},{"rule":"repeated","type":"Member","name":"members","id":4}],"messages":[{"name":"Member","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"bool","name":"coach","id":2}]}]},{"name":"CMsgDOTALobbyRichPresence","fields":[{"rule":"optional","type":"fixed64","name":"lobby_id","id":1},{"rule":"optional","type":"CSODOTALobby.State","name":"lobby_state","id":2,"options":{"default":"UI"}},{"rule":"optional","type":"bool","name":"password","id":3},{"rule":"optional","type":"DOTA_GameMode","name":"game_mode","id":4,"options":{"default":"DOTA_GAMEMODE_NONE"}},{"rule":"optional","type":"uint32","name":"member_count","id":5},{"rule":"optional","type":"uint32","name":"max_member_count","id":6},{"rule":"optional","type":"fixed64","name":"custom_game_id","id":7},{"rule":"optional","type":"string","name":"name","id":8}]},{"name":"CMsgDOTACustomGameListenServerStartedLoading","fields":[{"rule":"optional","type":"fixed64","name":"lobby_id","id":1},{"rule":"optional","type":"uint64","name":"custom_game_id","id":2},{"rule":"repeated","type":"uint32","name":"lobby_members","id":3},{"rule":"optional","type":"uint32","name":"start_time","id":4}]},{"name":"CMsgDOTACustomGameClientFinishedLoading","fields":[{"rule":"optional","type":"fixed64","name":"lobby_id","id":1},{"rule":"optional","type":"uint32","name":"loading_duration","id":2},{"rule":"optional","type":"sint32","name":"result_code","id":3},{"rule":"optional","type":"string","name":"result_string","id":4},{"rule":"optional","type":"uint32","name":"signon_states","id":5},{"rule":"optional","type":"string","name":"comment","id":6}]},{"name":"CMsgGCPlayerInfo","fields":[{"rule":"repeated","type":"PlayerInfo","name":"player_infos","id":1}],"messages":[{"name":"PlayerInfo","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"string","name":"country_code","id":3},{"rule":"optional","type":"uint32","name":"fantasy_role","id":4},{"rule":"optional","type":"uint32","name":"team_id","id":5},{"rule":"optional","type":"string","name":"team_name","id":6},{"rule":"optional","type":"string","name":"team_tag","id":7},{"rule":"optional","type":"string","name":"sponsor","id":8},{"rule":"optional","type":"bool","name":"is_locked","id":9}]}]},{"name":"CMsgDOTACreateFantasyLeagueRequest","fields":[{"rule":"optional","type":"string","name":"league_name","id":1},{"rule":"optional","type":"uint64","name":"league_logo","id":2},{"rule":"optional","type":"Fantasy_Selection_Mode","name":"selection_mode","id":3,"options":{"default":"FANTASY_SELECTION_INVALID"}},{"rule":"optional","type":"uint32","name":"team_count","id":4}]},{"name":"CMsgDOTACreateFantasyLeagueResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_TOO_MANY_LEAGUES","id":2},{"name":"ERROR_INVALID_TEAM_COUNT","id":3},{"name":"ERROR_CREATION_DISABLED","id":4}]}]},{"name":"CMsgFantasyLeagueScoring","fields":[{"rule":"optional","type":"float","name":"level","id":1},{"rule":"optional","type":"float","name":"kills","id":2},{"rule":"optional","type":"float","name":"deaths","id":3},{"rule":"optional","type":"float","name":"assists","id":4},{"rule":"optional","type":"float","name":"last_hits","id":5},{"rule":"optional","type":"float","name":"denies","id":6},{"rule":"optional","type":"float","name":"gpm","id":7},{"rule":"optional","type":"float","name":"xppm","id":8},{"rule":"optional","type":"float","name":"stuns","id":9},{"rule":"optional","type":"float","name":"healing","id":10},{"rule":"optional","type":"float","name":"tower_kills","id":11},{"rule":"optional","type":"float","name":"roshan_kills","id":12},{"rule":"optional","type":"float","name":"multiplier_premium","id":13},{"rule":"optional","type":"float","name":"multiplier_professional","id":14}]},{"name":"CMsgDOTAFantasyLeagueInfo","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"commissioner_account_id","id":2},{"rule":"optional","type":"string","name":"fantasy_league_name","id":3},{"rule":"optional","type":"Fantasy_Selection_Mode","name":"selection_mode","id":4,"options":{"default":"FANTASY_SELECTION_INVALID"}},{"rule":"optional","type":"uint32","name":"team_count","id":5},{"rule":"optional","type":"uint64","name":"logo","id":6},{"rule":"optional","type":"CMsgFantasyLeagueScoring","name":"scoring","id":7},{"rule":"optional","type":"uint32","name":"draft_time","id":12},{"rule":"optional","type":"uint32","name":"draft_pick_time","id":13},{"rule":"optional","type":"uint32","name":"season_start","id":15},{"rule":"optional","type":"uint32","name":"season_length","id":16},{"rule":"optional","type":"uint32","name":"veto_votes","id":17},{"rule":"optional","type":"uint32","name":"acquisitions","id":18},{"rule":"optional","type":"uint32","name":"slot_1","id":19},{"rule":"optional","type":"uint32","name":"slot_2","id":20},{"rule":"optional","type":"uint32","name":"slot_3","id":21},{"rule":"optional","type":"uint32","name":"slot_4","id":22},{"rule":"optional","type":"uint32","name":"slot_5","id":23},{"rule":"optional","type":"uint32","name":"bench_slots","id":24},{"rule":"repeated","type":"OwnerInfo","name":"owner_info","id":25},{"rule":"repeated","type":"uint32","name":"players","id":26},{"rule":"optional","type":"uint32","name":"time_zone","id":27},{"rule":"optional","type":"uint32","name":"season","id":28},{"rule":"optional","type":"string","name":"password","id":29}],"messages":[{"name":"OwnerInfo","fields":[{"rule":"optional","type":"uint32","name":"owner_account_id","id":1},{"rule":"optional","type":"bool","name":"left_league","id":2},{"rule":"repeated","type":"uint32","name":"player_account_id","id":3}]}]},{"name":"CMsgDOTAFantasyLeagueEditInfoRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"CMsgDOTAFantasyLeagueInfo","name":"edit_info","id":2}]},{"name":"CMsgDOTAFantasyLeagueEditInfoResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAFantasyLeagueFindRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"string","name":"password","id":2}]},{"name":"CMsgDOTAFantasyLeagueFindResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"string","name":"fantasy_league_name","id":2},{"rule":"optional","type":"string","name":"commissioner_name","id":3}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_LEAGUE_NOT_FOUND","id":1},{"name":"ERROR_BAD_PASSWORD","id":2},{"name":"ERROR_UNSPECIFIED","id":3},{"name":"ERROR_FULL","id":4},{"name":"ERROR_ALREADY_MEMBER","id":5},{"name":"ERROR_LEAGUE_LOCKED","id":6}]}]},{"name":"CMsgDOTAFantasyLeagueInfoRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1}]},{"name":"CMsgDOTAFantasyLeagueInfoResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_BAD_LEAGUE_ID","id":2}]}]},{"name":"CMsgDOTAFantasyLeagueMatchupsRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1}]},{"name":"CMsgDOTAFantasyLeagueMatchupsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":2},{"rule":"repeated","type":"WeeklyMatchups","name":"weekly_matchups","id":3}],"messages":[{"name":"Matchup","fields":[{"rule":"optional","type":"uint32","name":"owner_account_id_1","id":1},{"rule":"optional","type":"uint32","name":"owner_account_id_2","id":2},{"rule":"optional","type":"float","name":"score_1","id":3},{"rule":"optional","type":"float","name":"score_2","id":4}]},{"name":"WeeklyMatchups","fields":[{"rule":"repeated","type":"Matchup","name":"matchup","id":1},{"rule":"optional","type":"uint32","name":"start_time","id":2},{"rule":"optional","type":"uint32","name":"end_time","id":3}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_BAD_LEAGUE_ID","id":2},{"name":"ERROR_NO_PERMISSION","id":3}]}]},{"name":"CMsgDOTAEditFantasyTeamRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"team_index","id":2},{"rule":"optional","type":"string","name":"team_name","id":3},{"rule":"optional","type":"uint64","name":"team_logo","id":4}]},{"name":"CMsgDOTAEditFantasyTeamResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_INVALID_TEAM_INFO","id":2},{"name":"ERROR_NAME_ALREADY_TAKEN","id":3},{"name":"ERROR_NO_PERMISSION","id":4}]}]},{"name":"CMsgDOTAFantasyTeamInfoRequestByFantasyLeagueID","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1}]},{"name":"CMsgDOTAFantasyTeamInfoRequestByOwnerAccountID","fields":[{"rule":"optional","type":"uint32","name":"owner_account_id","id":1}]},{"name":"CMsgDOTAFantasyTeamInfoResponse","fields":[{"rule":"repeated","type":"CMsgDOTAFantasyTeamInfo","name":"results","id":1}]},{"name":"CMsgDOTAFantasyTeamInfo","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"owner_account_id","id":2},{"rule":"optional","type":"uint32","name":"fantasy_team_index","id":3},{"rule":"optional","type":"string","name":"team_name","id":4},{"rule":"optional","type":"uint64","name":"team_logo","id":5},{"rule":"optional","type":"uint32","name":"wins","id":6},{"rule":"optional","type":"uint32","name":"losses","id":7},{"rule":"repeated","type":"uint32","name":"current_roster","id":8}]},{"name":"CMsgDOTAFantasyTeamScoreRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"owner_account_id","id":2},{"rule":"optional","type":"uint32","name":"fantasy_team_index","id":3},{"rule":"optional","type":"uint64","name":"filter_match_id","id":4},{"rule":"optional","type":"uint32","name":"filter_start_time","id":5},{"rule":"optional","type":"uint32","name":"filter_end_time","id":6},{"rule":"optional","type":"bool","name":"include_bench","id":7}]},{"name":"CMsgDOTAFantasyTeamScoreResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"float","name":"fantasy_team_score","id":2},{"rule":"repeated","type":"CMsgPlayerScore","name":"fantasy_player_score","id":3}],"messages":[{"name":"CMsgPlayerScore","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"float","name":"score","id":2}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2},{"name":"ERROR_OWNER_NOT_IN_LEAGUE","id":3}]}]},{"name":"CMsgDOTAFantasyTeamStandingsRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"count","id":2},{"rule":"optional","type":"uint32","name":"filter_start_time","id":3},{"rule":"optional","type":"uint32","name":"filter_end_time","id":4},{"rule":"optional","type":"uint64","name":"filter_match_id","id":5},{"rule":"optional","type":"bool","name":"filter_last_match","id":6},{"rule":"optional","type":"bool","name":"filter_in_hall","id":7}]},{"name":"CMsgDOTAFantasyTeamStandingsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"CMsgTeamScore","name":"team_scores","id":3}],"messages":[{"name":"CMsgTeamScore","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"owner_account_id","id":2},{"rule":"optional","type":"uint32","name":"fantasy_team_index","id":3},{"rule":"optional","type":"uint64","name":"fantasy_team_logo","id":4},{"rule":"optional","type":"string","name":"owner_name","id":5},{"rule":"optional","type":"string","name":"fantasy_team_name","id":6},{"rule":"optional","type":"float","name":"score","id":7},{"rule":"optional","type":"float","name":"score_against","id":8},{"rule":"optional","type":"uint32","name":"wins","id":9},{"rule":"optional","type":"uint32","name":"losses","id":10},{"rule":"optional","type":"int32","name":"streak","id":11}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAFantasyPlayerScoreRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"player_account_id","id":2},{"rule":"optional","type":"uint32","name":"filter_start_time","id":3},{"rule":"optional","type":"uint32","name":"filter_end_time","id":4},{"rule":"optional","type":"uint64","name":"filter_match_id","id":5},{"rule":"optional","type":"bool","name":"filter_last_match","id":6}]},{"name":"CMsgDOTAFantasyPlayerScoreResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":2},{"rule":"optional","type":"uint32","name":"player_account_id","id":3},{"rule":"optional","type":"string","name":"player_name","id":4},{"rule":"optional","type":"float","name":"score","id":5}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAFantasyPlayerStandingsRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"count","id":2},{"rule":"optional","type":"uint32","name":"role","id":3},{"rule":"optional","type":"uint32","name":"filter_start_time","id":4},{"rule":"optional","type":"uint32","name":"filter_end_time","id":5},{"rule":"optional","type":"uint64","name":"filter_match_id","id":6},{"rule":"optional","type":"bool","name":"filter_last_match","id":7}]},{"name":"CMsgDOTAFantasyPlayerStandingsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":2},{"rule":"optional","type":"uint32","name":"role","id":3},{"rule":"repeated","type":"CMsgPlayerScore","name":"player_scores","id":4}],"messages":[{"name":"CMsgPlayerScore","fields":[{"rule":"optional","type":"uint32","name":"player_account_id","id":1},{"rule":"optional","type":"string","name":"player_name","id":2},{"rule":"optional","type":"float","name":"score","id":3}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAFantasyPlayerInfoRequest","fields":[]},{"name":"CMsgDOTAFantasyPlayerInfoResponse","fields":[{"rule":"optional","type":"CMsgGCPlayerInfo","name":"msg","id":1}]},{"name":"CMsgDOTAFantasyLeagueCreateRequest","fields":[{"rule":"optional","type":"uint32","name":"season_id","id":1},{"rule":"optional","type":"string","name":"fantasy_league_name","id":2},{"rule":"optional","type":"string","name":"password","id":3},{"rule":"optional","type":"string","name":"team_name","id":4},{"rule":"optional","type":"uint64","name":"logo","id":5},{"rule":"optional","type":"uint64","name":"ticket_item_id","id":6}]},{"name":"CMsgDOTAFantasyLeagueCreateResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":2}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_NO_PERMISSION","id":1},{"name":"ERROR_BAD_SEASON_ID","id":2},{"name":"ERROR_BAD_LEAGUE_NAME","id":3},{"name":"ERROR_BAD_TEAM_NAME","id":4},{"name":"ERROR_UNSPECIFIED","id":5},{"name":"ERROR_FAILED_LOGO_UPLOAD","id":6},{"name":"ERROR_NO_TICKET","id":7}]}]},{"name":"CMsgDOTAFantasyTeamCreateRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"string","name":"password","id":2},{"rule":"optional","type":"string","name":"team_name","id":3},{"rule":"optional","type":"uint64","name":"logo","id":4},{"rule":"optional","type":"uint64","name":"ticket_item_id","id":5}]},{"name":"CMsgDOTAFantasyTeamCreateResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"uint32","name":"fantasy_team_index","id":2}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_NO_PERMISSION","id":1},{"name":"ERROR_FAILED_LOGO_UPLOAD","id":2},{"name":"ERROR_BAD_FANTASY_LEAGUE_ID","id":3},{"name":"ERROR_BAD_NAME","id":4},{"name":"ERROR_FULL","id":5},{"name":"ERROR_ALREADY_MEMBER","id":6},{"name":"ERROR_BAD_PASSWORD","id":7},{"name":"ERROR_UNSPECIFIED","id":8},{"name":"ERROR_NO_TICKET","id":9},{"name":"ERROR_LEAGUE_LOCKED","id":10}]}]},{"name":"CMsgDOTAFantasyLeagueEditInvitesRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"string","name":"password","id":2},{"rule":"repeated","type":"InviteChange","name":"invite_change","id":3}],"messages":[{"name":"InviteChange","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"bool","name":"invited","id":2}]}]},{"name":"CMsgDOTAFantasyLeagueEditInvitesResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1}]}]},{"name":"CMsgDOTAFantasyLeagueDraftStatusRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1}]},{"name":"CMsgDOTAFantasyLeagueDraftStatus","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"repeated","type":"uint32","name":"draft_order","id":2},{"rule":"optional","type":"uint32","name":"current_pick","id":3},{"rule":"optional","type":"uint32","name":"time_remaining","id":4},{"rule":"optional","type":"bool","name":"pending_resume","id":5},{"rule":"optional","type":"bool","name":"completed","id":6},{"rule":"repeated","type":"uint32","name":"available_players","id":7}]},{"name":"CMsgDOTAFantasyLeagueDraftPlayerRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"team_index","id":2},{"rule":"optional","type":"uint32","name":"player_account_id","id":3}]},{"name":"CMsgDOTAFantasyLeagueDraftPlayerResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_INVALID_FANTASY_LEAGUE","id":2},{"name":"ERROR_FANTASY_LEAGUE_NOT_DRAFTING","id":3},{"name":"ERROR_OWNER_NOT_IN_LEAGUE","id":4},{"name":"ERROR_NOT_OWNERS_TURN","id":5},{"name":"ERROR_PLAYER_INVALID","id":6},{"name":"ERROR_PLAYER_UNAVAILABLE","id":7},{"name":"ERROR_PLAYER_NO_VALID_SLOTS","id":8}]}]},{"name":"CMsgDOTAFantasyTeamRosterSwapRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"team_index","id":2},{"rule":"optional","type":"uint32","name":"timestamp","id":3},{"rule":"optional","type":"uint32","name":"slot_1","id":4},{"rule":"optional","type":"uint32","name":"slot_2","id":5}]},{"name":"CMsgDOTAFantasyTeamRosterSwapResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_OWNER_NOT_IN_LEAGUE","id":2},{"name":"ERROR_SLOTS_INVALID","id":3},{"name":"ERROR_SLOT_LOCKED","id":4}]}]},{"name":"CMsgDOTAFantasyTeamRosterAddDropRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"team_index","id":2},{"rule":"optional","type":"uint32","name":"add_account_id","id":5},{"rule":"optional","type":"uint32","name":"drop_account_id","id":6}]},{"name":"CMsgDOTAFantasyTeamRosterAddDropResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_OWNER_NOT_IN_LEAGUE","id":2},{"name":"ERROR_PLAYER_NOT_AVAILABLE","id":3},{"name":"ERROR_PLAYER_NOT_ON_TEAM","id":4},{"name":"ERROR_TRADE_ALREADY_PENDING","id":5}]}]},{"name":"CMsgDOTAFantasyTeamTradesRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1}]},{"name":"CMsgDOTAFantasyTeamTradesResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"Trade","name":"trades","id":2}],"messages":[{"name":"Trade","fields":[{"rule":"optional","type":"uint32","name":"timestamp","id":1},{"rule":"optional","type":"uint32","name":"owner_account_id_1","id":2},{"rule":"optional","type":"uint32","name":"owner_account_id_2","id":3},{"rule":"optional","type":"uint32","name":"player_account_id_1","id":4},{"rule":"optional","type":"uint32","name":"player_account_id_2","id":5},{"rule":"optional","type":"uint32","name":"status","id":6}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAFantasyTeamTradeCancelRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"team_index_1","id":3},{"rule":"optional","type":"uint32","name":"owner_account_id_2","id":4},{"rule":"optional","type":"uint32","name":"team_index_2","id":5}]},{"name":"CMsgDOTAFantasyTeamTradeCancelResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2},{"name":"ERROR_NO_TRADE","id":3}]}]},{"name":"CMsgDOTAFantasyTeamRosterRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"team_index","id":2},{"rule":"optional","type":"uint32","name":"owner_account_id","id":3},{"rule":"optional","type":"uint32","name":"timestamp","id":4}]},{"name":"CMsgDOTAFantasyTeamRosterResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"uint32","name":"player_account_ids","id":2},{"rule":"repeated","type":"bool","name":"player_locked","id":3}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2},{"name":"ERROR_OWNER_NOT_IN_LEAGUE","id":3}]}]},{"name":"CMsgDOTAFantasyPlayerHisoricalStatsRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1}]},{"name":"CMsgDOTAFantasyPlayerHisoricalStatsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"PlayerStats","name":"stats","id":2}],"messages":[{"name":"PlayerScoreAccumulator","fields":[{"rule":"optional","type":"uint32","name":"matches","id":1},{"rule":"optional","type":"float","name":"levels","id":2},{"rule":"optional","type":"float","name":"kills","id":3},{"rule":"optional","type":"float","name":"deaths","id":4},{"rule":"optional","type":"float","name":"assists","id":5},{"rule":"optional","type":"float","name":"last_hits","id":6},{"rule":"optional","type":"float","name":"denies","id":7},{"rule":"optional","type":"float","name":"gpm","id":8},{"rule":"optional","type":"float","name":"xppm","id":9},{"rule":"optional","type":"float","name":"stuns","id":10},{"rule":"optional","type":"float","name":"healing","id":11},{"rule":"optional","type":"float","name":"tower_kills","id":12},{"rule":"optional","type":"float","name":"roshan_kills","id":13},{"rule":"optional","type":"float","name":"score","id":14}]},{"name":"PlayerStats","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"weeks","id":2},{"rule":"optional","type":"PlayerScoreAccumulator","name":"stats_premium","id":4},{"rule":"optional","type":"PlayerScoreAccumulator","name":"stats_professional","id":5}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAFantasyMessageAdd","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"string","name":"message","id":2}]},{"name":"CMsgDOTAFantasyMessagesRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"start_message","id":2},{"rule":"optional","type":"uint32","name":"end_message","id":3}]},{"name":"CMsgDOTAFantasyMessagesResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"Message","name":"messages","id":2},{"rule":"optional","type":"uint32","name":"num_total_messages","id":3}],"messages":[{"name":"Message","fields":[{"rule":"optional","type":"uint32","name":"message_id","id":1},{"rule":"optional","type":"string","name":"message","id":2},{"rule":"optional","type":"uint32","name":"author_account_id","id":3},{"rule":"optional","type":"uint32","name":"time","id":4}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAFantasyRemoveOwner","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"owner_account_id","id":2},{"rule":"optional","type":"uint32","name":"team_index","id":3}]},{"name":"CMsgDOTAFantasyRemoveOwnerResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2},{"name":"ERROR_LEAGUE_LOCKED","id":3},{"name":"ERROR_NOT_A_MEMBER","id":4}]}]},{"name":"CMsgDOTAFantasyScheduledMatchesRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1}]},{"name":"CMsgDOTAFantasyScheduledMatchesResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"ScheduledMatchDays","name":"scheduled_match_days","id":2}],"messages":[{"name":"ScheduledMatchDays","fields":[{"rule":"optional","type":"uint32","name":"timestamp","id":1},{"rule":"repeated","type":"uint32","name":"team_ids","id":2},{"rule":"repeated","type":"uint32","name":"league_ids","id":3}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1}]}]},{"name":"CMsgDOTAFantasyLeaveLeagueRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"fantasy_team_index","id":2}]},{"name":"CMsgDOTAFantasyLeaveLeagueResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NOT_MEMBER","id":2},{"name":"ERROR_LEAGUE_NOT_FOUND","id":3},{"name":"ERROR_DRAFT_ACTIVE","id":4}]}]},{"name":"CMsgDOTAFantasyPlayerScoreDetailsRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"player_account_id","id":2},{"rule":"optional","type":"uint32","name":"start_time","id":3},{"rule":"optional","type":"uint32","name":"end_time","id":4}]},{"name":"CMsgDOTAFantasyPlayerScoreDetailsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"PlayerMatchData","name":"data","id":2}],"messages":[{"name":"PlayerMatchData","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"series_id","id":2},{"rule":"optional","type":"uint32","name":"series_num","id":3},{"rule":"optional","type":"uint32","name":"series_type","id":4},{"rule":"optional","type":"uint32","name":"league_tier","id":5},{"rule":"optional","type":"uint32","name":"league_id","id":6},{"rule":"optional","type":"uint32","name":"opposing_team_id","id":7},{"rule":"optional","type":"uint64","name":"opposing_team_logo","id":8},{"rule":"optional","type":"string","name":"opposing_team_name","id":9},{"rule":"optional","type":"CMsgFantasyLeagueScoring","name":"stats","id":10},{"rule":"optional","type":"uint32","name":"owned_by","id":11},{"rule":"optional","type":"bool","name":"benched","id":12}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NOT_MEMBER","id":2}]}]},{"name":"CMsgApplyAutograph","fields":[{"rule":"optional","type":"uint64","name":"autograph_item_id","id":1},{"rule":"optional","type":"uint64","name":"item_item_id","id":2}]},{"name":"CMsgAdjustItemEquippedState","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1},{"rule":"optional","type":"uint32","name":"new_class","id":2},{"rule":"optional","type":"uint32","name":"new_slot","id":3},{"rule":"optional","type":"uint32","name":"style_index","id":4}]},{"name":"CMsgEconPlayerStrangeCountAdjustment","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"CStrangeCountAdjustment","name":"strange_count_adjustments","id":2}],"messages":[{"name":"CStrangeCountAdjustment","fields":[{"rule":"optional","type":"uint32","name":"event_type","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2},{"rule":"optional","type":"uint32","name":"adjustment","id":3}]}]},{"name":"CMsgRequestItemPurgatory_FinalizePurchase","fields":[{"rule":"repeated","type":"uint64","name":"item_ids","id":1}]},{"name":"CMsgRequestItemPurgatory_FinalizePurchaseResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1}]},{"name":"CMsgRequestItemPurgatory_RefundPurchase","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1}]},{"name":"CMsgRequestItemPurgatory_RefundPurchaseResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1}]},{"name":"CMsgCraftingResponse","fields":[{"rule":"repeated","type":"uint64","name":"item_ids","id":1}]},{"name":"CMsgGCRequestStoreSalesData","fields":[{"rule":"optional","type":"uint32","name":"version","id":1},{"rule":"optional","type":"uint32","name":"currency","id":2}]},{"name":"CMsgGCRequestStoreSalesDataResponse","fields":[{"rule":"repeated","type":"Price","name":"sale_price","id":1},{"rule":"optional","type":"uint32","name":"version","id":2},{"rule":"optional","type":"uint32","name":"expiration_time","id":3}],"messages":[{"name":"Price","fields":[{"rule":"optional","type":"uint32","name":"item_def","id":1},{"rule":"optional","type":"uint32","name":"price","id":2}]}]},{"name":"CMsgGCRequestStoreSalesDataUpToDateResponse","fields":[{"rule":"optional","type":"uint32","name":"version","id":1},{"rule":"optional","type":"uint32","name":"expiration_time","id":2}]},{"name":"CMsgGCToGCPingRequest","fields":[]},{"name":"CMsgGCToGCPingResponse","fields":[]},{"name":"CMsgGCToGCGetUserSessionServer","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgGCToGCGetUserSessionServerResponse","fields":[{"rule":"optional","type":"fixed64","name":"server_steam_id","id":1}]},{"name":"CMsgGCToGCGetUserServerMembers","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"max_spectators","id":2}]},{"name":"CMsgGCToGCGetUserServerMembersResponse","fields":[{"rule":"repeated","type":"uint32","name":"member_account_id","id":1}]},{"name":"CMsgLookupMultipleAccountNames","fields":[{"rule":"repeated","type":"uint32","name":"accountids","id":1,"options":{"packed":true}}]},{"name":"CMsgLookupMultipleAccountNamesResponse","fields":[{"rule":"repeated","type":"Account","name":"accounts","id":1}],"messages":[{"name":"Account","fields":[{"rule":"optional","type":"uint32","name":"accountid","id":1},{"rule":"optional","type":"string","name":"persona","id":2}]}]},{"name":"CMsgGCToGCGetUserPCBangNo","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgGCToGCGetUserPCBangNoResponse","fields":[{"rule":"optional","type":"uint32","name":"pc_bang_no","id":1}]},{"name":"CMsgRequestCrateItems","fields":[{"rule":"optional","type":"uint32","name":"crate_item_def","id":1}]},{"name":"CMsgRequestCrateItemsResponse","fields":[{"rule":"optional","type":"uint32","name":"crate_item_def","id":1},{"rule":"repeated","type":"uint32","name":"item_defs","id":2}]},{"name":"CMsgGCToGCCanUseDropRateBonus","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"float","name":"drop_rate_bonus","id":2},{"rule":"optional","type":"uint32","name":"booster_type","id":3},{"rule":"optional","type":"uint32","name":"exclusive_item_def","id":4},{"rule":"optional","type":"bool","name":"allow_equal_rate","id":5}]},{"name":"CMsgSQLAddDropRateBonus","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2},{"rule":"optional","type":"uint32","name":"item_def","id":3},{"rule":"optional","type":"float","name":"drop_rate_bonus","id":4},{"rule":"optional","type":"uint32","name":"booster_type","id":5},{"rule":"optional","type":"uint32","name":"seconds_duration","id":6},{"rule":"optional","type":"uint32","name":"end_time_stamp","id":7}]},{"name":"CMsgSQLUpgradeBattleBooster","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"item_def","id":2},{"rule":"optional","type":"float","name":"bonus_to_add","id":3},{"rule":"optional","type":"uint32","name":"booster_type","id":4}]},{"name":"CMsgGCToGCRefreshSOCache","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"bool","name":"reload","id":2}]},{"name":"CMsgGCToGCCheckAccountTradeStatus","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"bool","name":"initiator","id":2}]},{"name":"CMsgGCToGCCheckAccountTradeStatusResponse","fields":[{"rule":"optional","type":"bool","name":"can_trade","id":1},{"rule":"optional","type":"uint32","name":"error_code","id":2}]},{"name":"CMsgGCToGCGrantAccountRolledItems","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"Item","name":"items","id":2},{"rule":"optional","type":"uint32","name":"audit_action","id":3},{"rule":"optional","type":"uint32","name":"audit_data","id":4}],"messages":[{"name":"Item","fields":[{"rule":"optional","type":"uint32","name":"item_def","id":1},{"rule":"repeated","type":"string","name":"loot_lists","id":2},{"rule":"optional","type":"bool","name":"ignore_limit","id":3},{"rule":"optional","type":"uint32","name":"origin","id":4},{"rule":"repeated","type":"DynamicAttribute","name":"dynamic_attributes","id":5},{"rule":"repeated","type":"AdditionalAuditEntry","name":"additional_audit_entries","id":6},{"rule":"optional","type":"uint32","name":"inventory_token","id":7}],"messages":[{"name":"DynamicAttribute","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"uint32","name":"value_uint32","id":2},{"rule":"optional","type":"float","name":"value_float","id":3}]},{"name":"AdditionalAuditEntry","fields":[{"rule":"optional","type":"uint32","name":"owner_account_id","id":1},{"rule":"optional","type":"uint32","name":"audit_action","id":2},{"rule":"optional","type":"uint32","name":"audit_data","id":3}]}]}]},{"name":"CMsgGCToGCGrantSelfMadeItemToAccount","fields":[{"rule":"optional","type":"uint32","name":"item_def_index","id":1},{"rule":"optional","type":"uint32","name":"accountid","id":2}]},{"name":"CMsgUseItem","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1},{"rule":"optional","type":"fixed64","name":"target_steam_id","id":2},{"rule":"repeated","type":"uint32","name":"gift__potential_targets","id":3},{"rule":"optional","type":"uint32","name":"duel__class_lock","id":4},{"rule":"optional","type":"uint64","name":"initiator_steam_id","id":5},{"rule":"optional","type":"bool","name":"itempack__ack_immediately","id":6}]},{"name":"CMsgServerUseItem","fields":[{"rule":"optional","type":"uint32","name":"initiator_account_id","id":1},{"rule":"optional","type":"CMsgUseItem","name":"use_item_msg","id":2}]},{"name":"CMsgGCPartnerBalanceRequest","fields":[]},{"name":"CMsgGCPartnerBalanceResponse","fields":[{"rule":"optional","type":"EGCPartnerRequestResponse","name":"result","id":1,"options":{"default":"k_EPartnerRequestOK"}},{"rule":"optional","type":"uint32","name":"balance","id":2}]},{"name":"CMsgGCPartnerRechargeRedirectURLRequest","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1}]},{"name":"CMsgGCPartnerRechargeRedirectURLResponse","fields":[{"rule":"optional","type":"EGCPartnerRequestResponse","name":"result","id":1,"options":{"default":"k_EPartnerRequestOK"}},{"rule":"optional","type":"string","name":"url","id":2}]},{"name":"CMsgGCEconSQLWorkItemEmbeddedRollbackData","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"deleted_item_id","id":2}]},{"name":"CMsgCraftStatue","fields":[{"rule":"optional","type":"uint32","name":"heroid","id":1},{"rule":"optional","type":"string","name":"sequencename","id":2},{"rule":"optional","type":"float","name":"cycle","id":3},{"rule":"optional","type":"string","name":"description","id":4},{"rule":"optional","type":"uint32","name":"pedestal_itemdef","id":5},{"rule":"optional","type":"uint64","name":"toolid","id":6}]},{"name":"CMsgRedeemCode","fields":[{"rule":"optional","type":"string","name":"code","id":1}]},{"name":"CMsgRedeemCodeResponse","fields":[{"rule":"optional","type":"uint32","name":"response","id":1}]},{"name":"CMsgDevNewItemRequest","fields":[{"rule":"optional","type":"string","name":"item_def_name","id":3},{"rule":"optional","type":"string","name":"loot_list_name","id":4},{"rule":"repeated","type":"string","name":"attr_def_name","id":5},{"rule":"repeated","type":"string","name":"attr_value","id":6}]},{"name":"CMsgDevNewItemRequestResponse","fields":[{"rule":"optional","type":"bool","name":"success","id":1}]},{"name":"CMsgGCAddGiftItem","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2}]},{"name":"CMsgClientToGCWrapAndDeliverGift","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1},{"rule":"optional","type":"uint32","name":"give_to_account_id","id":2},{"rule":"optional","type":"string","name":"gift_message","id":3}]},{"name":"CMsgClientToGCWrapAndDeliverGiftResponse","fields":[{"rule":"optional","type":"EGCMsgResponse","name":"response","id":1,"options":{"default":"k_EGCMsgResponseOK"}},{"rule":"optional","type":"uint32","name":"gifting_charge_uses","id":2},{"rule":"optional","type":"int32","name":"gifting_charge_max","id":3},{"rule":"optional","type":"uint32","name":"gifting_uses","id":4},{"rule":"optional","type":"int32","name":"gifting_max","id":5},{"rule":"optional","type":"uint32","name":"gifting_window_hours","id":6},{"rule":"optional","type":"EGCMsgInitiateTradeResponse","name":"trade_restriction","id":7,"options":{"default":"k_EGCMsgInitiateTradeResponse_Accepted"}}]},{"name":"CMsgClientToGCUnwrapGift","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1}]},{"name":"CMsgGCToClientBundleUnpacked","fields":[{"rule":"optional","type":"uint64","name":"bundle_item_id","id":1},{"rule":"repeated","type":"uint64","name":"item_ids","id":2}]},{"name":"CMsgGCToClientStoreTransactionCompleted","fields":[{"rule":"optional","type":"uint64","name":"txn_id","id":1},{"rule":"repeated","type":"uint64","name":"item_ids","id":2}]},{"name":"CMsgClientToGCEquipItems","fields":[{"rule":"repeated","type":"CMsgAdjustItemEquippedState","name":"equips","id":1}]},{"name":"CMsgClientToGCEquipItemsResponse","fields":[{"rule":"optional","type":"fixed64","name":"so_cache_version_id","id":1}]},{"name":"CMsgSpawnLootGreevil","fields":[{"rule":"optional","type":"bool","name":"rare","id":1}]},{"name":"CMsgDismissLootGreevil","fields":[{"rule":"optional","type":"bool","name":"killed","id":2},{"rule":"optional","type":"bool","name":"rare","id":3}]},{"name":"CMsgDismissLootGreevilResponse","fields":[]},{"name":"CMsgPoorNetworkConditions","fields":[{"rule":"optional","type":"EPoorNetworkConditionsType","name":"detection_type","id":1,"options":{"default":"k_EPoorNetworkConditions_None"}},{"rule":"repeated","type":"Player","name":"players","id":2}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"ENetworkDisconnectionReason","name":"disconnect_reason","id":2,"options":{"default":"NETWORK_DISCONNECT_INVALID"}},{"rule":"optional","type":"uint32","name":"num_bad_intervals","id":3},{"rule":"optional","type":"uint32","name":"peak_loss_pct","id":4}]}]},{"name":"CMsgGameserverCrash","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"fixed64","name":"lobby_id","id":2},{"rule":"optional","type":"DOTA_GameState","name":"game_state","id":3,"options":{"default":"DOTA_GAMERULES_STATE_INIT"}},{"rule":"optional","type":"fixed32","name":"sentinel_save_time","id":4},{"rule":"optional","type":"fixed64","name":"custom_game_id","id":11},{"rule":"optional","type":"fixed64","name":"server_steam_id","id":5},{"rule":"optional","type":"fixed32","name":"server_public_ip_addr","id":6},{"rule":"optional","type":"uint32","name":"server_port","id":7},{"rule":"optional","type":"uint32","name":"server_cluster","id":8},{"rule":"optional","type":"uint32","name":"pid","id":9},{"rule":"optional","type":"uint32","name":"engine","id":10}]},{"name":"CMsgConnectedPlayers","fields":[{"rule":"repeated","type":"Player","name":"connected_players","id":1},{"rule":"repeated","type":"Player","name":"disconnected_players","id":7},{"rule":"optional","type":"DOTA_GameState","name":"game_state","id":2,"options":{"default":"DOTA_GAMERULES_STATE_INIT"}},{"rule":"optional","type":"uint32","name":"tower_state","id":4},{"rule":"optional","type":"bool","name":"first_blood_happened","id":6},{"rule":"optional","type":"bool","name":"legacy_mass_disconnect","id":9},{"rule":"optional","type":"CMsgPoorNetworkConditions","name":"poor_network_conditions","id":10},{"rule":"optional","type":"SendReason","name":"send_reason","id":8,"options":{"default":"INVALID"}},{"rule":"optional","type":"uint32","name":"radiant_kills","id":11},{"rule":"optional","type":"uint32","name":"dire_kills","id":12},{"rule":"optional","type":"uint32","name":"barracks_state","id":13}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"hero_id","id":2},{"rule":"optional","type":"CMsgLeaverState","name":"leaver_state","id":3},{"rule":"optional","type":"ENetworkDisconnectionReason","name":"disconnect_reason","id":4,"options":{"default":"NETWORK_DISCONNECT_INVALID"}}]}],"enums":[{"name":"SendReason","values":[{"name":"INVALID","id":0},{"name":"HEARTBEAT","id":1},{"name":"GAME_STATE","id":2},{"name":"FIRST_BLOOD","id":3},{"name":"PLAYER_CONNECTED","id":4},{"name":"PLAYER_HERO","id":5},{"name":"PLAYER_DISCONNECTED_CONSEQUENCES","id":6},{"name":"PLAYER_DISCONNECTED_NOCONSEQUENCES","id":7},{"name":"TOWER_STATE","id":9},{"name":"GAMESTATE_TIMEOUT","id":10},{"name":"MASS_DISCONNECT","id":11},{"name":"BARRACKS_STATE","id":12},{"name":"KILLS","id":13}]}]},{"name":"CMsgGameServerInfo","fields":[{"rule":"optional","type":"fixed32","name":"server_public_ip_addr","id":1},{"rule":"optional","type":"fixed32","name":"server_private_ip_addr","id":2},{"rule":"optional","type":"uint32","name":"server_port","id":3},{"rule":"optional","type":"uint32","name":"server_tv_port","id":4},{"rule":"optional","type":"uint32","name":"server_steamdatagram_port","id":21},{"rule":"optional","type":"string","name":"server_key","id":5},{"rule":"optional","type":"bool","name":"server_hibernation","id":6},{"rule":"optional","type":"ServerType","name":"server_type","id":7,"options":{"default":"UNSPECIFIED"}},{"rule":"optional","type":"uint32","name":"server_region","id":8},{"rule":"optional","type":"float","name":"server_loadavg","id":9},{"rule":"optional","type":"float","name":"server_tv_broadcast_time","id":10},{"rule":"optional","type":"float","name":"server_game_time","id":11},{"rule":"optional","type":"fixed64","name":"server_relay_connected_steam_id","id":12},{"rule":"optional","type":"uint32","name":"relay_slots_max","id":13},{"rule":"optional","type":"int32","name":"relays_connected","id":14},{"rule":"optional","type":"int32","name":"relay_clients_connected","id":15},{"rule":"optional","type":"fixed64","name":"relayed_game_server_steam_id","id":16},{"rule":"optional","type":"uint32","name":"parent_relay_count","id":17},{"rule":"optional","type":"fixed64","name":"tv_secret_code","id":18},{"rule":"optional","type":"uint32","name":"server_version","id":19},{"rule":"optional","type":"uint32","name":"server_cluster","id":20}],"enums":[{"name":"ServerType","values":[{"name":"UNSPECIFIED","id":0},{"name":"GAME","id":1},{"name":"PROXY","id":2}]}]},{"name":"CMsgLeaverDetected","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"DOTALeaverStatus_t","name":"leaver_status","id":2,"options":{"default":"DOTA_LEAVER_NONE"}},{"rule":"optional","type":"CMsgLeaverState","name":"leaver_state","id":4},{"rule":"optional","type":"uint32","name":"server_cluster","id":5},{"rule":"optional","type":"ENetworkDisconnectionReason","name":"disconnect_reason","id":6,"options":{"default":"NETWORK_DISCONNECT_INVALID"}},{"rule":"optional","type":"CMsgPoorNetworkConditions","name":"poor_network_conditions","id":7}]},{"name":"CMsgLeaverDetectedResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1}]},{"name":"CMsgDOTAFantasyPlayerStats","fields":[{"rule":"optional","type":"uint32","name":"player_account_id","id":1},{"rule":"optional","type":"uint64","name":"match_id","id":2},{"rule":"optional","type":"bool","name":"match_completed","id":3},{"rule":"optional","type":"uint32","name":"level","id":4},{"rule":"optional","type":"uint32","name":"kills","id":5},{"rule":"optional","type":"uint32","name":"deaths","id":6},{"rule":"optional","type":"uint32","name":"assists","id":7},{"rule":"optional","type":"uint32","name":"last_hits","id":8},{"rule":"optional","type":"uint32","name":"denies","id":9},{"rule":"optional","type":"float","name":"gpm","id":10},{"rule":"optional","type":"float","name":"xppm","id":11},{"rule":"optional","type":"float","name":"stuns","id":12},{"rule":"optional","type":"float","name":"healing","id":13},{"rule":"optional","type":"uint32","name":"tower_kills","id":14},{"rule":"optional","type":"uint32","name":"roshan_kills","id":15},{"rule":"optional","type":"uint32","name":"team_id","id":16},{"rule":"optional","type":"uint32","name":"league_id","id":17},{"rule":"optional","type":"uint32","name":"delay","id":18}]},{"name":"CMsgDOTAFantasyMatch","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2},{"rule":"optional","type":"uint32","name":"series_id","id":3},{"rule":"optional","type":"uint32","name":"start_time","id":4},{"rule":"optional","type":"uint32","name":"series_type","id":5},{"rule":"optional","type":"uint32","name":"team_1","id":6},{"rule":"optional","type":"uint32","name":"team_2","id":7}]},{"name":"CMsgServerToGCRealtimeStats","fields":[{"rule":"optional","type":"CMsgDOTARealtimeGameStatsTerse","name":"delayed","id":1},{"rule":"optional","type":"CMsgDOTARealtimeGameStats","name":"current","id":2}]},{"name":"CMsgGCToServerRealtimeStatsStartStop","fields":[{"rule":"optional","type":"bool","name":"delayed","id":1},{"rule":"optional","type":"bool","name":"current","id":2}]},{"name":"CMsgGameMatchSignOut","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"duration","id":2},{"rule":"optional","type":"bool","name":"good_guys_win","id":3},{"rule":"optional","type":"fixed32","name":"date","id":4},{"rule":"repeated","type":"uint32","name":"num_players","id":5},{"rule":"repeated","type":"CTeam","name":"teams","id":6},{"rule":"repeated","type":"uint32","name":"tower_status","id":8},{"rule":"repeated","type":"uint32","name":"barracks_status","id":9},{"rule":"optional","type":"uint32","name":"cluster","id":10},{"rule":"optional","type":"string","name":"server_addr","id":11},{"rule":"optional","type":"uint32","name":"first_blood_time","id":12},{"rule":"optional","type":"float","name":"game_balance","id":13},{"rule":"optional","type":"uint32","name":"event_score","id":14},{"rule":"repeated","type":"CMatchHeroSelectEvent","name":"picks_bans","id":15},{"rule":"repeated","type":"CMsgDOTAFantasyPlayerStats","name":"fantasy_stats","id":16},{"rule":"repeated","type":"CMsgEconPlayerStrangeCountAdjustment","name":"player_strange_count_adjustments","id":17},{"rule":"optional","type":"bool","name":"automatic_surrender","id":18},{"rule":"optional","type":"uint32","name":"server_version","id":19},{"rule":"optional","type":"bool","name":"legacy_mass_disconnect","id":21},{"rule":"optional","type":"CMsgPoorNetworkConditions","name":"poor_network_conditions","id":35},{"rule":"repeated","type":"CAdditionalSignoutMsg","name":"additional_msgs","id":20},{"rule":"repeated","type":"CSocialFeedMatchEvent","name":"social_feed_events","id":36},{"rule":"optional","type":"sint32","name":"average_networth_delta","id":22},{"rule":"optional","type":"sint32","name":"networth_delta_min10","id":23},{"rule":"optional","type":"sint32","name":"networth_delta_min20","id":24},{"rule":"optional","type":"sint32","name":"maximum_losing_networth_lead","id":25},{"rule":"optional","type":"sint32","name":"average_experience_delta","id":26},{"rule":"optional","type":"sint32","name":"experience_delta_min10","id":27},{"rule":"optional","type":"sint32","name":"experience_delta_min20","id":28},{"rule":"optional","type":"sint32","name":"bonus_gold_winner_min10","id":29},{"rule":"optional","type":"sint32","name":"bonus_gold_winner_min20","id":30},{"rule":"optional","type":"uint32","name":"bonus_gold_winner_total","id":31},{"rule":"optional","type":"sint32","name":"bonus_gold_loser_min10","id":32},{"rule":"optional","type":"sint32","name":"bonus_gold_loser_min20","id":33},{"rule":"optional","type":"uint32","name":"bonus_gold_loser_total","id":34},{"rule":"optional","type":"CCustomGameData","name":"custom_game_data","id":37}],"messages":[{"name":"CTeam","fields":[{"rule":"repeated","type":"CPlayer","name":"players","id":1}],"messages":[{"name":"CPlayer","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"repeated","type":"uint32","name":"items","id":4},{"rule":"optional","type":"uint32","name":"gold","id":5},{"rule":"optional","type":"uint32","name":"kills","id":6},{"rule":"optional","type":"uint32","name":"deaths","id":7},{"rule":"optional","type":"uint32","name":"assists","id":8},{"rule":"optional","type":"uint32","name":"leaver_status","id":9},{"rule":"optional","type":"uint32","name":"last_hits","id":10},{"rule":"optional","type":"uint32","name":"denies","id":11},{"rule":"optional","type":"uint32","name":"gold_per_min","id":12},{"rule":"optional","type":"uint32","name":"xp_per_minute","id":13},{"rule":"optional","type":"uint32","name":"gold_spent","id":14},{"rule":"optional","type":"uint32","name":"level","id":15},{"rule":"optional","type":"uint32","name":"hero_damage","id":16},{"rule":"optional","type":"uint32","name":"tower_damage","id":17},{"rule":"optional","type":"uint32","name":"hero_healing","id":18},{"rule":"optional","type":"uint32","name":"time_last_seen","id":19},{"rule":"optional","type":"uint32","name":"support_ability_value","id":20},{"rule":"optional","type":"uint64","name":"party_id","id":21},{"rule":"optional","type":"float","name":"scaled_kills","id":24},{"rule":"optional","type":"float","name":"scaled_deaths","id":25},{"rule":"optional","type":"float","name":"scaled_assists","id":26},{"rule":"optional","type":"uint32","name":"claimed_farm_gold","id":27},{"rule":"optional","type":"uint32","name":"support_gold","id":28},{"rule":"optional","type":"uint32","name":"claimed_denies","id":29},{"rule":"optional","type":"uint32","name":"claimed_misses","id":30},{"rule":"optional","type":"uint32","name":"misses","id":31},{"rule":"repeated","type":"CMatchPlayerAbilityUpgrade","name":"ability_upgrades","id":32},{"rule":"repeated","type":"CMatchAdditionalUnitInventory","name":"additional_units_inventory","id":33},{"rule":"optional","type":"uint32","name":"net_worth","id":34},{"rule":"optional","type":"CCustomGameData","name":"custom_game_data","id":35}],"messages":[{"name":"CCustomGameData","fields":[{"rule":"optional","type":"uint32","name":"dota_team","id":1},{"rule":"optional","type":"bool","name":"winner","id":2}]}]}]},{"name":"CAdditionalSignoutMsg","fields":[{"rule":"optional","type":"uint32","name":"id","id":1},{"rule":"optional","type":"bytes","name":"contents","id":2}]},{"name":"CSocialFeedMatchEvent","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"timestamp","id":2},{"rule":"optional","type":"uint32","name":"event_type","id":3},{"rule":"optional","type":"int32","name":"game_time","id":4},{"rule":"optional","type":"uint32","name":"replay_time","id":5}]},{"name":"CCustomGameData","fields":[{"rule":"optional","type":"uint32","name":"publish_timestamp","id":1}]}]},{"name":"CMsgSignOutDraftInfo","fields":[{"rule":"optional","type":"uint32","name":"radiant_captain_account_id","id":1},{"rule":"optional","type":"uint32","name":"dire_captain_account_id","id":2},{"rule":"repeated","type":"CMatchHeroSelectEvent","name":"picks_bans","id":3}]},{"name":"CMsgSignOutBotInfo","fields":[{"rule":"optional","type":"bool","name":"allow_cheats","id":1},{"rule":"optional","type":"DOTABotDifficulty","name":"bot_difficulty","id":2,"options":{"default":"BOT_DIFFICULTY_PASSIVE"}},{"rule":"optional","type":"bool","name":"created_lobby","id":3},{"rule":"repeated","type":"CMsgBotSlotDifficulty","name":"bot_slot_difficulties","id":4}],"messages":[{"name":"CMsgBotSlotDifficulty","fields":[{"rule":"optional","type":"uint32","name":"slot","id":1},{"rule":"optional","type":"DOTABotDifficulty","name":"bot_difficulty","id":2,"options":{"default":"BOT_DIFFICULTY_PASSIVE"}}]}]},{"name":"CMsgSignOutPlayerStats","fields":[{"rule":"optional","type":"int32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"match_id","id":2},{"rule":"optional","type":"uint32","name":"rank","id":3},{"rule":"optional","type":"uint32","name":"hero_id","id":4},{"rule":"optional","type":"uint32","name":"rampages","id":5},{"rule":"optional","type":"uint32","name":"triple_kills","id":6},{"rule":"optional","type":"uint32","name":"first_blood_claimed","id":7},{"rule":"optional","type":"uint32","name":"first_blood_given","id":8},{"rule":"optional","type":"uint32","name":"couriers_killed","id":9},{"rule":"optional","type":"uint32","name":"aegises_snatched","id":10},{"rule":"optional","type":"uint32","name":"cheeses_eaten","id":11},{"rule":"optional","type":"uint32","name":"creeps_stacked","id":12},{"rule":"optional","type":"float","name":"fight_score","id":13},{"rule":"optional","type":"float","name":"farm_score","id":14},{"rule":"optional","type":"float","name":"support_score","id":15},{"rule":"optional","type":"float","name":"push_score","id":16},{"rule":"optional","type":"uint32","name":"kills","id":17},{"rule":"optional","type":"uint32","name":"deaths","id":18},{"rule":"optional","type":"uint32","name":"assists","id":19},{"rule":"optional","type":"uint32","name":"last_hits","id":20},{"rule":"optional","type":"uint32","name":"denies","id":21},{"rule":"optional","type":"float","name":"gpm","id":22},{"rule":"optional","type":"float","name":"xppm","id":23}]},{"name":"CMsgSignOutCommunicationSummary","fields":[{"rule":"repeated","type":"PlayerCommunication","name":"players","id":1}],"messages":[{"name":"PlayerCommunication","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"pings","id":2},{"rule":"optional","type":"uint32","name":"max_pings_per_interval","id":3},{"rule":"optional","type":"uint32","name":"teammate_pings","id":4},{"rule":"optional","type":"uint32","name":"max_teammate_pings_per_interval","id":5},{"rule":"optional","type":"uint32","name":"team_chat_messages","id":6},{"rule":"optional","type":"uint32","name":"all_chat_messages","id":7},{"rule":"optional","type":"uint32","name":"chat_wheel_messages","id":8},{"rule":"optional","type":"uint32","name":"pauses","id":9},{"rule":"optional","type":"uint32","name":"unpauses","id":10},{"rule":"optional","type":"uint32","name":"lines_drawn","id":11},{"rule":"optional","type":"uint32","name":"voice_chat_seconds","id":12},{"rule":"optional","type":"uint32","name":"chat_mutes","id":13},{"rule":"optional","type":"uint32","name":"voice_mutes","id":14}]}]},{"name":"CMsgGameMatchSignoutResponse","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"fixed32","name":"replay_salt","id":2},{"rule":"repeated","type":"CLobbyTimedRewardDetails","name":"timed_reward_details","id":3},{"rule":"repeated","type":"CDOTALobbyMember","name":"xp_reward_details","id":4},{"rule":"optional","type":"uint32","name":"leagueid","id":5},{"rule":"repeated","type":"CAdditionalSignoutMsg","name":"additional_msgs","id":6}],"messages":[{"name":"CAdditionalSignoutMsg","fields":[{"rule":"optional","type":"uint32","name":"id","id":1},{"rule":"optional","type":"bytes","name":"contents","id":2}]}]},{"name":"CMsgGameMatchSignOutPermissionRequest","fields":[{"rule":"optional","type":"uint32","name":"server_version","id":1},{"rule":"optional","type":"uint32","name":"local_attempt","id":2},{"rule":"optional","type":"uint32","name":"total_attempt","id":3},{"rule":"optional","type":"uint32","name":"seconds_waited","id":4}]},{"name":"CMsgGameMatchSignOutPermissionResponse","fields":[{"rule":"optional","type":"bool","name":"permission_granted","id":1,"options":{"default":false}},{"rule":"optional","type":"bool","name":"abandon_signout","id":2,"options":{"default":false}},{"rule":"optional","type":"uint32","name":"retry_delay_seconds","id":3,"options":{"default":0}}]},{"name":"CMsgGameChatLog","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"repeated","type":"CChatLine","name":"lines","id":2}],"messages":[{"name":"CChatLine","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"team_only","id":2},{"rule":"optional","type":"string","name":"text","id":3},{"rule":"optional","type":"uint32","name":"game_time","id":4}]}]},{"name":"CMsgDOTALiveScoreboardUpdate","fields":[{"rule":"optional","type":"uint32","name":"tournament_id","id":1},{"rule":"optional","type":"uint32","name":"tournament_game_id","id":2},{"rule":"optional","type":"float","name":"duration","id":3},{"rule":"optional","type":"int32","name":"hltv_delay","id":4},{"rule":"optional","type":"Team","name":"team_good","id":5},{"rule":"optional","type":"Team","name":"team_bad","id":6},{"rule":"optional","type":"uint32","name":"roshan_respawn_timer","id":7},{"rule":"optional","type":"uint32","name":"league_id","id":8},{"rule":"optional","type":"uint64","name":"match_id","id":9}],"messages":[{"name":"Team","fields":[{"rule":"repeated","type":"Player","name":"players","id":1},{"rule":"optional","type":"uint32","name":"score","id":2},{"rule":"optional","type":"uint32","name":"tower_state","id":3},{"rule":"optional","type":"uint32","name":"barracks_state","id":4},{"rule":"repeated","type":"uint32","name":"hero_picks","id":5},{"rule":"repeated","type":"uint32","name":"hero_bans","id":6}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"uint32","name":"player_slot","id":1},{"rule":"optional","type":"string","name":"player_name","id":2},{"rule":"optional","type":"string","name":"hero_name","id":3},{"rule":"optional","type":"uint32","name":"hero_id","id":4},{"rule":"optional","type":"uint32","name":"kills","id":5},{"rule":"optional","type":"uint32","name":"deaths","id":6},{"rule":"optional","type":"uint32","name":"assists","id":7},{"rule":"optional","type":"uint32","name":"last_hits","id":8},{"rule":"optional","type":"uint32","name":"denies","id":9},{"rule":"optional","type":"uint32","name":"gold","id":10},{"rule":"optional","type":"uint32","name":"level","id":11},{"rule":"optional","type":"float","name":"gold_per_min","id":12},{"rule":"optional","type":"float","name":"xp_per_min","id":13},{"rule":"optional","type":"DOTAUltimateState","name":"ultimate_state","id":14,"options":{"default":"k_EDOTAUltimateStateNotLearned"}},{"rule":"optional","type":"float","name":"ultimate_cooldown","id":15},{"rule":"optional","type":"uint32","name":"item0","id":16},{"rule":"optional","type":"uint32","name":"item1","id":17},{"rule":"optional","type":"uint32","name":"item2","id":18},{"rule":"optional","type":"uint32","name":"item3","id":19},{"rule":"optional","type":"uint32","name":"item4","id":20},{"rule":"optional","type":"uint32","name":"item5","id":21},{"rule":"optional","type":"uint32","name":"respawn_timer","id":22},{"rule":"optional","type":"uint32","name":"account_id","id":23},{"rule":"optional","type":"float","name":"position_x","id":24},{"rule":"optional","type":"float","name":"position_y","id":25},{"rule":"optional","type":"uint32","name":"net_worth","id":26},{"rule":"repeated","type":"HeroAbility","name":"abilities","id":27}],"messages":[{"name":"HeroAbility","fields":[{"rule":"optional","type":"uint32","name":"ability_id","id":1},{"rule":"optional","type":"uint32","name":"ability_level","id":2}]}],"enums":[{"name":"DOTAUltimateState","values":[{"name":"k_EDOTAUltimateStateNotLearned","id":0},{"name":"k_EDOTAUltimateStateCooldown","id":1},{"name":"k_EDOTAUltimateStateNeedsMana","id":2},{"name":"k_EDOTAUltimateStateReady","id":3}]}]}]}]},{"name":"CMsgDOTARequestPlayerResources","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"player_id","id":2}]},{"name":"CMsgDOTARequestPlayerResourcesResponse","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"rank","id":2},{"rule":"optional","type":"uint32","name":"player_id","id":3},{"rule":"optional","type":"bool","name":"prevent_text_chat","id":4},{"rule":"optional","type":"bool","name":"prevent_voice_chat","id":5},{"rule":"optional","type":"bool","name":"low_priority","id":6}]},{"name":"CMsgDOTARequestBatchPlayerResources","fields":[{"rule":"repeated","type":"uint32","name":"account_ids","id":1,"options":{"packed":true}},{"rule":"repeated","type":"uint32","name":"rank_types","id":4,"options":{"packed":true}}]},{"name":"CMsgDOTARequestBatchPlayerResourcesResponse","fields":[{"rule":"repeated","type":"Result","name":"results","id":6}],"messages":[{"name":"Result","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"bool","name":"prevent_text_chat","id":2},{"rule":"optional","type":"bool","name":"prevent_voice_chat","id":3},{"rule":"optional","type":"uint32","name":"rank","id":4},{"rule":"optional","type":"bool","name":"rank_calibrated","id":5},{"rule":"optional","type":"bool","name":"low_priority","id":6}]}]},{"name":"CMsgDOTAPlayerFailedToConnect","fields":[{"rule":"repeated","type":"fixed64","name":"failed_loaders","id":1},{"rule":"repeated","type":"fixed64","name":"abandoned_loaders","id":2}]},{"name":"CMsgGCToRelayConnect","fields":[{"rule":"optional","type":"uint32","name":"source_tv_public_addr","id":1},{"rule":"optional","type":"uint32","name":"source_tv_private_addr","id":2},{"rule":"optional","type":"uint32","name":"source_tv_port","id":3},{"rule":"optional","type":"uint64","name":"game_server_steam_id","id":4},{"rule":"optional","type":"uint32","name":"parent_count","id":5},{"rule":"optional","type":"fixed64","name":"tv_unique_secret_code","id":6},{"rule":"optional","type":"fixed64","name":"source_tv_steamid","id":7}]},{"name":"CMsgGCGCToLANServerRelayConnect","fields":[{"rule":"optional","type":"fixed64","name":"relay_steamid","id":1}]},{"name":"CMsgGCToRelayConnectResponse","fields":[]},{"name":"CMsgGCBanStatusRequest","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgGCBanStatusResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1},{"rule":"optional","type":"bool","name":"low_priority","id":2},{"rule":"optional","type":"bool","name":"text_chat_banned","id":3},{"rule":"optional","type":"bool","name":"voice_chat_banned","id":4}]},{"name":"CMsgTournamentItemEvent","fields":[{"rule":"optional","type":"fixed32","name":"killer_account_id","id":1},{"rule":"optional","type":"fixed32","name":"victim_account_id","id":2},{"rule":"optional","type":"DOTA_TournamentEvents","name":"event_type","id":3,"options":{"default":"TE_FIRST_BLOOD"}},{"rule":"optional","type":"int32","name":"tv_delay","id":4},{"rule":"optional","type":"int32","name":"dota_time","id":5},{"rule":"optional","type":"float","name":"replay_time","id":6},{"rule":"optional","type":"string","name":"loot_list","id":7},{"rule":"optional","type":"uint32","name":"event_team","id":8},{"rule":"optional","type":"uint32","name":"multi_kill_count","id":9},{"rule":"optional","type":"uint32","name":"winner_score","id":10},{"rule":"optional","type":"uint32","name":"loser_score","id":11},{"rule":"repeated","type":"CProtoItemHeroStatue","name":"hero_statues","id":12}]},{"name":"CMsgTournamentItemEventResponse","fields":[{"rule":"optional","type":"DOTA_TournamentEvents","name":"event_type","id":1,"options":{"default":"TE_FIRST_BLOOD"}},{"rule":"optional","type":"uint32","name":"viewers_granted","id":6}]},{"name":"CMsgTeamFanfare","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1}]},{"name":"CMsgResponseTeamFanfare","fields":[{"rule":"optional","type":"uint32","name":"fanfare_goodguys","id":1},{"rule":"optional","type":"uint32","name":"fanfare_badguys","id":2}]},{"name":"CMsgGameServerUploadSaveGame","fields":[{"rule":"optional","type":"uint32","name":"game_time","id":1},{"rule":"optional","type":"bytes","name":"save_game_data","id":2},{"rule":"optional","type":"uint64","name":"lobby_id","id":3},{"rule":"repeated","type":"uint64","name":"player_steam_ids","id":4}]},{"name":"CMsgGameServerSaveGameResult","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SaveSuccessful"}}],"enums":[{"name":"Result","values":[{"name":"SaveSuccessful","id":0},{"name":"SessionNotFound","id":1},{"name":"DatabaseError","id":2},{"name":"TooBig","id":3}]}]},{"name":"CMsgGameServerGetLoadGame","fields":[{"rule":"optional","type":"uint32","name":"save_id","id":1}]},{"name":"CMsgGameServerGetLoadGameResult","fields":[{"rule":"optional","type":"bytes","name":"save_game_data","id":1}]},{"name":"CMsgDOTAGenerateDiretidePrizeList","fields":[{"rule":"optional","type":"uint32","name":"prize_list","id":1},{"rule":"optional","type":"uint32","name":"highest_roshan_level","id":2}]},{"name":"CMsgDOTAGenerateDiretidePrizeListResponse","fields":[{"rule":"repeated","type":"uint32","name":"item_defs","id":1},{"rule":"repeated","type":"fixed64","name":"steam_ids","id":2},{"rule":"optional","type":"uint32","name":"prize_list","id":3}]},{"name":"CMsgDOTARewardDiretidePrizes","fields":[{"rule":"optional","type":"uint32","name":"team","id":1},{"rule":"optional","type":"uint32","name":"prize_list","id":2}]},{"name":"CMsgDOTADiretidePrizesRewardedResponse","fields":[{"rule":"optional","type":"uint32","name":"prize_list","id":1}]},{"name":"CMsgDOTAAwardEventPoints","fields":[{"rule":"repeated","type":"AwardPoints","name":"award_points","id":1},{"rule":"optional","type":"uint64","name":"match_id","id":2},{"rule":"optional","type":"uint32","name":"event_id","id":4}],"messages":[{"name":"AwardPoints","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"int32","name":"points","id":2},{"rule":"optional","type":"int32","name":"premium_points","id":3},{"rule":"optional","type":"uint32","name":"trade_ban_time","id":5}]}]},{"name":"CMsgServerToGCSignoutAwardAdditionalDrops","fields":[{"rule":"repeated","type":"AdditionalDrops","name":"drops","id":1},{"rule":"optional","type":"uint64","name":"match_id","id":2}],"messages":[{"name":"AdditionalDrops","fields":[{"rule":"optional","type":"string","name":"loot_list","id":1},{"rule":"repeated","type":"uint32","name":"player_account_ids","id":2},{"rule":"optional","type":"bool","name":"no_trade","id":3},{"rule":"optional","type":"bool","name":"randomize_reward","id":4}]}]},{"name":"CMsgDOTAUpdateTI4HeroQuest","fields":[{"rule":"repeated","type":"Player","name":"players","id":1},{"rule":"optional","type":"fixed32","name":"match_start_time","id":2},{"rule":"optional","type":"uint64","name":"match_id","id":3}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"hero_id","id":2}]}]},{"name":"CMsgDOTAFrostivusTimeElapsed","fields":[{"rule":"optional","type":"uint32","name":"seconds","id":1},{"rule":"repeated","type":"User","name":"users","id":2},{"rule":"optional","type":"uint64","name":"match_id","id":3}],"messages":[{"name":"User","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"time_elapsed_s","id":2}]}]},{"name":"CMsgGCToServerPingRequest","fields":[{"rule":"optional","type":"fixed64","name":"request_id","id":1},{"rule":"optional","type":"uint64","name":"request_time","id":2}]},{"name":"CMsgGCToServerPingResponse","fields":[{"rule":"optional","type":"fixed64","name":"request_id","id":1},{"rule":"optional","type":"uint64","name":"request_time","id":2},{"rule":"optional","type":"uint32","name":"cluster","id":3}]},{"name":"CMsgGCToServerConsoleCommand","fields":[{"rule":"optional","type":"string","name":"console_command","id":1}]},{"name":"CMsgServerGetEventPoints","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"repeated","type":"uint32","name":"account_id","id":2}]},{"name":"CMsgServerGetEventPointsResponse","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"repeated","type":"Points","name":"points","id":2}],"messages":[{"name":"Points","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"points_total","id":2},{"rule":"optional","type":"bool","name":"owned","id":4}]}]},{"name":"CMsgServerGrantSurveyPermission","fields":[{"rule":"repeated","type":"Survey","name":"surveys","id":1}],"messages":[{"name":"Survey","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"question_id","id":2},{"rule":"optional","type":"uint32","name":"expire_time","id":3},{"rule":"optional","type":"uint64","name":"survey_key","id":4},{"rule":"optional","type":"uint64","name":"extra_data","id":5},{"rule":"optional","type":"uint64","name":"extra_data_32","id":6}]}]},{"name":"CMsgServerGrantSurveyPermissionResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1}]},{"name":"CMsgServerToGCMatchConnectionStats","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"region_id","id":2},{"rule":"optional","type":"uint32","name":"league_id","id":3},{"rule":"repeated","type":"Player","name":"players","id":4},{"rule":"optional","type":"uint32","name":"cluster_id","id":5}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"fixed32","name":"ip","id":2},{"rule":"optional","type":"uint32","name":"avg_ping_ms","id":3},{"rule":"optional","type":"float","name":"packet_loss","id":5},{"rule":"optional","type":"float","name":"ping_deviation","id":6},{"rule":"optional","type":"uint32","name":"full_resends","id":7}]}]},{"name":"CMsgServerGCUpdateSpectatorCount","fields":[{"rule":"optional","type":"uint32","name":"spectator_count","id":1}]},{"name":"CSerializedCombatLog","fields":[{"rule":"optional","type":"uint32","name":"version","id":1},{"rule":"optional","type":"Dictionary","name":"dictionary","id":2},{"rule":"repeated","type":"CMsgDOTACombatLogEntry","name":"entries","id":3}],"messages":[{"name":"Dictionary","fields":[{"rule":"repeated","type":"DictString","name":"strings","id":1}],"messages":[{"name":"DictString","fields":[{"rule":"required","type":"uint32","name":"id","id":1},{"rule":"required","type":"string","name":"value","id":2}]}]}]},{"name":"CMsgServerToGCGetAdditionalEquips","fields":[{"rule":"repeated","type":"uint32","name":"account_ids","id":1}]},{"name":"CMsgServerToGCGetAdditionalEquipsResponse","fields":[{"rule":"repeated","type":"CUserEquips","name":"equips","id":1}],"messages":[{"name":"CUserEquips","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"CAdditionalEquipSlot","name":"equips","id":2}]}]},{"name":"CMsgServerToGCGetProfileCard","fields":[{"rule":"repeated","type":"uint32","name":"account_ids","id":1}]},{"name":"CMsgServerToGCGetProfileCardResponse","fields":[{"rule":"repeated","type":"CMsgDOTAProfileCard","name":"cards","id":1}]},{"name":"CMsgServerToGCVictoryPredictions","fields":[{"rule":"repeated","type":"Record","name":"records","id":1}],"messages":[{"name":"Record","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2},{"rule":"repeated","type":"uint64","name":"item_ids","id":5}]}]},{"name":"CMsgSuspiciousActivity","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"ESuspiciousActivity","name":"activity","id":2,"options":{"default":"k_ESuspiciousActivity_VAC_MultipleInstances"}},{"rule":"optional","type":"sint32","name":"intdata1","id":3},{"rule":"optional","type":"sint32","name":"intdata2","id":4},{"rule":"optional","type":"uint32","name":"time","id":5}]},{"name":"CMsgServerToGCRequestStatus","fields":[]},{"name":"CMsgServerToGCRequestStatus_Response","fields":[{"rule":"optional","type":"uint32","name":"response","id":1}]},{"name":"CMsgSignOutAssassinMiniGameInfo","fields":[{"rule":"repeated","type":"fixed64","name":"winning_players","id":1},{"rule":"repeated","type":"fixed64","name":"losing_players","id":2},{"rule":"repeated","type":"fixed64","name":"arcana_owners","id":3},{"rule":"optional","type":"bool","name":"assassin_won","id":4},{"rule":"optional","type":"uint32","name":"target_hero_id","id":5},{"rule":"optional","type":"bool","name":"contract_completed","id":6},{"rule":"optional","type":"float","name":"contract_complete_time","id":7},{"rule":"optional","type":"bool","name":"pa_is_radiant","id":8}]},{"name":"CMsgServerToGCGetIngameEventData","fields":[{"rule":"optional","type":"EIngameEvent","name":"event","id":1,"options":{"default":"k_EIngameEvent_OraclePA"}}]},{"name":"CMsgGCToServerIngameEventDataOraclePA","fields":[{"rule":"repeated","type":"uint32","name":"target_hero_ids","id":1}]},{"name":"CMsgServerToGCKillSummaries","fields":[{"rule":"optional","type":"uint32","name":"ingameevent_id","id":1},{"rule":"repeated","type":"KillSummary","name":"summaries","id":2}],"messages":[{"name":"KillSummary","fields":[{"rule":"optional","type":"uint32","name":"killer_hero_id","id":1},{"rule":"optional","type":"uint32","name":"victim_hero_id","id":2},{"rule":"optional","type":"uint32","name":"kill_count","id":3}]}]},{"name":"CMsgGCToServerPredictionResult","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"match_id","id":2},{"rule":"optional","type":"bool","name":"correct","id":3},{"rule":"repeated","type":"Prediction","name":"predictions","id":4}],"messages":[{"name":"Prediction","fields":[{"rule":"optional","type":"uint32","name":"item_def","id":1},{"rule":"optional","type":"uint32","name":"num_correct","id":2},{"rule":"optional","type":"uint32","name":"num_fails","id":3},{"rule":"optional","type":"EResult","name":"result","id":4,"options":{"default":"k_eResult_ItemGranted"}},{"rule":"repeated","type":"uint32","name":"granted_item_defs","id":6}],"enums":[{"name":"EResult","values":[{"name":"k_eResult_ItemGranted","id":1},{"name":"k_eResult_Destroyed","id":2}]}]}]},{"name":"CMsgServerToGCLockCharmTrading","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2}]},{"name":"CMsgDOTACNY2015EventPointUsage","fields":[{"rule":"optional","type":"PointUsage","name":"winning_team_usage","id":1},{"rule":"optional","type":"PointUsage","name":"losing_team_usage","id":2}],"messages":[{"name":"PointUsage","fields":[{"rule":"repeated","type":"uint32","name":"path","id":1},{"rule":"repeated","type":"uint32","name":"path_level","id":2},{"rule":"repeated","type":"uint32","name":"ability_points_spent","id":3}]}]},{"name":"CMsgSignOutUpdatePlayerChallenge","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"Challenge","name":"completed","id":2},{"rule":"repeated","type":"Challenge","name":"rerolled","id":3},{"rule":"optional","type":"uint64","name":"match_id","id":4}],"messages":[{"name":"Challenge","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"optional","type":"uint32","name":"sequence_id","id":3}]}]},{"name":"CMsgServerToGCRerollPlayerChallenge","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"CMsgClientToGCRerollPlayerChallenge","name":"reroll_msg","id":2}]},{"name":"CMsgServerToGCHoldEventPoints","fields":[{"rule":"repeated","type":"HoldRequest","name":"holds","id":1},{"rule":"optional","type":"uint32","name":"event_id","id":2},{"rule":"optional","type":"uint64","name":"hold_key","id":3},{"rule":"optional","type":"uint32","name":"hold_until","id":4}],"messages":[{"name":"HoldRequest","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"points_held","id":2},{"rule":"optional","type":"uint32","name":"premium_held","id":3}]}]},{"name":"CMsgSignOutReleaseEventPointHolds","fields":[{"rule":"repeated","type":"uint32","name":"account_ids","id":1},{"rule":"optional","type":"uint32","name":"event_id","id":2},{"rule":"optional","type":"uint64","name":"hold_key","id":3}]},{"name":"CMsgGCToServerUpdateBroadcastCheers","fields":[{"rule":"optional","type":"uint32","name":"time_stamp","id":1},{"rule":"optional","type":"uint32","name":"team_1_cheers","id":2},{"rule":"optional","type":"uint32","name":"team_2_cheers","id":3}]},{"name":"CDOTAModifierBuffTableEntry","fields":[{"rule":"required","type":"DOTA_MODIFIER_ENTRY_TYPE","name":"entry_type","id":1,"options":{"default":"DOTA_MODIFIER_ENTRY_TYPE_ACTIVE"}},{"rule":"required","type":"int32","name":"parent","id":2},{"rule":"required","type":"int32","name":"index","id":3},{"rule":"required","type":"int32","name":"serial_num","id":4},{"rule":"optional","type":"int32","name":"modifier_class","id":5},{"rule":"optional","type":"int32","name":"ability_level","id":6},{"rule":"optional","type":"int32","name":"stack_count","id":7},{"rule":"optional","type":"float","name":"creation_time","id":8},{"rule":"optional","type":"float","name":"duration","id":9,"options":{"default":-1}},{"rule":"optional","type":"int32","name":"caster","id":10},{"rule":"optional","type":"int32","name":"ability","id":11},{"rule":"optional","type":"int32","name":"armor","id":12},{"rule":"optional","type":"float","name":"fade_time","id":13},{"rule":"optional","type":"bool","name":"subtle","id":14},{"rule":"optional","type":"float","name":"channel_time","id":15},{"rule":"optional","type":"CMsgVector","name":"v_start","id":16},{"rule":"optional","type":"CMsgVector","name":"v_end","id":17},{"rule":"optional","type":"string","name":"portal_loop_appear","id":18},{"rule":"optional","type":"string","name":"portal_loop_disappear","id":19},{"rule":"optional","type":"string","name":"hero_loop_appear","id":20},{"rule":"optional","type":"string","name":"hero_loop_disappear","id":21},{"rule":"optional","type":"int32","name":"movement_speed","id":22},{"rule":"optional","type":"bool","name":"aura","id":23},{"rule":"optional","type":"int32","name":"activity","id":24},{"rule":"optional","type":"int32","name":"damage","id":25},{"rule":"optional","type":"int32","name":"range","id":26},{"rule":"optional","type":"int32","name":"dd_modifier_index","id":27},{"rule":"optional","type":"int32","name":"dd_ability_index","id":28},{"rule":"optional","type":"string","name":"illusion_label","id":29},{"rule":"optional","type":"bool","name":"active","id":30},{"rule":"optional","type":"string","name":"lua_name","id":31}]},{"name":"CDOTALuaModifierEntry","fields":[{"rule":"required","type":"int32","name":"modifier_type","id":1},{"rule":"required","type":"string","name":"modifier_filename","id":2}]},{"name":"CDOTAUserMsg_AIDebugLine","fields":[{"rule":"optional","type":"string","name":"message","id":1}]},{"name":"CDOTAUserMsg_Ping","fields":[{"rule":"optional","type":"string","name":"message","id":1}]},{"name":"CDOTAUserMsg_SwapVerify","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1}]},{"name":"CDOTAUserMsg_ChatEvent","fields":[{"rule":"required","type":"DOTA_CHAT_MESSAGE","name":"type","id":1,"options":{"default":"CHAT_MESSAGE_INVALID"}},{"rule":"optional","type":"uint32","name":"value","id":2},{"rule":"optional","type":"sint32","name":"playerid_1","id":3,"options":{"default":-1}},{"rule":"optional","type":"sint32","name":"playerid_2","id":4,"options":{"default":-1}},{"rule":"optional","type":"sint32","name":"playerid_3","id":5,"options":{"default":-1}},{"rule":"optional","type":"sint32","name":"playerid_4","id":6,"options":{"default":-1}},{"rule":"optional","type":"sint32","name":"playerid_5","id":7,"options":{"default":-1}},{"rule":"optional","type":"sint32","name":"playerid_6","id":8,"options":{"default":-1}},{"rule":"optional","type":"uint32","name":"value2","id":9},{"rule":"optional","type":"uint32","name":"value3","id":10}]},{"name":"CDOTAUserMsg_CombatLogShowDeath","fields":[]},{"name":"CDOTAUserMsg_BotChat","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"string","name":"format","id":2},{"rule":"optional","type":"string","name":"message","id":3},{"rule":"optional","type":"string","name":"target","id":4}]},{"name":"CDOTAUserMsg_CombatHeroPositions","fields":[{"rule":"optional","type":"uint32","name":"index","id":1},{"rule":"optional","type":"int32","name":"time","id":2},{"rule":"optional","type":"CMsgVector2D","name":"world_pos","id":3},{"rule":"optional","type":"int32","name":"health","id":4}]},{"name":"CDOTAUserMsg_MiniKillCamInfo","fields":[{"rule":"repeated","type":"Attacker","name":"attackers","id":1}],"messages":[{"name":"Attacker","fields":[{"rule":"optional","type":"uint32","name":"attacker","id":1},{"rule":"optional","type":"int32","name":"total_damage","id":2},{"rule":"repeated","type":"Ability","name":"abilities","id":3}],"messages":[{"name":"Ability","fields":[{"rule":"optional","type":"uint32","name":"ability","id":1},{"rule":"optional","type":"int32","name":"damage","id":2}]}]}]},{"name":"CDOTAUserMsg_GlobalLightColor","fields":[{"rule":"optional","type":"uint32","name":"color","id":1},{"rule":"optional","type":"float","name":"duration","id":2}]},{"name":"CDOTAUserMsg_GlobalLightDirection","fields":[{"rule":"optional","type":"CMsgVector","name":"direction","id":1},{"rule":"optional","type":"float","name":"duration","id":2}]},{"name":"CDOTAUserMsg_LocationPing","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"CDOTAMsg_LocationPing","name":"location_ping","id":2}]},{"name":"CDOTAUserMsg_ItemAlert","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"CDOTAMsg_ItemAlert","name":"item_alert","id":2}]},{"name":"CDOTAUserMsg_EnemyItemAlert","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"uint32","name":"target_player_id","id":2},{"rule":"optional","type":"int32","name":"itemid","id":3},{"rule":"optional","type":"uint32","name":"rune_type","id":4}]},{"name":"CDOTAUserMsg_ModifierAlert","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"string","name":"class_name","id":2},{"rule":"optional","type":"uint32","name":"stack_count","id":3},{"rule":"optional","type":"bool","name":"is_debuff","id":4},{"rule":"optional","type":"uint32","name":"target_entindex","id":5}]},{"name":"CDOTAUserMsg_HPManaAlert","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"uint32","name":"target_entindex","id":2}]},{"name":"CDOTAUserMsg_GlyphAlert","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"bool","name":"negative","id":2}]},{"name":"CDOTAUserMsg_WillPurchaseAlert","fields":[{"rule":"optional","type":"int32","name":"itemid","id":1},{"rule":"optional","type":"int32","name":"player_id","id":2},{"rule":"optional","type":"uint32","name":"gold_remaining","id":3}]},{"name":"CDOTAUserMsg_BuyBackStateAlert","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1}]},{"name":"CDOTAUserMsg_QuickBuyAlert","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1},{"rule":"optional","type":"int32","name":"itemid","id":2},{"rule":"optional","type":"int32","name":"gold_required","id":3}]},{"name":"CDOTAUserMsg_CourierKilledAlert","fields":[{"rule":"optional","type":"uint32","name":"team","id":1},{"rule":"optional","type":"uint32","name":"gold_value","id":2},{"rule":"optional","type":"int32","name":"entity_handle","id":3},{"rule":"optional","type":"int32","name":"timestamp","id":4}]},{"name":"CDOTAUserMsg_MinimapEvent","fields":[{"rule":"optional","type":"int32","name":"event_type","id":1},{"rule":"optional","type":"int32","name":"entity_handle","id":2},{"rule":"optional","type":"int32","name":"x","id":3},{"rule":"optional","type":"int32","name":"y","id":4},{"rule":"optional","type":"int32","name":"duration","id":5}]},{"name":"CDOTAUserMsg_MapLine","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1},{"rule":"optional","type":"CDOTAMsg_MapLine","name":"mapline","id":2}]},{"name":"CDOTAUserMsg_MinimapDebugPoint","fields":[{"rule":"optional","type":"CMsgVector","name":"location","id":1},{"rule":"optional","type":"uint32","name":"color","id":2},{"rule":"optional","type":"int32","name":"size","id":3},{"rule":"optional","type":"float","name":"duration","id":4},{"rule":"optional","type":"int32","name":"index","id":5}]},{"name":"CDOTAUserMsg_CreateLinearProjectile","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector2D","name":"velocity","id":2},{"rule":"optional","type":"int32","name":"latency","id":3},{"rule":"optional","type":"int32","name":"entindex","id":4},{"rule":"optional","type":"uint64","name":"particle_index","id":5},{"rule":"optional","type":"int32","name":"handle","id":6},{"rule":"optional","type":"CMsgVector2D","name":"acceleration","id":7},{"rule":"optional","type":"float","name":"max_speed","id":8}]},{"name":"CDOTAUserMsg_DestroyLinearProjectile","fields":[{"rule":"optional","type":"int32","name":"handle","id":1}]},{"name":"CDOTAUserMsg_DodgeTrackingProjectiles","fields":[{"rule":"required","type":"int32","name":"entindex","id":1},{"rule":"optional","type":"bool","name":"attacks_only","id":2}]},{"name":"CDOTAUserMsg_SpectatorPlayerClick","fields":[{"rule":"required","type":"int32","name":"entindex","id":1},{"rule":"optional","type":"int32","name":"order_type","id":2},{"rule":"optional","type":"int32","name":"target_index","id":3}]},{"name":"CDOTAUserMsg_SpectatorPlayerUnitOrders","fields":[{"rule":"optional","type":"int32","name":"entindex","id":1},{"rule":"optional","type":"int32","name":"order_type","id":2},{"rule":"repeated","type":"int32","name":"units","id":3},{"rule":"optional","type":"int32","name":"target_index","id":4},{"rule":"optional","type":"int32","name":"ability_index","id":5},{"rule":"optional","type":"CMsgVector","name":"position","id":6},{"rule":"optional","type":"bool","name":"queue","id":7}]},{"name":"CDOTAUserMsg_NevermoreRequiem","fields":[{"rule":"optional","type":"int32","name":"entity_handle","id":1},{"rule":"optional","type":"int32","name":"lines","id":2},{"rule":"optional","type":"CMsgVector","name":"origin","id":3}]},{"name":"CDOTAUserMsg_InvalidCommand","fields":[{"rule":"optional","type":"string","name":"message","id":1}]},{"name":"CDOTAUserMsg_HudError","fields":[{"rule":"optional","type":"int32","name":"order_id","id":1}]},{"name":"CDOTAUserMsg_SharedCooldown","fields":[{"rule":"optional","type":"int32","name":"entindex","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"float","name":"cooldown","id":3},{"rule":"optional","type":"int32","name":"name_index","id":4}]},{"name":"CDOTAUserMsg_SetNextAutobuyItem","fields":[{"rule":"optional","type":"string","name":"name","id":1}]},{"name":"CDOTAUserMsg_HalloweenDrops","fields":[{"rule":"repeated","type":"uint32","name":"item_defs","id":1},{"rule":"repeated","type":"uint32","name":"player_ids","id":2},{"rule":"optional","type":"uint32","name":"prize_list","id":3}]},{"name":"CDOTAUserMsg_PredictionResult","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"match_id","id":2},{"rule":"optional","type":"bool","name":"correct","id":3},{"rule":"repeated","type":"Prediction","name":"predictions","id":4}],"messages":[{"name":"Prediction","fields":[{"rule":"optional","type":"uint32","name":"item_def","id":1},{"rule":"optional","type":"uint32","name":"num_correct","id":2},{"rule":"optional","type":"uint32","name":"num_fails","id":3},{"rule":"optional","type":"EResult","name":"result","id":4,"options":{"default":"k_eResult_ItemGranted"}},{"rule":"repeated","type":"uint32","name":"granted_item_defs","id":6}],"enums":[{"name":"EResult","values":[{"name":"k_eResult_ItemGranted","id":1},{"name":"k_eResult_Destroyed","id":2}]}]}]},{"name":"CDOTAResponseQuerySerialized","fields":[{"rule":"repeated","type":"Fact","name":"facts","id":1}],"messages":[{"name":"Fact","fields":[{"rule":"required","type":"int32","name":"key","id":1},{"rule":"required","type":"ValueType","name":"valtype","id":2,"options":{"default":"NUMERIC"}},{"rule":"optional","type":"float","name":"val_numeric","id":3},{"rule":"optional","type":"string","name":"val_string","id":4}],"enums":[{"name":"ValueType","values":[{"name":"NUMERIC","id":1},{"name":"STRING","id":2}]}]}]},{"name":"CDOTASpeechMatchOnClient","fields":[{"rule":"optional","type":"int32","name":"concept","id":1},{"rule":"optional","type":"int32","name":"recipient_type","id":2},{"rule":"optional","type":"CDOTAResponseQuerySerialized","name":"responsequery","id":3},{"rule":"optional","type":"sfixed32","name":"randomseed","id":4,"options":{"default":0}}]},{"name":"CDOTAUserMsg_UnitEvent","fields":[{"rule":"required","type":"EDotaEntityMessages","name":"msg_type","id":1,"options":{"default":"DOTA_UNIT_SPEECH"}},{"rule":"required","type":"int32","name":"entity_index","id":2},{"rule":"optional","type":"Speech","name":"speech","id":3},{"rule":"optional","type":"SpeechMute","name":"speech_mute","id":4},{"rule":"optional","type":"AddGesture","name":"add_gesture","id":5},{"rule":"optional","type":"RemoveGesture","name":"remove_gesture","id":6},{"rule":"optional","type":"BloodImpact","name":"blood_impact","id":7},{"rule":"optional","type":"FadeGesture","name":"fade_gesture","id":8},{"rule":"optional","type":"CDOTASpeechMatchOnClient","name":"speech_match_on_client","id":9}],"messages":[{"name":"Speech","fields":[{"rule":"optional","type":"int32","name":"concept","id":1},{"rule":"optional","type":"string","name":"response","id":2},{"rule":"optional","type":"int32","name":"recipient_type","id":3},{"rule":"optional","type":"int32","name":"level","id":4},{"rule":"optional","type":"bool","name":"muteable","id":5,"options":{"default":false}}]},{"name":"SpeechMute","fields":[{"rule":"optional","type":"float","name":"delay","id":1,"options":{"default":0.5}}]},{"name":"AddGesture","fields":[{"rule":"optional","type":"int32","name":"activity","id":1},{"rule":"optional","type":"int32","name":"slot","id":2},{"rule":"optional","type":"float","name":"fade_in","id":3,"options":{"default":0}},{"rule":"optional","type":"float","name":"fade_out","id":4,"options":{"default":0.1}}]},{"name":"RemoveGesture","fields":[{"rule":"optional","type":"int32","name":"activity","id":1}]},{"name":"BloodImpact","fields":[{"rule":"optional","type":"int32","name":"scale","id":1},{"rule":"optional","type":"int32","name":"x_normal","id":2},{"rule":"optional","type":"int32","name":"y_normal","id":3}]},{"name":"FadeGesture","fields":[{"rule":"optional","type":"int32","name":"activity","id":1}]}]},{"name":"CDOTAUserMsg_ItemPurchased","fields":[{"rule":"optional","type":"int32","name":"item_index","id":1}]},{"name":"CDOTAUserMsg_ItemFound","fields":[{"rule":"optional","type":"int32","name":"player","id":1},{"rule":"optional","type":"int32","name":"quality","id":2},{"rule":"optional","type":"int32","name":"rarity","id":3},{"rule":"optional","type":"int32","name":"method","id":4},{"rule":"optional","type":"int32","name":"itemdef","id":5}]},{"name":"CDOTAUserMsg_ParticleManager","fields":[{"rule":"required","type":"DOTA_PARTICLE_MESSAGE","name":"type","id":1,"options":{"default":"DOTA_PARTICLE_MANAGER_EVENT_CREATE"}},{"rule":"required","type":"uint32","name":"index","id":2},{"rule":"optional","type":"ReleaseParticleIndex","name":"release_particle_index","id":3},{"rule":"optional","type":"CreateParticle","name":"create_particle","id":4},{"rule":"optional","type":"DestroyParticle","name":"destroy_particle","id":5},{"rule":"optional","type":"DestroyParticleInvolving","name":"destroy_particle_involving","id":6},{"rule":"optional","type":"UpdateParticle","name":"update_particle","id":7},{"rule":"optional","type":"UpdateParticleFwd","name":"update_particle_fwd","id":8},{"rule":"optional","type":"UpdateParticleOrient","name":"update_particle_orient","id":9},{"rule":"optional","type":"UpdateParticleFallback","name":"update_particle_fallback","id":10},{"rule":"optional","type":"UpdateParticleOffset","name":"update_particle_offset","id":11},{"rule":"optional","type":"UpdateParticleEnt","name":"update_particle_ent","id":12},{"rule":"optional","type":"UpdateParticleShouldDraw","name":"update_particle_should_draw","id":14},{"rule":"optional","type":"UpdateParticleSetFrozen","name":"update_particle_set_frozen","id":15},{"rule":"optional","type":"ChangeControlPointAttachment","name":"change_control_point_attachment","id":16}],"messages":[{"name":"ReleaseParticleIndex","fields":[]},{"name":"CreateParticle","fields":[{"rule":"optional","type":"fixed64","name":"particle_name_index","id":1},{"rule":"optional","type":"int32","name":"attach_type","id":2},{"rule":"optional","type":"int32","name":"entity_handle","id":3},{"rule":"optional","type":"int32","name":"entity_handle_for_modifiers","id":4}]},{"name":"DestroyParticle","fields":[{"rule":"optional","type":"bool","name":"destroy_immediately","id":1}]},{"name":"DestroyParticleInvolving","fields":[{"rule":"optional","type":"bool","name":"destroy_immediately","id":1},{"rule":"optional","type":"int32","name":"entity_handle","id":3}]},{"name":"UpdateParticle","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"position","id":2}]},{"name":"UpdateParticleFwd","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"forward","id":2}]},{"name":"UpdateParticleOrient","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"forward","id":2},{"rule":"optional","type":"CMsgVector","name":"right","id":3},{"rule":"optional","type":"CMsgVector","name":"up","id":4}]},{"name":"UpdateParticleFallback","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"position","id":2}]},{"name":"UpdateParticleOffset","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"origin_offset","id":2}]},{"name":"UpdateParticleEnt","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"int32","name":"entity_handle","id":2},{"rule":"optional","type":"int32","name":"attach_type","id":3},{"rule":"optional","type":"int32","name":"attachment","id":4},{"rule":"optional","type":"CMsgVector","name":"fallback_position","id":5},{"rule":"optional","type":"bool","name":"include_wearables","id":6}]},{"name":"UpdateParticleSetFrozen","fields":[{"rule":"optional","type":"bool","name":"set_frozen","id":1}]},{"name":"UpdateParticleShouldDraw","fields":[{"rule":"optional","type":"bool","name":"should_draw","id":1}]},{"name":"ChangeControlPointAttachment","fields":[{"rule":"optional","type":"int32","name":"attachment_old","id":1},{"rule":"optional","type":"int32","name":"attachment_new","id":2},{"rule":"optional","type":"int32","name":"entity_handle","id":3}]}]},{"name":"CDOTAUserMsg_OverheadEvent","fields":[{"rule":"required","type":"DOTA_OVERHEAD_ALERT","name":"message_type","id":1,"options":{"default":"OVERHEAD_ALERT_GOLD"}},{"rule":"optional","type":"int32","name":"value","id":2},{"rule":"optional","type":"int32","name":"target_player_entindex","id":3},{"rule":"optional","type":"int32","name":"target_entindex","id":4},{"rule":"optional","type":"int32","name":"source_player_entindex","id":5}]},{"name":"CDOTAUserMsg_TutorialTipInfo","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"int32","name":"progress","id":2}]},{"name":"CDOTAUserMsg_TutorialFinish","fields":[{"rule":"optional","type":"string","name":"heading","id":1},{"rule":"optional","type":"string","name":"emblem","id":2},{"rule":"optional","type":"string","name":"body","id":3},{"rule":"optional","type":"bool","name":"success","id":4}]},{"name":"CDOTAUserMsg_TutorialMinimapPosition","fields":[]},{"name":"CDOTAUserMsg_SendGenericToolTip","fields":[{"rule":"optional","type":"string","name":"title","id":1},{"rule":"optional","type":"string","name":"text","id":2},{"rule":"optional","type":"int32","name":"entindex","id":3},{"rule":"optional","type":"bool","name":"close","id":4}]},{"name":"CDOTAUserMsg_WorldLine","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1},{"rule":"optional","type":"CDOTAMsg_WorldLine","name":"worldline","id":2}]},{"name":"CDOTAUserMsg_ChatWheel","fields":[{"rule":"optional","type":"EDOTAChatWheelMessage","name":"chat_message","id":1,"options":{"default":"k_EDOTA_CW_Ok"}},{"rule":"optional","type":"uint32","name":"player_id","id":2},{"rule":"optional","type":"uint32","name":"account_id","id":3},{"rule":"optional","type":"uint32","name":"param_hero_id","id":4}]},{"name":"CDOTAUserMsg_ReceivedXmasGift","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1},{"rule":"optional","type":"string","name":"item_name","id":2},{"rule":"optional","type":"int32","name":"inventory_slot","id":3}]},{"name":"CDOTAUserMsg_ShowSurvey","fields":[{"rule":"optional","type":"int32","name":"survey_id","id":1},{"rule":"optional","type":"uint32","name":"match_id","id":2},{"rule":"optional","type":"string","name":"response_style","id":3},{"rule":"optional","type":"uint32","name":"teammate_hero_id","id":4},{"rule":"optional","type":"string","name":"teammate_name","id":5},{"rule":"optional","type":"uint32","name":"teammate_account_id","id":6}]},{"name":"CDOTAUserMsg_UpdateSharedContent","fields":[{"rule":"optional","type":"int32","name":"slot_type","id":1}]},{"name":"CDOTAUserMsg_TutorialRequestExp","fields":[]},{"name":"CDOTAUserMsg_TutorialFade","fields":[{"rule":"optional","type":"int32","name":"tgt_alpha","id":1}]},{"name":"CDOTAUserMsg_TutorialPingMinimap","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"float","name":"pos_x","id":2},{"rule":"optional","type":"float","name":"pos_y","id":3},{"rule":"optional","type":"float","name":"pos_z","id":4},{"rule":"optional","type":"int32","name":"entity_index","id":5}]},{"name":"CDOTAUserMsg_GamerulesStateChanged","fields":[{"rule":"optional","type":"uint32","name":"state","id":1}]},{"name":"CDOTAUserMsg_AddQuestLogEntry","fields":[{"rule":"optional","type":"string","name":"npc_name","id":1},{"rule":"optional","type":"string","name":"npc_dialog","id":2}]},{"name":"CDOTAUserMsg_SendStatPopup","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1},{"rule":"optional","type":"CDOTAMsg_SendStatPopup","name":"statpopup","id":2}]},{"name":"CDOTAUserMsg_SendRoshanPopup","fields":[{"rule":"optional","type":"bool","name":"reclaimed","id":1},{"rule":"optional","type":"int32","name":"gametime","id":2}]},{"name":"CDOTAUserMsg_SendFinalGold","fields":[{"rule":"repeated","type":"uint32","name":"reliable_gold","id":1},{"rule":"repeated","type":"uint32","name":"unreliable_gold","id":2}]},{"name":"CDOTAUserMsg_CustomMsg","fields":[{"rule":"optional","type":"string","name":"message","id":1},{"rule":"optional","type":"int32","name":"player_id","id":2},{"rule":"optional","type":"int32","name":"value","id":3}]},{"name":"CDOTAUserMsg_CoachHUDPing","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"CDOTAMsg_CoachHUDPing","name":"hud_ping","id":2}]},{"name":"CDOTAUserMsg_ClientLoadGridNav","fields":[]},{"name":"CDOTAUserMsg_TE_Projectile","fields":[{"rule":"optional","type":"int32","name":"hSource","id":1},{"rule":"optional","type":"int32","name":"hTarget","id":2},{"rule":"optional","type":"int32","name":"moveSpeed","id":3},{"rule":"optional","type":"int32","name":"sourceAttachment","id":4},{"rule":"optional","type":"int64","name":"particleSystemHandle","id":5},{"rule":"optional","type":"bool","name":"dodgeable","id":6},{"rule":"optional","type":"bool","name":"isAttack","id":7},{"rule":"optional","type":"bool","name":"isEvaded","id":8},{"rule":"optional","type":"float","name":"expireTime","id":9},{"rule":"optional","type":"float","name":"maximpacttime","id":10}]},{"name":"CDOTAUserMsg_TE_ProjectileLoc","fields":[{"rule":"optional","type":"CMsgVector","name":"vSourceLoc","id":1},{"rule":"optional","type":"int32","name":"hTarget","id":2},{"rule":"optional","type":"int32","name":"moveSpeed","id":3},{"rule":"optional","type":"int64","name":"particleSystemHandle","id":4},{"rule":"optional","type":"bool","name":"dodgeable","id":5},{"rule":"optional","type":"bool","name":"isAttack","id":6},{"rule":"optional","type":"bool","name":"isEvaded","id":8},{"rule":"optional","type":"float","name":"expireTime","id":9},{"rule":"optional","type":"CMsgVector","name":"vTargetLoc","id":10}]},{"name":"CDOTAUserMsg_TE_DotaBloodImpact","fields":[{"rule":"optional","type":"int32","name":"entity","id":1},{"rule":"optional","type":"float","name":"scale","id":2},{"rule":"optional","type":"float","name":"xnormal","id":3},{"rule":"optional","type":"float","name":"ynormal","id":4}]},{"name":"CDOTAUserMsg_AbilityPing","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"uint32","name":"ability_id","id":2},{"rule":"optional","type":"DOTA_ABILITY_PING_TYPE","name":"type","id":3,"options":{"default":"ABILITY_PING_READY"}},{"rule":"optional","type":"uint32","name":"cooldown_seconds","id":4},{"rule":"optional","type":"uint32","name":"level","id":5},{"rule":"optional","type":"bool","name":"passive","id":6},{"rule":"optional","type":"uint32","name":"mana_needed","id":7}]},{"name":"CDOTAUserMsg_TE_UnitAnimation","fields":[{"rule":"optional","type":"int32","name":"entity","id":1},{"rule":"optional","type":"int32","name":"sequenceVariant","id":2},{"rule":"optional","type":"float","name":"playbackrate","id":3},{"rule":"optional","type":"float","name":"castpoint","id":4},{"rule":"optional","type":"int32","name":"type","id":5},{"rule":"optional","type":"int32","name":"activity","id":6}]},{"name":"CDOTAUserMsg_TE_UnitAnimationEnd","fields":[{"rule":"optional","type":"int32","name":"entity","id":1},{"rule":"optional","type":"bool","name":"snap","id":2}]},{"name":"CDOTAUserMsg_ShowGenericPopup","fields":[{"rule":"required","type":"string","name":"header","id":1},{"rule":"required","type":"string","name":"body","id":2},{"rule":"optional","type":"string","name":"param1","id":3},{"rule":"optional","type":"string","name":"param2","id":4},{"rule":"optional","type":"bool","name":"tint_screen","id":5},{"rule":"optional","type":"bool","name":"show_no_other_dialogs","id":6}]},{"name":"CDOTAUserMsg_VoteStart","fields":[{"rule":"optional","type":"string","name":"title","id":1},{"rule":"optional","type":"float","name":"duration","id":2},{"rule":"optional","type":"int32","name":"choice_count","id":3},{"rule":"repeated","type":"string","name":"choices","id":4}]},{"name":"CDOTAUserMsg_VoteUpdate","fields":[{"rule":"repeated","type":"int32","name":"choice_counts","id":1}]},{"name":"CDOTAUserMsg_VoteEnd","fields":[{"rule":"optional","type":"int32","name":"selected_choice","id":1}]},{"name":"CDOTAUserMsg_BoosterStatePlayer","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"float","name":"bonus","id":2},{"rule":"optional","type":"float","name":"event_bonus","id":3},{"rule":"optional","type":"uint32","name":"bonus_item_id","id":4},{"rule":"optional","type":"uint32","name":"event_bonus_item_id","id":5}]},{"name":"CDOTAUserMsg_BoosterState","fields":[{"rule":"repeated","type":"CDOTAUserMsg_BoosterStatePlayer","name":"boosted_players","id":1}]},{"name":"CDOTAUserMsg_PlayerMMR","fields":[{"rule":"repeated","type":"sint32","name":"mmr","id":1,"options":{"packed":true}}]},{"name":"CDOTAUserMsg_AbilitySteal","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"uint32","name":"ability_id","id":2},{"rule":"optional","type":"uint32","name":"ability_level","id":3}]},{"name":"CDOTAUserMsg_StatsHeroLookup","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1},{"rule":"optional","type":"int32","name":"hero_id","id":2},{"rule":"optional","type":"string","name":"hero_name","id":3},{"rule":"optional","type":"string","name":"persona","id":4}]},{"name":"CDOTAUserMsg_StatsHeroPositionInfo","fields":[{"rule":"optional","type":"float","name":"average_position","id":1},{"rule":"repeated","type":"PositionPair","name":"position_details","id":2}],"messages":[{"name":"PositionPair","fields":[{"rule":"optional","type":"DOTA_POSITION_CATEGORY","name":"position_category","id":1,"options":{"default":"DOTA_POSITION_NONE"}},{"rule":"optional","type":"uint32","name":"position_count","id":2}]}]},{"name":"CDOTAUserMsg_StatsHeroMinuteDetails","fields":[{"rule":"optional","type":"uint32","name":"last_hits","id":1},{"rule":"optional","type":"uint32","name":"hero_kills","id":2},{"rule":"optional","type":"uint32","name":"hero_damage","id":3},{"rule":"optional","type":"uint32","name":"tower_damage","id":4},{"rule":"optional","type":"CDOTAUserMsg_StatsHeroPositionInfo","name":"position_info","id":5},{"rule":"optional","type":"uint32","name":"total_xp","id":6},{"rule":"optional","type":"uint32","name":"net_worth","id":7},{"rule":"optional","type":"uint32","name":"harvested_creep_gold","id":8},{"rule":"optional","type":"uint32","name":"claimed_farm","id":9},{"rule":"optional","type":"uint32","name":"wards_placed","id":10},{"rule":"optional","type":"uint32","name":"runes_collected","id":11},{"rule":"optional","type":"uint32","name":"tps_used","id":12},{"rule":"repeated","type":"uint32","name":"mana_spent","id":13},{"rule":"repeated","type":"uint32","name":"damage_absorbed","id":14},{"rule":"repeated","type":"uint32","name":"damage_done","id":15}]},{"name":"CDOTAUserMsg_StatsTeamMinuteDetails","fields":[{"rule":"repeated","type":"CDOTAUserMsg_StatsHeroMinuteDetails","name":"player_stats","id":1},{"rule":"optional","type":"uint32","name":"tower_kills","id":2},{"rule":"optional","type":"uint32","name":"barrack_kills","id":3},{"rule":"optional","type":"uint32","name":"available_lane_creep_gold","id":4},{"rule":"optional","type":"uint32","name":"balance_kill_value","id":5},{"rule":"optional","type":"uint32","name":"balance_tower_value","id":6},{"rule":"optional","type":"uint32","name":"balance_barracks_value","id":7},{"rule":"optional","type":"uint32","name":"balance_gold_value","id":8},{"rule":"optional","type":"uint32","name":"balance_xp_value","id":9},{"rule":"repeated","type":"LocationPerformance","name":"lane_performance","id":10}],"messages":[{"name":"LocationPerformance","fields":[{"rule":"optional","type":"uint32","name":"location_category","id":1},{"rule":"optional","type":"uint32","name":"stat_type","id":2},{"rule":"optional","type":"uint32","name":"value","id":3}]}]},{"name":"CDOTAUserMsg_StatsPlayerKillShare","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1},{"rule":"optional","type":"float","name":"kill_share_percent","id":2},{"rule":"optional","type":"float","name":"player_loc_x","id":3},{"rule":"optional","type":"float","name":"player_loc_y","id":4},{"rule":"optional","type":"float","name":"health_percent","id":5},{"rule":"optional","type":"float","name":"mana_percent","id":6}]},{"name":"CDOTAUserMsg_StatsKillDetails","fields":[{"rule":"optional","type":"uint32","name":"victim_id","id":1},{"rule":"repeated","type":"CDOTAUserMsg_StatsPlayerKillShare","name":"kill_shares","id":2},{"rule":"optional","type":"uint32","name":"damage_to_kill","id":3},{"rule":"optional","type":"uint32","name":"effective_health","id":4},{"rule":"optional","type":"float","name":"death_time","id":5},{"rule":"optional","type":"uint32","name":"killer_id","id":6}]},{"name":"CDOTAUserMsg_StatsMatchDetails","fields":[{"rule":"repeated","type":"CDOTAUserMsg_StatsHeroLookup","name":"hero_lookup","id":1},{"rule":"repeated","type":"CDOTAUserMsg_StatsTeamMinuteDetails","name":"radiant_stats","id":2},{"rule":"repeated","type":"CDOTAUserMsg_StatsTeamMinuteDetails","name":"dire_stats","id":3},{"rule":"repeated","type":"CDOTAUserMsg_StatsKillDetails","name":"radiant_kills","id":4},{"rule":"repeated","type":"CDOTAUserMsg_StatsKillDetails","name":"dire_kills","id":5},{"rule":"repeated","type":"CDOTAUserMsg_StatsFightDetails","name":"fight_details","id":6}],"messages":[{"name":"CDOTAUserMsg_StatsFightTeamDetails","fields":[{"rule":"repeated","type":"uint32","name":"participants","id":1},{"rule":"repeated","type":"uint32","name":"deaths","id":2},{"rule":"optional","type":"uint32","name":"gold_delta","id":3},{"rule":"optional","type":"uint32","name":"xp_delta","id":4}]},{"name":"CDOTAUserMsg_StatsFightDetails","fields":[{"rule":"optional","type":"float","name":"start_time","id":1},{"rule":"optional","type":"float","name":"end_time","id":2},{"rule":"optional","type":"CDOTAUserMsg_StatsFightTeamDetails","name":"radiant_fight_details","id":3},{"rule":"optional","type":"CDOTAUserMsg_StatsFightTeamDetails","name":"dire_fight_details","id":4}]}]},{"name":"CDOTAUserMsg_MiniTaunt","fields":[{"rule":"optional","type":"uint32","name":"taunting_player_id","id":1}]},{"name":"CDOTAUserMsg_SpeechBubble","fields":[{"rule":"optional","type":"bool","name":"destroy_all","id":1}]},{"name":"CDOTAUserMsg_CustomHeaderMessage","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"float","name":"duration","id":2},{"rule":"optional","type":"string","name":"message","id":3},{"rule":"optional","type":"int32","name":"value","id":4}]},{"name":"CMsgHeroAbilityStat","fields":[{"rule":"optional","type":"EHeroStatType","name":"stat_type","id":1,"options":{"default":"k_EHeroStatType_None"}},{"rule":"optional","type":"int32","name":"int_value","id":2},{"rule":"optional","type":"float","name":"float_value","id":3}]},{"name":"CMsgCombatAnalyzerPlayerStat","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"CMsgHeroAbilityStat","name":"hero_ability_stats","id":2}]},{"name":"CMsgCombatAnalyzerStats","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"repeated","type":"CMsgCombatAnalyzerPlayerStat","name":"player_stats","id":2}]},{"name":"CDOTAUserMsg_BeastChat","fields":[{"rule":"optional","type":"uint32","name":"team","id":1},{"rule":"optional","type":"string","name":"format","id":2},{"rule":"optional","type":"string","name":"message","id":3},{"rule":"optional","type":"string","name":"target","id":4}]},{"name":"CDOTAUserMsg_CustomHudElement_Create","fields":[{"rule":"optional","type":"string","name":"element_id","id":1},{"rule":"optional","type":"string","name":"layout_filename","id":2},{"rule":"optional","type":"bytes","name":"data","id":3}]},{"name":"CDOTAUserMsg_CustomHudElement_Modify","fields":[{"rule":"optional","type":"string","name":"element_id","id":1},{"rule":"optional","type":"bool","name":"modify_visible","id":2},{"rule":"optional","type":"bytes","name":"data","id":3}]},{"name":"CDOTAUserMsg_CustomHudElement_Destroy","fields":[{"rule":"optional","type":"string","name":"element_id","id":1}]},{"name":"CDOTAUserMsg_CompendiumStatePlayer","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"uint32","name":"level","id":2}]},{"name":"CDOTAUserMsg_CompendiumState","fields":[{"rule":"repeated","type":"CDOTAUserMsg_CompendiumStatePlayer","name":"compendium_players","id":1}]},{"name":"CDOTAUserMsg_ProjectionAbility","fields":[{"rule":"optional","type":"uint32","name":"ability_id","id":1},{"rule":"optional","type":"int32","name":"caster_ent_index","id":2},{"rule":"optional","type":"int32","name":"caster_team","id":3},{"rule":"optional","type":"bool","name":"channel_end","id":4},{"rule":"optional","type":"CMsgVector","name":"origin","id":5},{"rule":"optional","type":"bool","name":"track_caster_only","id":6},{"rule":"optional","type":"float","name":"end_time","id":7}]},{"name":"CMsgVDebugGameSessionIDEvent","fields":[{"rule":"optional","type":"int32","name":"clientid","id":1},{"rule":"optional","type":"string","name":"gamesessionid","id":2}]},{"name":"CMsgPlaceDecalEvent","fields":[{"rule":"optional","type":"CMsgVector","name":"position","id":1},{"rule":"optional","type":"CMsgVector","name":"normal","id":2},{"rule":"optional","type":"CMsgVector","name":"saxis","id":3},{"rule":"optional","type":"uint32","name":"decalmaterialindex","id":4},{"rule":"optional","type":"uint32","name":"flags","id":5},{"rule":"optional","type":"fixed32","name":"color","id":6},{"rule":"optional","type":"float","name":"width","id":7},{"rule":"optional","type":"float","name":"height","id":8},{"rule":"optional","type":"float","name":"depth","id":9},{"rule":"optional","type":"uint32","name":"entityhandleindex","id":10},{"rule":"optional","type":"fixed32","name":"skeletoninstancehash","id":11},{"rule":"optional","type":"int32","name":"boneindex","id":12},{"rule":"optional","type":"bool","name":"translucenthit","id":13}]},{"name":"CMsgClearWorldDecalsEvent","fields":[{"rule":"optional","type":"uint32","name":"flagstoclear","id":1}]},{"name":"CMsgClearEntityDecalsEvent","fields":[{"rule":"optional","type":"uint32","name":"flagstoclear","id":1}]},{"name":"CMsgClearDecalsForSkeletonInstanceEvent","fields":[{"rule":"optional","type":"uint32","name":"flagstoclear","id":1},{"rule":"optional","type":"uint32","name":"entityhandleindex","id":2},{"rule":"optional","type":"uint32","name":"skeletoninstancehash","id":3}]},{"name":"CMsgSource1LegacyGameEventList","fields":[{"rule":"repeated","type":"descriptor_t","name":"descriptors","id":1}],"messages":[{"name":"key_t","fields":[{"rule":"optional","type":"int32","name":"type","id":1},{"rule":"optional","type":"string","name":"name","id":2}]},{"name":"descriptor_t","fields":[{"rule":"optional","type":"int32","name":"eventid","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"repeated","type":"key_t","name":"keys","id":3}]}]},{"name":"CMsgSource1LegacyListenEvents","fields":[{"rule":"optional","type":"int32","name":"playerslot","id":1},{"rule":"repeated","type":"uint32","name":"eventarraybits","id":2}]},{"name":"CMsgSource1LegacyGameEvent","fields":[{"rule":"optional","type":"string","name":"event_name","id":1},{"rule":"optional","type":"int32","name":"eventid","id":2},{"rule":"repeated","type":"key_t","name":"keys","id":3}],"messages":[{"name":"key_t","fields":[{"rule":"optional","type":"int32","name":"type","id":1},{"rule":"optional","type":"string","name":"val_string","id":2},{"rule":"optional","type":"float","name":"val_float","id":3},{"rule":"optional","type":"int32","name":"val_long","id":4},{"rule":"optional","type":"int32","name":"val_short","id":5},{"rule":"optional","type":"int32","name":"val_byte","id":6},{"rule":"optional","type":"bool","name":"val_bool","id":7},{"rule":"optional","type":"uint64","name":"val_uint64","id":8}]}]},{"name":"CMsgSosStartSoundEvent","fields":[{"rule":"optional","type":"int32","name":"soundevent_guid","id":1},{"rule":"optional","type":"fixed32","name":"soundevent_hash","id":2},{"rule":"optional","type":"int32","name":"source_entity_index","id":3},{"rule":"optional","type":"int32","name":"seed","id":4},{"rule":"optional","type":"bytes","name":"packed_params","id":5}]},{"name":"CMsgSosStopSoundEvent","fields":[{"rule":"optional","type":"int32","name":"soundevent_guid","id":1}]},{"name":"CMsgSosStopSoundEventHash","fields":[{"rule":"optional","type":"fixed32","name":"soundevent_hash","id":1},{"rule":"optional","type":"int32","name":"source_entity_index","id":2}]},{"name":"CMsgSosSetSoundEventParams","fields":[{"rule":"optional","type":"int32","name":"soundevent_guid","id":1},{"rule":"optional","type":"bytes","name":"packed_params","id":5}]},{"name":"CMsgSosSetLibraryStackFields","fields":[{"rule":"optional","type":"fixed32","name":"stack_hash","id":1},{"rule":"optional","type":"bytes","name":"packed_fields","id":5}]},{"name":"NetMessageSplitscreenUserChanged","fields":[{"rule":"optional","type":"uint32","name":"slot","id":1}]},{"name":"NetMessageConnectionClosed","fields":[{"rule":"optional","type":"uint32","name":"reason","id":1}]},{"name":"NetMessageConnectionCrashed","fields":[{"rule":"optional","type":"uint32","name":"reason","id":1}]},{"name":"NetMessagePacketStart","fields":[{"rule":"optional","type":"uint32","name":"incoming_sequence","id":1},{"rule":"optional","type":"uint32","name":"outgoing_acknowledged","id":2}]},{"name":"NetMessagePacketEnd","fields":[]},{"name":"CMsgBeginFrame","fields":[{"rule":"optional","type":"double","name":"frame_paint_time","id":1},{"rule":"optional","type":"uint32","name":"surface_width","id":2},{"rule":"optional","type":"uint32","name":"surface_height","id":3},{"rule":"optional","type":"uint32","name":"render_target","id":4},{"rule":"optional","type":"double","name":"ui_scale_factor","id":5},{"rule":"optional","type":"bool","name":"empty_frame","id":6},{"rule":"optional","type":"bool","name":"clear_gpu_resources_before_frame","id":7}]},{"name":"CMsgEndFrame","fields":[{"rule":"optional","type":"uint32","name":"mouse_cursor_texture_id","id":1},{"rule":"optional","type":"float","name":"mouse_cursor_hotspot_x","id":2},{"rule":"optional","type":"float","name":"mouse_cursor_hotspot_y","id":3}]},{"name":"CMsgClearBackbuffer","fields":[{"rule":"optional","type":"uint32","name":"clear_color_rgba","id":1}]},{"name":"CMsgDeleteTexture","fields":[{"rule":"optional","type":"uint64","name":"texture_pointer","id":1}]},{"name":"CMsgDeletePanel","fields":[{"rule":"optional","type":"uint64","name":"context_id","id":1}]},{"name":"CMsgDeleteParticleSystem","fields":[{"rule":"optional","type":"uint64","name":"panel_handle","id":1},{"rule":"optional","type":"uint32","name":"brush_index","id":2}]},{"name":"CMsgPoint","fields":[{"rule":"optional","type":"double","name":"x","id":1},{"rule":"optional","type":"double","name":"y","id":2},{"rule":"optional","type":"double","name":"z","id":3}]},{"name":"CMsgMatrix4x4","fields":[{"rule":"optional","type":"double","name":"m00","id":1},{"rule":"optional","type":"double","name":"m01","id":2},{"rule":"optional","type":"double","name":"m02","id":3},{"rule":"optional","type":"double","name":"m03","id":4},{"rule":"optional","type":"double","name":"m10","id":5},{"rule":"optional","type":"double","name":"m11","id":6},{"rule":"optional","type":"double","name":"m12","id":7},{"rule":"optional","type":"double","name":"m13","id":8},{"rule":"optional","type":"double","name":"m20","id":9},{"rule":"optional","type":"double","name":"m21","id":10},{"rule":"optional","type":"double","name":"m22","id":11},{"rule":"optional","type":"double","name":"m23","id":12},{"rule":"optional","type":"double","name":"m30","id":13},{"rule":"optional","type":"double","name":"m31","id":14},{"rule":"optional","type":"double","name":"m32","id":15},{"rule":"optional","type":"double","name":"m33","id":16}]},{"name":"CRadiusData","fields":[{"rule":"optional","type":"CCornerRadius","name":"top_left","id":1},{"rule":"optional","type":"CCornerRadius","name":"top_right","id":2},{"rule":"optional","type":"CCornerRadius","name":"bottom_right","id":3},{"rule":"optional","type":"CCornerRadius","name":"bottom_left","id":4}],"messages":[{"name":"CCornerRadius","fields":[{"rule":"optional","type":"double","name":"horizontal","id":1},{"rule":"optional","type":"double","name":"vertical","id":2}]}]},{"name":"CBorderData","fields":[{"rule":"optional","type":"CBorderSide","name":"top","id":1},{"rule":"optional","type":"CBorderSide","name":"right","id":2},{"rule":"optional","type":"CBorderSide","name":"bottom","id":3},{"rule":"optional","type":"CBorderSide","name":"left","id":4}],"messages":[{"name":"CBorderSide","fields":[{"rule":"optional","type":"uint32","name":"style","id":1},{"rule":"optional","type":"double","name":"width","id":2},{"rule":"optional","type":"uint32","name":"color","id":3}]}]},{"name":"CBoxShadowData","fields":[{"rule":"optional","type":"bool","name":"inset","id":1},{"rule":"optional","type":"double","name":"horizontal_offset","id":2},{"rule":"optional","type":"double","name":"vertical_offset","id":3},{"rule":"optional","type":"double","name":"blur_radius","id":4},{"rule":"optional","type":"double","name":"spread_distance","id":5},{"rule":"optional","type":"uint32","name":"color","id":6},{"rule":"optional","type":"bool","name":"fill","id":7},{"rule":"optional","type":"bool","name":"animating","id":8}]},{"name":"CTextShadowData","fields":[{"rule":"optional","type":"double","name":"horizontal_offset","id":2},{"rule":"optional","type":"double","name":"vertical_offset","id":3},{"rule":"optional","type":"double","name":"blur_radius","id":4},{"rule":"optional","type":"uint32","name":"color","id":6},{"rule":"optional","type":"bool","name":"animating","id":8},{"rule":"optional","type":"double","name":"strength","id":9}]},{"name":"CMsgClipData","fields":[{"rule":"optional","type":"double","name":"left","id":1},{"rule":"optional","type":"double","name":"top","id":2},{"rule":"optional","type":"double","name":"right","id":3},{"rule":"optional","type":"double","name":"bottom","id":4}]},{"name":"CMsgPushCompositingLayer","fields":[{"rule":"optional","type":"uint64","name":"layer_id","id":1},{"rule":"optional","type":"double","name":"width","id":2},{"rule":"optional","type":"double","name":"height","id":3},{"rule":"optional","type":"double","name":"layer_quad_top_left_x","id":4},{"rule":"optional","type":"double","name":"layer_quad_top_left_y","id":5},{"rule":"optional","type":"double","name":"layer_quad_top_left_z","id":6},{"rule":"optional","type":"double","name":"layer_quad_top_right_x","id":7},{"rule":"optional","type":"double","name":"layer_quad_top_right_y","id":8},{"rule":"optional","type":"double","name":"layer_quad_top_right_z","id":9},{"rule":"optional","type":"double","name":"layer_quad_bottom_left_x","id":10},{"rule":"optional","type":"double","name":"layer_quad_bottom_left_y","id":11},{"rule":"optional","type":"double","name":"layer_quad_bottom_left_z","id":12},{"rule":"optional","type":"double","name":"layer_quad_bottom_right_x","id":13},{"rule":"optional","type":"double","name":"layer_quad_bottom_right_y","id":14},{"rule":"optional","type":"double","name":"layer_quad_bottom_right_z","id":15},{"rule":"optional","type":"double","name":"transform_m00","id":16},{"rule":"optional","type":"double","name":"transform_m01","id":17},{"rule":"optional","type":"double","name":"transform_m02","id":18},{"rule":"optional","type":"double","name":"transform_m03","id":19},{"rule":"optional","type":"double","name":"transform_m10","id":20},{"rule":"optional","type":"double","name":"transform_m11","id":21},{"rule":"optional","type":"double","name":"transform_m12","id":22},{"rule":"optional","type":"double","name":"transform_m13","id":23},{"rule":"optional","type":"double","name":"transform_m20","id":24},{"rule":"optional","type":"double","name":"transform_m21","id":25},{"rule":"optional","type":"double","name":"transform_m22","id":26},{"rule":"optional","type":"double","name":"transform_m23","id":27},{"rule":"optional","type":"double","name":"transform_m30","id":28},{"rule":"optional","type":"double","name":"transform_m31","id":29},{"rule":"optional","type":"double","name":"transform_m32","id":30},{"rule":"optional","type":"double","name":"transform_m33","id":31},{"rule":"optional","type":"double","name":"perspective_depth","id":32},{"rule":"optional","type":"double","name":"opacity","id":33},{"rule":"optional","type":"uint32","name":"composition_color","id":34},{"rule":"optional","type":"double","name":"saturation","id":35},{"rule":"optional","type":"double","name":"hue_shift","id":36},{"rule":"optional","type":"double","name":"brightness","id":37},{"rule":"optional","type":"double","name":"contrast","id":38},{"rule":"optional","type":"uint32","name":"opacity_mask_texture_id","id":39},{"rule":"optional","type":"double","name":"opacity_mask_opacity","id":40},{"rule":"optional","type":"CBorderData","name":"border","id":41},{"rule":"optional","type":"CRadiusData","name":"border_radius","id":42},{"rule":"optional","type":"CBoxShadowData","name":"box_shadow","id":43},{"rule":"optional","type":"double","name":"gaussianblur_passes","id":44},{"rule":"optional","type":"double","name":"gaussianblur_stddevhor","id":45},{"rule":"optional","type":"double","name":"gaussianblur_stddevver","id":46},{"rule":"optional","type":"double","name":"scale_2d_factors_x","id":47},{"rule":"optional","type":"double","name":"scale_2d_factors_y","id":48},{"rule":"optional","type":"double","name":"rotate_2d","id":49},{"rule":"optional","type":"bool","name":"needs_clear","id":50},{"rule":"optional","type":"bool","name":"needs_depth","id":51},{"rule":"optional","type":"bool","name":"needs_redraw_every_frame","id":52},{"rule":"optional","type":"CTextShadowData","name":"text_shadow","id":53},{"rule":"optional","type":"uint32","name":"mix_blend_mode","id":54},{"rule":"optional","type":"double","name":"occluded_left_edge","id":55},{"rule":"optional","type":"double","name":"occluded_top_edge","id":56},{"rule":"optional","type":"double","name":"occluded_right_edge","id":57},{"rule":"optional","type":"double","name":"occluded_bottom_edge","id":58}]},{"name":"CMsgPopCompositingLayer","fields":[]},{"name":"CMsgFreeCompositingLayer","fields":[{"rule":"optional","type":"uint64","name":"layer_id","id":1}]},{"name":"CMsgTransitionData","fields":[{"rule":"optional","type":"double","name":"start_time","id":1},{"rule":"optional","type":"double","name":"delay_seconds","id":2},{"rule":"optional","type":"double","name":"duration_seconds","id":3},{"rule":"optional","type":"uint32","name":"timing_func","id":4,"options":{"default":0}},{"rule":"optional","type":"float","name":"cubic_bezier_0","id":5},{"rule":"optional","type":"float","name":"cubic_bezier_1","id":6},{"rule":"optional","type":"float","name":"cubic_bezier_2","id":7},{"rule":"optional","type":"float","name":"cubic_bezier_3","id":8}]},{"name":"CMsgAnimationData","fields":[{"rule":"optional","type":"double","name":"start_time","id":1},{"rule":"optional","type":"double","name":"delay_seconds","id":2},{"rule":"optional","type":"double","name":"duration_seconds","id":3},{"rule":"optional","type":"uint32","name":"timing_func","id":4},{"rule":"optional","type":"float","name":"cubic_bezier_0","id":5},{"rule":"optional","type":"float","name":"cubic_bezier_1","id":6},{"rule":"optional","type":"float","name":"cubic_bezier_2","id":7},{"rule":"optional","type":"float","name":"cubic_bezier_3","id":8},{"rule":"optional","type":"uint32","name":"direction","id":9},{"rule":"optional","type":"float","name":"iteration","id":10},{"rule":"repeated","type":"CMsgAnimationFrameData","name":"frames","id":11}]},{"name":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"float","name":"percent","id":1},{"rule":"optional","type":"uint32","name":"timing_func","id":2,"options":{"default":0}},{"rule":"optional","type":"float","name":"cubic_bezier_0","id":3},{"rule":"optional","type":"float","name":"cubic_bezier_1","id":4},{"rule":"optional","type":"float","name":"cubic_bezier_2","id":5},{"rule":"optional","type":"float","name":"cubic_bezier_3","id":6}],"extensions":[1000,536870911]},{"name":"CMsgPointWithTransition","fields":[{"rule":"optional","type":"CMsgPoint","name":"base","id":1},{"rule":"optional","type":"CMsgPoint","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgPoint","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgPointWithTransition.AnimationFrameData","name":"animation_frame_data","id":1012}]}]},{"name":"CMsgColor","fields":[{"rule":"optional","type":"uint32","name":"base","id":1},{"rule":"optional","type":"uint32","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"uint32","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgColor.AnimationFrameData","name":"animation_frame_data","id":1001}]}]},{"name":"CMsgColorStop","fields":[{"rule":"optional","type":"double","name":"position","id":1},{"rule":"optional","type":"uint32","name":"color_rgba","id":2}]},{"name":"CMsgLinearGradient","fields":[{"rule":"optional","type":"CMsgPoint","name":"start_position","id":1},{"rule":"optional","type":"CMsgPoint","name":"end_position","id":2},{"rule":"repeated","type":"CMsgColorStop","name":"color_stop","id":3}]},{"name":"CMsgRadialGradient","fields":[{"rule":"optional","type":"CMsgPoint","name":"center_position","id":1},{"rule":"optional","type":"CMsgPoint","name":"offset_distance","id":2},{"rule":"optional","type":"CMsgPoint","name":"radii","id":3},{"rule":"repeated","type":"CMsgColorStop","name":"color_stop","id":4}]},{"name":"CMsgParticle","fields":[{"rule":"optional","type":"CMsgPoint","name":"particle_position","id":1},{"rule":"optional","type":"float","name":"particle_size","id":2},{"rule":"optional","type":"float","name":"particle_sharpness","id":3},{"rule":"optional","type":"uint32","name":"color_rgba","id":4}]},{"name":"CMsgParticleSystem","fields":[{"rule":"optional","type":"CMsgPoint","name":"base_position","id":1},{"rule":"optional","type":"CMsgPoint","name":"base_position_variance","id":2},{"rule":"optional","type":"double","name":"particle_size","id":3},{"rule":"optional","type":"double","name":"particle_size_variance","id":4},{"rule":"optional","type":"double","name":"particles_per_second","id":5},{"rule":"optional","type":"double","name":"particles_per_second_variance","id":6},{"rule":"optional","type":"double","name":"particle_lifespan_seconds","id":7},{"rule":"optional","type":"double","name":"particle_lifespan_seconds_variance","id":8},{"rule":"optional","type":"CMsgPoint","name":"particle_initial_velocity","id":9},{"rule":"optional","type":"CMsgPoint","name":"particle_initial_velocity_variance","id":10},{"rule":"optional","type":"CMsgPoint","name":"gravity_acceleration","id":11},{"rule":"optional","type":"CMsgPoint","name":"gravity_acceleration_particle_variance","id":12},{"rule":"optional","type":"uint32","name":"color_start_rgba","id":13},{"rule":"optional","type":"uint32","name":"color_start_rgba_variance","id":14},{"rule":"optional","type":"uint32","name":"color_end_rgba","id":15},{"rule":"optional","type":"uint32","name":"color_end_rgba_variance","id":16},{"rule":"optional","type":"uint64","name":"parent_panel_handle","id":17},{"rule":"optional","type":"uint32","name":"parent_brush_index","id":18},{"rule":"optional","type":"float","name":"particle_sharpness","id":19},{"rule":"optional","type":"float","name":"particle_sharpness_variance","id":20},{"rule":"optional","type":"float","name":"particle_flicker","id":21},{"rule":"optional","type":"float","name":"particle_flicker_variance","id":22},{"rule":"optional","type":"CMsgPoint","name":"particle_velocity_min","id":23},{"rule":"optional","type":"CMsgPoint","name":"particle_velocity_max","id":24},{"rule":"repeated","type":"CMsgParticle","name":"particles","id":50}]},{"name":"CMsgFillBrush","fields":[{"rule":"optional","type":"double","name":"opacity","id":1},{"rule":"optional","type":"uint32","name":"color_rgba","id":2},{"rule":"optional","type":"CMsgLinearGradient","name":"linear_gradient","id":3},{"rule":"optional","type":"CMsgRadialGradient","name":"radial_gradient","id":4},{"rule":"optional","type":"CMsgParticleSystem","name":"particle_system","id":5}]},{"name":"CMsgFillBrushCollection","fields":[{"rule":"repeated","type":"CMsgFillBrush","name":"base","id":1},{"rule":"repeated","type":"CMsgFillBrush","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"repeated","type":"CMsgFillBrush","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgFillBrushCollection.AnimationFrameData","name":"animation_frame_data","id":1007}]}]},{"name":"CMsgRenderFillBrushCollection","fields":[{"rule":"repeated","type":"CMsgFillBrush","name":"fill_brush","id":1}]},{"name":"CMsgPanelPosition","fields":[{"rule":"optional","type":"CMsgPoint","name":"base","id":1},{"rule":"optional","type":"CMsgPoint","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4},{"rule":"optional","type":"CMsgPoint","name":"scroll_offset","id":5},{"rule":"optional","type":"CMsgPoint","name":"scroll_offset_target","id":6},{"rule":"optional","type":"CMsgTransitionData","name":"scroll_transition_x","id":7},{"rule":"optional","type":"CMsgTransitionData","name":"scroll_transition_y","id":8}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgPoint","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgPanelPosition.AnimationFrameData","name":"animation_frame_data","id":1011}]}]},{"name":"CMsgOpacity","fields":[{"rule":"optional","type":"double","name":"base","id":1},{"rule":"optional","type":"double","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"double","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgOpacity.AnimationFrameData","name":"animation_frame_data","id":1004}]}]},{"name":"CMsgRotate2D","fields":[{"rule":"optional","type":"double","name":"base","id":1},{"rule":"optional","type":"double","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"double","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgRotate2D.AnimationFrameData","name":"animation_frame_data","id":1014}]}]},{"name":"CMsgOpacityMaskData","fields":[{"rule":"optional","type":"uint32","name":"opacity_mask_texture_id","id":1},{"rule":"optional","type":"double","name":"opacity_mask_opacity","id":2}]},{"name":"CMsgOpacityMask","fields":[{"rule":"optional","type":"CMsgOpacityMaskData","name":"base","id":1},{"rule":"optional","type":"CMsgOpacityMaskData","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgOpacityMaskData","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgOpacityMask.AnimationFrameData","name":"animation_frame_data","id":1013}]}]},{"name":"CMsgHueShift","fields":[{"rule":"optional","type":"double","name":"base","id":1},{"rule":"optional","type":"double","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"double","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgHueShift.AnimationFrameData","name":"animation_frame_data","id":1019}]}]},{"name":"CMsgSaturation","fields":[{"rule":"optional","type":"double","name":"base","id":1},{"rule":"optional","type":"double","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"double","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgSaturation.AnimationFrameData","name":"animation_frame_data","id":1005}]}]},{"name":"CMsgBrightness","fields":[{"rule":"optional","type":"double","name":"base","id":1},{"rule":"optional","type":"double","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"double","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgBrightness.AnimationFrameData","name":"animation_frame_data","id":1020}]}]},{"name":"CMsgContrast","fields":[{"rule":"optional","type":"double","name":"base","id":1},{"rule":"optional","type":"double","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"double","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgContrast.AnimationFrameData","name":"animation_frame_data","id":1021}]}]},{"name":"CMsgGaussianValues","fields":[{"rule":"optional","type":"double","name":"passes","id":1},{"rule":"optional","type":"double","name":"stddev_hor","id":2},{"rule":"optional","type":"double","name":"stddev_ver","id":3}]},{"name":"CMsgGaussianBlur","fields":[{"rule":"optional","type":"CMsgGaussianValues","name":"base","id":1},{"rule":"optional","type":"CMsgGaussianValues","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgGaussianValues","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgGaussianBlur.AnimationFrameData","name":"animation_frame_data","id":1008}]}]},{"name":"CMsg3DTransformPerspective","fields":[{"rule":"optional","type":"double","name":"base","id":1},{"rule":"optional","type":"double","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"double","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsg3DTransformPerspective.AnimationFrameData","name":"animation_frame_data","id":1003}]}]},{"name":"CMsg3DTransformPerspectiveOrigin","fields":[{"rule":"optional","type":"CMsgPoint","name":"base","id":1},{"rule":"optional","type":"CMsgPoint","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgPoint","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsg3DTransformPerspectiveOrigin.AnimationFrameData","name":"animation_frame_data","id":1002}]}]},{"name":"CMsgTransformOriginData","fields":[{"rule":"optional","type":"double","name":"x","id":1},{"rule":"optional","type":"double","name":"y","id":2},{"rule":"optional","type":"bool","name":"x_is_percent","id":3},{"rule":"optional","type":"bool","name":"y_is_percent","id":4},{"rule":"optional","type":"bool","name":"is_parent_relative","id":5}]},{"name":"CMsg3DTransformOrigin","fields":[{"rule":"optional","type":"CMsgTransformOriginData","name":"base","id":1},{"rule":"optional","type":"CMsgTransformOriginData","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgTransformOriginData","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsg3DTransformOrigin.AnimationFrameData","name":"animation_frame_data","id":1015}]}]},{"name":"CMsg3DTransformMatrix","fields":[{"rule":"optional","type":"CMsgMatrix4x4","name":"base","id":1},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":2},{"rule":"optional","type":"CMsgMatrix4x4","name":"transition","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgMatrix4x4","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsg3DTransformMatrix.AnimationFrameData","name":"animation_frame_data","id":1000}]}]},{"name":"CMsgBorderRadius","fields":[{"rule":"optional","type":"CRadiusData","name":"base","id":1},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":2},{"rule":"optional","type":"CRadiusData","name":"transition","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CRadiusData","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgBorderRadius.AnimationFrameData","name":"animation_frame_data","id":1006}]}]},{"name":"CMsgBorder","fields":[{"rule":"optional","type":"CBorderData","name":"base","id":1},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":2},{"rule":"optional","type":"CBorderData","name":"transition","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CBorderData","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgBorder.AnimationFrameData","name":"animation_frame_data","id":1009}]}]},{"name":"CMsgBoxShadow","fields":[{"rule":"optional","type":"CBoxShadowData","name":"base","id":1},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":2},{"rule":"optional","type":"CBoxShadowData","name":"transition","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CBoxShadowData","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgBoxShadow.AnimationFrameData","name":"animation_frame_data","id":1010}]}]},{"name":"CMsgTextShadow","fields":[{"rule":"optional","type":"CTextShadowData","name":"base","id":1},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":2},{"rule":"optional","type":"CTextShadowData","name":"transition","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CTextShadowData","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgTextShadow.AnimationFrameData","name":"animation_frame_data","id":1017}]}]},{"name":"CMsgClip","fields":[{"rule":"optional","type":"CMsgClipData","name":"base","id":1},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":2},{"rule":"optional","type":"CMsgClipData","name":"transition","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgClipData","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgClip.AnimationFrameData","name":"animation_frame_data","id":1018}]}]},{"name":"CMsgPushClipLayer","fields":[{"rule":"optional","type":"CMsgPoint","name":"top_left","id":1},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":2},{"rule":"optional","type":"CRadiusData","name":"border_radius","id":3}]},{"name":"CMsgPopClipLayer","fields":[]},{"name":"CMsgPushAAndTContext","fields":[{"rule":"optional","type":"uint64","name":"context_id","id":1},{"rule":"optional","type":"double","name":"width","id":3},{"rule":"optional","type":"double","name":"height","id":4},{"rule":"optional","type":"bool","name":"chilren_have_3dtransforms","id":5},{"rule":"optional","type":"float","name":"zindex","id":6},{"rule":"optional","type":"CMsgPanelPosition","name":"panel_position","id":7},{"rule":"optional","type":"CMsg3DTransformMatrix","name":"transform_matrix","id":8},{"rule":"optional","type":"CMsg3DTransformOrigin","name":"transform_origin","id":9},{"rule":"optional","type":"CMsg3DTransformPerspective","name":"transform_perspective","id":10},{"rule":"optional","type":"CMsg3DTransformPerspectiveOrigin","name":"transform_perspective_origin","id":11},{"rule":"optional","type":"CMsgOpacity","name":"opacity","id":12},{"rule":"optional","type":"CMsgColor","name":"wash_color","id":13},{"rule":"optional","type":"CMsgHueShift","name":"hue_shift","id":14},{"rule":"optional","type":"CMsgSaturation","name":"saturation","id":15},{"rule":"optional","type":"CMsgBrightness","name":"brightness","id":16},{"rule":"optional","type":"CMsgContrast","name":"contrast","id":17},{"rule":"optional","type":"CMsgOpacityMask","name":"opacity_mask","id":18},{"rule":"optional","type":"CMsgBorderRadius","name":"border_radius","id":19},{"rule":"optional","type":"CMsgGaussianBlur","name":"gaussian_blur","id":20},{"rule":"optional","type":"CMsgBorder","name":"border","id":21},{"rule":"optional","type":"CMsgBoxShadow","name":"box_shadow","id":22},{"rule":"optional","type":"CMsgPointWithTransition","name":"scale_2d_centered","id":23},{"rule":"optional","type":"CMsgRotate2D","name":"rotate_2d_centered","id":24},{"rule":"optional","type":"CMsgTextShadow","name":"text_shadow","id":25},{"rule":"optional","type":"CMsgClip","name":"clip","id":26},{"rule":"optional","type":"bool","name":"suppress_clip_to_bounds","id":27},{"rule":"optional","type":"int32","name":"needs_full_repaint","id":28},{"rule":"optional","type":"bool","name":"wants_hit_test","id":29},{"rule":"optional","type":"uint32","name":"mix_blend_mode","id":30},{"rule":"optional","type":"bool","name":"opaque_background","id":31}]},{"name":"CMsgPopAAndTContext","fields":[{"rule":"optional","type":"uint64","name":"context_id","id":1}]},{"name":"CMsgBeginPaintBackground","fields":[]},{"name":"CMsgEndPaintBackground","fields":[]},{"name":"CMsgBeginPaintLast","fields":[]},{"name":"CMsgEndPaintLast","fields":[]},{"name":"CMsgDrawFilledRect","fields":[{"rule":"optional","type":"CMsgPoint","name":"top_left","id":1},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":2},{"rule":"optional","type":"CMsgFillBrushCollection","name":"fill_brush_collection","id":3},{"rule":"optional","type":"uint32","name":"antialiasing","id":4}]},{"name":"CMsgRenderFilledRect","fields":[{"rule":"optional","type":"CMsgPoint","name":"top_left","id":1},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":2},{"rule":"optional","type":"CMsgRenderFillBrushCollection","name":"fill_brush_collection","id":3},{"rule":"optional","type":"uint32","name":"antialiasing","id":4}]},{"name":"CMsgDrawTexturedRect","fields":[{"rule":"optional","type":"CMsgPoint","name":"top_left","id":1},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":2},{"rule":"optional","type":"uint32","name":"texture_id","id":3},{"rule":"optional","type":"CMsgPoint","name":"texture_top_left","id":4},{"rule":"optional","type":"CMsgPoint","name":"texture_bottom_right","id":5},{"rule":"optional","type":"int32","name":"texture_serial","id":6,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"texture_sample_mode","id":7,"options":{"default":0}}]},{"name":"CMsgDrawDoubleBufferedRect","fields":[{"rule":"optional","type":"CMsgPoint","name":"top_left","id":1},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":2},{"rule":"optional","type":"uint32","name":"texture_id","id":3},{"rule":"optional","type":"CMsgPoint","name":"texture_top_left","id":4},{"rule":"optional","type":"CMsgPoint","name":"texture_bottom_right","id":5}]},{"name":"CMsgDrawYUV420DoubleBufferedRect","fields":[{"rule":"optional","type":"CMsgPoint","name":"top_left","id":1},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":2},{"rule":"optional","type":"uint32","name":"texture_id","id":3},{"rule":"optional","type":"CMsgPoint","name":"texture_top_left","id":4},{"rule":"optional","type":"CMsgPoint","name":"texture_bottom_right","id":5}]},{"name":"CMsgRenderTexturedRect","fields":[{"rule":"optional","type":"CMsgPoint","name":"top_left","id":1},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":2},{"rule":"optional","type":"uint32","name":"texture_id","id":3},{"rule":"optional","type":"CMsgPoint","name":"texture_top_left","id":4},{"rule":"optional","type":"CMsgPoint","name":"texture_bottom_right","id":5},{"rule":"optional","type":"int32","name":"texture_serial","id":6,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"texture_sample_mode","id":7,"options":{"default":0}}]},{"name":"CMsgLockTexture","fields":[{"rule":"optional","type":"uint32","name":"texture_id","id":1},{"rule":"optional","type":"int32","name":"texture_serial","id":2,"options":{"default":0}}]},{"name":"CMsgTextInlineObject","fields":[{"rule":"optional","type":"float","name":"width","id":1},{"rule":"optional","type":"float","name":"height","id":2}]},{"name":"CMsgTextFormat","fields":[{"rule":"optional","type":"string","name":"font_name","id":1},{"rule":"optional","type":"double","name":"font_size","id":2},{"rule":"optional","type":"int32","name":"font_weight","id":3,"options":{"default":-1}},{"rule":"optional","type":"int32","name":"font_style","id":4,"options":{"default":-1}},{"rule":"optional","type":"bool","name":"underline","id":5},{"rule":"optional","type":"bool","name":"strikethrough","id":6},{"rule":"optional","type":"CMsgFillBrushCollection","name":"fill_brush_collection","id":7},{"rule":"optional","type":"int32","name":"letter_spacing","id":8,"options":{"default":0}},{"rule":"optional","type":"CMsgTextInlineObject","name":"inline_object","id":9}]},{"name":"CMsgTextRangeFormat","fields":[{"rule":"optional","type":"uint32","name":"start_index","id":1},{"rule":"optional","type":"uint32","name":"end_index","id":2},{"rule":"optional","type":"CMsgTextFormat","name":"format","id":3}]},{"name":"CMsgRenderTextFormat","fields":[{"rule":"optional","type":"string","name":"font_name","id":1},{"rule":"optional","type":"double","name":"font_size","id":2},{"rule":"optional","type":"int32","name":"font_weight","id":3,"options":{"default":-1}},{"rule":"optional","type":"int32","name":"font_style","id":4,"options":{"default":-1}},{"rule":"optional","type":"bool","name":"underline","id":5},{"rule":"optional","type":"bool","name":"strikethrough","id":6},{"rule":"optional","type":"CMsgRenderFillBrushCollection","name":"fill_brush_collection","id":7},{"rule":"optional","type":"int32","name":"letter_spacing","id":8,"options":{"default":0}},{"rule":"optional","type":"CMsgTextInlineObject","name":"inline_object","id":9}]},{"name":"CMsgRenderTextRangeFormat","fields":[{"rule":"optional","type":"uint32","name":"start_index","id":1},{"rule":"optional","type":"uint32","name":"end_index","id":2},{"rule":"optional","type":"CMsgRenderTextFormat","name":"format","id":3}]},{"name":"CMsgDrawTextRegion","fields":[{"rule":"optional","type":"bytes","name":"wtext","id":2},{"rule":"optional","type":"CMsgTextFormat","name":"default_format","id":3},{"rule":"optional","type":"uint32","name":"text_align","id":4},{"rule":"optional","type":"uint32","name":"line_height","id":5},{"rule":"optional","type":"CMsgPoint","name":"top_left","id":6},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":7},{"rule":"optional","type":"bool","name":"wrapping","id":8},{"rule":"optional","type":"bool","name":"ellipsis","id":9},{"rule":"repeated","type":"CMsgTextRangeFormat","name":"range_formats","id":10}]},{"name":"CMsgRenderTextRegion","fields":[{"rule":"optional","type":"bytes","name":"wtext","id":2},{"rule":"optional","type":"CMsgRenderTextFormat","name":"default_format","id":3},{"rule":"optional","type":"uint32","name":"text_align","id":4},{"rule":"optional","type":"uint32","name":"line_height","id":5},{"rule":"optional","type":"CMsgPoint","name":"top_left","id":6},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":7},{"rule":"optional","type":"bool","name":"wrapping","id":8},{"rule":"optional","type":"bool","name":"ellipsis","id":9},{"rule":"repeated","type":"CMsgRenderTextRangeFormat","name":"range_formats","id":10},{"rule":"optional","type":"CTextShadowData","name":"text_shadow","id":11}]},{"name":"CMsgRequestRenderCallback","fields":[{"rule":"optional","type":"bytes","name":"callback_obj","id":1},{"rule":"optional","type":"CMsgPoint","name":"top_left","id":2},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":3},{"rule":"optional","type":"CMsgPoint","name":"top_left_padding","id":4},{"rule":"optional","type":"CMsgPoint","name":"bottom_right_padding","id":5},{"rule":"optional","type":"bool","name":"needs_redraw_every_frame","id":6}]},{"name":"CMsgSteamDatagramRouterPingReply","fields":[{"rule":"optional","type":"fixed32","name":"client_timestamp","id":1},{"rule":"repeated","type":"fixed32","name":"latency_datacenter_ids","id":2,"options":{"packed":true}},{"rule":"repeated","type":"uint32","name":"latency_ping_ms","id":3,"options":{"packed":true}},{"rule":"optional","type":"fixed32","name":"your_public_ip","id":4},{"rule":"optional","type":"fixed32","name":"server_time","id":5},{"rule":"optional","type":"fixed64","name":"challenge","id":6},{"rule":"optional","type":"uint32","name":"seconds_until_shutdown","id":7},{"rule":"optional","type":"fixed32","name":"client_cookie","id":8}]},{"name":"CMsgSteamDatagramGameserverPing","fields":[{"rule":"optional","type":"uint32","name":"client_session","id":1},{"rule":"optional","type":"fixed64","name":"client_steam_id","id":2},{"rule":"optional","type":"fixed32","name":"client_timestamp","id":3},{"rule":"optional","type":"fixed32","name":"router_timestamp","id":4},{"rule":"optional","type":"uint32","name":"router_gameserver_latency","id":5},{"rule":"optional","type":"uint32","name":"seq_number_router","id":6},{"rule":"optional","type":"uint32","name":"seq_number_e2e","id":7}]},{"name":"CMsgSteamDatagramGameServerAuthTicket","fields":[{"rule":"optional","type":"fixed32","name":"time_expiry","id":1},{"rule":"optional","type":"fixed64","name":"authorized_steam_id","id":2},{"rule":"optional","type":"fixed32","name":"authorized_public_ip","id":3},{"rule":"optional","type":"fixed64","name":"gameserver_steam_id","id":4},{"rule":"optional","type":"fixed64","name":"gameserver_net_id","id":5},{"rule":"optional","type":"bytes","name":"signature","id":6},{"rule":"optional","type":"uint32","name":"app_id","id":7},{"rule":"repeated","type":"ExtraField","name":"extra_fields","id":8}],"messages":[{"name":"ExtraField","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"string_value","id":2},{"rule":"optional","type":"sint32","name":"int32_value","id":3},{"rule":"optional","type":"fixed32","name":"fixed32_value","id":4},{"rule":"optional","type":"fixed64","name":"fixed64_value","id":5}]}]},{"name":"CMsgSteamDatagramGameserverSessionRequest","fields":[{"rule":"optional","type":"CMsgSteamDatagramGameServerAuthTicket","name":"ticket","id":1},{"rule":"optional","type":"fixed32","name":"challenge_time","id":3},{"rule":"optional","type":"fixed64","name":"challenge","id":4},{"rule":"optional","type":"fixed32","name":"client_cookie","id":5}]},{"name":"CMsgSteamDatagramGameserverSessionEstablished","fields":[{"rule":"optional","type":"fixed32","name":"client_cookie","id":1},{"rule":"optional","type":"fixed64","name":"gameserver_steam_id","id":3},{"rule":"optional","type":"uint32","name":"seconds_until_shutdown","id":4}]},{"name":"CMsgSteamDatagramNoSession","fields":[{"rule":"optional","type":"fixed32","name":"client_cookie","id":7},{"rule":"optional","type":"fixed32","name":"your_public_ip","id":2},{"rule":"optional","type":"fixed32","name":"server_time","id":3},{"rule":"optional","type":"fixed64","name":"challenge","id":4},{"rule":"optional","type":"uint32","name":"seconds_until_shutdown","id":5}]},{"name":"CMsgSteamDatagramDiagnostic","fields":[{"rule":"optional","type":"uint32","name":"severity","id":1},{"rule":"optional","type":"string","name":"text","id":2}]},{"name":"CMsgSteamDatagramDataCenterState","fields":[{"rule":"repeated","type":"DataCenter","name":"data_centers","id":1}],"messages":[{"name":"Server","fields":[{"rule":"optional","type":"string","name":"address","id":1},{"rule":"optional","type":"uint32","name":"ping_ms","id":2}]},{"name":"DataCenter","fields":[{"rule":"optional","type":"string","name":"code","id":1},{"rule":"repeated","type":"Server","name":"server_sample","id":2}]}]},{"name":"CMsgSteamDatagramLinkInstantaneousStats","fields":[{"rule":"optional","type":"uint32","name":"out_packets_per_sec_x10","id":1},{"rule":"optional","type":"uint32","name":"out_bytes_per_sec","id":2},{"rule":"optional","type":"uint32","name":"in_packets_per_sec_x10","id":3},{"rule":"optional","type":"uint32","name":"in_bytes_per_sec","id":4},{"rule":"optional","type":"uint32","name":"ping_ms","id":5},{"rule":"optional","type":"uint32","name":"packets_dropped_pct","id":6},{"rule":"optional","type":"uint32","name":"packets_weird_sequence_pct","id":7}]},{"name":"CMsgSteamDatagramLinkLifetimeStats","fields":[{"rule":"optional","type":"uint64","name":"packets_sent","id":3},{"rule":"optional","type":"uint64","name":"kb_sent","id":4},{"rule":"optional","type":"uint64","name":"packets_recv","id":5},{"rule":"optional","type":"uint64","name":"kb_recv","id":6},{"rule":"optional","type":"uint64","name":"packets_recv_sequenced","id":7},{"rule":"optional","type":"uint64","name":"packets_recv_dropped","id":8},{"rule":"optional","type":"uint64","name":"packets_recv_out_of_order","id":9},{"rule":"optional","type":"uint64","name":"packets_recv_duplicate","id":10},{"rule":"optional","type":"uint64","name":"packets_recv_lurch","id":11}]},{"name":"CMsgSteamDatagramConnectionQuality","fields":[{"rule":"optional","type":"CMsgSteamDatagramLinkInstantaneousStats","name":"instantaneous","id":1},{"rule":"optional","type":"CMsgSteamDatagramLinkLifetimeStats","name":"lifetime","id":2}]},{"name":"CMsgSteamDatagramConnectionStatsClientToRouter","fields":[{"rule":"optional","type":"CMsgSteamDatagramConnectionQuality","name":"c2r","id":1},{"rule":"optional","type":"CMsgSteamDatagramConnectionQuality","name":"c2s","id":2},{"rule":"optional","type":"fixed32","name":"client_timestamp","id":3},{"rule":"optional","type":"fixed32","name":"client_cookie","id":8},{"rule":"optional","type":"uint32","name":"seq_num_c2r","id":9},{"rule":"optional","type":"uint32","name":"seq_num_c2s","id":10}]},{"name":"CMsgSteamDatagramConnectionStatsRouterToClient","fields":[{"rule":"optional","type":"CMsgSteamDatagramConnectionQuality","name":"r2c","id":1},{"rule":"optional","type":"CMsgSteamDatagramConnectionQuality","name":"s2c","id":2},{"rule":"optional","type":"fixed32","name":"client_timestamp_from_router","id":3},{"rule":"optional","type":"fixed32","name":"client_timestamp_from_server","id":4},{"rule":"optional","type":"uint32","name":"router_gameserver_latency","id":5},{"rule":"optional","type":"uint32","name":"seconds_until_shutdown","id":6},{"rule":"optional","type":"fixed32","name":"client_cookie","id":7},{"rule":"optional","type":"uint32","name":"seq_num_r2c","id":8},{"rule":"optional","type":"uint32","name":"seq_num_s2c","id":9}]},{"name":"CMsgSteamDatagramConnectionStatsRouterToServer","fields":[{"rule":"optional","type":"CMsgSteamDatagramConnectionQuality","name":"c2s","id":2},{"rule":"optional","type":"fixed32","name":"client_timestamp","id":3},{"rule":"optional","type":"fixed32","name":"router_timestamp","id":4},{"rule":"optional","type":"uint32","name":"seq_num_c2s","id":6},{"rule":"optional","type":"fixed64","name":"client_steam_id","id":7},{"rule":"optional","type":"uint32","name":"client_session_id","id":8}]},{"name":"CMsgSteamDatagramClientPingSampleRequest","fields":[{"rule":"optional","type":"fixed32","name":"client_cookie","id":1}]},{"name":"CMsgSteamDatagramClientPingSampleReply","fields":[{"rule":"optional","type":"fixed32","name":"client_cookie","id":1},{"rule":"repeated","type":"RoutingCluster","name":"routing_clusters","id":2}],"messages":[{"name":"RoutingCluster","fields":[{"rule":"optional","type":"fixed32","name":"id","id":1},{"rule":"optional","type":"uint32","name":"front_ping_ms","id":2},{"rule":"optional","type":"uint32","name":"e2e_ping_ms","id":3}]}]},{"name":"CMsgSteamDatagramClientSwitchedPrimary","fields":[{"rule":"optional","type":"fixed32","name":"client_cookie","id":1},{"rule":"optional","type":"fixed32","name":"from_ip","id":2},{"rule":"optional","type":"uint32","name":"from_port","id":3},{"rule":"optional","type":"fixed32","name":"from_router_cluster","id":4},{"rule":"optional","type":"uint32","name":"from_active_time","id":5},{"rule":"optional","type":"uint32","name":"from_active_packets_recv","id":6},{"rule":"optional","type":"string","name":"from_dropped_reason","id":7},{"rule":"optional","type":"uint32","name":"gap_ms","id":8},{"rule":"optional","type":"RouterQuality","name":"from_quality_now","id":9},{"rule":"optional","type":"RouterQuality","name":"to_quality_now","id":10},{"rule":"optional","type":"RouterQuality","name":"from_quality_then","id":11},{"rule":"optional","type":"RouterQuality","name":"to_quality_then","id":12}],"messages":[{"name":"RouterQuality","fields":[{"rule":"optional","type":"uint32","name":"score","id":1},{"rule":"optional","type":"uint32","name":"front_ping","id":2},{"rule":"optional","type":"uint32","name":"back_ping","id":3},{"rule":"optional","type":"uint32","name":"seconds_until_down","id":4}]}]},{"name":"CCloud_GetUploadServerInfo_Request","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1,"options":{"(description)":"App ID to which a file will be uploaded to."}}]},{"name":"CCloud_GetUploadServerInfo_Response","fields":[{"rule":"optional","type":"string","name":"server_url","id":1}]},{"name":"CCloud_GetFileDetails_Request","fields":[{"rule":"optional","type":"uint64","name":"ugcid","id":1,"options":{"(description)":"ID of the Cloud file to get details for."}},{"rule":"optional","type":"uint32","name":"appid","id":2,"options":{"(description)":"App ID the file belongs to."}}]},{"name":"CCloud_UserFile","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1},{"rule":"optional","type":"uint64","name":"ugcid","id":2},{"rule":"optional","type":"string","name":"filename","id":3},{"rule":"optional","type":"uint64","name":"timestamp","id":4},{"rule":"optional","type":"uint32","name":"file_size","id":5},{"rule":"optional","type":"string","name":"url","id":6},{"rule":"optional","type":"fixed64","name":"steamid_creator","id":7}]},{"name":"CCloud_GetFileDetails_Response","fields":[{"rule":"optional","type":"CCloud_UserFile","name":"details","id":1}]},{"name":"CCloud_EnumerateUserFiles_Request","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1,"options":{"(description)":"App ID to enumerate the files of."}},{"rule":"optional","type":"bool","name":"extended_details","id":2,"options":{"(description)":"(Optional) Get extended details back on the files found. Defaults to only returned the app Id and UGC Id of the files found."}},{"rule":"optional","type":"uint32","name":"count","id":3,"options":{"(description)":"(Optional) Maximum number of results to return on this call. Defaults to a maximum of 500 files returned."}},{"rule":"optional","type":"uint32","name":"start_index","id":4,"options":{"(description)":"(Optional) Starting index to begin enumeration at. Defaults to the beginning of the list."}}]},{"name":"CCloud_EnumerateUserFiles_Response","fields":[{"rule":"repeated","type":"CCloud_UserFile","name":"files","id":1},{"rule":"optional","type":"uint32","name":"total_files","id":2}]},{"name":"CCloud_Delete_Request","fields":[{"rule":"optional","type":"string","name":"filename","id":1},{"rule":"optional","type":"uint32","name":"appid","id":2,"options":{"(description)":"App ID the file belongs to."}}]},{"name":"CCloud_Delete_Response","fields":[]},{"name":"COAuthToken_ImplicitGrantNoPrompt_Request","fields":[{"rule":"optional","type":"string","name":"clientid","id":1,"options":{"(description)":"Client ID for which to count the number of issued tokens"}}]},{"name":"COAuthToken_ImplicitGrantNoPrompt_Response","fields":[{"rule":"optional","type":"string","name":"access_token","id":1,"options":{"(description)":"OAuth Token, granted on success"}},{"rule":"optional","type":"string","name":"redirect_uri","id":2,"options":{"(description)":"Redirection URI provided during client registration."}}]},{"name":"CMsgTEArmorRicochet","fields":[{"rule":"optional","type":"CMsgVector","name":"pos","id":1},{"rule":"optional","type":"CMsgVector","name":"dir","id":2}]},{"name":"CMsgTEBaseBeam","fields":[{"rule":"optional","type":"fixed64","name":"modelindex","id":1},{"rule":"optional","type":"fixed64","name":"haloindex","id":2},{"rule":"optional","type":"uint32","name":"startframe","id":3},{"rule":"optional","type":"uint32","name":"framerate","id":4},{"rule":"optional","type":"float","name":"life","id":5},{"rule":"optional","type":"float","name":"width","id":6},{"rule":"optional","type":"float","name":"endwidth","id":7},{"rule":"optional","type":"uint32","name":"fadelength","id":8},{"rule":"optional","type":"float","name":"amplitude","id":9},{"rule":"optional","type":"fixed32","name":"color","id":10},{"rule":"optional","type":"uint32","name":"speed","id":11},{"rule":"optional","type":"uint32","name":"flags","id":12}]},{"name":"CMsgTEBeamEntPoint","fields":[{"rule":"optional","type":"CMsgTEBaseBeam","name":"base","id":1},{"rule":"optional","type":"uint32","name":"startentity","id":2},{"rule":"optional","type":"uint32","name":"endentity","id":3},{"rule":"optional","type":"CMsgVector","name":"start","id":4},{"rule":"optional","type":"CMsgVector","name":"end","id":5}]},{"name":"CMsgTEBeamEnts","fields":[{"rule":"optional","type":"CMsgTEBaseBeam","name":"base","id":1},{"rule":"optional","type":"uint32","name":"startentity","id":2},{"rule":"optional","type":"uint32","name":"endentity","id":3}]},{"name":"CMsgTEBeamPoints","fields":[{"rule":"optional","type":"CMsgTEBaseBeam","name":"base","id":1},{"rule":"optional","type":"CMsgVector","name":"start","id":2},{"rule":"optional","type":"CMsgVector","name":"end","id":3}]},{"name":"CMsgTEBeamRing","fields":[{"rule":"optional","type":"CMsgTEBaseBeam","name":"base","id":1},{"rule":"optional","type":"uint32","name":"startentity","id":2},{"rule":"optional","type":"uint32","name":"endentity","id":3}]},{"name":"CMsgTEBreakModel","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgQAngle","name":"angles","id":2},{"rule":"optional","type":"CMsgVector","name":"size","id":3},{"rule":"optional","type":"CMsgVector","name":"velocity","id":4},{"rule":"optional","type":"uint32","name":"randomization","id":5},{"rule":"optional","type":"fixed64","name":"modelindex","id":6},{"rule":"optional","type":"uint32","name":"count","id":7},{"rule":"optional","type":"float","name":"time","id":8},{"rule":"optional","type":"uint32","name":"flags","id":9}]},{"name":"CMsgTEBSPDecal","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector","name":"normal","id":2},{"rule":"optional","type":"CMsgVector","name":"saxis","id":3},{"rule":"optional","type":"uint32","name":"entity","id":4},{"rule":"optional","type":"uint32","name":"index","id":5}]},{"name":"CMsgTEBubbles","fields":[{"rule":"optional","type":"CMsgVector","name":"mins","id":1},{"rule":"optional","type":"CMsgVector","name":"maxs","id":2},{"rule":"optional","type":"float","name":"height","id":3},{"rule":"optional","type":"uint32","name":"count","id":4},{"rule":"optional","type":"float","name":"speed","id":5}]},{"name":"CMsgTEBubbleTrail","fields":[{"rule":"optional","type":"CMsgVector","name":"mins","id":1},{"rule":"optional","type":"CMsgVector","name":"maxs","id":2},{"rule":"optional","type":"float","name":"waterz","id":3},{"rule":"optional","type":"uint32","name":"count","id":4},{"rule":"optional","type":"float","name":"speed","id":5}]},{"name":"CMsgTEDecal","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector","name":"start","id":2},{"rule":"optional","type":"uint32","name":"entity","id":3},{"rule":"optional","type":"uint32","name":"hitbox","id":4},{"rule":"optional","type":"uint32","name":"index","id":5}]},{"name":"CMsgEffectData","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector","name":"start","id":2},{"rule":"optional","type":"CMsgVector","name":"normal","id":3},{"rule":"optional","type":"CMsgQAngle","name":"angles","id":4},{"rule":"optional","type":"fixed32","name":"entity","id":5},{"rule":"optional","type":"fixed32","name":"otherentity","id":6},{"rule":"optional","type":"float","name":"scale","id":7},{"rule":"optional","type":"float","name":"magnitude","id":8},{"rule":"optional","type":"float","name":"radius","id":9},{"rule":"optional","type":"fixed32","name":"surfaceprop","id":10},{"rule":"optional","type":"fixed64","name":"effectindex","id":11},{"rule":"optional","type":"uint32","name":"damagetype","id":12},{"rule":"optional","type":"uint32","name":"material","id":13},{"rule":"optional","type":"uint32","name":"hitbox","id":14},{"rule":"optional","type":"uint32","name":"color","id":15},{"rule":"optional","type":"uint32","name":"flags","id":16},{"rule":"optional","type":"int32","name":"attachmentindex","id":17},{"rule":"optional","type":"uint32","name":"effectname","id":18},{"rule":"optional","type":"uint32","name":"attachmentname","id":19}]},{"name":"CMsgTEEffectDispatch","fields":[{"rule":"optional","type":"CMsgEffectData","name":"effectdata","id":1}]},{"name":"CMsgTEEnergySplash","fields":[{"rule":"optional","type":"CMsgVector","name":"pos","id":1},{"rule":"optional","type":"CMsgVector","name":"dir","id":2},{"rule":"optional","type":"bool","name":"explosive","id":3}]},{"name":"CMsgTEFizz","fields":[{"rule":"optional","type":"uint32","name":"entity","id":1},{"rule":"optional","type":"uint32","name":"density","id":2},{"rule":"optional","type":"int32","name":"current","id":3}]},{"name":"CMsgTEShatterSurface","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgQAngle","name":"angles","id":2},{"rule":"optional","type":"CMsgVector","name":"force","id":3},{"rule":"optional","type":"CMsgVector","name":"forcepos","id":4},{"rule":"optional","type":"float","name":"width","id":5},{"rule":"optional","type":"float","name":"height","id":6},{"rule":"optional","type":"float","name":"shardsize","id":7},{"rule":"optional","type":"uint32","name":"surfacetype","id":8},{"rule":"optional","type":"fixed32","name":"frontcolor","id":9},{"rule":"optional","type":"fixed32","name":"backcolor","id":10}]},{"name":"CMsgTEGlowSprite","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"float","name":"scale","id":2},{"rule":"optional","type":"float","name":"life","id":3},{"rule":"optional","type":"uint32","name":"brightness","id":4}]},{"name":"CMsgTEImpact","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector","name":"normal","id":2},{"rule":"optional","type":"uint32","name":"type","id":3}]},{"name":"CMsgTEMuzzleFlash","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgQAngle","name":"angles","id":2},{"rule":"optional","type":"float","name":"scale","id":3},{"rule":"optional","type":"uint32","name":"type","id":4}]},{"name":"CMsgTEBloodStream","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector","name":"direction","id":2},{"rule":"optional","type":"fixed32","name":"color","id":3},{"rule":"optional","type":"uint32","name":"amount","id":4}]},{"name":"CMsgTEExplosion","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"uint32","name":"framerate","id":2},{"rule":"optional","type":"uint32","name":"flags","id":3},{"rule":"optional","type":"CMsgVector","name":"normal","id":4},{"rule":"optional","type":"uint32","name":"materialtype","id":5},{"rule":"optional","type":"uint32","name":"radius","id":6},{"rule":"optional","type":"uint32","name":"magnitude","id":7},{"rule":"optional","type":"float","name":"scale","id":8},{"rule":"optional","type":"bool","name":"affect_ragdolls","id":9}]},{"name":"CMsgTEDust","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"float","name":"size","id":2},{"rule":"optional","type":"float","name":"speed","id":3},{"rule":"optional","type":"CMsgVector","name":"direction","id":4}]},{"name":"CMsgTELargeFunnel","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"uint32","name":"reversed","id":2}]},{"name":"CMsgTESparks","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"uint32","name":"magnitude","id":2},{"rule":"optional","type":"uint32","name":"length","id":3},{"rule":"optional","type":"CMsgVector","name":"direction","id":4}]},{"name":"CMsgTEPhysicsProp","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector","name":"velocity","id":2},{"rule":"optional","type":"CMsgQAngle","name":"angles","id":3},{"rule":"optional","type":"fixed32","name":"skin","id":4},{"rule":"optional","type":"uint32","name":"flags","id":5},{"rule":"optional","type":"uint32","name":"effects","id":6},{"rule":"optional","type":"fixed32","name":"color","id":7},{"rule":"optional","type":"fixed64","name":"modelindex","id":8},{"rule":"optional","type":"uint32","name":"breakmodelsnottomake","id":9},{"rule":"optional","type":"float","name":"scale","id":10}]},{"name":"CMsgTEPlayerDecal","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"uint32","name":"player","id":2},{"rule":"optional","type":"uint32","name":"entity","id":3}]},{"name":"CMsgTEProjectedDecal","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgQAngle","name":"angles","id":2},{"rule":"optional","type":"uint32","name":"index","id":3},{"rule":"optional","type":"float","name":"distance","id":4}]},{"name":"CMsgTESmoke","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"float","name":"scale","id":2}]},{"name":"CMsgTEWorldDecal","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector","name":"normal","id":2},{"rule":"optional","type":"uint32","name":"index","id":3}]},{"name":"ChangeMapToolEvent","fields":[{"rule":"optional","type":"string","name":"mapname","id":1}]},{"name":"TraceRayServerToolEvent","fields":[{"rule":"optional","type":"CMsgVector","name":"start","id":1},{"rule":"optional","type":"CMsgVector","name":"end","id":2}]},{"name":"ToolTraceRayResult","fields":[{"rule":"optional","type":"bool","name":"hit","id":1},{"rule":"optional","type":"CMsgVector","name":"impact","id":2},{"rule":"optional","type":"CMsgVector","name":"normal","id":3},{"rule":"optional","type":"float","name":"distance","id":4},{"rule":"optional","type":"float","name":"fraction","id":5},{"rule":"optional","type":"int32","name":"ehandle","id":6}]},{"name":"SpawnEntityToolEvent","fields":[{"rule":"optional","type":"bytes","name":"entity_keyvalues","id":1},{"rule":"optional","type":"bool","name":"clientsideentity","id":2}]},{"name":"SpawnEntityToolEventResult","fields":[{"rule":"optional","type":"int32","name":"ehandle","id":1}]},{"name":"DestroyEntityToolEvent","fields":[{"rule":"optional","type":"int32","name":"ehandle","id":1}]},{"name":"DestroyAllEntitiesToolEvent","fields":[]},{"name":"RestartMapToolEvent","fields":[]},{"name":"ToolEvent_GetEntityInfo","fields":[{"rule":"optional","type":"int32","name":"ehandle","id":1},{"rule":"optional","type":"bool","name":"clientsideentity","id":2}]},{"name":"ToolEvent_GetEntityInfoResult","fields":[{"rule":"optional","type":"string","name":"cppclass","id":1,"options":{"default":"shithead"}},{"rule":"optional","type":"string","name":"classname","id":2},{"rule":"optional","type":"string","name":"name","id":3},{"rule":"optional","type":"CMsgVector","name":"origin","id":4},{"rule":"optional","type":"CMsgVector","name":"mins","id":5},{"rule":"optional","type":"CMsgVector","name":"maxs","id":6}]},{"name":"ToolEvent_GetEntityInputs","fields":[{"rule":"optional","type":"int32","name":"ehandle","id":1},{"rule":"optional","type":"bool","name":"clientsideentity","id":2}]},{"name":"ToolEvent_GetEntityInputsResult","fields":[{"rule":"repeated","type":"string","name":"input_list","id":1}]},{"name":"ToolEvent_FireEntityInput","fields":[{"rule":"optional","type":"int32","name":"ehandle","id":1},{"rule":"optional","type":"bool","name":"clientsideentity","id":2},{"rule":"optional","type":"string","name":"input_name","id":3},{"rule":"optional","type":"string","name":"input_param","id":4}]},{"name":"ToolEvent_SFMRecordingStateChanged","fields":[{"rule":"optional","type":"bool","name":"isrecording","id":1}]},{"name":"ToolEvent_SFMToolActiveStateChanged","fields":[{"rule":"optional","type":"bool","name":"isactive","id":1}]},{"name":"CUserMessageAchievementEvent","fields":[{"rule":"optional","type":"uint32","name":"achievement","id":1}]},{"name":"CUserMessageCloseCaption","fields":[{"rule":"optional","type":"fixed32","name":"hash","id":1},{"rule":"optional","type":"float","name":"duration","id":2},{"rule":"optional","type":"bool","name":"from_player","id":3},{"rule":"optional","type":"int32","name":"ent_index","id":4}]},{"name":"CUserMessageCloseCaptionDirect","fields":[{"rule":"optional","type":"fixed32","name":"hash","id":1},{"rule":"optional","type":"float","name":"duration","id":2},{"rule":"optional","type":"bool","name":"from_player","id":3},{"rule":"optional","type":"int32","name":"ent_index","id":4}]},{"name":"CUserMessageCloseCaptionPlaceholder","fields":[{"rule":"optional","type":"string","name":"string","id":1},{"rule":"optional","type":"float","name":"duration","id":2},{"rule":"optional","type":"bool","name":"from_player","id":3},{"rule":"optional","type":"int32","name":"ent_index","id":4}]},{"name":"CUserMessageCurrentTimescale","fields":[{"rule":"optional","type":"float","name":"current","id":1}]},{"name":"CUserMessageDesiredTimescale","fields":[{"rule":"optional","type":"float","name":"desired","id":1},{"rule":"optional","type":"float","name":"acceleration","id":2},{"rule":"optional","type":"float","name":"minblendrate","id":3},{"rule":"optional","type":"float","name":"blenddeltamultiplier","id":4}]},{"name":"CUserMessageFade","fields":[{"rule":"optional","type":"uint32","name":"duration","id":1},{"rule":"optional","type":"uint32","name":"hold_time","id":2},{"rule":"optional","type":"uint32","name":"flags","id":3},{"rule":"optional","type":"fixed32","name":"color","id":4}]},{"name":"CUserMessageShake","fields":[{"rule":"optional","type":"uint32","name":"command","id":1},{"rule":"optional","type":"float","name":"amplitude","id":2},{"rule":"optional","type":"float","name":"frequency","id":3},{"rule":"optional","type":"float","name":"duration","id":4}]},{"name":"CUserMessageShakeDir","fields":[{"rule":"optional","type":"CUserMessageShake","name":"shake","id":1},{"rule":"optional","type":"CMsgVector","name":"direction","id":2}]},{"name":"CUserMessageScreenTilt","fields":[{"rule":"optional","type":"uint32","name":"command","id":1},{"rule":"optional","type":"bool","name":"ease_in_out","id":2},{"rule":"optional","type":"CMsgVector","name":"angle","id":3},{"rule":"optional","type":"float","name":"duration","id":4},{"rule":"optional","type":"float","name":"time","id":5}]},{"name":"CUserMessageSayText","fields":[{"rule":"optional","type":"uint32","name":"playerindex","id":1},{"rule":"optional","type":"string","name":"text","id":2},{"rule":"optional","type":"bool","name":"chat","id":3}]},{"name":"CUserMessageSayText2","fields":[{"rule":"optional","type":"uint32","name":"entityindex","id":1},{"rule":"optional","type":"bool","name":"chat","id":2},{"rule":"optional","type":"string","name":"messagename","id":3},{"rule":"optional","type":"string","name":"param1","id":4},{"rule":"optional","type":"string","name":"param2","id":5},{"rule":"optional","type":"string","name":"param3","id":6},{"rule":"optional","type":"string","name":"param4","id":7}]},{"name":"CUserMessageHudMsg","fields":[{"rule":"optional","type":"uint32","name":"channel","id":1},{"rule":"optional","type":"float","name":"x","id":2},{"rule":"optional","type":"float","name":"y","id":3},{"rule":"optional","type":"fixed32","name":"color1","id":4},{"rule":"optional","type":"fixed32","name":"color2","id":5},{"rule":"optional","type":"uint32","name":"effect","id":6},{"rule":"optional","type":"float","name":"fade_in_time","id":7},{"rule":"optional","type":"float","name":"fade_out_time","id":8},{"rule":"optional","type":"float","name":"hold_time","id":9},{"rule":"optional","type":"float","name":"fx_time","id":10},{"rule":"optional","type":"string","name":"message","id":11}]},{"name":"CUserMessageHudText","fields":[{"rule":"optional","type":"string","name":"message","id":1}]},{"name":"CUserMessageTextMsg","fields":[{"rule":"optional","type":"uint32","name":"dest","id":1},{"rule":"repeated","type":"string","name":"param","id":2}]},{"name":"CUserMessageGameTitle","fields":[]},{"name":"CUserMessageResetHUD","fields":[]},{"name":"CUserMessageSendAudio","fields":[{"rule":"optional","type":"string","name":"soundname","id":1},{"rule":"optional","type":"bool","name":"stop","id":2}]},{"name":"CUserMessageAudioParameter","fields":[{"rule":"optional","type":"uint32","name":"parameter_type","id":1},{"rule":"optional","type":"uint32","name":"name_hash_code","id":2},{"rule":"optional","type":"float","name":"value","id":3}]},{"name":"CUserMessageVoiceMask","fields":[{"rule":"repeated","type":"uint32","name":"gamerules_masks","id":1},{"rule":"repeated","type":"uint32","name":"ban_masks","id":2},{"rule":"optional","type":"bool","name":"mod_enable","id":3}]},{"name":"CUserMessageRequestState","fields":[]},{"name":"CUserMessageHintText","fields":[{"rule":"optional","type":"string","name":"message","id":1}]},{"name":"CUserMessageKeyHintText","fields":[{"rule":"repeated","type":"string","name":"messages","id":1}]},{"name":"CUserMessageVoiceSubtitle","fields":[{"rule":"optional","type":"int32","name":"player","id":1},{"rule":"optional","type":"int32","name":"menu","id":2},{"rule":"optional","type":"int32","name":"item","id":3}]},{"name":"CUserMessageVGUIMenu","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"bool","name":"show","id":2},{"rule":"repeated","type":"Keys","name":"keys","id":3}],"messages":[{"name":"Keys","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"value","id":2}]}]},{"name":"CUserMessageRumble","fields":[{"rule":"optional","type":"int32","name":"index","id":1},{"rule":"optional","type":"int32","name":"data","id":2},{"rule":"optional","type":"int32","name":"flags","id":3}]},{"name":"CUserMessageTrain","fields":[{"rule":"optional","type":"uint32","name":"position","id":1}]},{"name":"CUserMessageSayTextChannel","fields":[{"rule":"optional","type":"int32","name":"player","id":1},{"rule":"optional","type":"int32","name":"channel","id":2},{"rule":"optional","type":"string","name":"text","id":3}]},{"name":"CUserMessageColoredText","fields":[{"rule":"optional","type":"uint32","name":"color","id":1},{"rule":"optional","type":"string","name":"text","id":2},{"rule":"optional","type":"bool","name":"reset","id":3},{"rule":"optional","type":"int32","name":"context_player_id","id":4},{"rule":"optional","type":"int32","name":"context_value","id":5},{"rule":"optional","type":"int32","name":"context_team_id","id":6}]},{"name":"CUserMessageItemPickup","fields":[{"rule":"optional","type":"string","name":"itemname","id":1}]},{"name":"CUserMessageAmmoDenied","fields":[{"rule":"optional","type":"uint32","name":"ammo_id","id":1}]},{"name":"CUserMessageCrosshairAngle","fields":[{"rule":"optional","type":"CMsgQAngle","name":"angcrosshair","id":1}]},{"name":"CUserMessageShowMenu","fields":[{"rule":"optional","type":"uint32","name":"validslots","id":1},{"rule":"optional","type":"uint32","name":"displaytime","id":2},{"rule":"optional","type":"bool","name":"needmore","id":3},{"rule":"optional","type":"string","name":"menustring","id":4}]},{"name":"CUserMessageCreditsMsg","fields":[{"rule":"optional","type":"eRollType","name":"rolltype","id":1,"options":{"default":"ROLL_NONE"}}]},{"name":"CEntityMessagePlayJingle","fields":[]},{"name":"CEntityMessageScreenOverlay","fields":[{"rule":"optional","type":"bool","name":"start_effect","id":1}]},{"name":"CEntityMessageRemoveAllDecals","fields":[{"rule":"optional","type":"bool","name":"remove_decals","id":1}]},{"name":"CEntityMessagePropagateForce","fields":[{"rule":"optional","type":"CMsgVector","name":"impulse","id":1}]},{"name":"CEntityMessageDoSpark","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"uint32","name":"entityindex","id":2},{"rule":"optional","type":"float","name":"radius","id":3},{"rule":"optional","type":"fixed32","name":"color","id":4},{"rule":"optional","type":"uint32","name":"beams","id":5},{"rule":"optional","type":"float","name":"thick","id":6},{"rule":"optional","type":"float","name":"duration","id":7}]},{"name":"CEntityMessageFixAngle","fields":[{"rule":"optional","type":"bool","name":"relative","id":1},{"rule":"optional","type":"CMsgQAngle","name":"angle","id":2}]},{"name":"CUserMessageCameraTransition","fields":[{"rule":"optional","type":"uint32","name":"camera_type","id":1},{"rule":"optional","type":"float","name":"duration","id":2},{"rule":"optional","type":"Transition_DataDriven","name":"params_data_driven","id":3}],"messages":[{"name":"Transition_DataDriven","fields":[{"rule":"optional","type":"string","name":"filename","id":1},{"rule":"optional","type":"int32","name":"attach_ent_index","id":2}]}]},{"name":"CUserMsg_ParticleManager","fields":[{"rule":"required","type":"PARTICLE_MESSAGE","name":"type","id":1,"options":{"default":"GAME_PARTICLE_MANAGER_EVENT_CREATE"}},{"rule":"required","type":"uint32","name":"index","id":2},{"rule":"optional","type":"ReleaseParticleIndex","name":"release_particle_index","id":3},{"rule":"optional","type":"CreateParticle","name":"create_particle","id":4},{"rule":"optional","type":"DestroyParticle","name":"destroy_particle","id":5},{"rule":"optional","type":"DestroyParticleInvolving","name":"destroy_particle_involving","id":6},{"rule":"optional","type":"UpdateParticle","name":"update_particle","id":7},{"rule":"optional","type":"UpdateParticleFwd","name":"update_particle_fwd","id":8},{"rule":"optional","type":"UpdateParticleOrient","name":"update_particle_orient","id":9},{"rule":"optional","type":"UpdateParticleFallback","name":"update_particle_fallback","id":10},{"rule":"optional","type":"UpdateParticleOffset","name":"update_particle_offset","id":11},{"rule":"optional","type":"UpdateParticleEnt","name":"update_particle_ent","id":12},{"rule":"optional","type":"UpdateParticleShouldDraw","name":"update_particle_should_draw","id":14},{"rule":"optional","type":"UpdateParticleSetFrozen","name":"update_particle_set_frozen","id":15},{"rule":"optional","type":"ChangeControlPointAttachment","name":"change_control_point_attachment","id":16}],"messages":[{"name":"ReleaseParticleIndex","fields":[]},{"name":"CreateParticle","fields":[{"rule":"optional","type":"fixed64","name":"particle_name_index","id":1},{"rule":"optional","type":"int32","name":"attach_type","id":2},{"rule":"optional","type":"int32","name":"entity_handle","id":3}]},{"name":"DestroyParticle","fields":[{"rule":"optional","type":"bool","name":"destroy_immediately","id":1}]},{"name":"DestroyParticleInvolving","fields":[{"rule":"optional","type":"bool","name":"destroy_immediately","id":1},{"rule":"optional","type":"int32","name":"entity_handle","id":3}]},{"name":"UpdateParticle","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"position","id":2}]},{"name":"UpdateParticleFwd","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"forward","id":2}]},{"name":"UpdateParticleOrient","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"forward","id":2},{"rule":"optional","type":"CMsgVector","name":"right","id":3},{"rule":"optional","type":"CMsgVector","name":"up","id":4}]},{"name":"UpdateParticleFallback","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"position","id":2}]},{"name":"UpdateParticleOffset","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"origin_offset","id":2}]},{"name":"UpdateParticleEnt","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"int32","name":"entity_handle","id":2},{"rule":"optional","type":"int32","name":"attach_type","id":3},{"rule":"optional","type":"int32","name":"attachment","id":4},{"rule":"optional","type":"CMsgVector","name":"fallback_position","id":5},{"rule":"optional","type":"bool","name":"include_wearables","id":6}]},{"name":"UpdateParticleSetFrozen","fields":[{"rule":"optional","type":"bool","name":"set_frozen","id":1}]},{"name":"UpdateParticleShouldDraw","fields":[{"rule":"optional","type":"bool","name":"should_draw","id":1}]},{"name":"ChangeControlPointAttachment","fields":[{"rule":"optional","type":"int32","name":"attachment_old","id":1},{"rule":"optional","type":"int32","name":"attachment_new","id":2},{"rule":"optional","type":"int32","name":"entity_handle","id":3}]}]},{"name":"CUserMsg_HudError","fields":[{"rule":"optional","type":"int32","name":"order_id","id":1}]},{"name":"CUserMsg_CustomGameEvent_ClientToServer","fields":[{"rule":"optional","type":"string","name":"event_name","id":1},{"rule":"optional","type":"bytes","name":"data","id":2}]},{"name":"CUserMsg_CustomGameEvent_ServerToClient","fields":[{"rule":"optional","type":"string","name":"event_name","id":1},{"rule":"optional","type":"bytes","name":"data","id":2}]},{"name":"CUserMsg_TrackedControllerInput_ClientToServer","fields":[{"rule":"optional","type":"bytes","name":"data","id":1}]}]'),FE=JSON.parse('[{"name":"GCProtoBufMsgSrc","values":[{"name":"GCProtoBufMsgSrc_Unspecified","id":0},{"name":"GCProtoBufMsgSrc_FromSystem","id":1},{"name":"GCProtoBufMsgSrc_FromSteamID","id":2},{"name":"GCProtoBufMsgSrc_FromGC","id":3},{"name":"GCProtoBufMsgSrc_ReplySystem","id":4}]},{"name":"EGCBaseMsg","values":[{"name":"k_EMsgGCSystemMessage","id":4001},{"name":"k_EMsgGCReplicateConVars","id":4002},{"name":"k_EMsgGCConVarUpdated","id":4003},{"name":"k_EMsgGCInviteToParty","id":4501},{"name":"k_EMsgGCInvitationCreated","id":4502},{"name":"k_EMsgGCPartyInviteResponse","id":4503},{"name":"k_EMsgGCKickFromParty","id":4504},{"name":"k_EMsgGCLeaveParty","id":4505},{"name":"k_EMsgGCServerAvailable","id":4506},{"name":"k_EMsgGCClientConnectToServer","id":4507},{"name":"k_EMsgGCGameServerInfo","id":4508},{"name":"k_EMsgGCError","id":4509},{"name":"k_EMsgGCReplay_UploadedToYouTube","id":4510},{"name":"k_EMsgGCLANServerAvailable","id":4511},{"name":"k_EMsgGCInviteToLobby","id":4512},{"name":"k_EMsgGCLobbyInviteResponse","id":4513}]},{"name":"EGCBaseProtoObjectTypes","values":[{"name":"k_EProtoObjectPartyInvite","id":1001},{"name":"k_EProtoObjectLobbyInvite","id":1002}]},{"name":"ECustomGameInstallStatus","values":[{"name":"k_ECustomGameInstallStatus_Unknown","id":0},{"name":"k_ECustomGameInstallStatus_Ready","id":1},{"name":"k_ECustomGameInstallStatus_Busy","id":2},{"name":"k_ECustomGameInstallStatus_FailedGeneric","id":101},{"name":"k_ECustomGameInstallStatus_FailedInternalError","id":102},{"name":"k_ECustomGameInstallStatus_RequestedTimestampTooOld","id":103},{"name":"k_ECustomGameInstallStatus_RequestedTimestampTooNew","id":104},{"name":"k_ECustomGameInstallStatus_CRCMismatch","id":105},{"name":"k_ECustomGameInstallStatus_FailedSteam","id":106},{"name":"k_ECustomGameInstallStatus_FailedCanceled","id":107}]},{"name":"GC_BannedWordType","values":[{"name":"GC_BANNED_WORD_DISABLE_WORD","id":0},{"name":"GC_BANNED_WORD_ENABLE_WORD","id":1}]},{"name":"ENetworkDisconnectionReason","values":[{"name":"NETWORK_DISCONNECT_INVALID","id":0},{"name":"NETWORK_DISCONNECT_SHUTDOWN","id":1},{"name":"NETWORK_DISCONNECT_DISCONNECT_BY_USER","id":2},{"name":"NETWORK_DISCONNECT_DISCONNECT_BY_SERVER","id":3},{"name":"NETWORK_DISCONNECT_LOST","id":4},{"name":"NETWORK_DISCONNECT_OVERFLOW","id":5},{"name":"NETWORK_DISCONNECT_STEAM_BANNED","id":6},{"name":"NETWORK_DISCONNECT_STEAM_INUSE","id":7},{"name":"NETWORK_DISCONNECT_STEAM_TICKET","id":8},{"name":"NETWORK_DISCONNECT_STEAM_LOGON","id":9},{"name":"NETWORK_DISCONNECT_STEAM_AUTHCANCELLED","id":10},{"name":"NETWORK_DISCONNECT_STEAM_AUTHALREADYUSED","id":11},{"name":"NETWORK_DISCONNECT_STEAM_AUTHINVALID","id":12},{"name":"NETWORK_DISCONNECT_STEAM_VACBANSTATE","id":13},{"name":"NETWORK_DISCONNECT_STEAM_LOGGED_IN_ELSEWHERE","id":14},{"name":"NETWORK_DISCONNECT_STEAM_VAC_CHECK_TIMEDOUT","id":15},{"name":"NETWORK_DISCONNECT_STEAM_DROPPED","id":16},{"name":"NETWORK_DISCONNECT_STEAM_OWNERSHIP","id":17},{"name":"NETWORK_DISCONNECT_SERVERINFO_OVERFLOW","id":18},{"name":"NETWORK_DISCONNECT_TICKMSG_OVERFLOW","id":19},{"name":"NETWORK_DISCONNECT_STRINGTABLEMSG_OVERFLOW","id":20},{"name":"NETWORK_DISCONNECT_DELTAENTMSG_OVERFLOW","id":21},{"name":"NETWORK_DISCONNECT_TEMPENTMSG_OVERFLOW","id":22},{"name":"NETWORK_DISCONNECT_SOUNDSMSG_OVERFLOW","id":23},{"name":"NETWORK_DISCONNECT_SNAPSHOTOVERFLOW","id":24},{"name":"NETWORK_DISCONNECT_SNAPSHOTERROR","id":25},{"name":"NETWORK_DISCONNECT_RELIABLEOVERFLOW","id":26},{"name":"NETWORK_DISCONNECT_BADDELTATICK","id":27},{"name":"NETWORK_DISCONNECT_NOMORESPLITS","id":28},{"name":"NETWORK_DISCONNECT_TIMEDOUT","id":29},{"name":"NETWORK_DISCONNECT_DISCONNECTED","id":30},{"name":"NETWORK_DISCONNECT_LEAVINGSPLIT","id":31},{"name":"NETWORK_DISCONNECT_DIFFERENTCLASSTABLES","id":32},{"name":"NETWORK_DISCONNECT_BADRELAYPASSWORD","id":33},{"name":"NETWORK_DISCONNECT_BADSPECTATORPASSWORD","id":34},{"name":"NETWORK_DISCONNECT_HLTVRESTRICTED","id":35},{"name":"NETWORK_DISCONNECT_NOSPECTATORS","id":36},{"name":"NETWORK_DISCONNECT_HLTVUNAVAILABLE","id":37},{"name":"NETWORK_DISCONNECT_HLTVSTOP","id":38},{"name":"NETWORK_DISCONNECT_KICKED","id":39},{"name":"NETWORK_DISCONNECT_BANADDED","id":40},{"name":"NETWORK_DISCONNECT_KICKBANADDED","id":41},{"name":"NETWORK_DISCONNECT_HLTVDIRECT","id":42},{"name":"NETWORK_DISCONNECT_PURESERVER_CLIENTEXTRA","id":43},{"name":"NETWORK_DISCONNECT_PURESERVER_MISMATCH","id":44},{"name":"NETWORK_DISCONNECT_USERCMD","id":45},{"name":"NETWORK_DISCONNECT_REJECTED_BY_GAME","id":46},{"name":"NETWORK_DISCONNECT_MESSAGE_PARSE_ERROR","id":47},{"name":"NETWORK_DISCONNECT_INVALID_MESSAGE_ERROR","id":48},{"name":"NETWORK_DISCONNECT_BAD_SERVER_PASSWORD","id":49},{"name":"NETWORK_DISCONNECT_DIRECT_CONNECT_RESERVATION","id":50},{"name":"NETWORK_DISCONNECT_CONNECTION_FAILURE","id":51},{"name":"NETWORK_DISCONNECT_NO_PEER_GROUP_HANDLERS","id":52},{"name":"NETWORK_DISCONNECT_RECONNECTION","id":53},{"name":"NETWORK_DISCONNECT_LOOPSHUTDOWN","id":54},{"name":"NETWORK_DISCONNECT_LOOPDEACTIVATE","id":55},{"name":"NETWORK_DISCONNECT_HOST_ENDGAME","id":56},{"name":"NETWORK_DISCONNECT_LOOP_LEVELLOAD_ACTIVATE","id":57},{"name":"NETWORK_DISCONNECT_CREATE_SERVER_FAILED","id":58},{"name":"NETWORK_DISCONNECT_EXITING","id":59},{"name":"NETWORK_DISCONNECT_REQUEST_HOSTSTATE_IDLE","id":60},{"name":"NETWORK_DISCONNECT_REQUEST_HOSTSTATE_HLTVRELAY","id":61},{"name":"NETWORK_DISCONNECT_CLIENT_CONSISTENCY_FAIL","id":62},{"name":"NETWORK_DISCONNECT_CLIENT_UNABLE_TO_CRC_MAP","id":63},{"name":"NETWORK_DISCONNECT_CLIENT_NO_MAP","id":64},{"name":"NETWORK_DISCONNECT_CLIENT_DIFFERENT_MAP","id":65},{"name":"NETWORK_DISCONNECT_SERVER_REQUIRES_STEAM","id":66},{"name":"NETWORK_DISCONNECT_STEAM_DENY_MISC","id":67},{"name":"NETWORK_DISCONNECT_STEAM_DENY_BAD_ANTI_CHEAT","id":68},{"name":"NETWORK_DISCONNECT_SERVER_SHUTDOWN","id":69},{"name":"NETWORK_DISCONNECT_SPLITPACKET_SEND_OVERFLOW","id":70},{"name":"NETWORK_DISCONNECT_REPLAY_INCOMPATIBLE","id":71}]},{"name":"NET_Messages","values":[{"name":"net_NOP","id":0},{"name":"net_Disconnect","id":1},{"name":"net_SplitScreenUser","id":3},{"name":"net_Tick","id":4},{"name":"net_StringCmd","id":5},{"name":"net_SetConVar","id":6},{"name":"net_SignonState","id":7},{"name":"net_SpawnGroup_Load","id":8},{"name":"net_SpawnGroup_ManifestUpdate","id":9},{"name":"net_SpawnGroup_SetCreationTick","id":11},{"name":"net_SpawnGroup_Unload","id":12},{"name":"net_SpawnGroup_LoadCompleted","id":13}]},{"name":"SpawnGroupFlags_t","values":[{"name":"SPAWN_GROUP_LOAD_ENTITIES_FROM_SAVE","id":1},{"name":"SPAWN_GROUP_DONT_SPAWN_ENTITIES","id":2},{"name":"SPAWN_GROUP_SYNCHRONOUS_SPAWN","id":4},{"name":"SPAWN_GROUP_IS_INITIAL_SPAWN_GROUP","id":8},{"name":"SPAWN_GROUP_CREATE_CLIENT_ONLY_ENTITIES","id":16},{"name":"SPAWN_GROUP_SAVE_ENTITIES","id":32},{"name":"SPAWN_GROUP_BLOCK_UNTIL_LOADED","id":64},{"name":"SPAWN_GROUP_LOAD_STREAMING_DATA","id":128},{"name":"SPAWN_GROUP_CREATE_NEW_SCENE_WORLD","id":256}]},{"name":"CLC_Messages","values":[{"name":"clc_ClientInfo","id":20},{"name":"clc_Move","id":21},{"name":"clc_VoiceData","id":22},{"name":"clc_BaselineAck","id":23},{"name":"clc_ListenEvents","id":24},{"name":"clc_RespondCvarValue","id":25},{"name":"clc_FileCRCCheck","id":26},{"name":"clc_LoadingProgress","id":27},{"name":"clc_SplitPlayerConnect","id":28},{"name":"clc_ClientMessage","id":29},{"name":"clc_SplitPlayerDisconnect","id":30},{"name":"clc_ServerStatus","id":31},{"name":"clc_ServerPing","id":32},{"name":"clc_RequestPause","id":33},{"name":"clc_CmdKeyValues","id":34}]},{"name":"SVC_Messages","values":[{"name":"svc_ServerInfo","id":40},{"name":"svc_FlattenedSerializer","id":41},{"name":"svc_ClassInfo","id":42},{"name":"svc_SetPause","id":43},{"name":"svc_CreateStringTable","id":44},{"name":"svc_UpdateStringTable","id":45},{"name":"svc_VoiceInit","id":46},{"name":"svc_VoiceData","id":47},{"name":"svc_Print","id":48},{"name":"svc_Sounds","id":49},{"name":"svc_SetView","id":50},{"name":"svc_ClearAllStringTables","id":51},{"name":"svc_CmdKeyValues","id":52},{"name":"svc_BSPDecal","id":53},{"name":"svc_SplitScreen","id":54},{"name":"svc_PacketEntities","id":55},{"name":"svc_Prefetch","id":56},{"name":"svc_Menu","id":57},{"name":"svc_GetCvarValue","id":58},{"name":"svc_StopSound","id":59},{"name":"svc_PeerList","id":60},{"name":"svc_PacketReliable","id":61},{"name":"svc_UserMessage","id":62},{"name":"svc_SendTable","id":63},{"name":"svc_GameEvent","id":67},{"name":"svc_TempEntities","id":68},{"name":"svc_GameEventList","id":69},{"name":"svc_FullFrameSplit","id":70}]},{"name":"VoiceDataFormat_t","values":[{"name":"VOICEDATA_FORMAT_STEAM","id":0},{"name":"VOICEDATA_FORMAT_ENGINE","id":1}]},{"name":"RequestPause_t","values":[{"name":"RP_PAUSE","id":0},{"name":"RP_UNPAUSE","id":1},{"name":"RP_TOGGLEPAUSE","id":2}]},{"name":"PrefetchType","values":[{"name":"PFT_SOUND","id":0}]},{"name":"ESplitScreenMessageType","values":[{"name":"MSG_SPLITSCREEN_ADDUSER","id":0},{"name":"MSG_SPLITSCREEN_REMOVEUSER","id":1}]},{"name":"EQueryCvarValueStatus","values":[{"name":"eQueryCvarValueStatus_ValueIntact","id":0},{"name":"eQueryCvarValueStatus_CvarNotFound","id":1},{"name":"eQueryCvarValueStatus_NotACvar","id":2},{"name":"eQueryCvarValueStatus_CvarProtected","id":3}]},{"name":"DIALOG_TYPE","values":[{"name":"DIALOG_MSG","id":0},{"name":"DIALOG_MENU","id":1},{"name":"DIALOG_TEXT","id":2},{"name":"DIALOG_ENTRY","id":3},{"name":"DIALOG_ASKCONNECT","id":4}]},{"name":"SVC_Messages_LowFrequency","values":[{"name":"svc_dummy","id":600}]},{"name":"Bidirectional_Messages","values":[{"name":"bi_RebroadcastGameEvent","id":16},{"name":"bi_RebroadcastSource","id":17},{"name":"bi_GameEvent","id":18}]},{"name":"Bidirectional_Messages_LowFrequency","values":[{"name":"bi_RelayInfo","id":700},{"name":"bi_RelayPacket","id":701}]},{"name":"P2P_Messages","values":[{"name":"p2p_TextMessage","id":256},{"name":"p2p_Voice","id":257},{"name":"p2p_Ping","id":258}]},{"name":"EDemoCommands","values":[{"name":"DEM_Error","id":-1},{"name":"DEM_Stop","id":0},{"name":"DEM_FileHeader","id":1},{"name":"DEM_FileInfo","id":2},{"name":"DEM_SyncTick","id":3},{"name":"DEM_SendTables","id":4},{"name":"DEM_ClassInfo","id":5},{"name":"DEM_StringTables","id":6},{"name":"DEM_Packet","id":7},{"name":"DEM_SignonPacket","id":8},{"name":"DEM_ConsoleCmd","id":9},{"name":"DEM_CustomData","id":10},{"name":"DEM_CustomDataCallbacks","id":11},{"name":"DEM_UserCmd","id":12},{"name":"DEM_FullPacket","id":13},{"name":"DEM_SaveGame","id":14},{"name":"DEM_SpawnGroups","id":15},{"name":"DEM_Max","id":16},{"name":"DEM_IsCompressed","id":64}]},{"name":"EDotaBroadcastMessages","values":[{"name":"DOTA_BM_LANLobbyRequest","id":1},{"name":"DOTA_BM_LANLobbyReply","id":2}]},{"name":"EDOTAChatWheelMessage","values":[{"name":"k_EDOTA_CW_Ok","id":0},{"name":"k_EDOTA_CW_Care","id":1},{"name":"k_EDOTA_CW_GetBack","id":2},{"name":"k_EDOTA_CW_NeedWards","id":3},{"name":"k_EDOTA_CW_Stun","id":4},{"name":"k_EDOTA_CW_Help","id":5},{"name":"k_EDOTA_CW_Push","id":6},{"name":"k_EDOTA_CW_GoodJob","id":7},{"name":"k_EDOTA_CW_Missing","id":8},{"name":"k_EDOTA_CW_Missing_Top","id":9},{"name":"k_EDOTA_CW_Missing_Mid","id":10},{"name":"k_EDOTA_CW_Missing_Bottom","id":11},{"name":"k_EDOTA_CW_Go","id":12},{"name":"k_EDOTA_CW_Initiate","id":13},{"name":"k_EDOTA_CW_Follow","id":14},{"name":"k_EDOTA_CW_Group_Up","id":15},{"name":"k_EDOTA_CW_Spread_Out","id":16},{"name":"k_EDOTA_CW_Split_Farm","id":17},{"name":"k_EDOTA_CW_Attack","id":18},{"name":"k_EDOTA_CW_BRB","id":19},{"name":"k_EDOTA_CW_Dive","id":20},{"name":"k_EDOTA_CW_OMW","id":21},{"name":"k_EDOTA_CW_Get_Ready","id":22},{"name":"k_EDOTA_CW_Bait","id":23},{"name":"k_EDOTA_CW_Heal","id":24},{"name":"k_EDOTA_CW_Mana","id":25},{"name":"k_EDOTA_CW_OOM","id":26},{"name":"k_EDOTA_CW_Skill_Cooldown","id":27},{"name":"k_EDOTA_CW_Ulti_Ready","id":28},{"name":"k_EDOTA_CW_Enemy_Returned","id":29},{"name":"k_EDOTA_CW_All_Missing","id":30},{"name":"k_EDOTA_CW_Enemy_Incoming","id":31},{"name":"k_EDOTA_CW_Invis_Enemy","id":32},{"name":"k_EDOTA_CW_Enemy_Had_Rune","id":33},{"name":"k_EDOTA_CW_Split_Push","id":34},{"name":"k_EDOTA_CW_Coming_To_Gank","id":35},{"name":"k_EDOTA_CW_Request_Gank","id":36},{"name":"k_EDOTA_CW_Fight_Under_Tower","id":37},{"name":"k_EDOTA_CW_Deny_Tower","id":38},{"name":"k_EDOTA_CW_Buy_Courier","id":39},{"name":"k_EDOTA_CW_Upgrade_Courier","id":40},{"name":"k_EDOTA_CW_Need_Detection","id":41},{"name":"k_EDOTA_CW_They_Have_Detection","id":42},{"name":"k_EDOTA_CW_Buy_TP","id":43},{"name":"k_EDOTA_CW_Reuse_Courier","id":44},{"name":"k_EDOTA_CW_Deward","id":45},{"name":"k_EDOTA_CW_Building_Mek","id":46},{"name":"k_EDOTA_CW_Building_Pipe","id":47},{"name":"k_EDOTA_CW_Stack_And_Pull","id":48},{"name":"k_EDOTA_CW_Pull","id":49},{"name":"k_EDOTA_CW_Pulling","id":50},{"name":"k_EDOTA_CW_Stack","id":51},{"name":"k_EDOTA_CW_Jungling","id":52},{"name":"k_EDOTA_CW_Roshan","id":53},{"name":"k_EDOTA_CW_Affirmative","id":54},{"name":"k_EDOTA_CW_Wait","id":55},{"name":"k_EDOTA_CW_Pause","id":56},{"name":"k_EDOTA_CW_Current_Time","id":57},{"name":"k_EDOTA_CW_Check_Runes","id":58},{"name":"k_EDOTA_CW_Smoke_Gank","id":59},{"name":"k_EDOTA_CW_GLHF","id":60},{"name":"k_EDOTA_CW_Nice","id":61},{"name":"k_EDOTA_CW_Thanks","id":62},{"name":"k_EDOTA_CW_Sorry","id":63},{"name":"k_EDOTA_CW_No_Give_Up","id":64},{"name":"k_EDOTA_CW_Just_Happened","id":65},{"name":"k_EDOTA_CW_Game_Is_Hard","id":66},{"name":"k_EDOTA_CW_New_Meta","id":67},{"name":"k_EDOTA_CW_My_Bad","id":68},{"name":"k_EDOTA_CW_Regret","id":69},{"name":"k_EDOTA_CW_Relax","id":70},{"name":"k_EDOTA_CW_MissingHero","id":71},{"name":"k_EDOTA_CW_ReturnedHero","id":72},{"name":"k_EDOTA_CW_GG","id":73},{"name":"k_EDOTA_CW_GGWP","id":74},{"name":"k_EDOTA_CW_All_GG","id":75},{"name":"k_EDOTA_CW_All_GGWP","id":76},{"name":"k_EDOTA_CW_What_To_Buy","id":77},{"name":"k_EDOTA_CW_Im_Retreating","id":78},{"name":"k_EDOTA_CW_Space_Created","id":79},{"name":"k_EDOTA_CW_Whoops","id":80},{"name":"k_EDOTA_CW_Tower_then_Back","id":81},{"name":"k_EDOTA_CW_Barracks_then_Back","id":82},{"name":"k_EDOTA_CW_Ward_Bottom_Rune","id":83},{"name":"k_EDOTA_CW_Ward_Top_Rune","id":84},{"name":"k_EDOTA_CW_Zeus_Ult","id":85}]},{"name":"EDOTAStatPopupTypes","values":[{"name":"k_EDOTA_SPT_Textline","id":0},{"name":"k_EDOTA_SPT_Basic","id":1},{"name":"k_EDOTA_SPT_Poll","id":2},{"name":"k_EDOTA_SPT_Grid","id":3}]},{"name":"dotaunitorder_t","values":[{"name":"DOTA_UNIT_ORDER_NONE","id":0},{"name":"DOTA_UNIT_ORDER_MOVE_TO_POSITION","id":1},{"name":"DOTA_UNIT_ORDER_MOVE_TO_TARGET","id":2},{"name":"DOTA_UNIT_ORDER_ATTACK_MOVE","id":3},{"name":"DOTA_UNIT_ORDER_ATTACK_TARGET","id":4},{"name":"DOTA_UNIT_ORDER_CAST_POSITION","id":5},{"name":"DOTA_UNIT_ORDER_CAST_TARGET","id":6},{"name":"DOTA_UNIT_ORDER_CAST_TARGET_TREE","id":7},{"name":"DOTA_UNIT_ORDER_CAST_NO_TARGET","id":8},{"name":"DOTA_UNIT_ORDER_CAST_TOGGLE","id":9},{"name":"DOTA_UNIT_ORDER_HOLD_POSITION","id":10},{"name":"DOTA_UNIT_ORDER_TRAIN_ABILITY","id":11},{"name":"DOTA_UNIT_ORDER_DROP_ITEM","id":12},{"name":"DOTA_UNIT_ORDER_GIVE_ITEM","id":13},{"name":"DOTA_UNIT_ORDER_PICKUP_ITEM","id":14},{"name":"DOTA_UNIT_ORDER_PICKUP_RUNE","id":15},{"name":"DOTA_UNIT_ORDER_PURCHASE_ITEM","id":16},{"name":"DOTA_UNIT_ORDER_SELL_ITEM","id":17},{"name":"DOTA_UNIT_ORDER_DISASSEMBLE_ITEM","id":18},{"name":"DOTA_UNIT_ORDER_MOVE_ITEM","id":19},{"name":"DOTA_UNIT_ORDER_CAST_TOGGLE_AUTO","id":20},{"name":"DOTA_UNIT_ORDER_STOP","id":21},{"name":"DOTA_UNIT_ORDER_TAUNT","id":22},{"name":"DOTA_UNIT_ORDER_BUYBACK","id":23},{"name":"DOTA_UNIT_ORDER_GLYPH","id":24},{"name":"DOTA_UNIT_ORDER_EJECT_ITEM_FROM_STASH","id":25},{"name":"DOTA_UNIT_ORDER_CAST_RUNE","id":26},{"name":"DOTA_UNIT_ORDER_PING_ABILITY","id":27},{"name":"DOTA_UNIT_ORDER_MOVE_TO_DIRECTION","id":28}]},{"name":"EDotaClientMessages","values":[{"name":"DOTA_CM_MapLine","id":301},{"name":"DOTA_CM_AspectRatio","id":302},{"name":"DOTA_CM_MapPing","id":303},{"name":"DOTA_CM_UnitsAutoAttack","id":304},{"name":"DOTA_CM_AutoPurchaseItems","id":305},{"name":"DOTA_CM_TestItems","id":306},{"name":"DOTA_CM_SearchString","id":307},{"name":"DOTA_CM_Pause","id":308},{"name":"DOTA_CM_ShopViewMode","id":309},{"name":"DOTA_CM_SetUnitShareFlag","id":310},{"name":"DOTA_CM_SwapRequest","id":311},{"name":"DOTA_CM_SwapAccept","id":312},{"name":"DOTA_CM_WorldLine","id":313},{"name":"DOTA_CM_RequestGraphUpdate","id":314},{"name":"DOTA_CM_ItemAlert","id":315},{"name":"DOTA_CM_ChatWheel","id":316},{"name":"DOTA_CM_SendStatPopup","id":317},{"name":"DOTA_CM_BeginLastHitChallenge","id":318},{"name":"DOTA_CM_UpdateQuickBuy","id":319},{"name":"DOTA_CM_UpdateCoachListen","id":320},{"name":"DOTA_CM_CoachHUDPing","id":321},{"name":"DOTA_CM_RecordVote","id":322},{"name":"DOTA_CM_UnitsAutoAttackAfterSpell","id":323},{"name":"DOTA_CM_WillPurchaseAlert","id":324},{"name":"DOTA_CM_PlayerShowCase","id":325},{"name":"DOTA_CM_TeleportRequiresHalt","id":326},{"name":"DOTA_CM_CameraZoomAmount","id":327},{"name":"DOTA_CM_BroadcasterUsingCamerman","id":328},{"name":"DOTA_CM_BroadcasterUsingAssistedCameraOperator","id":329},{"name":"DOTA_CM_EnemyItemAlert","id":330},{"name":"DOTA_CM_FreeInventory","id":331},{"name":"DOTA_CM_BuyBackStateAlert","id":332},{"name":"DOTA_CM_QuickBuyAlert","id":333},{"name":"DOTA_CM_HeroStatueLike","id":334},{"name":"DOTA_CM_ModifierAlert","id":335},{"name":"DOTA_CM_TeamShowcaseEditor","id":336},{"name":"DOTA_CM_HPManaAlert","id":337},{"name":"DOTA_CM_GlyphAlert","id":338},{"name":"DOTA_CM_TeamShowcaseClientData","id":339},{"name":"DOTA_CM_PlayTeamShowcase","id":340},{"name":"DOTA_CM_EventCNY2015Cmd","id":341},{"name":"DOTA_CM_FillEmptySlotsWithBots","id":342},{"name":"DOTA_CM_DemoHero","id":343},{"name":"DOTA_CM_AbilityLearnModeToggled","id":344},{"name":"DOTA_CM_AbilityStartUse","id":345},{"name":"DOTA_CM_ChallengeSelect","id":346},{"name":"DOTA_CM_ChallengeReroll","id":347},{"name":"DOTA_CM_ClickedBuff","id":348}]},{"name":"ESourceEngine","values":[{"name":"k_ESE_Source1","id":0},{"name":"k_ESE_Source2","id":1}]},{"name":"PartnerAccountType","values":[{"name":"PARTNER_NONE","id":0},{"name":"PARTNER_PERFECT_WORLD","id":1},{"name":"PARTNER_NEXON","id":2},{"name":"PARTNER_INVALID","id":3}]},{"name":"GCConnectionStatus","values":[{"name":"GCConnectionStatus_HAVE_SESSION","id":0},{"name":"GCConnectionStatus_GC_GOING_DOWN","id":1},{"name":"GCConnectionStatus_NO_SESSION","id":2},{"name":"GCConnectionStatus_NO_SESSION_IN_LOGON_QUEUE","id":3},{"name":"GCConnectionStatus_NO_STEAM","id":4},{"name":"GCConnectionStatus_SUSPENDED","id":5}]},{"name":"EDOTAGCMsg","values":[{"name":"k_EMsgGCDOTABase","id":7000},{"name":"k_EMsgGCGeneralResponse","id":7001},{"name":"k_EMsgGCGameMatchSignOut","id":7004},{"name":"k_EMsgGCGameMatchSignOutResponse","id":7005},{"name":"k_EMsgGCJoinChatChannel","id":7009},{"name":"k_EMsgGCJoinChatChannelResponse","id":7010},{"name":"k_EMsgGCOtherJoinedChannel","id":7013},{"name":"k_EMsgGCOtherLeftChannel","id":7014},{"name":"k_EMsgGCMatchHistoryList","id":7017},{"name":"k_EMsgServerToGCRequestStatus","id":7026},{"name":"k_EMsgGCGetRecentMatches","id":7027},{"name":"k_EMsgGCRecentMatchesResponse","id":7028},{"name":"k_EMsgGCFindSourceTVGames","id":7031},{"name":"k_EMsgGCSourceTVGamesResponse","id":7032},{"name":"k_EMsgGCStartFindingMatch","id":7033},{"name":"k_EMsgGCConnectedPlayers","id":7034},{"name":"k_EMsgGCAbandonCurrentGame","id":7035},{"name":"k_EMsgGCStopFindingMatch","id":7036},{"name":"k_EMsgGCPracticeLobbyCreate","id":7038},{"name":"k_EMsgGCPracticeLobbyLeave","id":7040},{"name":"k_EMsgGCPracticeLobbyLaunch","id":7041},{"name":"k_EMsgGCPracticeLobbyList","id":7042},{"name":"k_EMsgGCPracticeLobbyListResponse","id":7043},{"name":"k_EMsgGCPracticeLobbyJoin","id":7044},{"name":"k_EMsgGCPracticeLobbySetDetails","id":7046},{"name":"k_EMsgGCPracticeLobbySetTeamSlot","id":7047},{"name":"k_EMsgGCInitialQuestionnaireResponse","id":7049},{"name":"k_EMsgGCTournamentRequest","id":7051},{"name":"k_EMsgGCTournamentResponse","id":7052},{"name":"k_EMsgGCPracticeLobbyResponse","id":7055},{"name":"k_EMsgGCBroadcastNotification","id":7056},{"name":"k_EMsgGCLiveScoreboardUpdate","id":7057},{"name":"k_EMsgGCRequestChatChannelList","id":7060},{"name":"k_EMsgGCRequestChatChannelListResponse","id":7061},{"name":"k_EMsgGCRequestMatches","id":7064},{"name":"k_EMsgGCRequestMatchesResponse","id":7065},{"name":"k_EMsgGCRequestPlayerResources","id":7068},{"name":"k_EMsgGCRequestPlayerResourcesResponse","id":7069},{"name":"k_EMsgGCReadyUp","id":7070},{"name":"k_EMsgGCKickedFromMatchmakingQueue","id":7071},{"name":"k_EMsgGCLeaverDetected","id":7072},{"name":"k_EMsgGCSpectateFriendGame","id":7073},{"name":"k_EMsgGCSpectateFriendGameResponse","id":7074},{"name":"k_EMsgGCPlayerReports","id":7075},{"name":"k_EMsgGCReportsRemainingRequest","id":7076},{"name":"k_EMsgGCReportsRemainingResponse","id":7077},{"name":"k_EMsgGCSubmitPlayerReport","id":7078},{"name":"k_EMsgGCSubmitPlayerReportResponse","id":7079},{"name":"k_EMsgGCGameChatLog","id":7080},{"name":"k_EMsgGCPracticeLobbyKick","id":7081},{"name":"k_EMsgGCReportCountsRequest","id":7082},{"name":"k_EMsgGCReportCountsResponse","id":7083},{"name":"k_EMsgGCRequestSaveGames","id":7084},{"name":"k_EMsgGCRequestSaveGamesServer","id":7085},{"name":"k_EMsgGCRequestSaveGamesResponse","id":7086},{"name":"k_EMsgGCLeaverDetectedResponse","id":7087},{"name":"k_EMsgGCPlayerFailedToConnect","id":7088},{"name":"k_EMsgGCGCToRelayConnect","id":7089},{"name":"k_EMsgGCGCToRelayConnectresponse","id":7090},{"name":"k_EMsgGCWatchGame","id":7091},{"name":"k_EMsgGCWatchGameResponse","id":7092},{"name":"k_EMsgGCBanStatusRequest","id":7093},{"name":"k_EMsgGCBanStatusResponse","id":7094},{"name":"k_EMsgGCMatchDetailsRequest","id":7095},{"name":"k_EMsgGCMatchDetailsResponse","id":7096},{"name":"k_EMsgGCCancelWatchGame","id":7097},{"name":"k_EMsgGCProfileRequest","id":7098},{"name":"k_EMsgGCProfileResponse","id":7099},{"name":"k_EMsgGCPopup","id":7102},{"name":"k_EMsgGCDOTAClearNotifySuccessfulReport","id":7104},{"name":"k_EMsgGCGenericResult","id":7108},{"name":"k_EMsgGCFriendPracticeLobbyListRequest","id":7111},{"name":"k_EMsgGCFriendPracticeLobbyListResponse","id":7112},{"name":"k_EMsgGCPracticeLobbyJoinResponse","id":7113},{"name":"k_EMsgClientEconNotification_Job","id":7114},{"name":"k_EMsgGCCreateTeam","id":7115},{"name":"k_EMsgGCCreateTeamResponse","id":7116},{"name":"k_EMsgGCDisbandTeam","id":7117},{"name":"k_EMsgGCDisbandTeamResponse","id":7118},{"name":"k_EMsgGCRequestTeamData","id":7119},{"name":"k_EMsgGCRequestTeamDataResponse","id":7120},{"name":"k_EMsgGCTeamData","id":7121},{"name":"k_EMsgGCTeamInvite_InviterToGC","id":7122},{"name":"k_EMsgGCTeamInvite_GCImmediateResponseToInviter","id":7123},{"name":"k_EMsgGCTeamInvite_GCRequestToInvitee","id":7124},{"name":"k_EMsgGCTeamInvite_InviteeResponseToGC","id":7125},{"name":"k_EMsgGCTeamInvite_GCResponseToInviter","id":7126},{"name":"k_EMsgGCTeamInvite_GCResponseToInvitee","id":7127},{"name":"k_EMsgGCKickTeamMember","id":7128},{"name":"k_EMsgGCKickTeamMemberResponse","id":7129},{"name":"k_EMsgGCLeaveTeam","id":7130},{"name":"k_EMsgGCLeaveTeamResponse","id":7131},{"name":"k_EMsgGCSuggestTeamMatchmaking","id":7132},{"name":"k_EMsgGCPlayerHeroesFavoritesAdd","id":7133},{"name":"k_EMsgGCPlayerHeroesFavoritesRemove","id":7134},{"name":"k_EMsgGCEditTeamLogo","id":7139},{"name":"k_EMsgGCEditTeamLogoResponse","id":7140},{"name":"k_EMsgGCSetShowcaseHero","id":7141},{"name":"k_EMsgGCApplyTeamToPracticeLobby","id":7142},{"name":"k_EMsgGCRequestInternatinalTicketEmail","id":7143},{"name":"k_EMsgGCTransferTeamAdmin","id":7144},{"name":"k_EMsgGCClearTournamentGame","id":7145},{"name":"k_EMsgRequestLeagueInfo","id":7147},{"name":"k_EMsgResponseLeagueInfo","id":7148},{"name":"k_EMsgGCPracticeLobbyJoinBroadcastChannel","id":7149},{"name":"k_EMsgGC_TournamentItemEvent","id":7150},{"name":"k_EMsgGC_TournamentItemEventResponse","id":7151},{"name":"k_EMsgCastMatchVote","id":7152},{"name":"k_EMsgCastMatchVoteResponse","id":7153},{"name":"k_EMsgRetrieveMatchVote","id":7154},{"name":"k_EMsgRetrieveMatchVoteResponse","id":7155},{"name":"k_EMsgTeamFanfare","id":7156},{"name":"k_EMsgResponseTeamFanfare","id":7157},{"name":"k_EMsgGC_GameServerUploadSaveGame","id":7158},{"name":"k_EMsgGC_GameServerSaveGameResult","id":7159},{"name":"k_EMsgGC_GameServerGetLoadGame","id":7160},{"name":"k_EMsgGC_GameServerGetLoadGameResult","id":7161},{"name":"k_EMsgGCTeamProfileRequest","id":7164},{"name":"k_EMsgGCTeamProfileResponse","id":7165},{"name":"k_EMsgGCEditTeamDetails","id":7166},{"name":"k_EMsgGCEditTeamDetailsResponse","id":7167},{"name":"k_EMsgGCProTeamListRequest","id":7168},{"name":"k_EMsgGCProTeamListResponse","id":7169},{"name":"k_EMsgGCReadyUpStatus","id":7170},{"name":"k_EMsgGCHallOfFame","id":7171},{"name":"k_EMsgGCHallOfFameRequest","id":7172},{"name":"k_EMsgGCHallOfFameResponse","id":7173},{"name":"k_EMsgGCGenerateDiretidePrizeList","id":7174},{"name":"k_EMsgGCRewardDiretidePrizes","id":7176},{"name":"k_EMsgGCDiretidePrizesRewardedResponse","id":7177},{"name":"k_EMsgGCHalloweenHighScoreRequest","id":7178},{"name":"k_EMsgGCHalloweenHighScoreResponse","id":7179},{"name":"k_EMsgGCGenerateDiretidePrizeListResponse","id":7180},{"name":"k_EMsgGCStorePromoPagesRequest","id":7182},{"name":"k_EMsgGCStorePromoPagesResponse","id":7183},{"name":"k_EMsgGCSpawnLootGreevil","id":7184},{"name":"k_EMsgGCDismissLootGreevil","id":7185},{"name":"k_EMsgGCToGCMatchCompleted","id":7186},{"name":"k_EMsgGCDismissLootGreevilResponse","id":7187},{"name":"k_EMsgGCBalancedShuffleLobby","id":7188},{"name":"k_EMsgGCToGCCheckLeaguePermission","id":7189},{"name":"k_EMsgGCToGCCheckLeaguePermissionResponse","id":7190},{"name":"k_EMsgGCLeagueScheduleRequest","id":7191},{"name":"k_EMsgGCLeagueScheduleResponse","id":7192},{"name":"k_EMsgGCLeagueScheduleEdit","id":7193},{"name":"k_EMsgGCLeagueScheduleEditResponse","id":7194},{"name":"k_EMsgGCLeaguesInMonthRequest","id":7195},{"name":"k_EMsgGCLeaguesInMonthResponse","id":7196},{"name":"k_EMsgGCMatchmakingStatsRequest","id":7197},{"name":"k_EMsgGCMatchmakingStatsResponse","id":7198},{"name":"k_EMsgGCBotGameCreate","id":7199},{"name":"k_EMsgGCSetMatchHistoryAccess","id":7200},{"name":"k_EMsgGCSetMatchHistoryAccessResponse","id":7201},{"name":"k_EMsgUpgradeLeagueItem","id":7203},{"name":"k_EMsgUpgradeLeagueItemResponse","id":7204},{"name":"k_EMsgGCTeamMemberProfileRequest","id":7205},{"name":"k_EMsgGCWatchDownloadedReplay","id":7206},{"name":"k_EMsgGCSetMapLocationState","id":7207},{"name":"k_EMsgGCSetMapLocationStateResponse","id":7208},{"name":"k_EMsgGCResetMapLocations","id":7209},{"name":"k_EMsgGCResetMapLocationsResponse","id":7210},{"name":"k_EMsgGCTeamOnProfile","id":7211},{"name":"k_EMsgGCSetFeaturedItems","id":7212},{"name":"k_EMsgGCFeaturedItems","id":7215},{"name":"k_EMsgRefreshPartnerAccountLink","id":7216},{"name":"k_EMsgClientsRejoinChatChannels","id":7217},{"name":"k_EMsgGCToGCGetUserChatInfo","id":7218},{"name":"k_EMsgGCToGCGetUserChatInfoResponse","id":7219},{"name":"k_EMsgGCToGCLeaveAllChatChannels","id":7220},{"name":"k_EMsgGCToGCUpdateAccountChatBan","id":7221},{"name":"k_EMsgGCGuildCreateRequest","id":7222},{"name":"k_EMsgGCGuildCreateResponse","id":7223},{"name":"k_EMsgGCGuildSetAccountRoleRequest","id":7224},{"name":"k_EMsgGCGuildSetAccountRoleResponse","id":7225},{"name":"k_EMsgGCRequestGuildData","id":7226},{"name":"k_EMsgGCGuildData","id":7227},{"name":"k_EMsgGCGuildInviteAccountRequest","id":7228},{"name":"k_EMsgGCGuildInviteAccountResponse","id":7229},{"name":"k_EMsgGCGuildCancelInviteRequest","id":7230},{"name":"k_EMsgGCGuildCancelInviteResponse","id":7231},{"name":"k_EMsgGCGuildUpdateDetailsRequest","id":7232},{"name":"k_EMsgGCGuildUpdateDetailsResponse","id":7233},{"name":"k_EMsgGCToGCCanInviteUser","id":7234},{"name":"k_EMsgGCToGCCanInviteUserResponse","id":7235},{"name":"k_EMsgGCToGCGetUserRank","id":7236},{"name":"k_EMsgGCToGCGetUserRankResponse","id":7237},{"name":"k_EMsgGCToGCUpdateTeamStats","id":7240},{"name":"k_EMsgGCToGCGetTeamRank","id":7241},{"name":"k_EMsgGCToGCGetTeamRankResponse","id":7242},{"name":"k_EMsgGCTeamIDByNameRequest","id":7245},{"name":"k_EMsgGCTeamIDByNameResponse","id":7246},{"name":"k_EMsgGCEditTeam","id":7247},{"name":"k_EMsgGCPassportDataRequest","id":7248},{"name":"k_EMsgGCPassportDataResponse","id":7249},{"name":"k_EMsgGCNotInGuildData","id":7251},{"name":"k_EMsgGCGuildInviteData","id":7254},{"name":"k_EMsgGCToGCGetLeagueAdmin","id":7255},{"name":"k_EMsgGCToGCGetLeagueAdminResponse","id":7256},{"name":"k_EMsgGCRequestLeaguePrizePool","id":7258},{"name":"k_EMsgGCRequestLeaguePrizePoolResponse","id":7259},{"name":"k_EMsgGCToGCUpdateOpenGuildPartyRequest","id":7261},{"name":"k_EMsgGCToGCUpdateOpenGuildPartyResponse","id":7262},{"name":"k_EMsgGCToGCDestroyOpenGuildPartyRequest","id":7263},{"name":"k_EMsgGCToGCDestroyOpenGuildPartyResponse","id":7264},{"name":"k_EMsgGCGuildUpdateMessage","id":7265},{"name":"k_EMsgGCPartySetOpenGuildRequest","id":7266},{"name":"k_EMsgGCPartySetOpenGuildResponse","id":7267},{"name":"k_EMsgGCGuildOpenPartyRefresh","id":7268},{"name":"k_EMsgGCJoinOpenGuildPartyRequest","id":7269},{"name":"k_EMsgGCJoinOpenGuildPartyResponse","id":7270},{"name":"k_EMsgGCLeaveChatChannel","id":7272},{"name":"k_EMsgGCChatMessage","id":7273},{"name":"k_EMsgGCGetHeroStandings","id":7274},{"name":"k_EMsgGCGetHeroStandingsResponse","id":7275},{"name":"k_EMsgGCGuildEditLogoRequest","id":7279},{"name":"k_EMsgGCGuildEditLogoResponse","id":7280},{"name":"k_EMsgGCGuildmatePracticeLobbyListRequest","id":7281},{"name":"k_EMsgGCGuildmatePracticeLobbyListResponse","id":7282},{"name":"k_EMsgGCItemEditorReservationsRequest","id":7283},{"name":"k_EMsgGCItemEditorReservationsResponse","id":7284},{"name":"k_EMsgGCItemEditorReserveItemDef","id":7285},{"name":"k_EMsgGCItemEditorReserveItemDefResponse","id":7286},{"name":"k_EMsgGCItemEditorReleaseReservation","id":7287},{"name":"k_EMsgGCItemEditorReleaseReservationResponse","id":7288},{"name":"k_EMsgGCRewardTutorialPrizes","id":7289},{"name":"k_EMsgGCLastHitChallengeHighScorePost","id":7290},{"name":"k_EMsgGCLastHitChallengeHighScoreRequest","id":7291},{"name":"k_EMsgGCLastHitChallengeHighScoreResponse","id":7292},{"name":"k_EMsgGCCreateFantasyLeagueRequest","id":7293},{"name":"k_EMsgGCCreateFantasyLeagueResponse","id":7294},{"name":"k_EMsgGCFantasyLeagueInfoRequest","id":7297},{"name":"k_EMsgGCFantasyLeagueInfoResponse","id":7298},{"name":"k_EMsgGCFantasyLeagueInfo","id":7299},{"name":"k_EMsgGCCreateFantasyTeamRequest","id":7300},{"name":"k_EMsgGCCreateFantasyTeamResponse","id":7301},{"name":"k_EMsgGCEditFantasyTeamRequest","id":7302},{"name":"k_EMsgGCEditFantasyTeamResponse","id":7303},{"name":"k_EMsgGCFantasyTeamInfoRequestByFantasyLeagueID","id":7304},{"name":"k_EMsgGCFantasyTeamInfoRequestByOwnerAccountID","id":7305},{"name":"k_EMsgGCFantasyTeamInfoResponse","id":7306},{"name":"k_EMsgGCFantasyTeamInfo","id":7307},{"name":"k_EMsgGCFantasyLivePlayerStats","id":7308},{"name":"k_EMsgGCFantasyFinalPlayerStats","id":7309},{"name":"k_EMsgGCFantasyMatch","id":7310},{"name":"k_EMsgGCToGCReloadVersions","id":7311},{"name":"k_EMsgGCFantasyTeamScoreRequest","id":7312},{"name":"k_EMsgGCFantasyTeamScoreResponse","id":7313},{"name":"k_EMsgGCFantasyTeamStandingsRequest","id":7314},{"name":"k_EMsgGCFantasyTeamStandingsResponse","id":7315},{"name":"k_EMsgGCFantasyPlayerScoreRequest","id":7316},{"name":"k_EMsgGCFantasyPlayerScoreResponse","id":7317},{"name":"k_EMsgGCFantasyPlayerStandingsRequest","id":7318},{"name":"k_EMsgGCFantasyPlayerStandingsResponse","id":7319},{"name":"k_EMsgGCFlipLobbyTeams","id":7320},{"name":"k_EMsgGCCustomGameCreate","id":7321},{"name":"k_EMsgGCFantasyPlayerInfoRequest","id":7322},{"name":"k_EMsgGCFantasyPlayerInfoResponse","id":7323},{"name":"k_EMsgGCToGCProcessPlayerReportForTarget","id":7324},{"name":"k_EMsgGCToGCProcessReportSuccess","id":7325},{"name":"k_EMsgGCNotifyAccountFlagsChange","id":7326},{"name":"k_EMsgGCSetProfilePrivacy","id":7327},{"name":"k_EMsgGCSetProfilePrivacyResponse","id":7328},{"name":"k_EMsgGCSteamProfileRequest","id":7329},{"name":"k_EMsgGCSteamProfileRequestResponse","id":7330},{"name":"k_EMsgGCFantasyLeagueCreateInfoRequest","id":7331},{"name":"k_EMsgGCFantasyLeagueCreateInfoResponse","id":7332},{"name":"k_EMsgGCFantasyLeagueInviteInfoRequest","id":7333},{"name":"k_EMsgGCFantasyLeagueInviteInfoResponse","id":7334},{"name":"k_EMsgGCClientIgnoredUser","id":7335},{"name":"k_EMsgGCFantasyLeagueCreateRequest","id":7336},{"name":"k_EMsgGCFantasyLeagueCreateResponse","id":7337},{"name":"k_EMsgGCFantasyTeamCreateRequest","id":7338},{"name":"k_EMsgGCFantasyTeamCreateResponse","id":7339},{"name":"k_EMsgGCFantasyLeagueFriendJoinListRequest","id":7340},{"name":"k_EMsgGCFantasyLeagueFriendJoinListResponse","id":7341},{"name":"k_EMsgGCClientSuspended","id":7342},{"name":"k_EMsgGCPartyMemberSetCoach","id":7343},{"name":"k_EMsgGCFantasyLeagueEditInvitesRequest","id":7344},{"name":"k_EMsgGCFantasyLeagueEditInvitesResponse","id":7345},{"name":"k_EMsgGCPracticeLobbySetCoach","id":7346},{"name":"k_EMsgGCFantasyLeagueEditInfoRequest","id":7347},{"name":"k_EMsgGCFantasyLeagueEditInfoResponse","id":7348},{"name":"k_EMsgGCFantasyLeagueDraftStatusRequest","id":7349},{"name":"k_EMsgGCFantasyLeagueDraftStatus","id":7350},{"name":"k_EMsgGCFantasyLeagueDraftPlayerRequest","id":7351},{"name":"k_EMsgGCFantasyLeagueDraftPlayerResponse","id":7352},{"name":"k_EMsgGCFantasyLeagueMatchupsRequest","id":7353},{"name":"k_EMsgGCFantasyLeagueMatchupsResponse","id":7354},{"name":"k_EMsgGCFantasyTeamRosterSwapRequest","id":7355},{"name":"k_EMsgGCFantasyTeamRosterSwapResponse","id":7356},{"name":"k_EMsgGCFantasyTeamRosterRequest","id":7357},{"name":"k_EMsgGCFantasyTeamRosterResponse","id":7358},{"name":"k_EMsgGCNexonPartnerUpdate","id":7359},{"name":"k_EMsgGCToGCProcessPCBangRewardPoints","id":7360},{"name":"k_EMsgGCFantasyTeamRosterAddDropRequest","id":7361},{"name":"k_EMsgGCFantasyTeamRosterAddDropResponse","id":7362},{"name":"k_EMsgPresentedClientTerminateDlg","id":7363},{"name":"k_EMsgGCFantasyPlayerHisoricalStatsRequest","id":7364},{"name":"k_EMsgGCFantasyPlayerHisoricalStatsResponse","id":7365},{"name":"k_EMsgGCPCBangTimedRewardMessage","id":7366},{"name":"k_EMsgGCLobbyUpdateBroadcastChannelInfo","id":7367},{"name":"k_EMsgGCFantasyTeamTradesRequest","id":7368},{"name":"k_EMsgGCFantasyTeamTradesResponse","id":7369},{"name":"k_EMsgGCFantasyTeamTradeCancelRequest","id":7370},{"name":"k_EMsgGCFantasyTeamTradeCancelResponse","id":7371},{"name":"k_EMsgGCToGCGrantTournamentItem","id":7372},{"name":"k_EMsgGCProcessFantasyScheduledEvent","id":7373},{"name":"k_EMsgGCToGCGrantPCBangRewardItem","id":7374},{"name":"k_EMsgGCToGCUpgradeTwitchViewerItems","id":7375},{"name":"k_EMsgGCToGCGetLiveMatchAffiliates","id":7376},{"name":"k_EMsgGCToGCGetLiveMatchAffiliatesResponse","id":7377},{"name":"k_EMsgGCToGCUpdatePlayerPennantCounts","id":7378},{"name":"k_EMsgGCToGCGetPlayerPennantCounts","id":7379},{"name":"k_EMsgGCToGCGetPlayerPennantCountsResponse","id":7380},{"name":"k_EMsgGCGameMatchSignOutPermissionRequest","id":7381},{"name":"k_EMsgGCGameMatchSignOutPermissionResponse","id":7382},{"name":"k_EMsgDOTAChatChannelMemberUpdate","id":7383},{"name":"k_EMsgDOTAAwardEventPoints","id":7384},{"name":"k_EMsgDOTARedeemEventPrize","id":7385},{"name":"k_EMsgDOTARedeemEventPrizeResponse","id":7386},{"name":"k_EMsgDOTAGetEventPoints","id":7387},{"name":"k_EMsgDOTAGetEventPointsResponse","id":7388},{"name":"k_EMsgGCToGCSignoutAwardEventPoints","id":7390},{"name":"k_EMsgDOTASendFriendRecruits","id":7393},{"name":"k_EMsgDOTAFriendRecruitsRequest","id":7394},{"name":"k_EMsgDOTAFriendRecruitsResponse","id":7395},{"name":"k_EMsgDOTAFriendRecruitInviteAcceptDecline","id":7396},{"name":"k_EMsgGCPartyLeaderWatchGamePrompt","id":7397},{"name":"k_EMsgDOTAFrostivusTimeElapsed","id":7398},{"name":"k_EMsgGCToGCGrantEarnedLicense","id":7399},{"name":"k_EMsgDOTALiveLeagueGameUpdate","id":7402},{"name":"k_EMsgDOTAChatGetUserList","id":7403},{"name":"k_EMsgDOTAChatGetUserListResponse","id":7404},{"name":"k_EMsgGCCompendiumSetSelection","id":7405},{"name":"k_EMsgGCCompendiumDataRequest","id":7406},{"name":"k_EMsgGCCompendiumDataResponse","id":7407},{"name":"k_EMsgDOTAGetPlayerMatchHistory","id":7408},{"name":"k_EMsgDOTAGetPlayerMatchHistoryResponse","id":7409},{"name":"k_EMsgGCToGCMatchmakingAddParty","id":7410},{"name":"k_EMsgGCToGCMatchmakingRemoveParty","id":7411},{"name":"k_EMsgGCToGCMatchmakingRemoveAllParties","id":7412},{"name":"k_EMsgGCToGCMatchmakingMatchFound","id":7413},{"name":"k_EMsgGCToGCUpdateMatchManagementStats","id":7414},{"name":"k_EMsgGCToGCUpdateMatchmakingStats","id":7415},{"name":"k_EMsgGCToServerPingRequest","id":7416},{"name":"k_EMsgGCToServerPingResponse","id":7417},{"name":"k_EMsgGCToServerConsoleCommand","id":7418},{"name":"k_EMsgGCToGCUpdateLiveLeagueGameInfo","id":7420},{"name":"k_EMsgGCMakeOffering","id":7423},{"name":"k_EMsgGCRequestOfferings","id":7424},{"name":"k_EMsgGCRequestOfferingsResponse","id":7425},{"name":"k_EMsgGCToGCProcessMatchLeaver","id":7426},{"name":"k_EMsgGCNotificationsRequest","id":7427},{"name":"k_EMsgGCNotificationsResponse","id":7428},{"name":"k_EMsgGCToGCModifyNotification","id":7429},{"name":"k_EMsgGCToGCSetNewNotifications","id":7430},{"name":"k_EMsgGCToGCSetIsLeagueAdmin","id":7431},{"name":"k_EMsgGCLeagueAdminState","id":7432},{"name":"k_EMsgGCToGCSendLeagueAdminState","id":7433},{"name":"k_EMsgGCLeagueAdminList","id":7434},{"name":"k_EMsgGCNotificationsMarkReadRequest","id":7435},{"name":"k_EMsgGCFantasyMessageAdd","id":7436},{"name":"k_EMsgGCFantasyMessagesRequest","id":7437},{"name":"k_EMsgGCFantasyMessagesResponse","id":7438},{"name":"k_EMsgGCFantasyScheduledMatchesRequest","id":7439},{"name":"k_EMsgGCFantasyScheduledMatchesResponse","id":7440},{"name":"k_EMsgGCToGCGrantLeagueAccess","id":7441},{"name":"k_EMsgGCEventGameCreate","id":7443},{"name":"k_EMsgGCPerfectWorldUserLookupRequest","id":7444},{"name":"k_EMsgGCPerfectWorldUserLookupResponse","id":7445},{"name":"k_EMsgGCToGCIncrementRecruitmentSDO","id":7446},{"name":"k_EMsgGCToGCIncrementRecruitmentLevel","id":7447},{"name":"k_EMsgGCFantasyRemoveOwner","id":7448},{"name":"k_EMsgGCFantasyRemoveOwnerResponse","id":7449},{"name":"k_EMsgGCRequestBatchPlayerResources","id":7450},{"name":"k_EMsgGCRequestBatchPlayerResourcesResponse","id":7451},{"name":"k_EMsgGCToGCSendUpdateLeagues","id":7452},{"name":"k_EMsgGCCompendiumSetSelectionResponse","id":7453},{"name":"k_EMsgGCPlayerInfoRequest","id":7454},{"name":"k_EMsgGCPlayerInfo","id":7455},{"name":"k_EMsgGCPlayerInfoSubmit","id":7456},{"name":"k_EMsgGCPlayerInfoSubmitResponse","id":7457},{"name":"k_EMsgGCToGCGetAccountLevel","id":7458},{"name":"k_EMsgGCToGCGetAccountLevelResponse","id":7459},{"name":"k_EMsgGCToGCGetAccountPartner","id":7460},{"name":"k_EMsgGCToGCGetAccountPartnerResponse","id":7461},{"name":"k_EMsgGCToGCGetAccountProfile","id":7462},{"name":"k_EMsgGCToGCGetAccountProfileResponse","id":7463},{"name":"k_EMsgDOTAGetWeekendTourneySchedule","id":7464},{"name":"k_EMsgDOTAWeekendTourneySchedule","id":7465},{"name":"k_EMsgGCJoinableCustomGameModesRequest","id":7466},{"name":"k_EMsgGCJoinableCustomGameModesResponse","id":7467},{"name":"k_EMsgGCJoinableCustomLobbiesRequest","id":7468},{"name":"k_EMsgGCJoinableCustomLobbiesResponse","id":7469},{"name":"k_EMsgGCQuickJoinCustomLobby","id":7470},{"name":"k_EMsgGCQuickJoinCustomLobbyResponse","id":7471},{"name":"k_EMsgGCToGCGrantEventPointAction","id":7472},{"name":"k_EMsgServerGetEventPoints","id":7473},{"name":"k_EMsgServerGetEventPointsResponse","id":7474},{"name":"k_EMsgServerGrantSurveyPermission","id":7475},{"name":"k_EMsgServerGrantSurveyPermissionResponse","id":7476},{"name":"k_EMsgClientProvideSurveyResult","id":7477},{"name":"k_EMsgGCToGCSetCompendiumSelection","id":7478},{"name":"k_EMsgGCToGCUpdateTI4HeroQuest","id":7480},{"name":"k_EMsgGCCompendiumDataChanged","id":7481},{"name":"k_EMsgDOTAFantasyLeagueFindRequest","id":7482},{"name":"k_EMsgDOTAFantasyLeagueFindResponse","id":7483},{"name":"k_EMsgGCHasItemQuery","id":7484},{"name":"k_EMsgGCHasItemResponse","id":7485},{"name":"k_EMsgGCConsumeFantasyTicket","id":7486},{"name":"k_EMsgGCConsumeFantasyTicketFailure","id":7487},{"name":"k_EMsgGCToGCGrantEventPointActionMsg","id":7488},{"name":"k_EMsgClientToGCTrackDialogResult","id":7489},{"name":"k_EMsgGCFantasyLeaveLeagueRequest","id":7490},{"name":"k_EMsgGCFantasyLeaveLeagueResponse","id":7491},{"name":"k_EMsgGCToGCGetCompendiumSelections","id":7492},{"name":"k_EMsgGCToGCGetCompendiumSelectionsResponse","id":7493},{"name":"k_EMsgServerToGCMatchConnectionStats","id":7494},{"name":"k_EMsgGCToClientTournamentItemDrop","id":7495},{"name":"k_EMsgSQLDelayedGrantLeagueDrop","id":7496},{"name":"k_EMsgServerGCUpdateSpectatorCount","id":7497},{"name":"k_EMsgDOTAStartDailyHeroChallengeRequest","id":7498},{"name":"k_EMsgGCFantasyPlayerScoreDetailsRequest","id":7499},{"name":"k_EMsgGCFantasyPlayerScoreDetailsResponse","id":7500},{"name":"k_EMsgGCToGCEmoticonUnlock","id":7501},{"name":"k_EMsgSignOutDraftInfo","id":7502},{"name":"k_EMsgClientToGCEmoticonDataRequest","id":7503},{"name":"k_EMsgGCToClientEmoticonData","id":7504},{"name":"k_EMsgGCPracticeLobbyToggleBroadcastChannelCameramanStatus","id":7505},{"name":"k_EMsgGCToGCCreateWeekendTourneyRequest","id":7506},{"name":"k_EMsgGCToGCCreateWeekendTourneyResponse","id":7507},{"name":"k_EMsgGCHeroPickStatsRequest","id":7508},{"name":"k_EMsgGCHeroPickStatsResponse","id":7509},{"name":"k_EMsgGCToGCCreateGenericTeamsRequest","id":7510},{"name":"k_EMsgGCToGCCreateGenericTeamsResponse","id":7511},{"name":"k_EMsgSQLLaunchOneWeekendTourney","id":7512},{"name":"k_EMsgClientToGCSetAdditionalEquips","id":7513},{"name":"k_EMsgClientToGCGetAdditionalEquips","id":7514},{"name":"k_EMsgClientToGCGetAdditionalEquipsResponse","id":7515},{"name":"k_EMsgServerToGCGetAdditionalEquips","id":7516},{"name":"k_EMsgServerToGCGetAdditionalEquipsResponse","id":7517},{"name":"k_EMsgDOTARedeemItem","id":7518},{"name":"k_EMsgDOTARedeemItemResponse","id":7519},{"name":"k_EMsgSQLGCToGCGrantAllHeroProgress","id":7520},{"name":"k_EMsgClientToGCGetAllHeroProgress","id":7521},{"name":"k_EMsgClientToGCGetAllHeroProgressResponse","id":7522},{"name":"k_EMsgGCToGCGetServerForClient","id":7523},{"name":"k_EMsgGCToGCGetServerForClientResponse","id":7524},{"name":"k_EMsgSQLProcessTournamentGameOutcome","id":7525},{"name":"k_EMsgSQLGrantTrophyToAccount","id":7526},{"name":"k_EMsgClientToGCGetTrophyList","id":7527},{"name":"k_EMsgClientToGCGetTrophyListResponse","id":7528},{"name":"k_EMsgGCToClientTrophyAwarded","id":7529},{"name":"k_EMsgGCGameBotMatchSignOut","id":7530},{"name":"k_EMsgGCGameBotMatchSignOutPermissionRequest","id":7531},{"name":"k_EMsgSignOutBotInfo","id":7532},{"name":"k_EMsgGCToGCUpdateProfileCards","id":7533},{"name":"k_EMsgClientToGCGetProfileCard","id":7534},{"name":"k_EMsgClientToGCGetProfileCardResponse","id":7535},{"name":"k_EMsgServerToGCGetProfileCard","id":7536},{"name":"k_EMsgServerToGCGetProfileCardResponse","id":7537},{"name":"k_EMsgClientToGCSetProfileCardSlots","id":7538},{"name":"k_EMsgGCToClientProfileCardUpdated","id":7539},{"name":"k_EMsgServerToGCVictoryPredictions","id":7540},{"name":"k_EMsgClientToGCMarkNotificationListRead","id":7542},{"name":"k_EMsgGCToClientNewNotificationAdded","id":7543},{"name":"k_EMsgServerToGCSuspiciousActivity","id":7544},{"name":"k_EMsgSignOutCommunicationSummary","id":7545},{"name":"k_EMsgServerToGCRequestStatus_Response","id":7546},{"name":"k_EMsgClientToGCCreateHeroStatue","id":7547},{"name":"k_EMsgGCToClientHeroStatueCreateResult","id":7548},{"name":"k_EMsgGCGCToLANServerRelayConnect","id":7549},{"name":"k_EMsgSignOutAssassinMiniGameInfo","id":7550},{"name":"k_EMsgServerToGCGetIngameEventData","id":7551},{"name":"k_EMsgGCToGCUpdateIngameEventDataBroadcast","id":7552},{"name":"k_EMsgGCToServerIngameEventData_OraclePA","id":7553},{"name":"k_EMsgServerToGCReportKillSummaries","id":7554},{"name":"k_EMsgGCToGCReportKillSummaries","id":7555},{"name":"k_EMsgGCToGCUpdateAssassinMinigame","id":7556},{"name":"k_EMsgGCToGCFantasySetMatchLeague","id":7557},{"name":"k_EMsgClientToGCRecordCompendiumStats","id":7558},{"name":"k_EMsgGCItemEditorRequestLeagueInfo","id":7559},{"name":"k_EMsgGCItemEditorLeagueInfoResponse","id":7560},{"name":"k_EMsgGCToGCUpdatePlayerPredictions","id":7561},{"name":"k_EMsgGCToServerPredictionResult","id":7562},{"name":"k_EMsgServerToGCSignoutAwardAdditionalDrops","id":7563},{"name":"k_EMsgGCToGCSignoutAwardAdditionalDrops","id":7564},{"name":"k_EMsgGCToClientEventStatusChanged","id":7565},{"name":"k_EMsgGCHasItemDefsQuery","id":7566},{"name":"k_EMsgGCHasItemDefsResponse","id":7567},{"name":"k_EMsgGCToGCReplayMonitorValidateReplay","id":7569},{"name":"k_EMsgClientToGCExchangeItemsForOffering","id":7570},{"name":"k_EMsgClientToGCExchangeItemsForOfferingResponse","id":7571},{"name":"k_EMsgLobbyEventPoints","id":7572},{"name":"k_EMsgGCToGCGetCustomGameTickets","id":7573},{"name":"k_EMsgGCToGCGetCustomGameTicketsResponse","id":7574},{"name":"k_EMsgGCToClientNewBloomTimingUpdated","id":7575},{"name":"k_EMsgGCToGCCustomGamePlayed","id":7576},{"name":"k_EMsgGCToGCGrantEventPointsToUser","id":7577},{"name":"k_EMsgGCToGCSetEventMMPanicFlushTime","id":7578},{"name":"k_EMsgGameserverCrashReport","id":7579},{"name":"k_EMsgGameserverCrashReportResponse","id":7580},{"name":"k_EMsgGCToClientSteamDatagramTicket","id":7581},{"name":"k_EMsgGCToGCGrantEventOwnership","id":7582},{"name":"k_EMsgGCToGCSendAccountsEventPoints","id":7583},{"name":"k_EMsgClientToGCRerollPlayerChallenge","id":7584},{"name":"k_EMsgServerToGCRerollPlayerChallenge","id":7585},{"name":"k_EMsgGCRerollPlayerChallengeResponse","id":7586},{"name":"k_EMsgSignOutUpdatePlayerChallenge","id":7587},{"name":"k_EMsgClientToGCSetPartyLeader","id":7588},{"name":"k_EMsgClientToGCCancelPartyInvites","id":7589},{"name":"k_EMsgGCToGCMasterReloadAccount","id":7590},{"name":"k_EMsgSQLGCToGCGrantBackpackSlots","id":7591},{"name":"k_EMsgSQLGrantLeagueMatchToTicketHolders","id":7592},{"name":"k_EMsgClientToGCSetAdditionalEquipsResponse","id":7593},{"name":"k_EMsgGCToGCEmoticonUnlockNoRollback","id":7594},{"name":"k_EMsgGCToGCGetCompendiumFanfare","id":7595},{"name":"k_EMsgServerToGCHoldEventPoints","id":7596},{"name":"k_EMsgSignOutReleaseEventPointHolds","id":7597},{"name":"k_EMsgGCToGCChatNewUserSession","id":7598},{"name":"k_EMsgGCToServerUpdateBroadcastCheers","id":7602},{"name":"k_EMsgGCDev_GrantWarKill","id":8001},{"name":"k_EMsgClientToGCCreateTeamShowcase","id":8002},{"name":"k_EMsgGCToClientTeamShowcaseCreateResult","id":8003},{"name":"k_EMsgServerToGCLockCharmTrading","id":8004},{"name":"k_EMsgDOTACNY2015EventPointUsage","id":8005},{"name":"k_EMsgClientToGCPlayerStatsRequest","id":8006},{"name":"k_EMsgGCToClientPlayerStatsResponse","id":8007},{"name":"k_EMsgGCClearPracticeLobbyTeam","id":8008},{"name":"k_EMsgClientToGCFindTopSourceTVGames","id":8009},{"name":"k_EMsgGCToClientFindTopSourceTVGamesResponse","id":8010},{"name":"k_EMsgGCLobbyList","id":8011},{"name":"k_EMsgGCLobbyListResponse","id":8012},{"name":"k_EMsgGCPlayerStatsMatchSignOut","id":8013},{"name":"k_EMsgClientToGCCustomGamePlayerCountRequest","id":8014},{"name":"k_EMsgGCToClientCustomGamePlayerCountResponse","id":8015},{"name":"k_EMsgClientToGCSocialFeedPostCommentRequest","id":8016},{"name":"k_EMsgGCToClientSocialFeedPostCommentResponse","id":8017},{"name":"k_EMsgClientToGCCustomGamesFriendsPlayedRequest","id":8018},{"name":"k_EMsgGCToClientCustomGamesFriendsPlayedResponse","id":8019},{"name":"k_EMsgClientToGCFriendsPlayedCustomGameRequest","id":8020},{"name":"k_EMsgGCToClientFriendsPlayedCustomGameResponse","id":8021},{"name":"k_EMsgClientToGCFeaturedHeroesRequest","id":8022},{"name":"k_EMsgGCToClientFeaturedHeroesResponse","id":8023},{"name":"k_EMsgGCTopCustomGamesList","id":8024},{"name":"k_EMsgClientToGCSocialMatchPostCommentRequest","id":8025},{"name":"k_EMsgGCToClientSocialMatchPostCommentResponse","id":8026},{"name":"k_EMsgClientToGCSocialMatchDetailsRequest","id":8027},{"name":"k_EMsgGCToClientSocialMatchDetailsResponse","id":8028},{"name":"k_EMsgClientToGCSetPartyOpen","id":8029},{"name":"k_EMsgClientToGCMergePartyInvite","id":8030},{"name":"k_EMsgGCToClientMergeGroupInviteReply","id":8031},{"name":"k_EMsgClientToGCMergePartyResponse","id":8032},{"name":"k_EMsgGCToClientMergePartyResponseReply","id":8033},{"name":"k_EMsgClientToGCGetProfileCardStats","id":8034},{"name":"k_EMsgClientToGCGetProfileCardStatsResponse","id":8035},{"name":"k_EMsgClientToGCTopLeagueMatchesRequest","id":8036},{"name":"k_EMsgClientToGCTopFriendMatchesRequest","id":8037},{"name":"k_EMsgGCToClientTopMatchesResponse","id":8038},{"name":"k_EMsgClientToGCTopPubMatchesRequest","id":8039},{"name":"k_EMsgGCToClientProfileCardStatsUpdated","id":8040},{"name":"k_EMsgServerToGCRealtimeStats","id":8041},{"name":"k_EMsgGCToServerRealtimeStatsStartStop","id":8042},{"name":"k_EMsgGCToGCGetServersForClients","id":8045},{"name":"k_EMsgGCToGCGetServersForClientsResponse","id":8046},{"name":"k_EMsgGCPracticeLobbyKickFromTeam","id":8047},{"name":"k_EMsgDOTAChatGetMemberCount","id":8048},{"name":"k_EMsgDOTAChatGetMemberCountResponse","id":8049},{"name":"k_EMsgClientToGCSocialFeedPostMessageRequest","id":8050},{"name":"k_EMsgGCToClientSocialFeedPostMessageResponse","id":8051},{"name":"k_EMsgCustomGameListenServerStartedLoading","id":8052},{"name":"k_EMsgCustomGameClientFinishedLoading","id":8053},{"name":"k_EMsgGCPracticeLobbyCloseBroadcastChannel","id":8054},{"name":"k_EMsgGCStartFindingMatchResponse","id":8055},{"name":"k_EMsgSQLGCToGCUpdateHeroMMR","id":8056}]},{"name":"DOTA_GameMode","values":[{"name":"DOTA_GAMEMODE_NONE","id":0},{"name":"DOTA_GAMEMODE_AP","id":1},{"name":"DOTA_GAMEMODE_CM","id":2},{"name":"DOTA_GAMEMODE_RD","id":3},{"name":"DOTA_GAMEMODE_SD","id":4},{"name":"DOTA_GAMEMODE_AR","id":5},{"name":"DOTA_GAMEMODE_INTRO","id":6},{"name":"DOTA_GAMEMODE_HW","id":7},{"name":"DOTA_GAMEMODE_REVERSE_CM","id":8},{"name":"DOTA_GAMEMODE_XMAS","id":9},{"name":"DOTA_GAMEMODE_TUTORIAL","id":10},{"name":"DOTA_GAMEMODE_MO","id":11},{"name":"DOTA_GAMEMODE_LP","id":12},{"name":"DOTA_GAMEMODE_POOL1","id":13},{"name":"DOTA_GAMEMODE_FH","id":14},{"name":"DOTA_GAMEMODE_CUSTOM","id":15},{"name":"DOTA_GAMEMODE_CD","id":16},{"name":"DOTA_GAMEMODE_BD","id":17},{"name":"DOTA_GAMEMODE_ABILITY_DRAFT","id":18},{"name":"DOTA_GAMEMODE_EVENT","id":19},{"name":"DOTA_GAMEMODE_ARDM","id":20},{"name":"DOTA_GAMEMODE_1V1MID","id":21},{"name":"DOTA_GAMEMODE_ALL_DRAFT","id":22}]},{"name":"DOTA_GameState","values":[{"name":"DOTA_GAMERULES_STATE_INIT","id":0},{"name":"DOTA_GAMERULES_STATE_WAIT_FOR_PLAYERS_TO_LOAD","id":1},{"name":"DOTA_GAMERULES_STATE_HERO_SELECTION","id":2},{"name":"DOTA_GAMERULES_STATE_STRATEGY_TIME","id":3},{"name":"DOTA_GAMERULES_STATE_PRE_GAME","id":4},{"name":"DOTA_GAMERULES_STATE_GAME_IN_PROGRESS","id":5},{"name":"DOTA_GAMERULES_STATE_POST_GAME","id":6},{"name":"DOTA_GAMERULES_STATE_DISCONNECT","id":7},{"name":"DOTA_GAMERULES_STATE_TEAM_SHOWCASE","id":8},{"name":"DOTA_GAMERULES_STATE_CUSTOM_GAME_SETUP","id":9},{"name":"DOTA_GAMERULES_STATE_LAST","id":10}]},{"name":"DOTA_GC_TEAM","values":[{"name":"DOTA_GC_TEAM_GOOD_GUYS","id":0},{"name":"DOTA_GC_TEAM_BAD_GUYS","id":1},{"name":"DOTA_GC_TEAM_BROADCASTER","id":2},{"name":"DOTA_GC_TEAM_SPECTATOR","id":3},{"name":"DOTA_GC_TEAM_PLAYER_POOL","id":4},{"name":"DOTA_GC_TEAM_NOTEAM","id":5}]},{"name":"DOTA_CM_PICK","values":[{"name":"DOTA_CM_RANDOM","id":0},{"name":"DOTA_CM_GOOD_GUYS","id":1},{"name":"DOTA_CM_BAD_GUYS","id":2}]},{"name":"DOTAConnectionState_t","values":[{"name":"DOTA_CONNECTION_STATE_UNKNOWN","id":0},{"name":"DOTA_CONNECTION_STATE_NOT_YET_CONNECTED","id":1},{"name":"DOTA_CONNECTION_STATE_CONNECTED","id":2},{"name":"DOTA_CONNECTION_STATE_DISCONNECTED","id":3},{"name":"DOTA_CONNECTION_STATE_ABANDONED","id":4},{"name":"DOTA_CONNECTION_STATE_LOADING","id":5},{"name":"DOTA_CONNECTION_STATE_FAILED","id":6}]},{"name":"DOTALeaverStatus_t","values":[{"name":"DOTA_LEAVER_NONE","id":0},{"name":"DOTA_LEAVER_DISCONNECTED","id":1},{"name":"DOTA_LEAVER_DISCONNECTED_TOO_LONG","id":2},{"name":"DOTA_LEAVER_ABANDONED","id":3},{"name":"DOTA_LEAVER_AFK","id":4},{"name":"DOTA_LEAVER_NEVER_CONNECTED","id":5},{"name":"DOTA_LEAVER_NEVER_CONNECTED_TOO_LONG","id":6},{"name":"DOTA_LEAVER_FAILED_TO_READY_UP","id":7},{"name":"DOTA_LEAVER_DECLINED","id":8}]},{"name":"DOTALowPriorityBanType","values":[{"name":"DOTA_LOW_PRIORITY_BAN_ABANDON","id":0},{"name":"DOTA_LOW_PRIORITY_BAN_REPORTS","id":1},{"name":"DOTA_LOW_PRIORITY_BAN_SECONDARY_ABANDON","id":2}]},{"name":"DOTALobbyReadyState","values":[{"name":"DOTALobbyReadyState_UNDECLARED","id":0},{"name":"DOTALobbyReadyState_ACCEPTED","id":1},{"name":"DOTALobbyReadyState_DECLINED","id":2}]},{"name":"DOTAGameVersion","values":[{"name":"GAME_VERSION_CURRENT","id":0},{"name":"GAME_VERSION_STABLE","id":1}]},{"name":"DOTAJoinLobbyResult","values":[{"name":"DOTA_JOIN_RESULT_SUCCESS","id":0},{"name":"DOTA_JOIN_RESULT_ALREADY_IN_GAME","id":1},{"name":"DOTA_JOIN_RESULT_INVALID_LOBBY","id":2},{"name":"DOTA_JOIN_RESULT_INCORRECT_PASSWORD","id":3},{"name":"DOTA_JOIN_RESULT_ACCESS_DENIED","id":4},{"name":"DOTA_JOIN_RESULT_GENERIC_ERROR","id":5},{"name":"DOTA_JOIN_RESULT_INCORRECT_VERSION","id":6},{"name":"DOTA_JOIN_RESULT_IN_TEAM_PARTY","id":7},{"name":"DOTA_JOIN_RESULT_NO_LOBBY_FOUND","id":8},{"name":"DOTA_JOIN_RESULT_LOBBY_FULL","id":9},{"name":"DOTA_JOIN_RESULT_CUSTOM_GAME_INCORRECT_VERSION","id":10}]},{"name":"DOTAMatchVote","values":[{"name":"DOTAMatchVote_INVALID","id":0},{"name":"DOTAMatchVote_POSITIVE","id":1},{"name":"DOTAMatchVote_NEGATIVE","id":2}]},{"name":"DOTA_LobbyMemberXPBonus","values":[{"name":"DOTA_LobbyMemberXPBonus_DEFAULT","id":0},{"name":"DOTA_LobbyMemberXPBonus_BATTLE_BOOSTER","id":1},{"name":"DOTA_LobbyMemberXPBonus_SHARE_BONUS","id":2},{"name":"DOTA_LobbyMemberXPBonus_PARTY","id":3},{"name":"DOTA_LobbyMemberXPBonus_RECRUITMENT","id":4},{"name":"DOTA_LobbyMemberXPBonus_PCBANG","id":5}]},{"name":"DOTALobbyVisibility","values":[{"name":"DOTALobbyVisibility_Public","id":0},{"name":"DOTALobbyVisibility_Friends","id":1},{"name":"DOTALobbyVisibility_Unlisted","id":2}]},{"name":"EDOTAPlayerMMRType","values":[{"name":"k_EDOTAPlayerMMRType_Invalid","id":0},{"name":"k_EDOTAPlayerMMRType_GeneralHidden","id":1},{"name":"k_EDOTAPlayerMMRType_SoloHidden","id":2},{"name":"k_EDOTAPlayerMMRType_GeneralCompetitive","id":3},{"name":"k_EDOTAPlayerMMRType_SoloCompetitive","id":4},{"name":"k_EDOTAPlayerMMRType_1v1Competitive","id":5}]},{"name":"MatchType","values":[{"name":"MATCH_TYPE_CASUAL","id":0},{"name":"MATCH_TYPE_COOP_BOTS","id":1},{"name":"MATCH_TYPE_TEAM_RANKED","id":2},{"name":"MATCH_TYPE_LEGACY_SOLO_QUEUE","id":3},{"name":"MATCH_TYPE_COMPETITIVE","id":4},{"name":"MATCH_TYPE_WEEKEND_TOURNEY","id":5},{"name":"MATCH_TYPE_CASUAL_1V1","id":6},{"name":"MATCH_TYPE_EVENT","id":7}]},{"name":"DOTABotDifficulty","values":[{"name":"BOT_DIFFICULTY_PASSIVE","id":0},{"name":"BOT_DIFFICULTY_EASY","id":1},{"name":"BOT_DIFFICULTY_MEDIUM","id":2},{"name":"BOT_DIFFICULTY_HARD","id":3},{"name":"BOT_DIFFICULTY_UNFAIR","id":4},{"name":"BOT_DIFFICULTY_INVALID","id":5},{"name":"BOT_DIFFICULTY_EXTRA1","id":6},{"name":"BOT_DIFFICULTY_EXTRA2","id":7},{"name":"BOT_DIFFICULTY_EXTRA3","id":8}]},{"name":"MatchLanguages","values":[{"name":"MATCH_LANGUAGE_INVALID","id":0},{"name":"MATCH_LANGUAGE_ENGLISH","id":1},{"name":"MATCH_LANGUAGE_RUSSIAN","id":2},{"name":"MATCH_LANGUAGE_CHINESE","id":3},{"name":"MATCH_LANGUAGE_KOREAN","id":4},{"name":"MATCH_LANGUAGE_SPANISH","id":5},{"name":"MATCH_LANGUAGE_PORTUGUESE","id":6},{"name":"MATCH_LANGUAGE_ENGLISH2","id":7}]},{"name":"ETournamentTemplate","values":[{"name":"k_ETournamentTemplate_None","id":0},{"name":"k_ETournamentTemplate_SingleElimination","id":1}]},{"name":"ETournamentType","values":[{"name":"k_ETournamentType_Unknown","id":0},{"name":"k_ETournamentType_WeeklyDivision","id":1}]},{"name":"EIngameEvent","values":[{"name":"k_EIngameEvent_OraclePA","id":0},{"name":"k_EIngameEvent_CNY2015","id":1},{"name":"k_EIngameEvent_CNY2015_PreBeast","id":2},{"name":"k_EIngameEvent_TI5","id":3}]},{"name":"LobbyDotaTVDelay","values":[{"name":"LobbyDotaTV_10","id":0},{"name":"LobbyDotaTV_120","id":1},{"name":"LobbyDotaTV_300","id":2}]},{"name":"EMatchOutcome","values":[{"name":"k_EMatchOutcome_Unknown","id":0},{"name":"k_EMatchOutcome_RadVictory","id":2},{"name":"k_EMatchOutcome_DireVictory","id":3},{"name":"k_EMatchOutcome_NotScored_PoorNetworkConditions","id":64},{"name":"k_EMatchOutcome_NotScored_Leaver","id":65},{"name":"k_EMatchOutcome_NotScored_ServerCrash","id":66},{"name":"k_EMatchOutcome_NotScored_NeverStarted","id":67}]},{"name":"EDOTAGCSessionNeed","values":[{"name":"k_EDOTAGCSessionNeed_Unknown","id":0},{"name":"k_EDOTAGCSessionNeed_UserNoSessionNeeded","id":100},{"name":"k_EDOTAGCSessionNeed_UserInOnlineGame","id":101},{"name":"k_EDOTAGCSessionNeed_UserInLocalGame","id":102},{"name":"k_EDOTAGCSessionNeed_UserInUIWasConnected","id":103},{"name":"k_EDOTAGCSessionNeed_UserInUINeverConnected","id":104},{"name":"k_EDOTAGCSessionNeed_UserTutorials","id":105},{"name":"k_EDOTAGCSessionNeed_GameServerOnline","id":200},{"name":"k_EDOTAGCSessionNeed_GameServerLocal","id":201},{"name":"k_EDOTAGCSessionNeed_GameServerIdle","id":202},{"name":"k_EDOTAGCSessionNeed_GameServerRelay","id":203},{"name":"k_EDOTAGCSessionNeed_GameServerLocalUpload","id":204}]},{"name":"Fantasy_Roles","values":[{"name":"FANTASY_ROLE_UNDEFINED","id":0},{"name":"FANTASY_ROLE_CORE","id":1},{"name":"FANTASY_ROLE_SUPPORT","id":2}]},{"name":"Fantasy_Team_Slots","values":[{"name":"FANTASY_SLOT_NONE","id":0},{"name":"FANTASY_SLOT_CORE","id":1},{"name":"FANTASY_SLOT_SUPPORT","id":2},{"name":"FANTASY_SLOT_ANY","id":3},{"name":"FANTASY_SLOT_BENCH","id":4}]},{"name":"Fantasy_Selection_Mode","values":[{"name":"FANTASY_SELECTION_INVALID","id":0},{"name":"FANTASY_SELECTION_LOCKED","id":1},{"name":"FANTASY_SELECTION_SHUFFLE","id":2},{"name":"FANTASY_SELECTION_FREE_PICK","id":3},{"name":"FANTASY_SELECTION_ENDED","id":4},{"name":"FANTASY_SELECTION_PRE_SEASON","id":5},{"name":"FANTASY_SELECTION_PRE_DRAFT","id":6},{"name":"FANTASY_SELECTION_DRAFTING","id":7},{"name":"FANTASY_SELECTION_REGULAR_SEASON","id":8}]},{"name":"DOTA_TournamentEvents","values":[{"name":"TE_FIRST_BLOOD","id":0},{"name":"TE_GAME_END","id":1},{"name":"TE_MULTI_KILL","id":2},{"name":"TE_HERO_DENY","id":3},{"name":"TE_AEGIS_DENY","id":4},{"name":"TE_AEGIS_STOLEN","id":5},{"name":"TE_GODLIKE","id":6},{"name":"TE_COURIER_KILL","id":7},{"name":"TE_ECHOSLAM","id":8},{"name":"TE_RAPIER","id":9},{"name":"TE_EARLY_ROSHAN","id":10},{"name":"TE_BLACK_HOLE","id":11}]},{"name":"DOTA_COMBATLOG_TYPES","values":[{"name":"DOTA_COMBATLOG_DAMAGE","id":0},{"name":"DOTA_COMBATLOG_HEAL","id":1},{"name":"DOTA_COMBATLOG_MODIFIER_ADD","id":2},{"name":"DOTA_COMBATLOG_MODIFIER_REMOVE","id":3},{"name":"DOTA_COMBATLOG_DEATH","id":4},{"name":"DOTA_COMBATLOG_ABILITY","id":5},{"name":"DOTA_COMBATLOG_ITEM","id":6},{"name":"DOTA_COMBATLOG_LOCATION","id":7},{"name":"DOTA_COMBATLOG_GOLD","id":8},{"name":"DOTA_COMBATLOG_GAME_STATE","id":9},{"name":"DOTA_COMBATLOG_XP","id":10},{"name":"DOTA_COMBATLOG_PURCHASE","id":11},{"name":"DOTA_COMBATLOG_BUYBACK","id":12},{"name":"DOTA_COMBATLOG_ABILITY_TRIGGER","id":13},{"name":"DOTA_COMBATLOG_PLAYERSTATS","id":14},{"name":"DOTA_COMBATLOG_MULTIKILL","id":15},{"name":"DOTA_COMBATLOG_KILLSTREAK","id":16},{"name":"DOTA_COMBATLOG_TEAM_BUILDING_KILL","id":17},{"name":"DOTA_COMBATLOG_FIRST_BLOOD","id":18},{"name":"DOTA_COMBATLOG_MODIFIER_REFRESH","id":19}]},{"name":"ETournamentGameState","values":[{"name":"k_ETournamentGameState_Unknown","id":0},{"name":"k_ETournamentGameState_Scheduled","id":1},{"name":"k_ETournamentGameState_WaitingForLobbyToStart","id":2},{"name":"k_ETournamentGameState_Active","id":3},{"name":"k_ETournamentGameState_DireVictory","id":4},{"name":"k_ETournamentGameState_RadVictory","id":5},{"name":"k_ETournamentGameState_Canceled","id":6},{"name":"k_ETournamentTeamState_NotNeeded","id":7}]},{"name":"ETournamentTeamState","values":[{"name":"k_ETournamentTeamState_Unknown","id":0},{"name":"k_ETournamentTeamState_Node1","id":1},{"name":"k_ETournamentTeamState_NodeMax","id":1024},{"name":"k_ETournamentTeamState_Eliminated","id":14003},{"name":"k_ETournamentTeamState_Forfeited","id":14004},{"name":"k_ETournamentTeamState_Finished1st","id":15001},{"name":"k_ETournamentTeamState_Finished2nd","id":15002},{"name":"k_ETournamentTeamState_Finished3rd","id":15003},{"name":"k_ETournamentTeamState_Finished4th","id":15004},{"name":"k_ETournamentTeamState_Finished5th","id":15005},{"name":"k_ETournamentTeamState_Finished6th","id":15006},{"name":"k_ETournamentTeamState_Finished7th","id":15007},{"name":"k_ETournamentTeamState_Finished8th","id":15008},{"name":"k_ETournamentTeamState_Finished9th","id":15009},{"name":"k_ETournamentTeamState_Finished10th","id":15010},{"name":"k_ETournamentTeamState_Finished11th","id":15011},{"name":"k_ETournamentTeamState_Finished12th","id":15012},{"name":"k_ETournamentTeamState_Finished13th","id":15013},{"name":"k_ETournamentTeamState_Finished14th","id":15014},{"name":"k_ETournamentTeamState_Finished15th","id":15015},{"name":"k_ETournamentTeamState_Finished16th","id":15016}]},{"name":"ETournamentState","values":[{"name":"k_ETournamentState_Unknown","id":0},{"name":"k_ETournamentState_Setup","id":1},{"name":"k_ETournamentState_Scheduled","id":2},{"name":"k_ETournamentState_InProgress","id":3},{"name":"k_ETournamentState_Completed","id":4},{"name":"k_ETournamentState_Canceled","id":5}]},{"name":"ETournamentNodeState","values":[{"name":"k_ETournamentNodeState_Unknown","id":0},{"name":"k_ETournamentNodeState_TeamsNotYetAssigned","id":1},{"name":"k_ETournamentNodeState_InBetweenGames","id":2},{"name":"k_ETournamentNodeState_GameInProgress","id":3},{"name":"k_ETournamentNodeState_A_Won","id":4},{"name":"k_ETournamentNodeState_B_Won","id":5},{"name":"k_ETournamentNodeState_Canceled","id":6}]},{"name":"DOTAChatChannelType_t","values":[{"name":"DOTAChannelType_Regional","id":0},{"name":"DOTAChannelType_Custom","id":1},{"name":"DOTAChannelType_Party","id":2},{"name":"DOTAChannelType_Lobby","id":3},{"name":"DOTAChannelType_Team","id":4},{"name":"DOTAChannelType_Guild","id":5},{"name":"DOTAChannelType_Fantasy","id":6},{"name":"DOTAChannelType_Whisper","id":7},{"name":"DOTAChannelType_Console","id":8},{"name":"DOTAChannelType_Tab","id":9},{"name":"DOTAChannelType_Invalid","id":10},{"name":"DOTAChannelType_GameAll","id":11},{"name":"DOTAChannelType_GameAllies","id":12},{"name":"DOTAChannelType_GameSpectator","id":13},{"name":"DOTAChannelType_GameCoaching","id":14}]},{"name":"DOTA_WatchReplayType","values":[{"name":"DOTA_WATCH_REPLAY_NORMAL","id":0},{"name":"DOTA_WATCH_REPLAY_HIGHLIGHTS","id":1}]},{"name":"DOTA_2013PassportSelectionIndices","values":[{"name":"PP13_SEL_ALLSTAR_PLAYER_0","id":0},{"name":"PP13_SEL_ALLSTAR_PLAYER_1","id":1},{"name":"PP13_SEL_ALLSTAR_PLAYER_2","id":2},{"name":"PP13_SEL_ALLSTAR_PLAYER_3","id":3},{"name":"PP13_SEL_ALLSTAR_PLAYER_4","id":4},{"name":"PP13_SEL_ALLSTAR_PLAYER_5","id":5},{"name":"PP13_SEL_ALLSTAR_PLAYER_6","id":6},{"name":"PP13_SEL_ALLSTAR_PLAYER_7","id":7},{"name":"PP13_SEL_ALLSTAR_PLAYER_8","id":8},{"name":"PP13_SEL_ALLSTAR_PLAYER_9","id":9},{"name":"PP13_SEL_QUALPRED_WEST_0","id":10},{"name":"PP13_SEL_QUALPRED_WEST_1","id":11},{"name":"PP13_SEL_QUALPRED_WEST_2","id":12},{"name":"PP13_SEL_QUALPRED_WEST_3","id":13},{"name":"PP13_SEL_QUALPRED_WEST_4","id":14},{"name":"PP13_SEL_QUALPRED_WEST_5","id":15},{"name":"PP13_SEL_QUALPRED_WEST_6","id":16},{"name":"PP13_SEL_QUALPRED_WEST_7","id":17},{"name":"PP13_SEL_QUALPRED_WEST_8","id":18},{"name":"PP13_SEL_QUALPRED_WEST_9","id":19},{"name":"PP13_SEL_QUALPRED_WEST_10","id":20},{"name":"PP13_SEL_QUALPRED_WEST_11","id":21},{"name":"PP13_SEL_QUALPRED_WEST_12","id":22},{"name":"PP13_SEL_QUALPRED_WEST_13","id":23},{"name":"PP13_SEL_QUALPRED_WEST_14","id":24},{"name":"PP13_SEL_QUALPRED_EAST_0","id":25},{"name":"PP13_SEL_QUALPRED_EAST_1","id":26},{"name":"PP13_SEL_QUALPRED_EAST_2","id":27},{"name":"PP13_SEL_QUALPRED_EAST_3","id":28},{"name":"PP13_SEL_QUALPRED_EAST_4","id":29},{"name":"PP13_SEL_QUALPRED_EAST_5","id":30},{"name":"PP13_SEL_QUALPRED_EAST_6","id":31},{"name":"PP13_SEL_QUALPRED_EAST_7","id":32},{"name":"PP13_SEL_QUALPRED_EAST_8","id":33},{"name":"PP13_SEL_QUALPRED_EAST_9","id":34},{"name":"PP13_SEL_QUALPRED_EAST_10","id":35},{"name":"PP13_SEL_QUALPRED_EAST_11","id":36},{"name":"PP13_SEL_QUALPRED_EAST_12","id":37},{"name":"PP13_SEL_QUALPRED_EAST_13","id":38},{"name":"PP13_SEL_QUALPRED_EAST_14","id":39},{"name":"PP13_SEL_TEAMCUP_TEAM","id":40},{"name":"PP13_SEL_TEAMCUP_PLAYER","id":41},{"name":"PP13_SEL_TEAMCUP_TEAM_LOCK","id":42},{"name":"PP13_SEL_TEAMCUP_PLAYER_LOCK","id":43},{"name":"PP13_SEL_EVENTPRED_0","id":44},{"name":"PP13_SEL_EVENTPRED_1","id":45},{"name":"PP13_SEL_EVENTPRED_2","id":46},{"name":"PP13_SEL_EVENTPRED_3","id":47},{"name":"PP13_SEL_EVENTPRED_4","id":48},{"name":"PP13_SEL_EVENTPRED_5","id":49},{"name":"PP13_SEL_EVENTPRED_6","id":50},{"name":"PP13_SEL_EVENTPRED_7","id":51},{"name":"PP13_SEL_EVENTPRED_8","id":52},{"name":"PP13_SEL_EVENTPRED_9","id":53},{"name":"PP13_SEL_EVENTPRED_10","id":54},{"name":"PP13_SEL_EVENTPRED_11","id":55},{"name":"PP13_SEL_EVENTPRED_12","id":56},{"name":"PP13_SEL_EVENTPRED_13","id":57},{"name":"PP13_SEL_EVENTPRED_14","id":58},{"name":"PP13_SEL_EVENTPRED_15","id":59},{"name":"PP13_SEL_EVENTPRED_16","id":60},{"name":"PP13_SEL_EVENTPRED_17","id":61},{"name":"PP13_SEL_EVENTPRED_18","id":62},{"name":"PP13_SEL_EVENTPRED_19","id":63},{"name":"PP13_SEL_EVENTPRED_20","id":64},{"name":"PP13_SEL_EVENTPRED_21","id":65},{"name":"PP13_SEL_EVENTPRED_22","id":66},{"name":"PP13_SEL_EVENTPRED_23","id":67},{"name":"PP13_SEL_EVENTPRED_24","id":68},{"name":"PP13_SEL_EVENTPRED_25","id":69},{"name":"PP13_SEL_EVENTPRED_26","id":70},{"name":"PP13_SEL_EVENTPRED_27","id":71},{"name":"PP13_SEL_EVENTPRED_28","id":72},{"name":"PP13_SEL_EVENTPRED_29","id":73},{"name":"PP13_SEL_EVENTPRED_30","id":74},{"name":"PP13_SEL_EVENTPRED_31","id":75},{"name":"PP13_SEL_EVENTPRED_32","id":76},{"name":"PP13_SEL_EVENTPRED_33","id":77},{"name":"PP13_SEL_EVENTPRED_34","id":78},{"name":"PP13_SEL_EVENTPRED_35","id":79},{"name":"PP13_SEL_EVENTPRED_36","id":80},{"name":"PP13_SEL_EVENTPRED_37","id":81},{"name":"PP13_SEL_EVENTPRED_38","id":82},{"name":"PP13_SEL_EVENTPRED_39","id":83},{"name":"PP13_SEL_EVENTPRED_40","id":84},{"name":"PP13_SEL_EVENTPRED_41","id":85},{"name":"PP13_SEL_EVENTPRED_42","id":86},{"name":"PP13_SEL_EVENTPRED_43","id":87},{"name":"PP13_SEL_SOLO_0","id":88},{"name":"PP13_SEL_SOLO_1","id":89},{"name":"PP13_SEL_SOLO_2","id":90},{"name":"PP13_SEL_SOLO_3","id":91},{"name":"PP13_SEL_SOLO_4","id":92},{"name":"PP13_SEL_SOLO_5","id":93},{"name":"PP13_SEL_SOLO_6","id":94},{"name":"PP13_SEL_SOLO_7","id":95}]},{"name":"EItemEditorReservationResult","values":[{"name":"k_EItemEditorReservationResult_OK","id":1},{"name":"k_EItemEditorReservationResult_AlreadyExists","id":2},{"name":"k_EItemEditorReservationResult_Reserved","id":3},{"name":"k_EItemEditorReservationResult_TimedOut","id":4}]},{"name":"EProfileCardSlotType","values":[{"name":"k_EProfileCardSlotType_Empty","id":0},{"name":"k_EProfileCardSlotType_Stat","id":1},{"name":"k_EProfileCardSlotType_Trophy","id":2},{"name":"k_EProfileCardSlotType_Item","id":3},{"name":"k_EProfileCardSlotType_Hero","id":4},{"name":"k_EProfileCardSlotType_Emoticon","id":5}]},{"name":"EFeaturedHeroTextField","values":[{"name":"k_EFeaturedHeroTextField_NewHero","id":0},{"name":"k_EFeaturedHeroTextField_NewItem","id":1},{"name":"k_EFeaturedHeroTextField_ItemSetDescription","id":2},{"name":"k_EFeaturedHeroTextField_ItemDescription","id":3},{"name":"k_EFeaturedHeroTextField_Hype","id":4},{"name":"k_EFeaturedHeroTextField_HeroWinLoss","id":5},{"name":"k_EFeaturedHeroTextField_FrequentlyPlayedHero","id":6},{"name":"k_EFeaturedHeroTextField_FeaturedItem","id":7},{"name":"k_EFeaturedHeroTextField_PopularItem","id":8},{"name":"k_EFeaturedHeroTextField_SaleItem","id":9},{"name":"k_EFeaturedHeroTextField_SaleDiscount","id":10},{"name":"k_EFeaturedHeroTextField_Container","id":11}]},{"name":"EFeaturedHeroDataType","values":[{"name":"k_EFeaturedHeroDataType_HeroID","id":0},{"name":"k_EFeaturedHeroDataType_ItemDef","id":1},{"name":"k_EFeaturedHeroDataType_HypeString","id":2},{"name":"k_EFeaturedHeroDataType_StartTimestamp","id":3},{"name":"k_EFeaturedHeroDataType_ExpireTimestamp","id":4},{"name":"k_EFeaturedHeroDataType_HeroWins","id":5},{"name":"k_EFeaturedHeroDataType_HeroLosses","id":6},{"name":"k_EFeaturedHeroDataType_SaleDiscount","id":7},{"name":"k_EFeaturedHeroDataType_ContainerItemDef","id":8}]},{"name":"EDOTAGroupMergeResult","values":[{"name":"k_EDOTAGroupMergeResult_OK","id":0},{"name":"k_EDOTAGroupMergeResult_FAILED_GENERIC","id":1},{"name":"k_EDOTAGroupMergeResult_NOT_LEADER","id":2},{"name":"k_EDOTAGroupMergeResult_TOO_MANY_PLAYERS","id":3},{"name":"k_EDOTAGroupMergeResult_TOO_MANY_COACHES","id":4},{"name":"k_EDOTAGroupMergeResult_ENGINE_MISMATCH","id":5},{"name":"k_EDOTAGroupMergeResult_NO_SUCH_GROUP","id":6},{"name":"k_EDOTAGroupMergeResult_OTHER_GROUP_NOT_OPEN","id":7},{"name":"k_EDOTAGroupMergeResult_ALREADY_INVITED","id":8},{"name":"k_EDOTAGroupMergeResult_NOT_INVITED","id":9}]},{"name":"EGCItemMsg","values":[{"name":"k_EMsgGCBase","id":1000},{"name":"k_EMsgGCSetItemPosition","id":1001},{"name":"k_EMsgGCCraft","id":1002},{"name":"k_EMsgGCCraftResponse","id":1003},{"name":"k_EMsgGCDelete","id":1004},{"name":"k_EMsgGCVerifyCacheSubscription","id":1005},{"name":"k_EMsgGCNameItem","id":1006},{"name":"k_EMsgGCUnlockCrate","id":1007},{"name":"k_EMsgGCUnlockCrateResponse","id":1008},{"name":"k_EMsgGCPaintItem","id":1009},{"name":"k_EMsgGCPaintItemResponse","id":1010},{"name":"k_EMsgGCGoldenWrenchBroadcast","id":1011},{"name":"k_EMsgGCMOTDRequest","id":1012},{"name":"k_EMsgGCMOTDRequestResponse","id":1013},{"name":"k_EMsgGCAddItemToSocket_DEPRECATED","id":1014},{"name":"k_EMsgGCAddItemToSocketResponse_DEPRECATED","id":1015},{"name":"k_EMsgGCAddSocketToBaseItem_DEPRECATED","id":1016},{"name":"k_EMsgGCAddSocketToItem_DEPRECATED","id":1017},{"name":"k_EMsgGCAddSocketToItemResponse_DEPRECATED","id":1018},{"name":"k_EMsgGCNameBaseItem","id":1019},{"name":"k_EMsgGCNameBaseItemResponse","id":1020},{"name":"k_EMsgGCRemoveSocketItem_DEPRECATED","id":1021},{"name":"k_EMsgGCRemoveSocketItemResponse_DEPRECATED","id":1022},{"name":"k_EMsgGCCustomizeItemTexture","id":1023},{"name":"k_EMsgGCCustomizeItemTextureResponse","id":1024},{"name":"k_EMsgGCUseItemRequest","id":1025},{"name":"k_EMsgGCUseItemResponse","id":1026},{"name":"k_EMsgGCGiftedItems","id":1027},{"name":"k_EMsgGCRemoveItemName","id":1030},{"name":"k_EMsgGCRemoveItemPaint","id":1031},{"name":"k_EMsgGCUnwrapGiftRequest","id":1037},{"name":"k_EMsgGCUnwrapGiftResponse","id":1038},{"name":"k_EMsgGCSetItemStyle","id":1039},{"name":"k_EMsgGCUsedClaimCodeItem","id":1040},{"name":"k_EMsgGCSortItems","id":1041},{"name":"k_EMsgGC_RevolvingLootList_DEPRECATED","id":1042},{"name":"k_EMsgGCLookupAccount","id":1043},{"name":"k_EMsgGCLookupAccountResponse","id":1044},{"name":"k_EMsgGCLookupAccountName","id":1045},{"name":"k_EMsgGCLookupAccountNameResponse","id":1046},{"name":"k_EMsgGCUpdateItemSchema","id":1049},{"name":"k_EMsgGCRemoveCustomTexture","id":1051},{"name":"k_EMsgGCRemoveCustomTextureResponse","id":1052},{"name":"k_EMsgGCRemoveMakersMark","id":1053},{"name":"k_EMsgGCRemoveMakersMarkResponse","id":1054},{"name":"k_EMsgGCRemoveUniqueCraftIndex","id":1055},{"name":"k_EMsgGCRemoveUniqueCraftIndexResponse","id":1056},{"name":"k_EMsgGCSaxxyBroadcast","id":1057},{"name":"k_EMsgGCBackpackSortFinished","id":1058},{"name":"k_EMsgGCAdjustItemEquippedState","id":1059},{"name":"k_EMsgGCCollectItem","id":1061},{"name":"k_EMsgGCItemAcknowledged","id":1062},{"name":"k_EMsgGCPresets_SelectPresetForClass","id":1063},{"name":"k_EMsgGCPresets_SetItemPosition","id":1064},{"name":"k_EMsgGC_ReportAbuse","id":1065},{"name":"k_EMsgGC_ReportAbuseResponse","id":1066},{"name":"k_EMsgGCPresets_SelectPresetForClassReply","id":1067},{"name":"k_EMsgGCNameItemNotification","id":1068},{"name":"k_EMsgGCApplyConsumableEffects","id":1069},{"name":"k_EMsgGCConsumableExhausted","id":1070},{"name":"k_EMsgGCShowItemsPickedUp","id":1071},{"name":"k_EMsgGCClientDisplayNotification","id":1072},{"name":"k_EMsgGCApplyStrangePart","id":1073},{"name":"k_EMsgGC_IncrementKillCountResponse","id":1075},{"name":"k_EMsgGCApplyPennantUpgrade","id":1076},{"name":"k_EMsgGCSetItemPositions","id":1077},{"name":"k_EMsgGCApplyEggEssence","id":1078},{"name":"k_EMsgGCNameEggEssenceResponse","id":1079},{"name":"k_EMsgGCUnlockItemStyle","id":1080},{"name":"k_EMsgGCUnlockItemStyleResponse","id":1081},{"name":"k_EMsgGCFulfillDynamicRecipeComponent","id":1082},{"name":"k_EMsgGCFulfillDynamicRecipeComponentResponse","id":1083},{"name":"k_EMsgGCClientRequestMarketData","id":1084},{"name":"k_EMsgGCClientRequestMarketDataResponse","id":1085},{"name":"k_EMsgGCExtractGems","id":1086},{"name":"k_EMsgGCAddSocket","id":1087},{"name":"k_EMsgGCAddItemToSocket","id":1088},{"name":"k_EMsgGCAddItemToSocketResponse","id":1089},{"name":"k_EMsgGCAddSocketResponse","id":1090},{"name":"k_EMsgGCResetStrangeGemCount","id":1091},{"name":"k_EMsgGCRequestCrateItems","id":1092},{"name":"k_EMsgGCRequestCrateItemsResponse","id":1093},{"name":"k_EMsgGCServerUseItemRequest","id":1103},{"name":"k_EMsgGCAddGiftItem","id":1104},{"name":"k_EMsgGCRemoveItemGiftMessage","id":1105},{"name":"k_EMsgGCRemoveItemGiftMessageResponse","id":1106},{"name":"k_EMsgGCRemoveItemGifterAccountId","id":1107},{"name":"k_EMsgGCRemoveItemGifterAccountIdResponse","id":1108},{"name":"k_EMsgGCTradingBase","id":1500},{"name":"k_EMsgGCTrading_InitiateTradeRequest","id":1501},{"name":"k_EMsgGCTrading_InitiateTradeResponse","id":1502},{"name":"k_EMsgGCTrading_StartSession","id":1503},{"name":"k_EMsgGCTrading_SessionClosed","id":1509},{"name":"k_EMsgGCTrading_InitiateTradeRequestResponse","id":1514},{"name":"k_EMsgGCServerBrowser_FavoriteServer","id":1601},{"name":"k_EMsgGCServerBrowser_BlacklistServer","id":1602},{"name":"k_EMsgGCServerRentalsBase","id":1700},{"name":"k_EMsgGCItemPreviewCheckStatus","id":1701},{"name":"k_EMsgGCItemPreviewStatusResponse","id":1702},{"name":"k_EMsgGCItemPreviewRequest","id":1703},{"name":"k_EMsgGCItemPreviewRequestResponse","id":1704},{"name":"k_EMsgGCItemPreviewExpire","id":1705},{"name":"k_EMsgGCItemPreviewExpireNotification","id":1706},{"name":"k_EMsgGCItemPreviewItemBoughtNotification","id":1707},{"name":"k_EMsgGCDev_NewItemRequest","id":2001},{"name":"k_EMsgGCDev_NewItemRequestResponse","id":2002},{"name":"k_EMsgGCStoreGetUserData","id":2500},{"name":"k_EMsgGCStoreGetUserDataResponse","id":2501},{"name":"k_EMsgGCStorePurchaseFinalize","id":2504},{"name":"k_EMsgGCStorePurchaseFinalizeResponse","id":2505},{"name":"k_EMsgGCStorePurchaseCancel","id":2506},{"name":"k_EMsgGCStorePurchaseCancelResponse","id":2507},{"name":"k_EMsgGCStorePurchaseInit","id":2510},{"name":"k_EMsgGCStorePurchaseInitResponse","id":2511},{"name":"k_EMsgGCBannedWordListRequest","id":2512},{"name":"k_EMsgGCBannedWordListResponse","id":2513},{"name":"k_EMsgGCToGCBannedWordListBroadcast","id":2514},{"name":"k_EMsgGCToGCBannedWordListUpdated","id":2515},{"name":"k_EMsgGCToGCDirtySDOCache","id":2516},{"name":"k_EMsgGCToGCDirtyMultipleSDOCache","id":2517},{"name":"k_EMsgGCToGCUpdateSQLKeyValue","id":2518},{"name":"k_EMsgGCToGCBroadcastConsoleCommand","id":2521},{"name":"k_EMsgGCServerVersionUpdated","id":2522},{"name":"k_EMsgGCApplyAutograph","id":2523},{"name":"k_EMsgGCToGCWebAPIAccountChanged","id":2524},{"name":"k_EMsgGCClientVersionUpdated","id":2528},{"name":"k_EMsgGCItemPurgatory_FinalizePurchase","id":2531},{"name":"k_EMsgGCItemPurgatory_FinalizePurchaseResponse","id":2532},{"name":"k_EMsgGCItemPurgatory_RefundPurchase","id":2533},{"name":"k_EMsgGCItemPurgatory_RefundPurchaseResponse","id":2534},{"name":"k_EMsgGCToGCPlayerStrangeCountAdjustments","id":2535},{"name":"k_EMsgGCRequestStoreSalesData","id":2536},{"name":"k_EMsgGCRequestStoreSalesDataResponse","id":2537},{"name":"k_EMsgGCRequestStoreSalesDataUpToDateResponse","id":2538},{"name":"k_EMsgGCToGCPingRequest","id":2539},{"name":"k_EMsgGCToGCPingResponse","id":2540},{"name":"k_EMsgGCToGCGetUserSessionServer","id":2541},{"name":"k_EMsgGCToGCGetUserSessionServerResponse","id":2542},{"name":"k_EMsgGCToGCGetUserServerMembers","id":2543},{"name":"k_EMsgGCToGCGetUserServerMembersResponse","id":2544},{"name":"k_EMsgGCToGCGetUserPCBangNo","id":2545},{"name":"k_EMsgGCToGCGetUserPCBangNoResponse","id":2546},{"name":"k_EMsgGCToGCCanUseDropRateBonus","id":2547},{"name":"k_EMsgSQLAddDropRateBonus","id":2548},{"name":"k_EMsgGCToGCRefreshSOCache","id":2549},{"name":"k_EMsgGCToGCApplyLocalizationDiff","id":2550},{"name":"k_EMsgGCToGCApplyLocalizationDiffResponse","id":2551},{"name":"k_EMsgGCToGCCheckAccountTradeStatus","id":2552},{"name":"k_EMsgGCToGCCheckAccountTradeStatusResponse","id":2553},{"name":"k_EMsgGCToGCGrantAccountRolledItems","id":2554},{"name":"k_EMsgGCToGCGrantSelfMadeItemToAccount","id":2555},{"name":"k_EMsgSQLUpgradeBattleBooster","id":2556},{"name":"k_EMsgGCPartnerBalanceRequest","id":2557},{"name":"k_EMsgGCPartnerBalanceResponse","id":2558},{"name":"k_EMsgGCPartnerRechargeRedirectURLRequest","id":2559},{"name":"k_EMsgGCPartnerRechargeRedirectURLResponse","id":2560},{"name":"k_EMsgGCStatueCraft","id":2561},{"name":"k_EMsgGCRedeemCode","id":2562},{"name":"k_EMsgGCRedeemCodeResponse","id":2563},{"name":"k_EMsgGCToGCItemConsumptionRollback","id":2564},{"name":"k_EMsgClientToGCWrapAndDeliverGift","id":2565},{"name":"k_EMsgClientToGCWrapAndDeliverGiftResponse","id":2566},{"name":"k_EMsgGCToClientBundleUnpacked","id":2567},{"name":"k_EMsgGCToClientStoreTransactionCompleted","id":2568},{"name":"k_EMsgClientToGCEquipItems","id":2569},{"name":"k_EMsgClientToGCEquipItemsResponse","id":2570}]},{"name":"EGCMsgResponse","values":[{"name":"k_EGCMsgResponseOK","id":0},{"name":"k_EGCMsgResponseDenied","id":1},{"name":"k_EGCMsgResponseServerError","id":2},{"name":"k_EGCMsgResponseTimeout","id":3},{"name":"k_EGCMsgResponseInvalid","id":4},{"name":"k_EGCMsgResponseNoMatch","id":5},{"name":"k_EGCMsgResponseUnknownError","id":6},{"name":"k_EGCMsgResponseNotLoggedOn","id":7},{"name":"k_EGCMsgFailedToCreate","id":8}]},{"name":"EUnlockStyle","values":[{"name":"k_UnlockStyle_Succeeded","id":0},{"name":"k_UnlockStyle_Failed_PreReq","id":1},{"name":"k_UnlockStyle_Failed_CantAfford","id":2},{"name":"k_UnlockStyle_Failed_CantCommit","id":3},{"name":"k_UnlockStyle_Failed_CantLockCache","id":4},{"name":"k_UnlockStyle_Failed_CantAffordAttrib","id":5},{"name":"k_UnlockStyle_Failed_CantAffordGem","id":6},{"name":"k_UnlockStyle_Failed_NoCompendiumLevel","id":7},{"name":"k_UnlockStyle_Failed_AlreadyUnlocked","id":8}]},{"name":"EItemPurgatoryResponse_Finalize","values":[{"name":"k_ItemPurgatoryResponse_Finalize_Succeeded","id":0},{"name":"k_ItemPurgatoryResponse_Finalize_Failed_Incomplete","id":1},{"name":"k_ItemPurgatoryResponse_Finalize_Failed_ItemsNotInPurgatory","id":2},{"name":"k_ItemPurgatoryResponse_Finalize_Failed_CouldNotFindItems","id":3},{"name":"k_ItemPurgatoryResponse_Finalize_Failed_NoSOCache","id":4},{"name":"k_ItemPurgatoryResponse_Finalize_BackpackFull","id":5}]},{"name":"EItemPurgatoryResponse_Refund","values":[{"name":"k_ItemPurgatoryResponse_Refund_Succeeded","id":0},{"name":"k_ItemPurgatoryResponse_Refund_Failed_ItemNotInPurgatory","id":1},{"name":"k_ItemPurgatoryResponse_Refund_Failed_CouldNotFindItem","id":2},{"name":"k_ItemPurgatoryResponse_Refund_Failed_NoSOCache","id":3},{"name":"k_ItemPurgatoryResponse_Refund_Failed_NoDetail","id":4},{"name":"k_ItemPurgatoryResponse_Refund_Failed_NexonWebAPI","id":5}]},{"name":"EGCPartnerRequestResponse","values":[{"name":"k_EPartnerRequestOK","id":1},{"name":"k_EPartnerRequestBadAccount","id":2},{"name":"k_EPartnerRequestNotLinked","id":3},{"name":"k_EPartnerRequestUnsupportedPartnerType","id":4}]},{"name":"EGCMsgInitiateTradeResponse","values":[{"name":"k_EGCMsgInitiateTradeResponse_Accepted","id":0},{"name":"k_EGCMsgInitiateTradeResponse_Declined","id":1},{"name":"k_EGCMsgInitiateTradeResponse_VAC_Banned_Initiator","id":2},{"name":"k_EGCMsgInitiateTradeResponse_VAC_Banned_Target","id":3},{"name":"k_EGCMsgInitiateTradeResponse_Target_Already_Trading","id":4},{"name":"k_EGCMsgInitiateTradeResponse_Disabled","id":5},{"name":"k_EGCMsgInitiateTradeResponse_NotLoggedIn","id":6},{"name":"k_EGCMsgInitiateTradeResponse_Cancel","id":7},{"name":"k_EGCMsgInitiateTradeResponse_TooSoon","id":8},{"name":"k_EGCMsgInitiateTradeResponse_TooSoonPenalty","id":9},{"name":"k_EGCMsgInitiateTradeResponse_Trade_Banned_Initiator","id":10},{"name":"k_EGCMsgInitiateTradeResponse_Trade_Banned_Target","id":11},{"name":"k_EGCMsgInitiateTradeResponse_Free_Account_Initiator_DEPRECATED","id":12},{"name":"k_EGCMsgInitiateTradeResponse_Shared_Account_Initiator","id":13},{"name":"k_EGCMsgInitiateTradeResponse_Service_Unavailable","id":14},{"name":"k_EGCMsgInitiateTradeResponse_Target_Blocked","id":15},{"name":"k_EGCMsgInitiateTradeResponse_NeedVerifiedEmail","id":16},{"name":"k_EGCMsgInitiateTradeResponse_NeedSteamGuard","id":17},{"name":"k_EGCMsgInitiateTradeResponse_SteamGuardDuration","id":18},{"name":"k_EGCMsgInitiateTradeResponse_TheyCannotTrade","id":19},{"name":"k_EGCMsgInitiateTradeResponse_Recent_Password_Reset","id":20},{"name":"k_EGCMsgInitiateTradeResponse_Using_New_Device","id":21},{"name":"k_EGCMsgInitiateTradeResponse_Sent_Invalid_Cookie","id":22}]},{"name":"EPoorNetworkConditionsType","values":[{"name":"k_EPoorNetworkConditions_None","id":0},{"name":"k_EPoorNetworkConditions_Unknown","id":1},{"name":"k_EPoorNetworkConditions_MassDisconnect","id":2},{"name":"k_EPoorNetworkConditions_ExcessBadQosIntervals","id":3}]},{"name":"EAbilityAbuseType","values":[{"name":"k_EAbilityAbuseType_None","id":0},{"name":"k_EAbilityAbuseType_Io_Relocate","id":1},{"name":"k_EAbilityAbuseType_Chen_Test_Of_Faith","id":2},{"name":"k_EAbilityAbuseType_Bane_Nightmare","id":3},{"name":"k_EAbilityAbuseType_Bloodseeker_Bloodrage","id":4},{"name":"k_EAbilityAbuseType_Outworld_Astral_Imprisonment","id":5},{"name":"k_EAbilityAbuseType_Shadow_Demon_Disruption","id":6}]},{"name":"EIntentionalFeedingType","values":[{"name":"k_EIntentionalFeedingType_None","id":0},{"name":"k_EIntentionalFeedingType_ExcessiveDeaths","id":1},{"name":"k_EIntentionalFeedingType_MultipleCourierPurchases","id":2},{"name":"k_EIntentionalFeedingType_MultipleCourierDeaths","id":4},{"name":"k_EIntentionalFeedingType_LowActivity","id":8},{"name":"k_EIntentionalFeedingType_LowDamage","id":16},{"name":"k_EIntentionalFeedingType_HighUnspentGold","id":32},{"name":"k_EIntentionalFeedingType_SoldTooMuchItemValue","id":64},{"name":"k_EIntentionalFeedingType_TooManyDroppedItems","id":128},{"name":"k_EIntentionalFeedingType_ExcessiveTowerDamage","id":256}]},{"name":"ESuspiciousActivity","values":[{"name":"k_ESuspiciousActivity_VAC_MultipleInstances","id":1},{"name":"k_ESuspiciousActivity_IntentionalFeeding","id":100},{"name":"k_ESuspiciousActivity_SuspectedBotFarming","id":101}]},{"name":"ESuspiciousBuildType","values":[{"name":"k_ESuspiciousBuildType_None","id":0},{"name":"k_ESuspiciousBuildType_NoGoldSpent","id":1},{"name":"k_ESuspiciousBuildType_NoItems","id":2},{"name":"k_ESuspiciousBuildType_NoSignificantItems","id":3},{"name":"k_ESuspiciousBuildType_TooManyBoots","id":4},{"name":"k_ESuspiciousBuildType_Bot1","id":101},{"name":"k_ESuspiciousBuildType_Bot2","id":102},{"name":"k_ESuspiciousBuildType_Bot3","id":103},{"name":"k_ESuspiciousBuildType_Bot4","id":104},{"name":"k_ESuspiciousBuildType_Bot5","id":105}]},{"name":"DOTA_MODIFIER_ENTRY_TYPE","values":[{"name":"DOTA_MODIFIER_ENTRY_TYPE_ACTIVE","id":1},{"name":"DOTA_MODIFIER_ENTRY_TYPE_REMOVED","id":2}]},{"name":"EDotaUserMessages","values":[{"name":"DOTA_UM_AddUnitToSelection","id":464},{"name":"DOTA_UM_AIDebugLine","id":465},{"name":"DOTA_UM_ChatEvent","id":466},{"name":"DOTA_UM_CombatHeroPositions","id":467},{"name":"DOTA_UM_CombatLogData","id":468},{"name":"DOTA_UM_CombatLogShowDeath","id":470},{"name":"DOTA_UM_CreateLinearProjectile","id":471},{"name":"DOTA_UM_DestroyLinearProjectile","id":472},{"name":"DOTA_UM_DodgeTrackingProjectiles","id":473},{"name":"DOTA_UM_GlobalLightColor","id":474},{"name":"DOTA_UM_GlobalLightDirection","id":475},{"name":"DOTA_UM_InvalidCommand","id":476},{"name":"DOTA_UM_LocationPing","id":477},{"name":"DOTA_UM_MapLine","id":478},{"name":"DOTA_UM_MiniKillCamInfo","id":479},{"name":"DOTA_UM_MinimapDebugPoint","id":480},{"name":"DOTA_UM_MinimapEvent","id":481},{"name":"DOTA_UM_NevermoreRequiem","id":482},{"name":"DOTA_UM_OverheadEvent","id":483},{"name":"DOTA_UM_SetNextAutobuyItem","id":484},{"name":"DOTA_UM_SharedCooldown","id":485},{"name":"DOTA_UM_SpectatorPlayerClick","id":486},{"name":"DOTA_UM_TutorialTipInfo","id":487},{"name":"DOTA_UM_UnitEvent","id":488},{"name":"DOTA_UM_ParticleManager","id":489},{"name":"DOTA_UM_BotChat","id":490},{"name":"DOTA_UM_HudError","id":491},{"name":"DOTA_UM_ItemPurchased","id":492},{"name":"DOTA_UM_Ping","id":493},{"name":"DOTA_UM_ItemFound","id":494},{"name":"DOTA_UM_CharacterSpeakConcept","id":495},{"name":"DOTA_UM_SwapVerify","id":496},{"name":"DOTA_UM_WorldLine","id":497},{"name":"DOTA_UM_TournamentDrop","id":498},{"name":"DOTA_UM_ItemAlert","id":499},{"name":"DOTA_UM_HalloweenDrops","id":500},{"name":"DOTA_UM_ChatWheel","id":501},{"name":"DOTA_UM_ReceivedXmasGift","id":502},{"name":"DOTA_UM_UpdateSharedContent","id":503},{"name":"DOTA_UM_TutorialRequestExp","id":504},{"name":"DOTA_UM_TutorialPingMinimap","id":505},{"name":"DOTA_UM_GamerulesStateChanged","id":506},{"name":"DOTA_UM_ShowSurvey","id":507},{"name":"DOTA_UM_TutorialFade","id":508},{"name":"DOTA_UM_AddQuestLogEntry","id":509},{"name":"DOTA_UM_SendStatPopup","id":510},{"name":"DOTA_UM_TutorialFinish","id":511},{"name":"DOTA_UM_SendRoshanPopup","id":512},{"name":"DOTA_UM_SendGenericToolTip","id":513},{"name":"DOTA_UM_SendFinalGold","id":514},{"name":"DOTA_UM_CustomMsg","id":515},{"name":"DOTA_UM_CoachHUDPing","id":516},{"name":"DOTA_UM_ClientLoadGridNav","id":517},{"name":"DOTA_UM_TE_Projectile","id":518},{"name":"DOTA_UM_TE_ProjectileLoc","id":519},{"name":"DOTA_UM_TE_DotaBloodImpact","id":520},{"name":"DOTA_UM_TE_UnitAnimation","id":521},{"name":"DOTA_UM_TE_UnitAnimationEnd","id":522},{"name":"DOTA_UM_AbilityPing","id":523},{"name":"DOTA_UM_ShowGenericPopup","id":524},{"name":"DOTA_UM_VoteStart","id":525},{"name":"DOTA_UM_VoteUpdate","id":526},{"name":"DOTA_UM_VoteEnd","id":527},{"name":"DOTA_UM_BoosterState","id":528},{"name":"DOTA_UM_WillPurchaseAlert","id":529},{"name":"DOTA_UM_TutorialMinimapPosition","id":530},{"name":"DOTA_UM_PlayerMMR","id":531},{"name":"DOTA_UM_AbilitySteal","id":532},{"name":"DOTA_UM_CourierKilledAlert","id":533},{"name":"DOTA_UM_EnemyItemAlert","id":534},{"name":"DOTA_UM_StatsMatchDetails","id":535},{"name":"DOTA_UM_MiniTaunt","id":536},{"name":"DOTA_UM_BuyBackStateAlert","id":537},{"name":"DOTA_UM_SpeechBubble","id":538},{"name":"DOTA_UM_CustomHeaderMessage","id":539},{"name":"DOTA_UM_QuickBuyAlert","id":540},{"name":"DOTA_UM_StatsHeroDetails","id":541},{"name":"DOTA_UM_PredictionResult","id":542},{"name":"DOTA_UM_ModifierAlert","id":543},{"name":"DOTA_UM_HPManaAlert","id":544},{"name":"DOTA_UM_GlyphAlert","id":545},{"name":"DOTA_UM_BeastChat","id":546},{"name":"DOTA_UM_SpectatorPlayerUnitOrders","id":547},{"name":"DOTA_UM_CustomHudElement_Create","id":548},{"name":"DOTA_UM_CustomHudElement_Modify","id":549},{"name":"DOTA_UM_CustomHudElement_Destroy","id":550},{"name":"DOTA_UM_CompendiumState","id":551},{"name":"DOTA_UM_ProjectionAbility","id":552}]},{"name":"DOTA_CHAT_MESSAGE","values":[{"name":"CHAT_MESSAGE_INVALID","id":-1},{"name":"CHAT_MESSAGE_HERO_KILL","id":0},{"name":"CHAT_MESSAGE_HERO_DENY","id":1},{"name":"CHAT_MESSAGE_BARRACKS_KILL","id":2},{"name":"CHAT_MESSAGE_TOWER_KILL","id":3},{"name":"CHAT_MESSAGE_TOWER_DENY","id":4},{"name":"CHAT_MESSAGE_FIRSTBLOOD","id":5},{"name":"CHAT_MESSAGE_STREAK_KILL","id":6},{"name":"CHAT_MESSAGE_BUYBACK","id":7},{"name":"CHAT_MESSAGE_AEGIS","id":8},{"name":"CHAT_MESSAGE_ROSHAN_KILL","id":9},{"name":"CHAT_MESSAGE_COURIER_LOST","id":10},{"name":"CHAT_MESSAGE_COURIER_RESPAWNED","id":11},{"name":"CHAT_MESSAGE_GLYPH_USED","id":12},{"name":"CHAT_MESSAGE_ITEM_PURCHASE","id":13},{"name":"CHAT_MESSAGE_CONNECT","id":14},{"name":"CHAT_MESSAGE_DISCONNECT","id":15},{"name":"CHAT_MESSAGE_DISCONNECT_WAIT_FOR_RECONNECT","id":16},{"name":"CHAT_MESSAGE_DISCONNECT_TIME_REMAINING","id":17},{"name":"CHAT_MESSAGE_DISCONNECT_TIME_REMAINING_PLURAL","id":18},{"name":"CHAT_MESSAGE_RECONNECT","id":19},{"name":"CHAT_MESSAGE_PLAYER_LEFT","id":20},{"name":"CHAT_MESSAGE_SAFE_TO_LEAVE","id":21},{"name":"CHAT_MESSAGE_RUNE_PICKUP","id":22},{"name":"CHAT_MESSAGE_RUNE_BOTTLE","id":23},{"name":"CHAT_MESSAGE_INTHEBAG","id":24},{"name":"CHAT_MESSAGE_SECRETSHOP","id":25},{"name":"CHAT_MESSAGE_ITEM_AUTOPURCHASED","id":26},{"name":"CHAT_MESSAGE_ITEMS_COMBINED","id":27},{"name":"CHAT_MESSAGE_SUPER_CREEPS","id":28},{"name":"CHAT_MESSAGE_CANT_USE_ACTION_ITEM","id":29},{"name":"CHAT_MESSAGE_CHARGES_EXHAUSTED","id":30},{"name":"CHAT_MESSAGE_CANTPAUSE","id":31},{"name":"CHAT_MESSAGE_NOPAUSESLEFT","id":32},{"name":"CHAT_MESSAGE_CANTPAUSEYET","id":33},{"name":"CHAT_MESSAGE_PAUSED","id":34},{"name":"CHAT_MESSAGE_UNPAUSE_COUNTDOWN","id":35},{"name":"CHAT_MESSAGE_UNPAUSED","id":36},{"name":"CHAT_MESSAGE_AUTO_UNPAUSED","id":37},{"name":"CHAT_MESSAGE_YOUPAUSED","id":38},{"name":"CHAT_MESSAGE_CANTUNPAUSETEAM","id":39},{"name":"CHAT_MESSAGE_VOICE_TEXT_BANNED","id":41},{"name":"CHAT_MESSAGE_SPECTATORS_WATCHING_THIS_GAME","id":42},{"name":"CHAT_MESSAGE_REPORT_REMINDER","id":43},{"name":"CHAT_MESSAGE_ECON_ITEM","id":44},{"name":"CHAT_MESSAGE_TAUNT","id":45},{"name":"CHAT_MESSAGE_RANDOM","id":46},{"name":"CHAT_MESSAGE_RD_TURN","id":47},{"name":"CHAT_MESSAGE_DROP_RATE_BONUS","id":49},{"name":"CHAT_MESSAGE_NO_BATTLE_POINTS","id":50},{"name":"CHAT_MESSAGE_DENIED_AEGIS","id":51},{"name":"CHAT_MESSAGE_INFORMATIONAL","id":52},{"name":"CHAT_MESSAGE_AEGIS_STOLEN","id":53},{"name":"CHAT_MESSAGE_ROSHAN_CANDY","id":54},{"name":"CHAT_MESSAGE_ITEM_GIFTED","id":55},{"name":"CHAT_MESSAGE_HERO_KILL_WITH_GREEVIL","id":56},{"name":"CHAT_MESSAGE_HOLDOUT_TOWER_DESTROYED","id":57},{"name":"CHAT_MESSAGE_HOLDOUT_WALL_DESTROYED","id":58},{"name":"CHAT_MESSAGE_HOLDOUT_WALL_FINISHED","id":59},{"name":"CHAT_MESSAGE_PLAYER_LEFT_LIMITED_HERO","id":62},{"name":"CHAT_MESSAGE_ABANDON_LIMITED_HERO_EXPLANATION","id":63},{"name":"CHAT_MESSAGE_DISCONNECT_LIMITED_HERO","id":64},{"name":"CHAT_MESSAGE_LOW_PRIORITY_COMPLETED_EXPLANATION","id":65},{"name":"CHAT_MESSAGE_RECRUITMENT_DROP_RATE_BONUS","id":66},{"name":"CHAT_MESSAGE_FROSTIVUS_SHINING_BOOSTER_ACTIVE","id":67},{"name":"CHAT_MESSAGE_PLAYER_LEFT_AFK","id":73},{"name":"CHAT_MESSAGE_PLAYER_LEFT_DISCONNECTED_TOO_LONG","id":74},{"name":"CHAT_MESSAGE_PLAYER_ABANDONED","id":75},{"name":"CHAT_MESSAGE_PLAYER_ABANDONED_AFK","id":76},{"name":"CHAT_MESSAGE_PLAYER_ABANDONED_DISCONNECTED_TOO_LONG","id":77},{"name":"CHAT_MESSAGE_WILL_NOT_BE_SCORED","id":78},{"name":"CHAT_MESSAGE_WILL_NOT_BE_SCORED_RANKED","id":79},{"name":"CHAT_MESSAGE_WILL_NOT_BE_SCORED_NETWORK","id":80},{"name":"CHAT_MESSAGE_WILL_NOT_BE_SCORED_NETWORK_RANKED","id":81},{"name":"CHAT_MESSAGE_CAN_QUIT_WITHOUT_ABANDON","id":82},{"name":"CHAT_MESSAGE_RANKED_GAME_STILL_SCORED_LEAVERS_GET_LOSS","id":83},{"name":"CHAT_MESSAGE_ABANDON_RANKED_BEFORE_FIRST_BLOOD_PARTY","id":84},{"name":"CHAT_MESSAGE_COMPENDIUM_LEVEL","id":85},{"name":"CHAT_MESSAGE_VICTORY_PREDICTION_STREAK","id":86},{"name":"CHAT_MESSAGE_ASSASSIN_ANNOUNCE","id":87},{"name":"CHAT_MESSAGE_ASSASSIN_SUCCESS","id":88},{"name":"CHAT_MESSAGE_ASSASSIN_DENIED","id":89},{"name":"CHAT_MESSAGE_VICTORY_PREDICTION_SINGLE_USER_CONFIRM","id":90},{"name":"CHAT_MESSAGE_EFFIGY_KILL","id":91},{"name":"CHAT_MESSAGE_VOICE_TEXT_BANNED_OVERFLOW","id":92},{"name":"CHAT_MESSAGE_YEAR_BEAST_KILLED","id":93},{"name":"CHAT_MESSAGE_PAUSE_COUNTDOWN","id":94}]},{"name":"DOTA_NO_BATTLE_POINTS_REASONS","values":[{"name":"NO_BATTLE_POINTS_WRONG_LOBBY_TYPE","id":1},{"name":"NO_BATTLE_POINTS_PRACTICE_BOTS","id":2},{"name":"NO_BATTLE_POINTS_CHEATS_ENABLED","id":3},{"name":"NO_BATTLE_POINTS_LOW_PRIORITY","id":4}]},{"name":"DOTA_CHAT_INFORMATIONAL","values":[{"name":"INFO_COOP_BATTLE_POINTS_RULES","id":1},{"name":"INFO_FROSTIVUS_ABANDON_REMINDER","id":2},{"name":"INFO_RANKED_REMINDER","id":3},{"name":"INFO_COOP_LOW_PRIORITY_PASSIVE_REMINDER","id":4}]},{"name":"DOTA_ABILITY_PING_TYPE","values":[{"name":"ABILITY_PING_READY","id":1},{"name":"ABILITY_PING_MANA","id":2},{"name":"ABILITY_PING_COOLDOWN","id":3},{"name":"ABILITY_PING_ENEMY","id":4},{"name":"ABILITY_PING_UNLEARNED","id":5}]},{"name":"EDotaEntityMessages","values":[{"name":"DOTA_UNIT_SPEECH","id":0},{"name":"DOTA_UNIT_SPEECH_MUTE","id":1},{"name":"DOTA_UNIT_ADD_GESTURE","id":2},{"name":"DOTA_UNIT_REMOVE_GESTURE","id":3},{"name":"DOTA_UNIT_REMOVE_ALL_GESTURES","id":4},{"name":"DOTA_UNIT_FADE_GESTURE","id":6},{"name":"DOTA_UNIT_SPEECH_CLIENTSIDE_RULES","id":7}]},{"name":"DOTA_PARTICLE_MESSAGE","values":[{"name":"DOTA_PARTICLE_MANAGER_EVENT_CREATE","id":0},{"name":"DOTA_PARTICLE_MANAGER_EVENT_UPDATE","id":1},{"name":"DOTA_PARTICLE_MANAGER_EVENT_UPDATE_FORWARD","id":2},{"name":"DOTA_PARTICLE_MANAGER_EVENT_UPDATE_ORIENTATION","id":3},{"name":"DOTA_PARTICLE_MANAGER_EVENT_UPDATE_FALLBACK","id":4},{"name":"DOTA_PARTICLE_MANAGER_EVENT_UPDATE_ENT","id":5},{"name":"DOTA_PARTICLE_MANAGER_EVENT_UPDATE_OFFSET","id":6},{"name":"DOTA_PARTICLE_MANAGER_EVENT_DESTROY","id":7},{"name":"DOTA_PARTICLE_MANAGER_EVENT_DESTROY_INVOLVING","id":8},{"name":"DOTA_PARTICLE_MANAGER_EVENT_RELEASE","id":9},{"name":"DOTA_PARTICLE_MANAGER_EVENT_LATENCY","id":10},{"name":"DOTA_PARTICLE_MANAGER_EVENT_SHOULD_DRAW","id":11},{"name":"DOTA_PARTICLE_MANAGER_EVENT_FROZEN","id":12},{"name":"DOTA_PARTICLE_MANAGER_EVENT_CHANGE_CONTROL_POINT_ATTACHMENT","id":13}]},{"name":"DOTA_OVERHEAD_ALERT","values":[{"name":"OVERHEAD_ALERT_GOLD","id":0},{"name":"OVERHEAD_ALERT_DENY","id":1},{"name":"OVERHEAD_ALERT_CRITICAL","id":2},{"name":"OVERHEAD_ALERT_XP","id":3},{"name":"OVERHEAD_ALERT_BONUS_SPELL_DAMAGE","id":4},{"name":"OVERHEAD_ALERT_MISS","id":5},{"name":"OVERHEAD_ALERT_DAMAGE","id":6},{"name":"OVERHEAD_ALERT_EVADE","id":7},{"name":"OVERHEAD_ALERT_BLOCK","id":8},{"name":"OVERHEAD_ALERT_BONUS_POISON_DAMAGE","id":9},{"name":"OVERHEAD_ALERT_HEAL","id":10},{"name":"OVERHEAD_ALERT_MANA_ADD","id":11},{"name":"OVERHEAD_ALERT_MANA_LOSS","id":12},{"name":"OVERHEAD_ALERT_LAST_HIT_EARLY","id":13},{"name":"OVERHEAD_ALERT_LAST_HIT_CLOSE","id":14},{"name":"OVERHEAD_ALERT_LAST_HIT_MISS","id":15}]},{"name":"DOTA_POSITION_CATEGORY","values":[{"name":"DOTA_POSITION_NONE","id":0},{"name":"DOTA_POSITION_BOTTOM_LANE","id":1},{"name":"DOTA_POSITION_MID_LANE","id":2},{"name":"DOTA_POSITION_TOP_LANE","id":3},{"name":"DOTA_POSITION_RADIANT_JUNGLE","id":4},{"name":"DOTA_POSITION_DIRE_JUNGLE","id":5},{"name":"DOTA_POSITION_RADIANT_ANCIENTS","id":6},{"name":"DOTA_POSITION_DIRE_ANCIENTS","id":7},{"name":"DOTA_POSITION_RADIANT_SECRET_SHOP","id":8},{"name":"DOTA_POSITION_DIRE_SECRET_SHOP","id":9},{"name":"DOTA_POSITION_RIVER","id":10},{"name":"DOTA_POSITION_ROSHAN_PIT","id":11},{"name":"DOTA_POSITION_RADIANT_BASE","id":12},{"name":"DOTA_POSITION_DIRE_BASE","id":13},{"name":"DOTA_POSITION_FOUNTAIN","id":14},{"name":"DOTA_POSITION_OTHER","id":15}]},{"name":"DOTA_ABILITY_TARGET_TYPE","values":[{"name":"DOTA_ABILITY_TARGET_NONE","id":0},{"name":"DOTA_ABILITY_TARGET_SELF","id":1},{"name":"DOTA_ABILITY_TARGET_ALLY_HERO","id":2},{"name":"DOTA_ABILITY_TARGET_ALLY_CREEP","id":3},{"name":"DOTA_ABILITY_TARGET_ENEMY_HERO","id":4},{"name":"DOTA_ABILITY_TARGET_ENEMY_CREEP","id":5}]},{"name":"EHeroStatType","values":[{"name":"k_EHeroStatType_None","id":0},{"name":"k_EHeroStatType_AxeTotalDamage","id":2000},{"name":"k_EHeroStatType_BattleHungerDamage","id":2001},{"name":"k_EHeroStatType_CounterHelixDamage","id":2002},{"name":"k_EHeroStatType_CullingBladeDamage","id":2003},{"name":"k_EHeroStatType_BerserkersCallCastCount","id":2004},{"name":"k_EHeroStatType_BerserkersCallHeroesHitAverage","id":2005},{"name":"k_EHeroStatType_BerserkersCallOtherUnitsHit","id":2006},{"name":"k_EHeroStatType_BerserkersCallHeroAttacksTaken","id":2007},{"name":"k_EHeroStatType_BerserkersCallOtherAttacksTaken","id":2008},{"name":"k_EHeroStatType_BattleHungerCastCount","id":2009},{"name":"k_EHeroStatType_BattleHungerPotentialDuration","id":2010},{"name":"k_EHeroStatType_BattleHungerAverageDuration","id":2011},{"name":"k_EHeroStatType_CounterHelixProcCount","id":2012},{"name":"k_EHeroStatType_CounterHelixHeroProcCount","id":2013},{"name":"k_EHeroStatType_CounterHelixHeroesHitAverage","id":2014},{"name":"k_EHeroStatType_CounterHelixOtherUnitsHitCount","id":2015},{"name":"k_EHeroStatType_CullingBladeCastCount","id":2016},{"name":"k_EHeroStatType_CullingBladeKillCount","id":2017},{"name":"k_EHeroStatType_CullingBladeAverageHealthCulled","id":2018},{"name":"k_EHeroStatType_CullingBladeAverageDamageAvailable","id":2019},{"name":"k_EHeroStatType_CullingBladeHeroBuffAverage","id":2020}]},{"name":"EPlayerVoiceListenState","values":[{"name":"kPVLS_None","id":0},{"name":"kPVLS_DeniedChatBanned","id":1},{"name":"kPVLS_DeniedPartner","id":2},{"name":"kPVLS_DeniedHLTVTalkerNotSpectator","id":3},{"name":"kPVLS_DeniedHLTVNoTalkerPlayerID","id":4},{"name":"kPVLS_DeniedHLTVTalkerNotBroadcaster","id":5},{"name":"kPVLS_DeniedTeamSpectator","id":6},{"name":"kPVLS_DeniedStudent","id":8},{"name":"kPVLS_Denied","id":64},{"name":"kPVLS_AllowHLTVTalkerIsBroadcaster","id":65},{"name":"kPVLS_AllowCoBroadcaster","id":66},{"name":"kPVLS_AllowAllChat","id":67},{"name":"kPVLS_AllowStudentToCoach","id":68},{"name":"kPVLS_AllowFellowStudent","id":69},{"name":"kPVLS_AllowTalkerIsCoach","id":70},{"name":"kPVLS_AllowCoachHearTeam","id":71},{"name":"kPVLS_AllowSameTeam","id":72},{"name":"kPVLS_AllowShowcase","id":73}]},{"name":"EBaseGameEvents","values":[{"name":"GE_VDebugGameSessionIDEvent","id":200},{"name":"GE_PlaceDecalEvent","id":201},{"name":"GE_ClearWorldDecalsEvent","id":202},{"name":"GE_ClearEntityDecalsEvent","id":203},{"name":"GE_ClearDecalsForSkeletonInstanceEvent","id":204},{"name":"GE_Source1LegacyGameEventList","id":205},{"name":"GE_Source1LegacyListenEvents","id":206},{"name":"GE_Source1LegacyGameEvent","id":207},{"name":"GE_SosStartSoundEvent","id":208},{"name":"GE_SosStopSoundEvent","id":209},{"name":"GE_SosSetSoundEventParams","id":210},{"name":"GE_SosSetLibraryStackFields","id":211},{"name":"GE_SosStopSoundEventHash","id":212}]},{"name":"EGCSystemMsg","values":[{"name":"k_EGCMsgInvalid","id":0},{"name":"k_EGCMsgMulti","id":1},{"name":"k_EGCMsgGenericReply","id":10},{"name":"k_EGCMsgSystemBase","id":50},{"name":"k_EGCMsgAchievementAwarded","id":51},{"name":"k_EGCMsgConCommand","id":52},{"name":"k_EGCMsgStartPlaying","id":53},{"name":"k_EGCMsgStopPlaying","id":54},{"name":"k_EGCMsgStartGameserver","id":55},{"name":"k_EGCMsgStopGameserver","id":56},{"name":"k_EGCMsgWGRequest","id":57},{"name":"k_EGCMsgWGResponse","id":58},{"name":"k_EGCMsgGetUserGameStatsSchema","id":59},{"name":"k_EGCMsgGetUserGameStatsSchemaResponse","id":60},{"name":"k_EGCMsgGetUserStatsDEPRECATED","id":61},{"name":"k_EGCMsgGetUserStatsResponse","id":62},{"name":"k_EGCMsgAppInfoUpdated","id":63},{"name":"k_EGCMsgValidateSession","id":64},{"name":"k_EGCMsgValidateSessionResponse","id":65},{"name":"k_EGCMsgLookupAccountFromInput","id":66},{"name":"k_EGCMsgSendHTTPRequest","id":67},{"name":"k_EGCMsgSendHTTPRequestResponse","id":68},{"name":"k_EGCMsgPreTestSetup","id":69},{"name":"k_EGCMsgRecordSupportAction","id":70},{"name":"k_EGCMsgGetAccountDetails_DEPRECATED","id":71},{"name":"k_EGCMsgReceiveInterAppMessage","id":73},{"name":"k_EGCMsgFindAccounts","id":74},{"name":"k_EGCMsgPostAlert","id":75},{"name":"k_EGCMsgGetLicenses","id":76},{"name":"k_EGCMsgGetUserStats","id":77},{"name":"k_EGCMsgGetCommands","id":78},{"name":"k_EGCMsgGetCommandsResponse","id":79},{"name":"k_EGCMsgAddFreeLicense","id":80},{"name":"k_EGCMsgAddFreeLicenseResponse","id":81},{"name":"k_EGCMsgGetIPLocation","id":82},{"name":"k_EGCMsgGetIPLocationResponse","id":83},{"name":"k_EGCMsgSystemStatsSchema","id":84},{"name":"k_EGCMsgGetSystemStats","id":85},{"name":"k_EGCMsgGetSystemStatsResponse","id":86},{"name":"k_EGCMsgSendEmail","id":87},{"name":"k_EGCMsgSendEmailResponse","id":88},{"name":"k_EGCMsgGetEmailTemplate","id":89},{"name":"k_EGCMsgGetEmailTemplateResponse","id":90},{"name":"k_EGCMsgGrantGuestPass","id":91},{"name":"k_EGCMsgGrantGuestPassResponse","id":92},{"name":"k_EGCMsgGetAccountDetails","id":93},{"name":"k_EGCMsgGetAccountDetailsResponse","id":94},{"name":"k_EGCMsgGetPersonaNames","id":95},{"name":"k_EGCMsgGetPersonaNamesResponse","id":96},{"name":"k_EGCMsgMultiplexMsg","id":97},{"name":"k_EGCMsgWebAPIRegisterInterfaces","id":101},{"name":"k_EGCMsgWebAPIJobRequest","id":102},{"name":"k_EGCMsgWebAPIJobRequestHttpResponse","id":104},{"name":"k_EGCMsgWebAPIJobRequestForwardResponse","id":105},{"name":"k_EGCMsgMemCachedGet","id":200},{"name":"k_EGCMsgMemCachedGetResponse","id":201},{"name":"k_EGCMsgMemCachedSet","id":202},{"name":"k_EGCMsgMemCachedDelete","id":203},{"name":"k_EGCMsgMemCachedStats","id":204},{"name":"k_EGCMsgMemCachedStatsResponse","id":205},{"name":"k_EGCMsgSQLStats","id":210},{"name":"k_EGCMsgSQLStatsResponse","id":211},{"name":"k_EGCMsgMasterSetDirectory","id":220},{"name":"k_EGCMsgMasterSetDirectoryResponse","id":221},{"name":"k_EGCMsgMasterSetWebAPIRouting","id":222},{"name":"k_EGCMsgMasterSetWebAPIRoutingResponse","id":223},{"name":"k_EGCMsgMasterSetClientMsgRouting","id":224},{"name":"k_EGCMsgMasterSetClientMsgRoutingResponse","id":225},{"name":"k_EGCMsgSetOptions","id":226},{"name":"k_EGCMsgSetOptionsResponse","id":227},{"name":"k_EGCMsgSystemBase2","id":500},{"name":"k_EGCMsgGetPurchaseTrustStatus","id":501},{"name":"k_EGCMsgGetPurchaseTrustStatusResponse","id":502},{"name":"k_EGCMsgUpdateSession","id":503},{"name":"k_EGCMsgGCAccountVacStatusChange","id":504},{"name":"k_EGCMsgCheckFriendship","id":505},{"name":"k_EGCMsgCheckFriendshipResponse","id":506},{"name":"k_EGCMsgGetPartnerAccountLink","id":507},{"name":"k_EGCMsgGetPartnerAccountLinkResponse","id":508},{"name":"k_EGCMsgVSReportedSuspiciousActivity","id":509},{"name":"k_EGCMsgDPPartnerMicroTxns","id":512},{"name":"k_EGCMsgDPPartnerMicroTxnsResponse","id":513},{"name":"k_EGCMsgGetIPASN","id":514},{"name":"k_EGCMsgGetIPASNResponse","id":515},{"name":"k_EGCMsgGetAppFriendsList","id":516},{"name":"k_EGCMsgGetAppFriendsListResponse","id":517}]},{"name":"ESOMsg","values":[{"name":"k_ESOMsg_Create","id":21},{"name":"k_ESOMsg_Update","id":22},{"name":"k_ESOMsg_Destroy","id":23},{"name":"k_ESOMsg_CacheSubscribed","id":24},{"name":"k_ESOMsg_CacheUnsubscribed","id":25},{"name":"k_ESOMsg_UpdateMultiple","id":26},{"name":"k_ESOMsg_CacheSubscriptionRefresh","id":28},{"name":"k_ESOMsg_CacheSubscribedUpToDate","id":29}]},{"name":"EGCBaseClientMsg","values":[{"name":"k_EMsgGCPingRequest","id":3001},{"name":"k_EMsgGCPingResponse","id":3002},{"name":"k_EMsgGCClientWelcome","id":4004},{"name":"k_EMsgGCServerWelcome","id":4005},{"name":"k_EMsgGCClientHello","id":4006},{"name":"k_EMsgGCServerHello","id":4007},{"name":"k_EMsgGCClientConnectionStatus","id":4009},{"name":"k_EMsgGCServerConnectionStatus","id":4010}]},{"name":"EGCToGCMsg","values":[{"name":"k_EGCToGCMsgMasterAck","id":150},{"name":"k_EGCToGCMsgMasterAckResponse","id":151},{"name":"k_EGCToGCMsgRouted","id":152},{"name":"k_EGCToGCMsgRoutedReply","id":153},{"name":"k_EMsgGCUpdateSubGCSessionInfo","id":154},{"name":"k_EMsgGCRequestSubGCSessionInfo","id":155},{"name":"k_EMsgGCRequestSubGCSessionInfoResponse","id":156},{"name":"k_EGCToGCMsgMasterStartupComplete","id":157},{"name":"k_EMsgGCToGCSOCacheSubscribe","id":158},{"name":"k_EMsgGCToGCSOCacheUnsubscribe","id":159},{"name":"k_EMsgGCToGCLoadSessionSOCache","id":160},{"name":"k_EMsgGCToGCLoadSessionSOCacheResponse","id":161},{"name":"k_EMsgGCToGCUpdateSessionStats","id":162}]},{"name":"ESteamDatagramMsgID","values":[{"name":"k_ESteamDatagramMsg_RouterPingRequest","id":1},{"name":"k_ESteamDatagramMsg_RouterPingReply","id":2},{"name":"k_ESteamDatagramMsg_GameserverPingRequest","id":3},{"name":"k_ESteamDatagramMsg_GameserverPingReply","id":4},{"name":"k_ESteamDatagramMsg_GameserverSessionRequest","id":5},{"name":"k_ESteamDatagramMsg_GameserverSessionEstablished","id":6},{"name":"k_ESteamDatagramMsg_NoSession","id":7},{"name":"k_ESteamDatagramMsg_Diagnostic","id":8},{"name":"k_ESteamDatagramMsg_DataClientToRouter","id":9},{"name":"k_ESteamDatagramMsg_DataRouterToServer","id":10},{"name":"k_ESteamDatagramMsg_DataServerToRouter","id":11},{"name":"k_ESteamDatagramMsg_DataRouterToClient","id":12},{"name":"k_ESteamDatagramMsg_Stats","id":13},{"name":"k_ESteamDatagramMsg_ClientPingSampleRequest","id":14},{"name":"k_ESteamDatagramMsg_ClientPingSampleReply","id":15},{"name":"k_ESteamDatagramMsg_ClientToRouterSwitchedPrimary","id":16}]},{"name":"EProtoExecutionSite","values":[{"name":"k_EProtoExecutionSiteUnknown","id":0},{"name":"k_EProtoExecutionSiteSteamClient","id":3}]},{"name":"ETEProtobufIds","values":[{"name":"TE_EffectDispatchId","id":400},{"name":"TE_ArmorRicochetId","id":401},{"name":"TE_BeamEntPointId","id":402},{"name":"TE_BeamEntsId","id":403},{"name":"TE_BeamPointsId","id":404},{"name":"TE_BeamRingId","id":405},{"name":"TE_BreakModelId","id":406},{"name":"TE_BSPDecalId","id":407},{"name":"TE_BubblesId","id":408},{"name":"TE_BubbleTrailId","id":409},{"name":"TE_DecalId","id":410},{"name":"TE_WorldDecalId","id":411},{"name":"TE_EnergySplashId","id":412},{"name":"TE_FizzId","id":413},{"name":"TE_ShatterSurfaceId","id":414},{"name":"TE_GlowSpriteId","id":415},{"name":"TE_ImpactId","id":416},{"name":"TE_MuzzleFlashId","id":417},{"name":"TE_BloodStreamId","id":418},{"name":"TE_ExplosionId","id":419},{"name":"TE_DustId","id":420},{"name":"TE_LargeFunnelId","id":421},{"name":"TE_SparksId","id":422},{"name":"TE_PhysicsPropId","id":423},{"name":"TE_PlayerDecalId","id":424},{"name":"TE_ProjectedDecalId","id":425},{"name":"TE_SmokeId","id":426}]},{"name":"EBaseUserMessages","values":[{"name":"UM_AchievementEvent","id":101},{"name":"UM_CloseCaption","id":102},{"name":"UM_CloseCaptionDirect","id":103},{"name":"UM_CurrentTimescale","id":104},{"name":"UM_DesiredTimescale","id":105},{"name":"UM_Fade","id":106},{"name":"UM_GameTitle","id":107},{"name":"UM_HintText","id":109},{"name":"UM_HudMsg","id":110},{"name":"UM_HudText","id":111},{"name":"UM_KeyHintText","id":112},{"name":"UM_ColoredText","id":113},{"name":"UM_RequestState","id":114},{"name":"UM_ResetHUD","id":115},{"name":"UM_Rumble","id":116},{"name":"UM_SayText","id":117},{"name":"UM_SayText2","id":118},{"name":"UM_SayTextChannel","id":119},{"name":"UM_Shake","id":120},{"name":"UM_ShakeDir","id":121},{"name":"UM_TextMsg","id":124},{"name":"UM_ScreenTilt","id":125},{"name":"UM_Train","id":126},{"name":"UM_VGUIMenu","id":127},{"name":"UM_VoiceMask","id":128},{"name":"UM_VoiceSubtitle","id":129},{"name":"UM_SendAudio","id":130},{"name":"UM_ItemPickup","id":131},{"name":"UM_AmmoDenied","id":132},{"name":"UM_CrosshairAngle","id":133},{"name":"UM_ShowMenu","id":134},{"name":"UM_CreditsMsg","id":135},{"name":"UM_CloseCaptionPlaceholder","id":142},{"name":"UM_CameraTransition","id":143},{"name":"UM_AudioParameter","id":144},{"name":"UM_ParticleManager","id":145},{"name":"UM_HudError","id":146},{"name":"UM_CustomGameEvent_ClientToServer","id":147},{"name":"UM_CustomGameEvent_ServerToClient","id":148},{"name":"UM_TrackedControllerInput_ClientToServer","id":149},{"name":"UM_MAX_BASE","id":200}]},{"name":"EBaseEntityMessages","values":[{"name":"EM_PlayJingle","id":136},{"name":"EM_ScreenOverlay","id":137},{"name":"EM_RemoveAllDecals","id":138},{"name":"EM_PropagateForce","id":139},{"name":"EM_DoSpark","id":140},{"name":"EM_FixAngle","id":141}]},{"name":"eRollType","values":[{"name":"ROLL_NONE","id":-1},{"name":"ROLL_STATS","id":0},{"name":"ROLL_CREDITS","id":1},{"name":"ROLL_LATE_JOIN_LOGO","id":2},{"name":"ROLL_OUTTRO","id":3}]},{"name":"PARTICLE_MESSAGE","values":[{"name":"GAME_PARTICLE_MANAGER_EVENT_CREATE","id":0},{"name":"GAME_PARTICLE_MANAGER_EVENT_UPDATE","id":1},{"name":"GAME_PARTICLE_MANAGER_EVENT_UPDATE_FORWARD","id":2},{"name":"GAME_PARTICLE_MANAGER_EVENT_UPDATE_ORIENTATION","id":3},{"name":"GAME_PARTICLE_MANAGER_EVENT_UPDATE_FALLBACK","id":4},{"name":"GAME_PARTICLE_MANAGER_EVENT_UPDATE_ENT","id":5},{"name":"GAME_PARTICLE_MANAGER_EVENT_UPDATE_OFFSET","id":6},{"name":"GAME_PARTICLE_MANAGER_EVENT_DESTROY","id":7},{"name":"GAME_PARTICLE_MANAGER_EVENT_DESTROY_INVOLVING","id":8},{"name":"GAME_PARTICLE_MANAGER_EVENT_RELEASE","id":9},{"name":"GAME_PARTICLE_MANAGER_EVENT_LATENCY","id":10},{"name":"GAME_PARTICLE_MANAGER_EVENT_SHOULD_DRAW","id":11},{"name":"GAME_PARTICLE_MANAGER_EVENT_FROZEN","id":12},{"name":"GAME_PARTICLE_MANAGER_EVENT_CHANGE_CONTROL_POINT_ATTACHMENT","id":13}]}]'),kE=[{name:"Cloud",options:{"(service_description)":"A service for Steam Cloud operations."},rpc:{GetUploadServerInfo:{request:"CCloud_GetUploadServerInfo_Request",response:"CCloud_GetUploadServerInfo_Response",options:{"(method_description)":"Returns the URL of the proper cloud server for a user."}},GetFileDetails:{request:"CCloud_GetFileDetails_Request",response:"CCloud_GetFileDetails_Response",options:{"(method_description)":"Returns details on a Cloud file."}},EnumerateUserFiles:{request:"CCloud_EnumerateUserFiles_Request",response:"CCloud_EnumerateUserFiles_Response",options:{"(method_description)":"Enumerates Cloud files for a user of a given app ID. Returns up to 500 files at a time."}},Delete:{request:"CCloud_Delete_Request",response:"CCloud_Delete_Response",options:{"(method_description)":"Deletes a file from the user's cloud."}}}},{name:"OAuthToken",options:{"(service_description)":"Service containing methods to manage OAuth tokens"},rpc:{ImplicitGrantNoPrompt:{request:"COAuthToken_ImplicitGrantNoPrompt_Request",response:"COAuthToken_ImplicitGrantNoPrompt_Response",options:{"(method_description)":"Grants an implicit OAuth token (grant type 'token') for the specified client ID on behalf of a user without prompting"}}}}],BE={package:null,options:GE,messages:UE,enums:FE,services:kE};var Or,Vd;function VE(){if(Vd)return Or;Vd=1;var a=RE(),e=bE(),t=DE(),n=Vi.EventEmitter,i=OE(),r=Vi,l=LE,p=BE,c=l.packets,u=l.dems,m=a.newBuilder();a.loadJson(p,m);var d=m.build();d.CDemoSignonPacket=d.CDemoPacket;var o=function(s){if(s.byteLength){for(var h=new Buffer(s.byteLength),g=new Uint8Array(s),_=0;_<h.length;_++)h[_]=g[_];s=h}if(Buffer.isBuffer(s)){var f=new r.PassThrough;f.end(s),s=f}var E=!1,T=new n;return T.types=l,T.game_event_descriptors={},T.string_tables={tables:[],byName:{}},T.entities={},T.start=function(b){s.on("end",function(){return E=!0,s.removeAllListeners(),b()}),i.series({header:function(x){B(8,function(k,Z){x(k||Z.toString()!=="PBDEMS2\0",Z)})},size1:Y,size2:Y,demo:function(x){i.until(function(){return E},R,x)}},b)},T.on("CDemoStop",function(M){}),T.on("CDemoSignonPacket",O),T.on("CDemoPacket",O),T.on("CDemoFullPacket",function(M){O(M.packet)}),T.on("CSVCMsg_CreateStringTable",P),T.on("CSVCMsg_UpdateStringTable",N),T.on("CMsgSource1LegacyGameEventList",function(M){for(var b=T.game_event_descriptors,x=0;x<M.descriptors.length;x++)b[M.descriptors[x].eventid]=M.descriptors[x]}),T;function R(M){i.series({command:y,tick:y,size:y},function(b,x){if(b)return M(b);v(x.size,function(k,Z){var q=x.command;x.tick,x.size;var J=q&~d.EDemoCommands.DEM_IsCompressed,de=(q&d.EDemoCommands.DEM_IsCompressed)===d.EDemoCommands.DEM_IsCompressed;de&&(Z=e.uncompressSync(Z));var ie={data:Z};if(J in u){var be=u[J];d[be]?A(be)&&(ie.data=d[be].decode(ie.data),ie.data.proto_name=be,T.emit("*",ie.data),T.emit(be,ie.data)):console.error("no proto definition for dem type %s",J)}else console.error("no proto name for dem type %s",J);return M(k)})})}function O(M){for(var b={CNETMsg_Tick:-10,CSVCMsg_CreateStringTable:-10,CSVCMsg_UpdateStringTable:-10,CNETMsg_SpawnGroup_Load:-10,CSVCMsg_PacketEntities:5,CMsgSource1LegacyGameEvent:10},x=[],k=new Buffer(M.data.toBuffer()),Z=new t(k);Z.limit-Z.offset>=8;){var q=Z.readUBitVar(),J=Z.readVarUInt(),de=Z.readBuffer(J*8),ie={type:q,size:J,data:de,position:x.length};x.push(ie)}x.sort(function(L,V){var H=b[c[L.type]]||0,X=b[c[V.type]]||0;return H===X?L.position-V.position:H-X});for(var be=0;be<x.length;be++){var Le=x[be],w=Le.type;if(w in c){var C=c[w];d[C]?A(C)&&(Le.data=d[C].decode(Le.data),Le.data.proto_name=C,T.emit("*",Le.data),T.emit(C,Le.data)):console.error("no proto definition for packet name %s",C)}else console.error("no proto name for packet type %s",w)}}function P(M){var b=new Buffer(M.string_data.toBuffer());M.data_compressed&&(b=e.uncompressSync(b));var x=U(b,M.num_entries,M.user_data_fixed_size,M.user_data_size);M.string_data={},x.forEach(function(k){M.string_data[k.index]=k}),T.string_tables.byName[M.name]=M,T.string_tables.tables.push(M)}function N(M){var b=T.string_tables.tables[M.table_id],x=new Buffer(M.string_data.toBuffer());if(b){var k=U(x,M.num_changed_entries,b.user_data_fixed_size,b.user_data_size),Z=b.string_data;k.forEach(function(q){Z[q.index]?(q.key&&(Z[q.index].key=q.key),q.value.length&&(Z[q.index].value=q.value)):Z[q.index]=q})}else throw"string table doesn't exist!"}function U(M,b,x,k){if(!M.length)return[];for(var Z=[],q=new t(M),J=-1,de=32,ie=[],be=0;be<b;be++){var Le=null,w=new Buffer(0),C=q.readBoolean();C?J+=1:J=q.readVarUInt()+1;var L=q.readBoolean();if(L){var V=q.readBoolean();if(V){var H=q.readBits(5),X=q.readBits(5);if(H>=ie.length)Le=q.readNullTerminatedString();else{var ee=ie[H];X>ee.length?Le=ee+q.readNullTerminatedString():Le=ee.slice(0,X)+q.readNullTerminatedString()}}else Le=q.readNullTerminatedString();ie.push(Le),ie.length>de&&ie.shift()}var oe=q.readBoolean();if(oe)if(x)w=q.readBuffer(k);else{var le=q.readBits(14);q.readBits(3),w=q.readBuffer(le*8)}Z.push({index:J,key:Le,value:w})}return Z}function A(M){return T.listeners(M).length||T.listeners("*").length}function D(M){v(1,function(b,x){M(b,x.readInt8(0))})}function B(M,b){v(M,function(x,k){b(x,k.toString())})}function Y(M){v(4,function(b,x){M(b,x.readUInt32LE(0))})}function y(M){D(function(b,x){if(x>=0)return M(b,x);var k=x&127;D(function(Z,q){if(q>=0)return k|=q<<7,M(Z,k);k|=(q&127)<<7,D(function(J,de){if(de>=0)return k|=de<<14,M(J,k);k|=(de&127)<<14,D(function(ie,be){if(be>=0)return k|=be<<21,M(ie,k);k|=(be&127)<<21,D(function(Le,w){return k|=w<<28,w<0&&(Le="malformed varint detected"),M(Le,k)})})})})})}function v(M,b){if(!M)return b(null,new Buffer(""));var x=s.read(M);if(x)return b(null,x);s.once("readable",function(){return v(M,b)})}};return Ca.Parser=o,Or=o,Or}var ai=VE();const HE=CE(ai);let ln,dn,co,ho,Qt=new mc;const Ir=[],fo=new Ye;let Gt;const _o=["Landscape","Plane","Terrain"];let Hd,zd;const go=new Ve;let Fn=null,ti=null,Wd=[],_a=null,qd=null,jt;const en=new ym;en.background=new ke(8900331);const gi=new Ft(75,window.innerWidth/window.innerHeight,.1,100);gi.position.set(10,10,10);const _t=new uy({antialias:!0});_t.shadowMap.enabled=!0;_t.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(_t.domElement);const Fu=new my(gi,_t.domElement);Fu.enableDamping=!0;async function zE(){try{console.log("Initializing Rapier physics..."),await HE(),ti=new ai.World(new ai.Vector3(0,-9.8,0)),console.log(" Physics world initialized")}catch(a){console.error(" Failed to initialize Rapier:",a),console.warn("Physics will be disabled, but scene will continue loading..."),ti=null}}async function WE(){console.log("initScene() starting..."),await zE(),window.addEventListener("mousemove",M=>{_t.xr.isPresenting||(go.x=M.clientX/window.innerWidth*2-1,go.y=-(M.clientY/window.innerHeight)*2+1)}),window.addEventListener("mousedown",M=>{if(!_t.xr.isPresenting&&M.button===0){Qt.setFromCamera(go,gi);const b=Qt.intersectObjects(Gt.children,!0);if(b.length>0){const x=b[0].object;_o.includes(x.name)||(Fn=x,x.material&&!x.material.emissive&&(x.material.emissive=new ke(0)),x.material&&x.material.emissive&&(x.material.emissive.b=1))}}});function a(M,b=1,x="cuboid"){if(!ti)return;const k=M.position,Z=b===0?ai.RigidBodyDesc.fixed():ai.RigidBodyDesc.dynamic().setLinearDamping(.5).setAngularDamping(.5);Z.setTranslation(k.x,k.y,k.z);const q=ti.createRigidBody(Z);let J;x==="cuboid"?J=ai.ColliderDesc.cuboid(.5,.5,.5):x==="sphere"?J=ai.ColliderDesc.ball(.5):x==="plane"&&(J=ai.ColliderDesc.cuboid(100,.1,100)),ti.createCollider(J,q),M.userData.physicsBody=q,Wd.push({mesh:M,body:q})}function e(){ti&&Wd.forEach(({mesh:M,body:b})=>{const x=b.translation(),k=b.rotation();M.position.set(x.x,x.y,x.z),M.quaternion.set(k.x,k.y,k.z,k.w)})}window.addEventListener("mouseup",M=>{Fn&&(Fn.material&&Fn.material.emissive&&(Fn.material.emissive.b=0,Fn.material.emissive.r=1),Fn=null)});const t=new Vn;t.userData.grabbable=!0;const n=new ii({color:16777215}),i=new ct(new Ei(1,32,32),n);i.position.y=1,t.add(i);const r=new ct(new Ei(.7,32,32),n);r.position.y=2.3,t.add(r);const l=new ct(new Ei(.5,32,32),n);l.position.y=3.3,t.add(l);const p=new ii({color:0}),c=new Ei(.07,16,16),u=new ct(c,p);u.position.set(-.17,3.38,.45),t.add(u);const m=new ct(c,p);m.position.set(.17,3.38,.45),t.add(m);const d=new ii({color:16753920}),o=new ct(new js(.1,.6,16),d);o.position.set(0,3.25,.55),o.rotation.x=Math.PI/2,t.add(o);const s=new ii({color:0}),h=new ct(new Pa(.7,.7,.1,32),s);h.position.y=3.7,t.add(h);const g=new ct(new Pa(.4,.4,.8,32),s);g.position.y=4.15,t.add(g),Gt=new Vn,en.add(Gt),console.log(" Group created and added to scene"),en.add(new ec(16777215,.4)),console.log(" Ambient light added");const _=new vu(16777215,.8);_.position.set(5,10,5),en.add(_),console.log(" Directional light added");const f=new Na(200,200),E=new ii({color:13421772,metalness:.2,roughness:.8}),T=new ct(f,E);T.rotation.x=-Math.PI/2,T.position.y=0,T.receiveShadow=!0,T.castShadow=!1,T.userData.isFloor=!0,en.add(T),a(T,0,"plane"),console.log(" Flat floor created"),_a=new ct(new Ks(.25,32).rotateX(-Math.PI/2),new Bn({color:65280,transparent:!0,opacity:.8})),en.add(_a),_a.visible=!1,console.log(" Teleport marker created"),t.position.y=1,Gt.add(t),a(t,1,"sphere"),console.log(" Snowman added to group at position:",t.position);const R=new xs(_t);R.compileEquirectangularShader(),console.log(" PMREM generator created"),new rE().setDataType(zt).load("https://cdn.jsdelivr.net/gh/mrdoob/three.js@master/examples/textures/equirectangular/royal_esplanade_1k.hdr",M=>{const b=R.fromEquirectangular(M).texture;en.environment=b,M.dispose(),R.dispose(),console.log(" HDR environment map loaded")},void 0,M=>{console.error(" HDR load error:",M)});const P=new Pu;P.load("./models/scene.gltf",M=>{console.log(" Scene.gltf loaded");const b=M.scene;b.scale.set(1,1,1),b.position.set(14,0,-7),b.traverse(function(Z){Z.material&&(Z.material.side=un,Z.castShadow=!0,Z.receiveShadow=!0)});const k=new bn().setFromObject(b).min.y;b.position.y=-k,Gt.add(b),a(b,3,"cuboid"),console.log(" Landscape added to scene")},void 0,M=>console.error(" Scene.gltf load error:",M)),P.load("./models/rock.glb",M=>{console.log(" Rock.glb loaded");const b=M.scene;[{x:-10,z:-5},{x:5,z:10},{x:15,z:5},{x:-20,z:15},{x:20,z:-15}].forEach((k,Z)=>{const q=b.clone();q.name=`Rock_${Z}`,q.position.set(k.x,3,k.z),q.traverse(J=>{J.material&&(J.material.emissive||(J.material.emissive=new ke(0)),J.castShadow=!0,J.receiveShadow=!0)}),Gt.add(q),a(q,2,"sphere"),console.log(` Rock ${Z} added at (${k.x}, 3, ${k.z})`)}),console.log(" All 5 rocks loaded and added")},void 0,M=>console.error("Rock.glb load error:",M)),window.addEventListener("resize",()=>{_t.xr.isPresenting||(gi.aspect=window.innerWidth/window.innerHeight,gi.updateProjectionMatrix(),_t.setSize(window.innerWidth,window.innerHeight))});function N(){console.log("initVR called"),_t.xr.enabled=!0,_t.xr.addEventListener("sessionstart",()=>{console.log(" XR Session STARTED - immersive mode active"),qd=_t.xr.getReferenceSpace()}),_t.xr.addEventListener("sessionend",()=>{console.log("XR Session ended"),Gt.position.set(0,0,0)});const M=EE.createButton(_t,{requiredFeatures:[],optionalFeatures:["hit-test","dom-overlay","dom-overlay-for-handheld-ar"],domOverlay:{root:document.body}});M.addEventListener("click",()=>{console.log("XR Button clicked")}),document.body.appendChild(M),console.log("XRButton created and appended");const b=new yE;ln=_t.xr.getController(0),ln.addEventListener("selectstart",U),ln.addEventListener("selectend",A),ln.addEventListener("squeezestart",D),ln.addEventListener("squeezeend",B),en.add(ln),console.log("controller1 added to scene"),co=_t.xr.getControllerGrip(0),co.add(b.createControllerModel(co)),en.add(co),dn=_t.xr.getController(1),dn.addEventListener("selectstart",U),dn.addEventListener("selectend",A),dn.addEventListener("squeezestart",D),dn.addEventListener("squeezeend",B),en.add(dn),console.log("controller2 added to scene"),ho=_t.xr.getControllerGrip(1),ho.add(b.createControllerModel(ho)),en.add(ho);const x=new wt,k=new Float32Array([0,0,0,0,0,-10]);x.setAttribute("position",new It(k,3));const Z=new Xs({color:65280,linewidth:3});Hd=new Oa(x.clone(),Z.clone()),ln.add(Hd),zd=new Oa(x.clone(),Z.clone()),dn.add(zd),console.log("Ray visualization added to controllers")}function U(M){const b=M.target,x=Y(b);if(console.log(" selectstart - controller aim intersects:",x.length,"objects"),x.length>0){const k=x[0].object;console.log(" Hit object:",k.name),_o.includes(k.name)||(k.material&&!k.material.emissive&&(k.material.emissive=new ke(0)),k.material&&k.material.emissive&&(k.material.emissive.r=0,k.material.emissive.g=0,k.material.emissive.b=1),b.attach(k),b.userData.selected=k,console.log(" Object GRABBED"))}else console.log(" No hit - aim at objects to grab them")}function A(M){const b=M.target;if(b.userData.selected!==void 0){const x=b.userData.selected;console.log(" Object RELEASED"),x.material&&x.material.emissive&&(x.material.emissive.r=1,x.material.emissive.g=0,x.material.emissive.b=0),Gt.attach(x),b.userData.selected=void 0}}function D(M){const b=M.target;b.userData.teleporting=!0}function B(M){const b=M.target;if(b.userData.teleporting){if(jt){const x={x:-jt.x,y:-jt.y,z:-jt.z,w:1},k=new hn,Z=new XRRigidTransform(x,k),q=qd.getOffsetReferenceSpace(Z);_t.xr.setReferenceSpace(q),console.log(" Teleported to:",jt.x.toFixed(2),jt.z.toFixed(2))}b.userData.teleporting=!1,jt=void 0}}function Y(M){return M.updateMatrixWorld(),Qt.setFromXRController(M),Qt.intersectObjects(Gt.children,!0)}function y(M){if(M.userData.selected!==void 0)return;const b=Y(M);if(b.length>0){const x=b[0].object;_o.includes(x.name)||(x.material&&!x.material.emissive&&(x.material.emissive=new ke(0)),x.material&&x.material.emissive&&(x.material.emissive.r=1,x.material.emissive.g=0,x.material.emissive.b=0),Ir.push(x))}}function v(){for(;Ir.length>0;){const M=Ir.pop();M.material&&M.material.emissive&&(M.material.emissive.r=0,M.material.emissive.g=0,M.material.emissive.b=0)}}N(),console.log(" VR initialized"),_t.setAnimationLoop(function(){if(jt=void 0,_t.xr.isPresenting){if(Gt.position.z=-5,Gt.position.y=0,ln.userData.teleporting===!0){fo.identity().extractRotation(ln.matrixWorld),Qt.ray.origin.setFromMatrixPosition(ln.matrixWorld),Qt.ray.direction.set(0,0,-1).applyMatrix4(fo);const M=Qt.intersectObjects([T]);M.length>0&&(jt=M[0].point)}else if(dn.userData.teleporting===!0){fo.identity().extractRotation(dn.matrixWorld),Qt.ray.origin.setFromMatrixPosition(dn.matrixWorld),Qt.ray.direction.set(0,0,-1).applyMatrix4(fo);const M=Qt.intersectObjects([T]);M.length>0&&(jt=M[0].point)}}if(jt&&_a.position.copy(jt),_a.visible=jt!==void 0,ti&&(ti.step(),e()),v(),_t.xr.isPresenting)y(ln),y(dn);else{Gt.position.set(0,0,0),Qt.setFromCamera(go,gi);const M=Qt.intersectObjects(Gt.children,!0);for(let b=0;b<Gt.children.length;b++){const x=Gt.children[b];x.material&&x.material.emissive&&!Fn&&(x.material.emissive.r=0,x.material.emissive.g=0,x.material.emissive.b=0)}if(M.length>0){const b=M[0].object;!_o.includes(b.name)&&!Fn&&(b.material&&!b.material.emissive&&(b.material.emissive=new ke(0)),b.material&&b.material.emissive&&(b.material.emissive.r=1,b.material.emissive.g=0,b.material.emissive.b=0))}Fu.update()}_t.render(en,gi)}),console.log("initScene() completed successfully")}WE().catch(a=>{console.error("Failed to initialize scene:",a),console.error(a.stack)});

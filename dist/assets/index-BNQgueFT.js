(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qu(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function ep(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var e=a.default;if(typeof e=="function"){var t=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(a).forEach(function(n){var i=Object.getOwnPropertyDescriptor(a,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return a[n]}})}),t}var Wr={},oa={},cl;function tp(){if(cl)return oa;cl=1,oa.byteLength=u,oa.toByteArray=p,oa.fromByteArray=r;for(var a=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)a[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function l(s){var h=s.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=s.indexOf("=");g===-1&&(g=h);var _=g===h?0:4-g%4;return[g,_]}function u(s){var h=l(s),g=h[0],_=h[1];return(g+_)*3/4-_}function c(s,h,g){return(h+g)*3/4-g}function p(s){var h,g=l(s),_=g[0],f=g[1],C=new t(c(s,_,f)),S=0,D=f>0?_-4:_,I;for(I=0;I<D;I+=4)h=e[s.charCodeAt(I)]<<18|e[s.charCodeAt(I+1)]<<12|e[s.charCodeAt(I+2)]<<6|e[s.charCodeAt(I+3)],C[S++]=h>>16&255,C[S++]=h>>8&255,C[S++]=h&255;return f===2&&(h=e[s.charCodeAt(I)]<<2|e[s.charCodeAt(I+1)]>>4,C[S++]=h&255),f===1&&(h=e[s.charCodeAt(I)]<<10|e[s.charCodeAt(I+1)]<<4|e[s.charCodeAt(I+2)]>>2,C[S++]=h>>8&255,C[S++]=h&255),C}function m(s){return a[s>>18&63]+a[s>>12&63]+a[s>>6&63]+a[s&63]}function d(s,h,g){for(var _,f=[],C=h;C<g;C+=3)_=(s[C]<<16&16711680)+(s[C+1]<<8&65280)+(s[C+2]&255),f.push(m(_));return f.join("")}function r(s){for(var h,g=s.length,_=g%3,f=[],C=16383,S=0,D=g-_;S<D;S+=C)f.push(d(s,S,S+C>D?D:S+C));return _===1?(h=s[g-1],f.push(a[h>>2]+a[h<<4&63]+"==")):_===2&&(h=(s[g-2]<<8)+s[g-1],f.push(a[h>>10]+a[h>>4&63]+a[h<<2&63]+"=")),f.join("")}return oa}var ka={};var hl;function np(){return hl||(hl=1,ka.read=function(a,e,t,n,i){var o,l,u=i*8-n-1,c=(1<<u)-1,p=c>>1,m=-7,d=t?i-1:0,r=t?-1:1,s=a[e+d];for(d+=r,o=s&(1<<-m)-1,s>>=-m,m+=u;m>0;o=o*256+a[e+d],d+=r,m-=8);for(l=o&(1<<-m)-1,o>>=-m,m+=n;m>0;l=l*256+a[e+d],d+=r,m-=8);if(o===0)o=1-p;else{if(o===c)return l?NaN:(s?-1:1)*(1/0);l=l+Math.pow(2,n),o=o-p}return(s?-1:1)*l*Math.pow(2,o-n)},ka.write=function(a,e,t,n,i,o){var l,u,c,p=o*8-i-1,m=(1<<p)-1,d=m>>1,r=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,s=n?0:o-1,h=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,l=m):(l=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-l))<1&&(l--,c*=2),l+d>=1?e+=r/c:e+=r*Math.pow(2,1-d),e*c>=2&&(l++,c/=2),l+d>=m?(u=0,l=m):l+d>=1?(u=(e*c-1)*Math.pow(2,i),l=l+d):(u=e*Math.pow(2,d-1)*Math.pow(2,i),l=0));i>=8;a[t+s]=u&255,s+=h,u/=256,i-=8);for(l=l<<i|u,p+=i;p>0;a[t+s]=l&255,s+=h,l/=256,p-=8);a[t+s-h]|=g*128}),ka}var fl;function ip(){return fl||(fl=1,(function(a){const e=tp(),t=np(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=u,a.SlowBuffer=C,a.INSPECT_MAX_BYTES=50;const i=2147483647;a.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const M=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(M,y),M.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(M){if(M>i)throw new RangeError('The value "'+M+'" is invalid for option "size"');const y=new Uint8Array(M);return Object.setPrototypeOf(y,u.prototype),y}function u(M,y,E){if(typeof M=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(M)}return c(M,y,E)}u.poolSize=8192;function c(M,y,E){if(typeof M=="string")return r(M,y);if(ArrayBuffer.isView(M))return h(M);if(M==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M);if(Me(M,ArrayBuffer)||M&&Me(M.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Me(M,SharedArrayBuffer)||M&&Me(M.buffer,SharedArrayBuffer)))return g(M,y,E);if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const w=M.valueOf&&M.valueOf();if(w!=null&&w!==M)return u.from(w,y,E);const V=_(M);if(V)return V;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return u.from(M[Symbol.toPrimitive]("string"),y,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}u.from=function(M,y,E){return c(M,y,E)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function p(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function m(M,y,E){return p(M),M<=0?l(M):y!==void 0?typeof E=="string"?l(M).fill(y,E):l(M).fill(y):l(M)}u.alloc=function(M,y,E){return m(M,y,E)};function d(M){return p(M),l(M<0?0:f(M)|0)}u.allocUnsafe=function(M){return d(M)},u.allocUnsafeSlow=function(M){return d(M)};function r(M,y){if((typeof y!="string"||y==="")&&(y="utf8"),!u.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const E=S(M,y)|0;let w=l(E);const V=w.write(M,y);return V!==E&&(w=w.slice(0,V)),w}function s(M){const y=M.length<0?0:f(M.length)|0,E=l(y);for(let w=0;w<y;w+=1)E[w]=M[w]&255;return E}function h(M){if(Me(M,Uint8Array)){const y=new Uint8Array(M);return g(y.buffer,y.byteOffset,y.byteLength)}return s(M)}function g(M,y,E){if(y<0||M.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(M.byteLength<y+(E||0))throw new RangeError('"length" is outside of buffer bounds');let w;return y===void 0&&E===void 0?w=new Uint8Array(M):E===void 0?w=new Uint8Array(M,y):w=new Uint8Array(M,y,E),Object.setPrototypeOf(w,u.prototype),w}function _(M){if(u.isBuffer(M)){const y=f(M.length)|0,E=l(y);return E.length===0||M.copy(E,0,0,y),E}if(M.length!==void 0)return typeof M.length!="number"||B(M.length)?l(0):s(M);if(M.type==="Buffer"&&Array.isArray(M.data))return s(M.data)}function f(M){if(M>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return M|0}function C(M){return+M!=M&&(M=0),u.alloc(+M)}u.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==u.prototype},u.compare=function(y,E){if(Me(y,Uint8Array)&&(y=u.from(y,y.offset,y.byteLength)),Me(E,Uint8Array)&&(E=u.from(E,E.offset,E.byteLength)),!u.isBuffer(y)||!u.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===E)return 0;let w=y.length,V=E.length;for(let $=0,K=Math.min(w,V);$<K;++$)if(y[$]!==E[$]){w=y[$],V=E[$];break}return w<V?-1:V<w?1:0},u.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(y,E){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return u.alloc(0);let w;if(E===void 0)for(E=0,w=0;w<y.length;++w)E+=y[w].length;const V=u.allocUnsafe(E);let $=0;for(w=0;w<y.length;++w){let K=y[w];if(Me(K,Uint8Array))$+K.length>V.length?(u.isBuffer(K)||(K=u.from(K)),K.copy(V,$)):Uint8Array.prototype.set.call(V,K,$);else if(u.isBuffer(K))K.copy(V,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=K.length}return V};function S(M,y){if(u.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||Me(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);const E=M.length,w=arguments.length>2&&arguments[2]===!0;if(!w&&E===0)return 0;let V=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return Ne(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return We(M).length;default:if(V)return w?-1:Ne(M).length;y=(""+y).toLowerCase(),V=!0}}u.byteLength=S;function D(M,y,E){let w=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,y>>>=0,E<=y))return"";for(M||(M="utf8");;)switch(M){case"hex":return ie(this,y,E);case"utf8":case"utf-8":return b(this,y,E);case"ascii":return O(this,y,E);case"latin1":case"binary":return W(this,y,E);case"base64":return T(this,y,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,y,E);default:if(w)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),w=!0}}u.prototype._isBuffer=!0;function I(M,y,E){const w=M[y];M[y]=M[E],M[E]=w}u.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<y;E+=2)I(this,E,E+1);return this},u.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<y;E+=4)I(this,E,E+3),I(this,E+1,E+2);return this},u.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<y;E+=8)I(this,E,E+7),I(this,E+1,E+6),I(this,E+2,E+5),I(this,E+3,E+4);return this},u.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?b(this,0,y):D.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(y){if(!u.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:u.compare(this,y)===0},u.prototype.inspect=function(){let y="";const E=a.INSPECT_MAX_BYTES;return y=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(y+=" ... "),"<Buffer "+y+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(y,E,w,V,$){if(Me(y,Uint8Array)&&(y=u.from(y,y.offset,y.byteLength)),!u.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(E===void 0&&(E=0),w===void 0&&(w=y?y.length:0),V===void 0&&(V=0),$===void 0&&($=this.length),E<0||w>y.length||V<0||$>this.length)throw new RangeError("out of range index");if(V>=$&&E>=w)return 0;if(V>=$)return-1;if(E>=w)return 1;if(E>>>=0,w>>>=0,V>>>=0,$>>>=0,this===y)return 0;let K=$-V,me=w-E;const Ce=Math.min(K,me),Te=this.slice(V,$),_e=y.slice(E,w);for(let Oe=0;Oe<Ce;++Oe)if(Te[Oe]!==_e[Oe]){K=Te[Oe],me=_e[Oe];break}return K<me?-1:me<K?1:0};function U(M,y,E,w,V){if(M.length===0)return-1;if(typeof E=="string"?(w=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,B(E)&&(E=V?0:M.length-1),E<0&&(E=M.length+E),E>=M.length){if(V)return-1;E=M.length-1}else if(E<0)if(V)E=0;else return-1;if(typeof y=="string"&&(y=u.from(y,w)),u.isBuffer(y))return y.length===0?-1:F(M,y,E,w,V);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?V?Uint8Array.prototype.indexOf.call(M,y,E):Uint8Array.prototype.lastIndexOf.call(M,y,E):F(M,[y],E,w,V);throw new TypeError("val must be string, number or Buffer")}function F(M,y,E,w,V){let $=1,K=M.length,me=y.length;if(w!==void 0&&(w=String(w).toLowerCase(),w==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(M.length<2||y.length<2)return-1;$=2,K/=2,me/=2,E/=2}function Ce(_e,Oe){return $===1?_e[Oe]:_e.readUInt16BE(Oe*$)}let Te;if(V){let _e=-1;for(Te=E;Te<K;Te++)if(Ce(M,Te)===Ce(y,_e===-1?0:Te-_e)){if(_e===-1&&(_e=Te),Te-_e+1===me)return _e*$}else _e!==-1&&(Te-=Te-_e),_e=-1}else for(E+me>K&&(E=K-me),Te=E;Te>=0;Te--){let _e=!0;for(let Oe=0;Oe<me;Oe++)if(Ce(M,Te+Oe)!==Ce(y,Oe)){_e=!1;break}if(_e)return Te}return-1}u.prototype.includes=function(y,E,w){return this.indexOf(y,E,w)!==-1},u.prototype.indexOf=function(y,E,w){return U(this,y,E,w,!0)},u.prototype.lastIndexOf=function(y,E,w){return U(this,y,E,w,!1)};function H(M,y,E,w){E=Number(E)||0;const V=M.length-E;w?(w=Number(w),w>V&&(w=V)):w=V;const $=y.length;w>$/2&&(w=$/2);let K;for(K=0;K<w;++K){const me=parseInt(y.substr(K*2,2),16);if(B(me))return K;M[E+K]=me}return K}function R(M,y,E,w){return Xe(Ne(y,M.length-E),M,E,w)}function N(M,y,E,w){return Xe(z(y),M,E,w)}function q(M,y,E,w){return Xe(We(y),M,E,w)}function Q(M,y,E,w){return Xe(qe(y,M.length-E),M,E,w)}u.prototype.write=function(y,E,w,V){if(E===void 0)V="utf8",w=this.length,E=0;else if(w===void 0&&typeof E=="string")V=E,w=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(w)?(w=w>>>0,V===void 0&&(V="utf8")):(V=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-E;if((w===void 0||w>$)&&(w=$),y.length>0&&(w<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");let K=!1;for(;;)switch(V){case"hex":return H(this,y,E,w);case"utf8":case"utf-8":return R(this,y,E,w);case"ascii":case"latin1":case"binary":return N(this,y,E,w);case"base64":return q(this,y,E,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,y,E,w);default:if(K)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),K=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(M,y,E){return y===0&&E===M.length?e.fromByteArray(M):e.fromByteArray(M.slice(y,E))}function b(M,y,E){E=Math.min(M.length,E);const w=[];let V=y;for(;V<E;){const $=M[V];let K=null,me=$>239?4:$>223?3:$>191?2:1;if(V+me<=E){let Ce,Te,_e,Oe;switch(me){case 1:$<128&&(K=$);break;case 2:Ce=M[V+1],(Ce&192)===128&&(Oe=($&31)<<6|Ce&63,Oe>127&&(K=Oe));break;case 3:Ce=M[V+1],Te=M[V+2],(Ce&192)===128&&(Te&192)===128&&(Oe=($&15)<<12|(Ce&63)<<6|Te&63,Oe>2047&&(Oe<55296||Oe>57343)&&(K=Oe));break;case 4:Ce=M[V+1],Te=M[V+2],_e=M[V+3],(Ce&192)===128&&(Te&192)===128&&(_e&192)===128&&(Oe=($&15)<<18|(Ce&63)<<12|(Te&63)<<6|_e&63,Oe>65535&&Oe<1114112&&(K=Oe))}}K===null?(K=65533,me=1):K>65535&&(K-=65536,w.push(K>>>10&1023|55296),K=56320|K&1023),w.push(K),V+=me}return P(w)}const v=4096;function P(M){const y=M.length;if(y<=v)return String.fromCharCode.apply(String,M);let E="",w=0;for(;w<y;)E+=String.fromCharCode.apply(String,M.slice(w,w+=v));return E}function O(M,y,E){let w="";E=Math.min(M.length,E);for(let V=y;V<E;++V)w+=String.fromCharCode(M[V]&127);return w}function W(M,y,E){let w="";E=Math.min(M.length,E);for(let V=y;V<E;++V)w+=String.fromCharCode(M[V]);return w}function ie(M,y,E){const w=M.length;(!y||y<0)&&(y=0),(!E||E<0||E>w)&&(E=w);let V="";for(let $=y;$<E;++$)V+=x[M[$]];return V}function J(M,y,E){const w=M.slice(y,E);let V="";for(let $=0;$<w.length-1;$+=2)V+=String.fromCharCode(w[$]+w[$+1]*256);return V}u.prototype.slice=function(y,E){const w=this.length;y=~~y,E=E===void 0?w:~~E,y<0?(y+=w,y<0&&(y=0)):y>w&&(y=w),E<0?(E+=w,E<0&&(E=0)):E>w&&(E=w),E<y&&(E=y);const V=this.subarray(y,E);return Object.setPrototypeOf(V,u.prototype),V};function ae(M,y,E){if(M%1!==0||M<0)throw new RangeError("offset is not uint");if(M+y>E)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(y,E,w){y=y>>>0,E=E>>>0,w||ae(y,E,this.length);let V=this[y],$=1,K=0;for(;++K<E&&($*=256);)V+=this[y+K]*$;return V},u.prototype.readUintBE=u.prototype.readUIntBE=function(y,E,w){y=y>>>0,E=E>>>0,w||ae(y,E,this.length);let V=this[y+--E],$=1;for(;E>0&&($*=256);)V+=this[y+--E]*$;return V},u.prototype.readUint8=u.prototype.readUInt8=function(y,E){return y=y>>>0,E||ae(y,1,this.length),this[y]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(y,E){return y=y>>>0,E||ae(y,2,this.length),this[y]|this[y+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(y,E){return y=y>>>0,E||ae(y,2,this.length),this[y]<<8|this[y+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(y,E){return y=y>>>0,E||ae(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(y,E){return y=y>>>0,E||ae(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},u.prototype.readBigUInt64LE=j(function(y){y=y>>>0,de(y,"offset");const E=this[y],w=this[y+7];(E===void 0||w===void 0)&&ce(y,this.length-8);const V=E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,$=this[++y]+this[++y]*2**8+this[++y]*2**16+w*2**24;return BigInt(V)+(BigInt($)<<BigInt(32))}),u.prototype.readBigUInt64BE=j(function(y){y=y>>>0,de(y,"offset");const E=this[y],w=this[y+7];(E===void 0||w===void 0)&&ce(y,this.length-8);const V=E*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],$=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+w;return(BigInt(V)<<BigInt(32))+BigInt($)}),u.prototype.readIntLE=function(y,E,w){y=y>>>0,E=E>>>0,w||ae(y,E,this.length);let V=this[y],$=1,K=0;for(;++K<E&&($*=256);)V+=this[y+K]*$;return $*=128,V>=$&&(V-=Math.pow(2,8*E)),V},u.prototype.readIntBE=function(y,E,w){y=y>>>0,E=E>>>0,w||ae(y,E,this.length);let V=E,$=1,K=this[y+--V];for(;V>0&&($*=256);)K+=this[y+--V]*$;return $*=128,K>=$&&(K-=Math.pow(2,8*E)),K},u.prototype.readInt8=function(y,E){return y=y>>>0,E||ae(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},u.prototype.readInt16LE=function(y,E){y=y>>>0,E||ae(y,2,this.length);const w=this[y]|this[y+1]<<8;return w&32768?w|4294901760:w},u.prototype.readInt16BE=function(y,E){y=y>>>0,E||ae(y,2,this.length);const w=this[y+1]|this[y]<<8;return w&32768?w|4294901760:w},u.prototype.readInt32LE=function(y,E){return y=y>>>0,E||ae(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},u.prototype.readInt32BE=function(y,E){return y=y>>>0,E||ae(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},u.prototype.readBigInt64LE=j(function(y){y=y>>>0,de(y,"offset");const E=this[y],w=this[y+7];(E===void 0||w===void 0)&&ce(y,this.length-8);const V=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(w<<24);return(BigInt(V)<<BigInt(32))+BigInt(E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),u.prototype.readBigInt64BE=j(function(y){y=y>>>0,de(y,"offset");const E=this[y],w=this[y+7];(E===void 0||w===void 0)&&ce(y,this.length-8);const V=(E<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(V)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+w)}),u.prototype.readFloatLE=function(y,E){return y=y>>>0,E||ae(y,4,this.length),t.read(this,y,!0,23,4)},u.prototype.readFloatBE=function(y,E){return y=y>>>0,E||ae(y,4,this.length),t.read(this,y,!1,23,4)},u.prototype.readDoubleLE=function(y,E){return y=y>>>0,E||ae(y,8,this.length),t.read(this,y,!0,52,8)},u.prototype.readDoubleBE=function(y,E){return y=y>>>0,E||ae(y,8,this.length),t.read(this,y,!1,52,8)};function he(M,y,E,w,V,$){if(!u.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>V||y<$)throw new RangeError('"value" argument is out of bounds');if(E+w>M.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(y,E,w,V){if(y=+y,E=E>>>0,w=w>>>0,!V){const me=Math.pow(2,8*w)-1;he(this,y,E,w,me,0)}let $=1,K=0;for(this[E]=y&255;++K<w&&($*=256);)this[E+K]=y/$&255;return E+w},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(y,E,w,V){if(y=+y,E=E>>>0,w=w>>>0,!V){const me=Math.pow(2,8*w)-1;he(this,y,E,w,me,0)}let $=w-1,K=1;for(this[E+$]=y&255;--$>=0&&(K*=256);)this[E+$]=y/K&255;return E+w},u.prototype.writeUint8=u.prototype.writeUInt8=function(y,E,w){return y=+y,E=E>>>0,w||he(this,y,E,1,255,0),this[E]=y&255,E+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(y,E,w){return y=+y,E=E>>>0,w||he(this,y,E,2,65535,0),this[E]=y&255,this[E+1]=y>>>8,E+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(y,E,w){return y=+y,E=E>>>0,w||he(this,y,E,2,65535,0),this[E]=y>>>8,this[E+1]=y&255,E+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(y,E,w){return y=+y,E=E>>>0,w||he(this,y,E,4,4294967295,0),this[E+3]=y>>>24,this[E+2]=y>>>16,this[E+1]=y>>>8,this[E]=y&255,E+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(y,E,w){return y=+y,E=E>>>0,w||he(this,y,E,4,4294967295,0),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4};function ue(M,y,E,w,V){oe(y,w,V,M,E,7);let $=Number(y&BigInt(4294967295));M[E++]=$,$=$>>8,M[E++]=$,$=$>>8,M[E++]=$,$=$>>8,M[E++]=$;let K=Number(y>>BigInt(32)&BigInt(4294967295));return M[E++]=K,K=K>>8,M[E++]=K,K=K>>8,M[E++]=K,K=K>>8,M[E++]=K,E}function we(M,y,E,w,V){oe(y,w,V,M,E,7);let $=Number(y&BigInt(4294967295));M[E+7]=$,$=$>>8,M[E+6]=$,$=$>>8,M[E+5]=$,$=$>>8,M[E+4]=$;let K=Number(y>>BigInt(32)&BigInt(4294967295));return M[E+3]=K,K=K>>8,M[E+2]=K,K=K>>8,M[E+1]=K,K=K>>8,M[E]=K,E+8}u.prototype.writeBigUInt64LE=j(function(y,E=0){return ue(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=j(function(y,E=0){return we(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(y,E,w,V){if(y=+y,E=E>>>0,!V){const Ce=Math.pow(2,8*w-1);he(this,y,E,w,Ce-1,-Ce)}let $=0,K=1,me=0;for(this[E]=y&255;++$<w&&(K*=256);)y<0&&me===0&&this[E+$-1]!==0&&(me=1),this[E+$]=(y/K>>0)-me&255;return E+w},u.prototype.writeIntBE=function(y,E,w,V){if(y=+y,E=E>>>0,!V){const Ce=Math.pow(2,8*w-1);he(this,y,E,w,Ce-1,-Ce)}let $=w-1,K=1,me=0;for(this[E+$]=y&255;--$>=0&&(K*=256);)y<0&&me===0&&this[E+$+1]!==0&&(me=1),this[E+$]=(y/K>>0)-me&255;return E+w},u.prototype.writeInt8=function(y,E,w){return y=+y,E=E>>>0,w||he(this,y,E,1,127,-128),y<0&&(y=255+y+1),this[E]=y&255,E+1},u.prototype.writeInt16LE=function(y,E,w){return y=+y,E=E>>>0,w||he(this,y,E,2,32767,-32768),this[E]=y&255,this[E+1]=y>>>8,E+2},u.prototype.writeInt16BE=function(y,E,w){return y=+y,E=E>>>0,w||he(this,y,E,2,32767,-32768),this[E]=y>>>8,this[E+1]=y&255,E+2},u.prototype.writeInt32LE=function(y,E,w){return y=+y,E=E>>>0,w||he(this,y,E,4,2147483647,-2147483648),this[E]=y&255,this[E+1]=y>>>8,this[E+2]=y>>>16,this[E+3]=y>>>24,E+4},u.prototype.writeInt32BE=function(y,E,w){return y=+y,E=E>>>0,w||he(this,y,E,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4},u.prototype.writeBigInt64LE=j(function(y,E=0){return ue(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=j(function(y,E=0){return we(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ge(M,y,E,w,V,$){if(E+w>M.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function G(M,y,E,w,V){return y=+y,E=E>>>0,V||Ge(M,y,E,4),t.write(M,y,E,w,23,4),E+4}u.prototype.writeFloatLE=function(y,E,w){return G(this,y,E,!0,w)},u.prototype.writeFloatBE=function(y,E,w){return G(this,y,E,!1,w)};function A(M,y,E,w,V){return y=+y,E=E>>>0,V||Ge(M,y,E,8),t.write(M,y,E,w,52,8),E+8}u.prototype.writeDoubleLE=function(y,E,w){return A(this,y,E,!0,w)},u.prototype.writeDoubleBE=function(y,E,w){return A(this,y,E,!1,w)},u.prototype.copy=function(y,E,w,V){if(!u.isBuffer(y))throw new TypeError("argument should be a Buffer");if(w||(w=0),!V&&V!==0&&(V=this.length),E>=y.length&&(E=y.length),E||(E=0),V>0&&V<w&&(V=w),V===w||y.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),y.length-E<V-w&&(V=y.length-E+w);const $=V-w;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,w,V):Uint8Array.prototype.set.call(y,this.subarray(w,V),E),$},u.prototype.fill=function(y,E,w,V){if(typeof y=="string"){if(typeof E=="string"?(V=E,E=0,w=this.length):typeof w=="string"&&(V=w,w=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!u.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(y.length===1){const K=y.charCodeAt(0);(V==="utf8"&&K<128||V==="latin1")&&(y=K)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(E<0||this.length<E||this.length<w)throw new RangeError("Out of range index");if(w<=E)return this;E=E>>>0,w=w===void 0?this.length:w>>>0,y||(y=0);let $;if(typeof y=="number")for($=E;$<w;++$)this[$]=y;else{const K=u.isBuffer(y)?y:u.from(y,V),me=K.length;if(me===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for($=0;$<w-E;++$)this[$+E]=K[$%me]}return this};const k={};function Y(M,y,E){k[M]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${M}]`,this.stack,delete this.name}get code(){return M}set code(V){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:V,writable:!0})}toString(){return`${this.name} [${M}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(M){return M?`${M} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(M,y){return`The "${M}" argument must be of type number. Received type ${typeof y}`},TypeError),Y("ERR_OUT_OF_RANGE",function(M,y,E){let w=`The value of "${M}" is out of range.`,V=E;return Number.isInteger(E)&&Math.abs(E)>2**32?V=X(String(E)):typeof E=="bigint"&&(V=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(V=X(V)),V+="n"),w+=` It must be ${y}. Received ${V}`,w},RangeError);function X(M){let y="",E=M.length;const w=M[0]==="-"?1:0;for(;E>=w+4;E-=3)y=`_${M.slice(E-3,E)}${y}`;return`${M.slice(0,E)}${y}`}function ee(M,y,E){de(y,"offset"),(M[y]===void 0||M[y+E]===void 0)&&ce(y,M.length-(E+1))}function oe(M,y,E,w,V,$){if(M>E||M<y){const K=typeof y=="bigint"?"n":"";let me;throw y===0||y===BigInt(0)?me=`>= 0${K} and < 2${K} ** ${($+1)*8}${K}`:me=`>= -(2${K} ** ${($+1)*8-1}${K}) and < 2 ** ${($+1)*8-1}${K}`,new k.ERR_OUT_OF_RANGE("value",me,M)}ee(w,V,$)}function de(M,y){if(typeof M!="number")throw new k.ERR_INVALID_ARG_TYPE(y,"number",M)}function ce(M,y,E){throw Math.floor(M)!==M?(de(M,E),new k.ERR_OUT_OF_RANGE("offset","an integer",M)):y<0?new k.ERR_BUFFER_OUT_OF_BOUNDS:new k.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${y}`,M)}const ye=/[^+/0-9A-Za-z-_]/g;function xe(M){if(M=M.split("=")[0],M=M.trim().replace(ye,""),M.length<2)return"";for(;M.length%4!==0;)M=M+"=";return M}function Ne(M,y){y=y||1/0;let E;const w=M.length;let V=null;const $=[];for(let K=0;K<w;++K){if(E=M.charCodeAt(K),E>55295&&E<57344){if(!V){if(E>56319){(y-=3)>-1&&$.push(239,191,189);continue}else if(K+1===w){(y-=3)>-1&&$.push(239,191,189);continue}V=E;continue}if(E<56320){(y-=3)>-1&&$.push(239,191,189),V=E;continue}E=(V-55296<<10|E-56320)+65536}else V&&(y-=3)>-1&&$.push(239,191,189);if(V=null,E<128){if((y-=1)<0)break;$.push(E)}else if(E<2048){if((y-=2)<0)break;$.push(E>>6|192,E&63|128)}else if(E<65536){if((y-=3)<0)break;$.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((y-=4)<0)break;$.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return $}function z(M){const y=[];for(let E=0;E<M.length;++E)y.push(M.charCodeAt(E)&255);return y}function qe(M,y){let E,w,V;const $=[];for(let K=0;K<M.length&&!((y-=2)<0);++K)E=M.charCodeAt(K),w=E>>8,V=E%256,$.push(V),$.push(w);return $}function We(M){return e.toByteArray(xe(M))}function Xe(M,y,E,w){let V;for(V=0;V<w&&!(V+E>=y.length||V>=M.length);++V)y[V+E]=M[V];return V}function Me(M,y){return M instanceof y||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===y.name}function B(M){return M!==M}const x=(function(){const M="0123456789abcdef",y=new Array(256);for(let E=0;E<16;++E){const w=E*16;for(let V=0;V<16;++V)y[w+V]=M[E]+M[V]}return y})();function j(M){return typeof BigInt>"u"?pe:M}function pe(){throw new Error("BigInt not supported")}})(Wr)),Wr}var ap=ip();const Ns="182",Hi={ROTATE:0,DOLLY:1,PAN:2},Bi={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},rp=0,_l=1,op=2,Er=1,sp=2,Ea=3,qn=0,Wt=1,un=2,zn=0,zi=1,gl=2,yl=3,El=4,lp=5,fi=100,dp=101,up=102,pp=103,mp=104,cp=200,hp=201,fp=202,_p=203,Lo=204,Uo=205,gp=206,yp=207,Ep=208,Cp=209,Tp=210,Mp=211,Sp=212,Ap=213,vp=214,Go=0,Fo=1,ko=2,Yi=3,Bo=4,Vo=5,Ho=6,zo=7,Jd=0,xp=1,Rp=2,Mn=0,Qd=1,eu=2,tu=3,nu=4,iu=5,au=6,ru=7,Cl="attached",bp="detached",ou=300,Ci=301,Xi=302,Wo=303,qo=304,Lr=306,Ki=1e3,nn=1001,Dr=1002,St=1003,su=1004,Ca=1005,ht=1006,Cr=1007,Cn=1008,zt=1009,lu=1010,du=1011,va=1012,Ls=1013,vn=1014,kt=1015,Zt=1016,Us=1017,Gs=1018,xa=1020,uu=35902,pu=35899,mu=1021,cu=1022,an=1023,Yn=1026,yi=1027,Fs=1028,ks=1029,ji=1030,Bs=1031,Vs=1033,Tr=33776,Mr=33777,Sr=33778,Ar=33779,Yo=35840,Xo=35841,Ko=35842,jo=35843,Zo=36196,$o=37492,Jo=37496,Qo=37488,es=37489,ts=37490,ns=37491,is=37808,as=37809,rs=37810,os=37811,ss=37812,ls=37813,ds=37814,us=37815,ps=37816,ms=37817,cs=37818,hs=37819,fs=37820,_s=37821,gs=36492,ys=36494,Es=36495,Cs=36283,Ts=36284,Ms=36285,Ss=36286,Ra=2300,ba=2301,qr=2302,Tl=2400,Ml=2401,Sl=2402,Dp=2500,Op=0,hu=1,As=2,Ip=3200,fu=0,wp=1,ni="",bt="srgb",wt="srgb-linear",Or="linear",at="srgb",Ai=7680,Al=519,Pp=512,Np=513,Lp=514,Hs=515,Up=516,Gp=517,zs=518,Fp=519,vs=35044,vl="300 es",Tn=2e3,Ir=2001;function _u(a){for(let e=a.length-1;e>=0;--e)if(a[e]>=65535)return!0;return!1}function kp(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function Da(a){return document.createElementNS("http://www.w3.org/1999/xhtml",a)}function Bp(){const a=Da("canvas");return a.style.display="block",a}const xl={};function wr(...a){const e="THREE."+a.shift();console.log(e,...a)}function Le(...a){const e="THREE."+a.shift();console.warn(e,...a)}function Be(...a){const e="THREE."+a.shift();console.error(e,...a)}function Oa(...a){const e=a.join(" ");e in xl||(xl[e]=!0,Le(...a))}function Vp(a,e,t){return new Promise(function(n,i){function o(){switch(a.clientWaitSync(e,a.SYNC_FLUSH_COMMANDS_BIT,0)){case a.WAIT_FAILED:i();break;case a.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:n()}}setTimeout(o,t)})}class Ti{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const i=n[e];if(i!==void 0){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let o=0,l=i.length;o<l;o++)i[o].call(this,e);e.target=null}}}const Dt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Rl=1234567;const Ma=Math.PI/180,Zi=180/Math.PI;function cn(){const a=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Dt[a&255]+Dt[a>>8&255]+Dt[a>>16&255]+Dt[a>>24&255]+"-"+Dt[e&255]+Dt[e>>8&255]+"-"+Dt[e>>16&15|64]+Dt[e>>24&255]+"-"+Dt[t&63|128]+Dt[t>>8&255]+"-"+Dt[t>>16&255]+Dt[t>>24&255]+Dt[n&255]+Dt[n>>8&255]+Dt[n>>16&255]+Dt[n>>24&255]).toLowerCase()}function $e(a,e,t){return Math.max(e,Math.min(t,a))}function Ws(a,e){return(a%e+e)%e}function Hp(a,e,t,n,i){return n+(a-e)*(i-n)/(t-e)}function zp(a,e,t){return a!==e?(t-a)/(e-a):0}function Sa(a,e,t){return(1-t)*a+t*e}function Wp(a,e,t,n){return Sa(a,e,1-Math.exp(-t*n))}function qp(a,e=1){return e-Math.abs(Ws(a,e*2)-e)}function Yp(a,e,t){return a<=e?0:a>=t?1:(a=(a-e)/(t-e),a*a*(3-2*a))}function Xp(a,e,t){return a<=e?0:a>=t?1:(a=(a-e)/(t-e),a*a*a*(a*(a*6-15)+10))}function Kp(a,e){return a+Math.floor(Math.random()*(e-a+1))}function jp(a,e){return a+Math.random()*(e-a)}function Zp(a){return a*(.5-Math.random())}function $p(a){a!==void 0&&(Rl=a);let e=Rl+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Jp(a){return a*Ma}function Qp(a){return a*Zi}function em(a){return(a&a-1)===0&&a!==0}function tm(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function nm(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}function im(a,e,t,n,i){const o=Math.cos,l=Math.sin,u=o(t/2),c=l(t/2),p=o((e+n)/2),m=l((e+n)/2),d=o((e-n)/2),r=l((e-n)/2),s=o((n-e)/2),h=l((n-e)/2);switch(i){case"XYX":a.set(u*m,c*d,c*r,u*p);break;case"YZY":a.set(c*r,u*m,c*d,u*p);break;case"ZXZ":a.set(c*d,c*r,u*m,u*p);break;case"XZX":a.set(u*m,c*h,c*s,u*p);break;case"YXY":a.set(c*s,u*m,c*h,u*p);break;case"ZYZ":a.set(c*h,c*s,u*m,u*p);break;default:Le("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function pn(a,e){switch(e.constructor){case Float32Array:return a;case Uint32Array:return a/4294967295;case Uint16Array:return a/65535;case Uint8Array:return a/255;case Int32Array:return Math.max(a/2147483647,-1);case Int16Array:return Math.max(a/32767,-1);case Int8Array:return Math.max(a/127,-1);default:throw new Error("Invalid component type.")}}function rt(a,e){switch(e.constructor){case Float32Array:return a;case Uint32Array:return Math.round(a*4294967295);case Uint16Array:return Math.round(a*65535);case Uint8Array:return Math.round(a*255);case Int32Array:return Math.round(a*2147483647);case Int16Array:return Math.round(a*32767);case Int8Array:return Math.round(a*127);default:throw new Error("Invalid component type.")}}const gu={DEG2RAD:Ma,RAD2DEG:Zi,generateUUID:cn,clamp:$e,euclideanModulo:Ws,mapLinear:Hp,inverseLerp:zp,lerp:Sa,damp:Wp,pingpong:qp,smoothstep:Yp,smootherstep:Xp,randInt:Kp,randFloat:jp,randFloatSpread:Zp,seededRandom:$p,degToRad:Jp,radToDeg:Qp,isPowerOfTwo:em,ceilPowerOfTwo:tm,floorPowerOfTwo:nm,setQuaternionFromProperEuler:im,normalize:rt,denormalize:pn};class ze{constructor(e=0,t=0){ze.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=$e(this.x,e.x,t.x),this.y=$e(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=$e(this.x,e,t),this.y=$e(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar($e(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos($e(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),o=this.x-e.x,l=this.y-e.y;return this.x=o*n-l*i+e.x,this.y=o*i+l*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class hn{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,o,l,u){let c=n[i+0],p=n[i+1],m=n[i+2],d=n[i+3],r=o[l+0],s=o[l+1],h=o[l+2],g=o[l+3];if(u<=0){e[t+0]=c,e[t+1]=p,e[t+2]=m,e[t+3]=d;return}if(u>=1){e[t+0]=r,e[t+1]=s,e[t+2]=h,e[t+3]=g;return}if(d!==g||c!==r||p!==s||m!==h){let _=c*r+p*s+m*h+d*g;_<0&&(r=-r,s=-s,h=-h,g=-g,_=-_);let f=1-u;if(_<.9995){const C=Math.acos(_),S=Math.sin(C);f=Math.sin(f*C)/S,u=Math.sin(u*C)/S,c=c*f+r*u,p=p*f+s*u,m=m*f+h*u,d=d*f+g*u}else{c=c*f+r*u,p=p*f+s*u,m=m*f+h*u,d=d*f+g*u;const C=1/Math.sqrt(c*c+p*p+m*m+d*d);c*=C,p*=C,m*=C,d*=C}}e[t]=c,e[t+1]=p,e[t+2]=m,e[t+3]=d}static multiplyQuaternionsFlat(e,t,n,i,o,l){const u=n[i],c=n[i+1],p=n[i+2],m=n[i+3],d=o[l],r=o[l+1],s=o[l+2],h=o[l+3];return e[t]=u*h+m*d+c*s-p*r,e[t+1]=c*h+m*r+p*d-u*s,e[t+2]=p*h+m*s+u*r-c*d,e[t+3]=m*h-u*d-c*r-p*s,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,i=e._y,o=e._z,l=e._order,u=Math.cos,c=Math.sin,p=u(n/2),m=u(i/2),d=u(o/2),r=c(n/2),s=c(i/2),h=c(o/2);switch(l){case"XYZ":this._x=r*m*d+p*s*h,this._y=p*s*d-r*m*h,this._z=p*m*h+r*s*d,this._w=p*m*d-r*s*h;break;case"YXZ":this._x=r*m*d+p*s*h,this._y=p*s*d-r*m*h,this._z=p*m*h-r*s*d,this._w=p*m*d+r*s*h;break;case"ZXY":this._x=r*m*d-p*s*h,this._y=p*s*d+r*m*h,this._z=p*m*h+r*s*d,this._w=p*m*d-r*s*h;break;case"ZYX":this._x=r*m*d-p*s*h,this._y=p*s*d+r*m*h,this._z=p*m*h-r*s*d,this._w=p*m*d+r*s*h;break;case"YZX":this._x=r*m*d+p*s*h,this._y=p*s*d+r*m*h,this._z=p*m*h-r*s*d,this._w=p*m*d-r*s*h;break;case"XZY":this._x=r*m*d-p*s*h,this._y=p*s*d-r*m*h,this._z=p*m*h+r*s*d,this._w=p*m*d+r*s*h;break;default:Le("Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],o=t[8],l=t[1],u=t[5],c=t[9],p=t[2],m=t[6],d=t[10],r=n+u+d;if(r>0){const s=.5/Math.sqrt(r+1);this._w=.25/s,this._x=(m-c)*s,this._y=(o-p)*s,this._z=(l-i)*s}else if(n>u&&n>d){const s=2*Math.sqrt(1+n-u-d);this._w=(m-c)/s,this._x=.25*s,this._y=(i+l)/s,this._z=(o+p)/s}else if(u>d){const s=2*Math.sqrt(1+u-n-d);this._w=(o-p)/s,this._x=(i+l)/s,this._y=.25*s,this._z=(c+m)/s}else{const s=2*Math.sqrt(1+d-n-u);this._w=(l-i)/s,this._x=(o+p)/s,this._y=(c+m)/s,this._z=.25*s}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs($e(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,o=e._z,l=e._w,u=t._x,c=t._y,p=t._z,m=t._w;return this._x=n*m+l*u+i*p-o*c,this._y=i*m+l*c+o*u-n*p,this._z=o*m+l*p+n*c-i*u,this._w=l*m-n*u-i*c-o*p,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,i=e._y,o=e._z,l=e._w,u=this.dot(e);u<0&&(n=-n,i=-i,o=-o,l=-l,u=-u);let c=1-t;if(u<.9995){const p=Math.acos(u),m=Math.sin(p);c=Math.sin(c*p)/m,t=Math.sin(t*p)/m,this._x=this._x*c+n*t,this._y=this._y*c+i*t,this._z=this._z*c+o*t,this._w=this._w*c+l*t,this._onChangeCallback()}else this._x=this._x*c+n*t,this._y=this._y*c+i*t,this._z=this._z*c+o*t,this._w=this._w*c+l*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),o=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class te{constructor(e=0,t=0,n=0){te.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(bl.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(bl.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*i,this.y=o[1]*t+o[4]*n+o[7]*i,this.z=o[2]*t+o[5]*n+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,o=e.elements,l=1/(o[3]*t+o[7]*n+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*i+o[12])*l,this.y=(o[1]*t+o[5]*n+o[9]*i+o[13])*l,this.z=(o[2]*t+o[6]*n+o[10]*i+o[14])*l,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,o=e.x,l=e.y,u=e.z,c=e.w,p=2*(l*i-u*n),m=2*(u*t-o*i),d=2*(o*n-l*t);return this.x=t+c*p+l*d-u*m,this.y=n+c*m+u*p-o*d,this.z=i+c*d+o*m-l*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i,this.y=o[1]*t+o[5]*n+o[9]*i,this.z=o[2]*t+o[6]*n+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=$e(this.x,e.x,t.x),this.y=$e(this.y,e.y,t.y),this.z=$e(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=$e(this.x,e,t),this.y=$e(this.y,e,t),this.z=$e(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar($e(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,o=e.z,l=t.x,u=t.y,c=t.z;return this.x=i*c-o*u,this.y=o*l-n*c,this.z=n*u-i*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Yr.copy(this).projectOnVector(e),this.sub(Yr)}reflect(e){return this.sub(Yr.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos($e(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Yr=new te,bl=new hn;class je{constructor(e,t,n,i,o,l,u,c,p){je.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,i,o,l,u,c,p)}set(e,t,n,i,o,l,u,c,p){const m=this.elements;return m[0]=e,m[1]=i,m[2]=u,m[3]=t,m[4]=o,m[5]=c,m[6]=n,m[7]=l,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,o=this.elements,l=n[0],u=n[3],c=n[6],p=n[1],m=n[4],d=n[7],r=n[2],s=n[5],h=n[8],g=i[0],_=i[3],f=i[6],C=i[1],S=i[4],D=i[7],I=i[2],U=i[5],F=i[8];return o[0]=l*g+u*C+c*I,o[3]=l*_+u*S+c*U,o[6]=l*f+u*D+c*F,o[1]=p*g+m*C+d*I,o[4]=p*_+m*S+d*U,o[7]=p*f+m*D+d*F,o[2]=r*g+s*C+h*I,o[5]=r*_+s*S+h*U,o[8]=r*f+s*D+h*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],o=e[3],l=e[4],u=e[5],c=e[6],p=e[7],m=e[8];return t*l*m-t*u*p-n*o*m+n*u*c+i*o*p-i*l*c}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],o=e[3],l=e[4],u=e[5],c=e[6],p=e[7],m=e[8],d=m*l-u*p,r=u*c-m*o,s=p*o-l*c,h=t*d+n*r+i*s;if(h===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/h;return e[0]=d*g,e[1]=(i*p-m*n)*g,e[2]=(u*n-i*l)*g,e[3]=r*g,e[4]=(m*t-i*c)*g,e[5]=(i*o-u*t)*g,e[6]=s*g,e[7]=(n*c-p*t)*g,e[8]=(l*t-n*o)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,o,l,u){const c=Math.cos(o),p=Math.sin(o);return this.set(n*c,n*p,-n*(c*l+p*u)+l+e,-i*p,i*c,-i*(-p*l+c*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply(Xr.makeScale(e,t)),this}rotate(e){return this.premultiply(Xr.makeRotation(-e)),this}translate(e,t){return this.premultiply(Xr.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Xr=new je,Dl=new je().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Ol=new je().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function am(){const a={enabled:!0,workingColorSpace:wt,spaces:{},convert:function(i,o,l){return this.enabled===!1||o===l||!o||!l||(this.spaces[o].transfer===at&&(i.r=Wn(i.r),i.g=Wn(i.g),i.b=Wn(i.b)),this.spaces[o].primaries!==this.spaces[l].primaries&&(i.applyMatrix3(this.spaces[o].toXYZ),i.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===at&&(i.r=Wi(i.r),i.g=Wi(i.g),i.b=Wi(i.b))),i},workingToColorSpace:function(i,o){return this.convert(i,this.workingColorSpace,o)},colorSpaceToWorking:function(i,o){return this.convert(i,o,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===ni?Or:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,o=this.workingColorSpace){return i.fromArray(this.spaces[o].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,o,l){return i.copy(this.spaces[o].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,o){return Oa("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),a.workingToColorSpace(i,o)},toWorkingColorSpace:function(i,o){return Oa("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),a.colorSpaceToWorking(i,o)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return a.define({[wt]:{primaries:e,whitePoint:n,transfer:Or,toXYZ:Dl,fromXYZ:Ol,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:bt},outputColorSpaceConfig:{drawingBufferColorSpace:bt}},[bt]:{primaries:e,whitePoint:n,transfer:at,toXYZ:Dl,fromXYZ:Ol,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:bt}}}),a}const et=am();function Wn(a){return a<.04045?a*.0773993808:Math.pow(a*.9478672986+.0521327014,2.4)}function Wi(a){return a<.0031308?a*12.92:1.055*Math.pow(a,.41666)-.055}let vi;class rm{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{vi===void 0&&(vi=Da("canvas")),vi.width=e.width,vi.height=e.height;const i=vi.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=vi}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Da("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),o=i.data;for(let l=0;l<o.length;l++)o[l]=Wn(o[l]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Wn(t[n]/255)*255):t[n]=Wn(t[n]);return{data:t,width:e.width,height:e.height}}else return Le("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let om=0;class qs{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:om++}),this.uuid=cn(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):typeof VideoFrame<"u"&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let l=0,u=i.length;l<u;l++)i[l].isDataTexture?o.push(Kr(i[l].image)):o.push(Kr(i[l]))}else o=Kr(i);n.url=o}return t||(e.images[this.uuid]=n),n}}function Kr(a){return typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&a instanceof ImageBitmap?rm.getDataURL(a):a.data?{data:Array.from(a.data),width:a.width,height:a.height,type:a.data.constructor.name}:(Le("Texture: Unable to serialize Texture."),{})}let sm=0;const jr=new te;class Rt extends Ti{constructor(e=Rt.DEFAULT_IMAGE,t=Rt.DEFAULT_MAPPING,n=nn,i=nn,o=ht,l=Cn,u=an,c=zt,p=Rt.DEFAULT_ANISOTROPY,m=ni){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:sm++}),this.uuid=cn(),this.name="",this.source=new qs(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=o,this.minFilter=l,this.anisotropy=p,this.format=u,this.internalFormat=null,this.type=c,this.offset=new ze(0,0),this.repeat=new ze(1,1),this.center=new ze(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new je,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(jr).x}get height(){return this.source.getSize(jr).y}get depth(){return this.source.getSize(jr).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){Le(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){Le(`Texture.setValues(): property '${t}' does not exist.`);continue}i&&n&&i.isVector2&&n.isVector2||i&&n&&i.isVector3&&n.isVector3||i&&n&&i.isMatrix3&&n.isMatrix3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ou)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ki:e.x=e.x-Math.floor(e.x);break;case nn:e.x=e.x<0?0:1;break;case Dr:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ki:e.y=e.y-Math.floor(e.y);break;case nn:e.y=e.y<0?0:1;break;case Dr:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Rt.DEFAULT_IMAGE=null;Rt.DEFAULT_MAPPING=ou;Rt.DEFAULT_ANISOTROPY=1;class mt{constructor(e=0,t=0,n=0,i=1){mt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,o=this.w,l=e.elements;return this.x=l[0]*t+l[4]*n+l[8]*i+l[12]*o,this.y=l[1]*t+l[5]*n+l[9]*i+l[13]*o,this.z=l[2]*t+l[6]*n+l[10]*i+l[14]*o,this.w=l[3]*t+l[7]*n+l[11]*i+l[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,o;const c=e.elements,p=c[0],m=c[4],d=c[8],r=c[1],s=c[5],h=c[9],g=c[2],_=c[6],f=c[10];if(Math.abs(m-r)<.01&&Math.abs(d-g)<.01&&Math.abs(h-_)<.01){if(Math.abs(m+r)<.1&&Math.abs(d+g)<.1&&Math.abs(h+_)<.1&&Math.abs(p+s+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(p+1)/2,D=(s+1)/2,I=(f+1)/2,U=(m+r)/4,F=(d+g)/4,H=(h+_)/4;return S>D&&S>I?S<.01?(n=0,i=.707106781,o=.707106781):(n=Math.sqrt(S),i=U/n,o=F/n):D>I?D<.01?(n=.707106781,i=0,o=.707106781):(i=Math.sqrt(D),n=U/i,o=H/i):I<.01?(n=.707106781,i=.707106781,o=0):(o=Math.sqrt(I),n=F/o,i=H/o),this.set(n,i,o,t),this}let C=Math.sqrt((_-h)*(_-h)+(d-g)*(d-g)+(r-m)*(r-m));return Math.abs(C)<.001&&(C=1),this.x=(_-h)/C,this.y=(d-g)/C,this.z=(r-m)/C,this.w=Math.acos((p+s+f-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=$e(this.x,e.x,t.x),this.y=$e(this.y,e.y,t.y),this.z=$e(this.z,e.z,t.z),this.w=$e(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=$e(this.x,e,t),this.y=$e(this.y,e,t),this.z=$e(this.z,e,t),this.w=$e(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar($e(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class lm extends Ti{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ht,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new mt(0,0,e,t),this.scissorTest=!1,this.viewport=new mt(0,0,e,t);const i={width:e,height:t,depth:n.depth},o=new Rt(i);this.textures=[];const l=n.count;for(let u=0;u<l;u++)this.textures[u]=o.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:ht,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new qs(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Sn extends lm{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class yu extends Rt{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=St,this.minFilter=St,this.wrapR=nn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class dm extends Rt{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=St,this.minFilter=St,this.wrapR=nn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bn{constructor(e=new te(1/0,1/0,1/0),t=new te(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(rn.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(rn.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=rn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const o=n.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let l=0,u=o.count;l<u;l++)e.isMesh===!0?e.getVertexPosition(l,rn):rn.fromBufferAttribute(o,l),rn.applyMatrix4(e.matrixWorld),this.expandByPoint(rn);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Ba.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),Ba.copy(n.boundingBox)),Ba.applyMatrix4(e.matrixWorld),this.union(Ba)}const i=e.children;for(let o=0,l=i.length;o<l;o++)this.expandByObject(i[o],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,rn),rn.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(sa),Va.subVectors(this.max,sa),xi.subVectors(e.a,sa),Ri.subVectors(e.b,sa),bi.subVectors(e.c,sa),Xn.subVectors(Ri,xi),Kn.subVectors(bi,Ri),li.subVectors(xi,bi);let t=[0,-Xn.z,Xn.y,0,-Kn.z,Kn.y,0,-li.z,li.y,Xn.z,0,-Xn.x,Kn.z,0,-Kn.x,li.z,0,-li.x,-Xn.y,Xn.x,0,-Kn.y,Kn.x,0,-li.y,li.x,0];return!Zr(t,xi,Ri,bi,Va)||(t=[1,0,0,0,1,0,0,0,1],!Zr(t,xi,Ri,bi,Va))?!1:(Ha.crossVectors(Xn,Kn),t=[Ha.x,Ha.y,Ha.z],Zr(t,xi,Ri,bi,Va))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,rn).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(rn).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(wn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),wn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),wn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),wn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),wn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),wn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),wn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),wn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(wn),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const wn=[new te,new te,new te,new te,new te,new te,new te,new te],rn=new te,Ba=new bn,xi=new te,Ri=new te,bi=new te,Xn=new te,Kn=new te,li=new te,sa=new te,Va=new te,Ha=new te,di=new te;function Zr(a,e,t,n,i){for(let o=0,l=a.length-3;o<=l;o+=3){di.fromArray(a,o);const u=i.x*Math.abs(di.x)+i.y*Math.abs(di.y)+i.z*Math.abs(di.z),c=e.dot(di),p=t.dot(di),m=n.dot(di);if(Math.max(-Math.max(c,p,m),Math.min(c,p,m))>u)return!1}return!0}const um=new bn,la=new te,$r=new te;class Dn{constructor(e=new te,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):um.setFromPoints(e).getCenter(n);let i=0;for(let o=0,l=e.length;o<l;o++)i=Math.max(i,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;la.subVectors(e,this.center);const t=la.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(la,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):($r.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(la.copy(e.center).add($r)),this.expandByPoint(la.copy(e.center).sub($r))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Pn=new te,Jr=new te,za=new te,jn=new te,Qr=new te,Wa=new te,eo=new te;class ta{constructor(e=new te,t=new te(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Pn)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Pn.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Pn.copy(this.origin).addScaledVector(this.direction,t),Pn.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){Jr.copy(e).add(t).multiplyScalar(.5),za.copy(t).sub(e).normalize(),jn.copy(this.origin).sub(Jr);const o=e.distanceTo(t)*.5,l=-this.direction.dot(za),u=jn.dot(this.direction),c=-jn.dot(za),p=jn.lengthSq(),m=Math.abs(1-l*l);let d,r,s,h;if(m>0)if(d=l*c-u,r=l*u-c,h=o*m,d>=0)if(r>=-h)if(r<=h){const g=1/m;d*=g,r*=g,s=d*(d+l*r+2*u)+r*(l*d+r+2*c)+p}else r=o,d=Math.max(0,-(l*r+u)),s=-d*d+r*(r+2*c)+p;else r=-o,d=Math.max(0,-(l*r+u)),s=-d*d+r*(r+2*c)+p;else r<=-h?(d=Math.max(0,-(-l*o+u)),r=d>0?-o:Math.min(Math.max(-o,-c),o),s=-d*d+r*(r+2*c)+p):r<=h?(d=0,r=Math.min(Math.max(-o,-c),o),s=r*(r+2*c)+p):(d=Math.max(0,-(l*o+u)),r=d>0?o:Math.min(Math.max(-o,-c),o),s=-d*d+r*(r+2*c)+p);else r=l>0?-o:o,d=Math.max(0,-(l*r+u)),s=-d*d+r*(r+2*c)+p;return n&&n.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(Jr).addScaledVector(za,r),s}intersectSphere(e,t){Pn.subVectors(e.center,this.origin);const n=Pn.dot(this.direction),i=Pn.dot(Pn)-n*n,o=e.radius*e.radius;if(i>o)return null;const l=Math.sqrt(o-i),u=n-l,c=n+l;return c<0?null:u<0?this.at(c,t):this.at(u,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,o,l,u,c;const p=1/this.direction.x,m=1/this.direction.y,d=1/this.direction.z,r=this.origin;return p>=0?(n=(e.min.x-r.x)*p,i=(e.max.x-r.x)*p):(n=(e.max.x-r.x)*p,i=(e.min.x-r.x)*p),m>=0?(o=(e.min.y-r.y)*m,l=(e.max.y-r.y)*m):(o=(e.max.y-r.y)*m,l=(e.min.y-r.y)*m),n>l||o>i||((o>n||isNaN(n))&&(n=o),(l<i||isNaN(i))&&(i=l),d>=0?(u=(e.min.z-r.z)*d,c=(e.max.z-r.z)*d):(u=(e.max.z-r.z)*d,c=(e.min.z-r.z)*d),n>c||u>i)||((u>n||n!==n)&&(n=u),(c<i||i!==i)&&(i=c),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,Pn)!==null}intersectTriangle(e,t,n,i,o){Qr.subVectors(t,e),Wa.subVectors(n,e),eo.crossVectors(Qr,Wa);let l=this.direction.dot(eo),u;if(l>0){if(i)return null;u=1}else if(l<0)u=-1,l=-l;else return null;jn.subVectors(this.origin,e);const c=u*this.direction.dot(Wa.crossVectors(jn,Wa));if(c<0)return null;const p=u*this.direction.dot(Qr.cross(jn));if(p<0||c+p>l)return null;const m=-u*jn.dot(eo);return m<0?null:this.at(m/l,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ke{constructor(e,t,n,i,o,l,u,c,p,m,d,r,s,h,g,_){Ke.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,i,o,l,u,c,p,m,d,r,s,h,g,_)}set(e,t,n,i,o,l,u,c,p,m,d,r,s,h,g,_){const f=this.elements;return f[0]=e,f[4]=t,f[8]=n,f[12]=i,f[1]=o,f[5]=l,f[9]=u,f[13]=c,f[2]=p,f[6]=m,f[10]=d,f[14]=r,f[3]=s,f[7]=h,f[11]=g,f[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ke().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return this.determinant()===0?(e.set(1,0,0),t.set(0,1,0),n.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this)}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const t=this.elements,n=e.elements,i=1/Di.setFromMatrixColumn(e,0).length(),o=1/Di.setFromMatrixColumn(e,1).length(),l=1/Di.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*l,t[9]=n[9]*l,t[10]=n[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,o=e.z,l=Math.cos(n),u=Math.sin(n),c=Math.cos(i),p=Math.sin(i),m=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const r=l*m,s=l*d,h=u*m,g=u*d;t[0]=c*m,t[4]=-c*d,t[8]=p,t[1]=s+h*p,t[5]=r-g*p,t[9]=-u*c,t[2]=g-r*p,t[6]=h+s*p,t[10]=l*c}else if(e.order==="YXZ"){const r=c*m,s=c*d,h=p*m,g=p*d;t[0]=r+g*u,t[4]=h*u-s,t[8]=l*p,t[1]=l*d,t[5]=l*m,t[9]=-u,t[2]=s*u-h,t[6]=g+r*u,t[10]=l*c}else if(e.order==="ZXY"){const r=c*m,s=c*d,h=p*m,g=p*d;t[0]=r-g*u,t[4]=-l*d,t[8]=h+s*u,t[1]=s+h*u,t[5]=l*m,t[9]=g-r*u,t[2]=-l*p,t[6]=u,t[10]=l*c}else if(e.order==="ZYX"){const r=l*m,s=l*d,h=u*m,g=u*d;t[0]=c*m,t[4]=h*p-s,t[8]=r*p+g,t[1]=c*d,t[5]=g*p+r,t[9]=s*p-h,t[2]=-p,t[6]=u*c,t[10]=l*c}else if(e.order==="YZX"){const r=l*c,s=l*p,h=u*c,g=u*p;t[0]=c*m,t[4]=g-r*d,t[8]=h*d+s,t[1]=d,t[5]=l*m,t[9]=-u*m,t[2]=-p*m,t[6]=s*d+h,t[10]=r-g*d}else if(e.order==="XZY"){const r=l*c,s=l*p,h=u*c,g=u*p;t[0]=c*m,t[4]=-d,t[8]=p*m,t[1]=r*d+g,t[5]=l*m,t[9]=s*d-h,t[2]=h*d-s,t[6]=u*m,t[10]=g*d+r}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(pm,e,mm)}lookAt(e,t,n){const i=this.elements;return Xt.subVectors(e,t),Xt.lengthSq()===0&&(Xt.z=1),Xt.normalize(),Zn.crossVectors(n,Xt),Zn.lengthSq()===0&&(Math.abs(n.z)===1?Xt.x+=1e-4:Xt.z+=1e-4,Xt.normalize(),Zn.crossVectors(n,Xt)),Zn.normalize(),qa.crossVectors(Xt,Zn),i[0]=Zn.x,i[4]=qa.x,i[8]=Xt.x,i[1]=Zn.y,i[5]=qa.y,i[9]=Xt.y,i[2]=Zn.z,i[6]=qa.z,i[10]=Xt.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,o=this.elements,l=n[0],u=n[4],c=n[8],p=n[12],m=n[1],d=n[5],r=n[9],s=n[13],h=n[2],g=n[6],_=n[10],f=n[14],C=n[3],S=n[7],D=n[11],I=n[15],U=i[0],F=i[4],H=i[8],R=i[12],N=i[1],q=i[5],Q=i[9],T=i[13],b=i[2],v=i[6],P=i[10],O=i[14],W=i[3],ie=i[7],J=i[11],ae=i[15];return o[0]=l*U+u*N+c*b+p*W,o[4]=l*F+u*q+c*v+p*ie,o[8]=l*H+u*Q+c*P+p*J,o[12]=l*R+u*T+c*O+p*ae,o[1]=m*U+d*N+r*b+s*W,o[5]=m*F+d*q+r*v+s*ie,o[9]=m*H+d*Q+r*P+s*J,o[13]=m*R+d*T+r*O+s*ae,o[2]=h*U+g*N+_*b+f*W,o[6]=h*F+g*q+_*v+f*ie,o[10]=h*H+g*Q+_*P+f*J,o[14]=h*R+g*T+_*O+f*ae,o[3]=C*U+S*N+D*b+I*W,o[7]=C*F+S*q+D*v+I*ie,o[11]=C*H+S*Q+D*P+I*J,o[15]=C*R+S*T+D*O+I*ae,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],o=e[12],l=e[1],u=e[5],c=e[9],p=e[13],m=e[2],d=e[6],r=e[10],s=e[14],h=e[3],g=e[7],_=e[11],f=e[15],C=c*s-p*r,S=u*s-p*d,D=u*r-c*d,I=l*s-p*m,U=l*r-c*m,F=l*d-u*m;return t*(g*C-_*S+f*D)-n*(h*C-_*I+f*U)+i*(h*S-g*I+f*F)-o*(h*D-g*U+_*F)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],o=e[3],l=e[4],u=e[5],c=e[6],p=e[7],m=e[8],d=e[9],r=e[10],s=e[11],h=e[12],g=e[13],_=e[14],f=e[15],C=d*_*p-g*r*p+g*c*s-u*_*s-d*c*f+u*r*f,S=h*r*p-m*_*p-h*c*s+l*_*s+m*c*f-l*r*f,D=m*g*p-h*d*p+h*u*s-l*g*s-m*u*f+l*d*f,I=h*d*c-m*g*c-h*u*r+l*g*r+m*u*_-l*d*_,U=t*C+n*S+i*D+o*I;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/U;return e[0]=C*F,e[1]=(g*r*o-d*_*o-g*i*s+n*_*s+d*i*f-n*r*f)*F,e[2]=(u*_*o-g*c*o+g*i*p-n*_*p-u*i*f+n*c*f)*F,e[3]=(d*c*o-u*r*o-d*i*p+n*r*p+u*i*s-n*c*s)*F,e[4]=S*F,e[5]=(m*_*o-h*r*o+h*i*s-t*_*s-m*i*f+t*r*f)*F,e[6]=(h*c*o-l*_*o-h*i*p+t*_*p+l*i*f-t*c*f)*F,e[7]=(l*r*o-m*c*o+m*i*p-t*r*p-l*i*s+t*c*s)*F,e[8]=D*F,e[9]=(h*d*o-m*g*o-h*n*s+t*g*s+m*n*f-t*d*f)*F,e[10]=(l*g*o-h*u*o+h*n*p-t*g*p-l*n*f+t*u*f)*F,e[11]=(m*u*o-l*d*o-m*n*p+t*d*p+l*n*s-t*u*s)*F,e[12]=I*F,e[13]=(m*g*i-h*d*i+h*n*r-t*g*r-m*n*_+t*d*_)*F,e[14]=(h*u*i-l*g*i-h*n*c+t*g*c+l*n*_-t*u*_)*F,e[15]=(l*d*i-m*u*i+m*n*c-t*d*c-l*n*r+t*u*r)*F,this}scale(e){const t=this.elements,n=e.x,i=e.y,o=e.z;return t[0]*=n,t[4]*=i,t[8]*=o,t[1]*=n,t[5]*=i,t[9]*=o,t[2]*=n,t[6]*=i,t[10]*=o,t[3]*=n,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),o=1-n,l=e.x,u=e.y,c=e.z,p=o*l,m=o*u;return this.set(p*l+n,p*u-i*c,p*c+i*u,0,p*u+i*c,m*u+n,m*c-i*l,0,p*c-i*u,m*c+i*l,o*c*c+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,o,l){return this.set(1,n,o,0,e,1,l,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,o=t._x,l=t._y,u=t._z,c=t._w,p=o+o,m=l+l,d=u+u,r=o*p,s=o*m,h=o*d,g=l*m,_=l*d,f=u*d,C=c*p,S=c*m,D=c*d,I=n.x,U=n.y,F=n.z;return i[0]=(1-(g+f))*I,i[1]=(s+D)*I,i[2]=(h-S)*I,i[3]=0,i[4]=(s-D)*U,i[5]=(1-(r+f))*U,i[6]=(_+C)*U,i[7]=0,i[8]=(h+S)*F,i[9]=(_-C)*F,i[10]=(1-(r+g))*F,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],this.determinant()===0)return n.set(1,1,1),t.identity(),this;let o=Di.set(i[0],i[1],i[2]).length();const l=Di.set(i[4],i[5],i[6]).length(),u=Di.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),on.copy(this);const p=1/o,m=1/l,d=1/u;return on.elements[0]*=p,on.elements[1]*=p,on.elements[2]*=p,on.elements[4]*=m,on.elements[5]*=m,on.elements[6]*=m,on.elements[8]*=d,on.elements[9]*=d,on.elements[10]*=d,t.setFromRotationMatrix(on),n.x=o,n.y=l,n.z=u,this}makePerspective(e,t,n,i,o,l,u=Tn,c=!1){const p=this.elements,m=2*o/(t-e),d=2*o/(n-i),r=(t+e)/(t-e),s=(n+i)/(n-i);let h,g;if(c)h=o/(l-o),g=l*o/(l-o);else if(u===Tn)h=-(l+o)/(l-o),g=-2*l*o/(l-o);else if(u===Ir)h=-l/(l-o),g=-l*o/(l-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return p[0]=m,p[4]=0,p[8]=r,p[12]=0,p[1]=0,p[5]=d,p[9]=s,p[13]=0,p[2]=0,p[6]=0,p[10]=h,p[14]=g,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,t,n,i,o,l,u=Tn,c=!1){const p=this.elements,m=2/(t-e),d=2/(n-i),r=-(t+e)/(t-e),s=-(n+i)/(n-i);let h,g;if(c)h=1/(l-o),g=l/(l-o);else if(u===Tn)h=-2/(l-o),g=-(l+o)/(l-o);else if(u===Ir)h=-1/(l-o),g=-o/(l-o);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return p[0]=m,p[4]=0,p[8]=0,p[12]=r,p[1]=0,p[5]=d,p[9]=0,p[13]=s,p[2]=0,p[6]=0,p[10]=h,p[14]=g,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Di=new te,on=new Ke,pm=new te(0,0,0),mm=new te(1,1,1),Zn=new te,qa=new te,Xt=new te,Il=new Ke,wl=new hn;class xn{constructor(e=0,t=0,n=0,i=xn.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,o=i[0],l=i[4],u=i[8],c=i[1],p=i[5],m=i[9],d=i[2],r=i[6],s=i[10];switch(t){case"XYZ":this._y=Math.asin($e(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,s),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(r,p),this._z=0);break;case"YXZ":this._x=Math.asin(-$e(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(u,s),this._z=Math.atan2(c,p)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin($e(r,-1,1)),Math.abs(r)<.9999999?(this._y=Math.atan2(-d,s),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-$e(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(r,s),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin($e(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(u,s));break;case"XZY":this._z=Math.asin(-$e(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(r,p),this._y=Math.atan2(u,o)):(this._x=Math.atan2(-m,s),this._y=0);break;default:Le("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Il.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Il,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return wl.setFromEuler(this),this.setFromQuaternion(wl,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}xn.DEFAULT_ORDER="XYZ";class Ys{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let cm=0;const Pl=new te,Oi=new hn,Nn=new Ke,Ya=new te,da=new te,hm=new te,fm=new hn,Nl=new te(1,0,0),Ll=new te(0,1,0),Ul=new te(0,0,1),Gl={type:"added"},_m={type:"removed"},Ii={type:"childadded",child:null},to={type:"childremoved",child:null};class ft extends Ti{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:cm++}),this.uuid=cn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ft.DEFAULT_UP.clone();const e=new te,t=new xn,n=new hn,i=new te(1,1,1);function o(){n.setFromEuler(t,!1)}function l(){t.setFromQuaternion(n,void 0,!1)}t._onChange(o),n._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ke},normalMatrix:{value:new je}}),this.matrix=new Ke,this.matrixWorld=new Ke,this.matrixAutoUpdate=ft.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ft.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ys,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Oi.setFromAxisAngle(e,t),this.quaternion.multiply(Oi),this}rotateOnWorldAxis(e,t){return Oi.setFromAxisAngle(e,t),this.quaternion.premultiply(Oi),this}rotateX(e){return this.rotateOnAxis(Nl,e)}rotateY(e){return this.rotateOnAxis(Ll,e)}rotateZ(e){return this.rotateOnAxis(Ul,e)}translateOnAxis(e,t){return Pl.copy(e).applyQuaternion(this.quaternion),this.position.add(Pl.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Nl,e)}translateY(e){return this.translateOnAxis(Ll,e)}translateZ(e){return this.translateOnAxis(Ul,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Nn.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Ya.copy(e):Ya.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),da.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Nn.lookAt(da,Ya,this.up):Nn.lookAt(Ya,da,this.up),this.quaternion.setFromRotationMatrix(Nn),i&&(Nn.extractRotation(i.matrixWorld),Oi.setFromRotationMatrix(Nn),this.quaternion.premultiply(Oi.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Be("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Gl),Ii.child=e,this.dispatchEvent(Ii),Ii.child=null):Be("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(_m),to.child=e,this.dispatchEvent(to),to.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Nn.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Nn.multiply(e.parent.matrixWorld)),e.applyMatrix4(Nn),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Gl),Ii.child=e,this.dispatchEvent(Ii),Ii.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const l=this.children[n].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const i=this.children;for(let o=0,l=i.length;o<l;o++)i[o].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(da,e,hm),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(da,fm,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let o=0,l=i.length;o<l;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?u.boundingBox.toJSON():void 0,boundingSphere:u.boundingSphere?u.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(u=>({...u})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function o(u,c){return u[c.uuid]===void 0&&(u[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const c=u.shapes;if(Array.isArray(c))for(let p=0,m=c.length;p<m;p++){const d=c[p];o(e.shapes,d)}else o(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let c=0,p=this.material.length;c<p;c++)u.push(o(e.materials,this.material[c]));i.material=u}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let u=0;u<this.children.length;u++)i.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let u=0;u<this.animations.length;u++){const c=this.animations[u];i.animations.push(o(e.animations,c))}}if(t){const u=l(e.geometries),c=l(e.materials),p=l(e.textures),m=l(e.images),d=l(e.shapes),r=l(e.skeletons),s=l(e.animations),h=l(e.nodes);u.length>0&&(n.geometries=u),c.length>0&&(n.materials=c),p.length>0&&(n.textures=p),m.length>0&&(n.images=m),d.length>0&&(n.shapes=d),r.length>0&&(n.skeletons=r),s.length>0&&(n.animations=s),h.length>0&&(n.nodes=h)}return n.object=i,n;function l(u){const c=[];for(const p in u){const m=u[p];delete m.metadata,c.push(m)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}ft.DEFAULT_UP=new te(0,1,0);ft.DEFAULT_MATRIX_AUTO_UPDATE=!0;ft.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const sn=new te,Ln=new te,no=new te,Un=new te,wi=new te,Pi=new te,Fl=new te,io=new te,ao=new te,ro=new te,oo=new mt,so=new mt,lo=new mt;class mn{constructor(e=new te,t=new te,n=new te){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),sn.subVectors(e,t),i.cross(sn);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,n,i,o){sn.subVectors(i,t),Ln.subVectors(n,t),no.subVectors(e,t);const l=sn.dot(sn),u=sn.dot(Ln),c=sn.dot(no),p=Ln.dot(Ln),m=Ln.dot(no),d=l*p-u*u;if(d===0)return o.set(0,0,0),null;const r=1/d,s=(p*c-u*m)*r,h=(l*m-u*c)*r;return o.set(1-s-h,h,s)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Un)===null?!1:Un.x>=0&&Un.y>=0&&Un.x+Un.y<=1}static getInterpolation(e,t,n,i,o,l,u,c){return this.getBarycoord(e,t,n,i,Un)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(o,Un.x),c.addScaledVector(l,Un.y),c.addScaledVector(u,Un.z),c)}static getInterpolatedAttribute(e,t,n,i,o,l){return oo.setScalar(0),so.setScalar(0),lo.setScalar(0),oo.fromBufferAttribute(e,t),so.fromBufferAttribute(e,n),lo.fromBufferAttribute(e,i),l.setScalar(0),l.addScaledVector(oo,o.x),l.addScaledVector(so,o.y),l.addScaledVector(lo,o.z),l}static isFrontFacing(e,t,n,i){return sn.subVectors(n,t),Ln.subVectors(e,t),sn.cross(Ln).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return sn.subVectors(this.c,this.b),Ln.subVectors(this.a,this.b),sn.cross(Ln).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return mn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return mn.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,o){return mn.getInterpolation(e,this.a,this.b,this.c,t,n,i,o)}containsPoint(e){return mn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return mn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,o=this.c;let l,u;wi.subVectors(i,n),Pi.subVectors(o,n),io.subVectors(e,n);const c=wi.dot(io),p=Pi.dot(io);if(c<=0&&p<=0)return t.copy(n);ao.subVectors(e,i);const m=wi.dot(ao),d=Pi.dot(ao);if(m>=0&&d<=m)return t.copy(i);const r=c*d-m*p;if(r<=0&&c>=0&&m<=0)return l=c/(c-m),t.copy(n).addScaledVector(wi,l);ro.subVectors(e,o);const s=wi.dot(ro),h=Pi.dot(ro);if(h>=0&&s<=h)return t.copy(o);const g=s*p-c*h;if(g<=0&&p>=0&&h<=0)return u=p/(p-h),t.copy(n).addScaledVector(Pi,u);const _=m*h-s*d;if(_<=0&&d-m>=0&&s-h>=0)return Fl.subVectors(o,i),u=(d-m)/(d-m+(s-h)),t.copy(i).addScaledVector(Fl,u);const f=1/(_+g+r);return l=g*f,u=r*f,t.copy(n).addScaledVector(wi,l).addScaledVector(Pi,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Eu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$n={h:0,s:0,l:0},Xa={h:0,s:0,l:0};function uo(a,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?a+(e-a)*6*t:t<1/2?e:t<2/3?a+(e-a)*6*(2/3-t):a}class Ve{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=bt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,et.colorSpaceToWorking(this,t),this}setRGB(e,t,n,i=et.workingColorSpace){return this.r=e,this.g=t,this.b=n,et.colorSpaceToWorking(this,i),this}setHSL(e,t,n,i=et.workingColorSpace){if(e=Ws(e,1),t=$e(t,0,1),n=$e(n,0,1),t===0)this.r=this.g=this.b=n;else{const o=n<=.5?n*(1+t):n+t-n*t,l=2*n-o;this.r=uo(l,o,e+1/3),this.g=uo(l,o,e),this.b=uo(l,o,e-1/3)}return et.colorSpaceToWorking(this,i),this}setStyle(e,t=bt){function n(o){o!==void 0&&parseFloat(o)<1&&Le("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const l=i[1],u=i[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:Le("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(o,16),t);Le("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=bt){const n=Eu[e.toLowerCase()];return n!==void 0?this.setHex(n,t):Le("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Wn(e.r),this.g=Wn(e.g),this.b=Wn(e.b),this}copyLinearToSRGB(e){return this.r=Wi(e.r),this.g=Wi(e.g),this.b=Wi(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=bt){return et.workingToColorSpace(Ot.copy(this),e),Math.round($e(Ot.r*255,0,255))*65536+Math.round($e(Ot.g*255,0,255))*256+Math.round($e(Ot.b*255,0,255))}getHexString(e=bt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=et.workingColorSpace){et.workingToColorSpace(Ot.copy(this),t);const n=Ot.r,i=Ot.g,o=Ot.b,l=Math.max(n,i,o),u=Math.min(n,i,o);let c,p;const m=(u+l)/2;if(u===l)c=0,p=0;else{const d=l-u;switch(p=m<=.5?d/(l+u):d/(2-l-u),l){case n:c=(i-o)/d+(i<o?6:0);break;case i:c=(o-n)/d+2;break;case o:c=(n-i)/d+4;break}c/=6}return e.h=c,e.s=p,e.l=m,e}getRGB(e,t=et.workingColorSpace){return et.workingToColorSpace(Ot.copy(this),t),e.r=Ot.r,e.g=Ot.g,e.b=Ot.b,e}getStyle(e=bt){et.workingToColorSpace(Ot.copy(this),e);const t=Ot.r,n=Ot.g,i=Ot.b;return e!==bt?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(i*255)})`}offsetHSL(e,t,n){return this.getHSL($n),this.setHSL($n.h+e,$n.s+t,$n.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL($n),e.getHSL(Xa);const n=Sa($n.h,Xa.h,t),i=Sa($n.s,Xa.s,t),o=Sa($n.l,Xa.l,t);return this.setHSL(n,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,o=e.elements;return this.r=o[0]*t+o[3]*n+o[6]*i,this.g=o[1]*t+o[4]*n+o[7]*i,this.b=o[2]*t+o[5]*n+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ot=new Ve;Ve.NAMES=Eu;let gm=0;class An extends Ti{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:gm++}),this.uuid=cn(),this.name="",this.type="Material",this.blending=zi,this.side=qn,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Lo,this.blendDst=Uo,this.blendEquation=fi,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ve(0,0,0),this.blendAlpha=0,this.depthFunc=Yi,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Al,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ai,this.stencilZFail=Ai,this.stencilZPass=Ai,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){Le(`Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){Le(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==zi&&(n.blending=this.blending),this.side!==qn&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Lo&&(n.blendSrc=this.blendSrc),this.blendDst!==Uo&&(n.blendDst=this.blendDst),this.blendEquation!==fi&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Yi&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Al&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ai&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Ai&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Ai&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.allowOverride===!1&&(n.allowOverride=!1),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(o){const l=[];for(const u in o){const c=o[u];delete c.metadata,l.push(c)}return l}if(t){const o=i(e.textures),l=i(e.images);o.length>0&&(n.textures=o),l.length>0&&(n.images=l)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let o=0;o!==i;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Bn extends An{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xn,this.combine=Jd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const kn=ym();function ym(){const a=new ArrayBuffer(4),e=new Float32Array(a),t=new Uint32Array(a),n=new Uint32Array(512),i=new Uint32Array(512);for(let c=0;c<256;++c){const p=c-127;p<-27?(n[c]=0,n[c|256]=32768,i[c]=24,i[c|256]=24):p<-14?(n[c]=1024>>-p-14,n[c|256]=1024>>-p-14|32768,i[c]=-p-1,i[c|256]=-p-1):p<=15?(n[c]=p+15<<10,n[c|256]=p+15<<10|32768,i[c]=13,i[c|256]=13):p<128?(n[c]=31744,n[c|256]=64512,i[c]=24,i[c|256]=24):(n[c]=31744,n[c|256]=64512,i[c]=13,i[c|256]=13)}const o=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64);for(let c=1;c<1024;++c){let p=c<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,o[c]=p|m}for(let c=1024;c<2048;++c)o[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)l[c]=c<<23;l[31]=1199570944,l[32]=2147483648;for(let c=33;c<63;++c)l[c]=2147483648+(c-32<<23);l[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(u[c]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:i,mantissaTable:o,exponentTable:l,offsetTable:u}}function Em(a){Math.abs(a)>65504&&Le("DataUtils.toHalfFloat(): Value out of range."),a=$e(a,-65504,65504),kn.floatView[0]=a;const e=kn.uint32View[0],t=e>>23&511;return kn.baseTable[t]+((e&8388607)>>kn.shiftTable[t])}function Cm(a){const e=a>>10;return kn.uint32View[0]=kn.mantissaTable[kn.offsetTable[e]+(a&1023)]+kn.exponentTable[e],kn.floatView[0]}class Ka{static toHalfFloat(e){return Em(e)}static fromHalfFloat(e){return Cm(e)}}const Ct=new te,ja=new ze;let Tm=0;class It{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Tm++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=vs,this.updateRanges=[],this.gpuType=kt,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)ja.fromBufferAttribute(this,t),ja.applyMatrix3(e),this.setXY(t,ja.x,ja.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Ct.fromBufferAttribute(this,t),Ct.applyMatrix3(e),this.setXYZ(t,Ct.x,Ct.y,Ct.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Ct.fromBufferAttribute(this,t),Ct.applyMatrix4(e),this.setXYZ(t,Ct.x,Ct.y,Ct.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ct.fromBufferAttribute(this,t),Ct.applyNormalMatrix(e),this.setXYZ(t,Ct.x,Ct.y,Ct.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ct.fromBufferAttribute(this,t),Ct.transformDirection(e),this.setXYZ(t,Ct.x,Ct.y,Ct.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=pn(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=rt(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=pn(t,this.array)),t}setX(e,t){return this.normalized&&(t=rt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=pn(t,this.array)),t}setY(e,t){return this.normalized&&(t=rt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=pn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=pn(t,this.array)),t}setW(e,t){return this.normalized&&(t=rt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=rt(t,this.array),n=rt(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=rt(t,this.array),n=rt(n,this.array),i=rt(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,o){return e*=this.itemSize,this.normalized&&(t=rt(t,this.array),n=rt(n,this.array),i=rt(i,this.array),o=rt(o,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==vs&&(e.usage=this.usage),e}}class Cu extends It{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Tu extends It{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Tt extends It{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Mm=0;const Jt=new Ke,po=new ft,Ni=new te,Kt=new bn,ua=new bn,xt=new te;class Pt extends Ti{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Mm++}),this.uuid=cn(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(_u(e)?Tu:Cu)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new je().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Jt.makeRotationFromQuaternion(e),this.applyMatrix4(Jt),this}rotateX(e){return Jt.makeRotationX(e),this.applyMatrix4(Jt),this}rotateY(e){return Jt.makeRotationY(e),this.applyMatrix4(Jt),this}rotateZ(e){return Jt.makeRotationZ(e),this.applyMatrix4(Jt),this}translate(e,t,n){return Jt.makeTranslation(e,t,n),this.applyMatrix4(Jt),this}scale(e,t,n){return Jt.makeScale(e,t,n),this.applyMatrix4(Jt),this}lookAt(e){return po.lookAt(e),po.updateMatrix(),this.applyMatrix4(po.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ni).negate(),this.translate(Ni.x,Ni.y,Ni.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let i=0,o=e.length;i<o;i++){const l=e[i];n.push(l.x,l.y,l.z||0)}this.setAttribute("position",new Tt(n,3))}else{const n=Math.min(e.length,t.count);for(let i=0;i<n;i++){const o=e[i];t.setXYZ(i,o.x,o.y,o.z||0)}e.length>t.count&&Le("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new bn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Be("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new te(-1/0,-1/0,-1/0),new te(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const o=t[n];Kt.setFromBufferAttribute(o),this.morphTargetsRelative?(xt.addVectors(this.boundingBox.min,Kt.min),this.boundingBox.expandByPoint(xt),xt.addVectors(this.boundingBox.max,Kt.max),this.boundingBox.expandByPoint(xt)):(this.boundingBox.expandByPoint(Kt.min),this.boundingBox.expandByPoint(Kt.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Be('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Dn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Be("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new te,1/0);return}if(e){const n=this.boundingSphere.center;if(Kt.setFromBufferAttribute(e),t)for(let o=0,l=t.length;o<l;o++){const u=t[o];ua.setFromBufferAttribute(u),this.morphTargetsRelative?(xt.addVectors(Kt.min,ua.min),Kt.expandByPoint(xt),xt.addVectors(Kt.max,ua.max),Kt.expandByPoint(xt)):(Kt.expandByPoint(ua.min),Kt.expandByPoint(ua.max))}Kt.getCenter(n);let i=0;for(let o=0,l=e.count;o<l;o++)xt.fromBufferAttribute(e,o),i=Math.max(i,n.distanceToSquared(xt));if(t)for(let o=0,l=t.length;o<l;o++){const u=t[o],c=this.morphTargetsRelative;for(let p=0,m=u.count;p<m;p++)xt.fromBufferAttribute(u,p),c&&(Ni.fromBufferAttribute(e,p),xt.add(Ni)),i=Math.max(i,n.distanceToSquared(xt))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&Be('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Be("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,i=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new It(new Float32Array(4*n.count),4));const l=this.getAttribute("tangent"),u=[],c=[];for(let H=0;H<n.count;H++)u[H]=new te,c[H]=new te;const p=new te,m=new te,d=new te,r=new ze,s=new ze,h=new ze,g=new te,_=new te;function f(H,R,N){p.fromBufferAttribute(n,H),m.fromBufferAttribute(n,R),d.fromBufferAttribute(n,N),r.fromBufferAttribute(o,H),s.fromBufferAttribute(o,R),h.fromBufferAttribute(o,N),m.sub(p),d.sub(p),s.sub(r),h.sub(r);const q=1/(s.x*h.y-h.x*s.y);isFinite(q)&&(g.copy(m).multiplyScalar(h.y).addScaledVector(d,-s.y).multiplyScalar(q),_.copy(d).multiplyScalar(s.x).addScaledVector(m,-h.x).multiplyScalar(q),u[H].add(g),u[R].add(g),u[N].add(g),c[H].add(_),c[R].add(_),c[N].add(_))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let H=0,R=C.length;H<R;++H){const N=C[H],q=N.start,Q=N.count;for(let T=q,b=q+Q;T<b;T+=3)f(e.getX(T+0),e.getX(T+1),e.getX(T+2))}const S=new te,D=new te,I=new te,U=new te;function F(H){I.fromBufferAttribute(i,H),U.copy(I);const R=u[H];S.copy(R),S.sub(I.multiplyScalar(I.dot(R))).normalize(),D.crossVectors(U,R);const q=D.dot(c[H])<0?-1:1;l.setXYZW(H,S.x,S.y,S.z,q)}for(let H=0,R=C.length;H<R;++H){const N=C[H],q=N.start,Q=N.count;for(let T=q,b=q+Q;T<b;T+=3)F(e.getX(T+0)),F(e.getX(T+1)),F(e.getX(T+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new It(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let r=0,s=n.count;r<s;r++)n.setXYZ(r,0,0,0);const i=new te,o=new te,l=new te,u=new te,c=new te,p=new te,m=new te,d=new te;if(e)for(let r=0,s=e.count;r<s;r+=3){const h=e.getX(r+0),g=e.getX(r+1),_=e.getX(r+2);i.fromBufferAttribute(t,h),o.fromBufferAttribute(t,g),l.fromBufferAttribute(t,_),m.subVectors(l,o),d.subVectors(i,o),m.cross(d),u.fromBufferAttribute(n,h),c.fromBufferAttribute(n,g),p.fromBufferAttribute(n,_),u.add(m),c.add(m),p.add(m),n.setXYZ(h,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z),n.setXYZ(_,p.x,p.y,p.z)}else for(let r=0,s=t.count;r<s;r+=3)i.fromBufferAttribute(t,r+0),o.fromBufferAttribute(t,r+1),l.fromBufferAttribute(t,r+2),m.subVectors(l,o),d.subVectors(i,o),m.cross(d),n.setXYZ(r+0,m.x,m.y,m.z),n.setXYZ(r+1,m.x,m.y,m.z),n.setXYZ(r+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)xt.fromBufferAttribute(e,t),xt.normalize(),e.setXYZ(t,xt.x,xt.y,xt.z)}toNonIndexed(){function e(u,c){const p=u.array,m=u.itemSize,d=u.normalized,r=new p.constructor(c.length*m);let s=0,h=0;for(let g=0,_=c.length;g<_;g++){u.isInterleavedBufferAttribute?s=c[g]*u.data.stride+u.offset:s=c[g]*m;for(let f=0;f<m;f++)r[h++]=p[s++]}return new It(r,m,d)}if(this.index===null)return Le("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Pt,n=this.index.array,i=this.attributes;for(const u in i){const c=i[u],p=e(c,n);t.setAttribute(u,p)}const o=this.morphAttributes;for(const u in o){const c=[],p=o[u];for(let m=0,d=p.length;m<d;m++){const r=p[m],s=e(r,n);c.push(s)}t.morphAttributes[u]=c}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,c=l.length;u<c;u++){const p=l[u];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const p in c)c[p]!==void 0&&(e[p]=c[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const c in n){const p=n[c];e.data.attributes[c]=p.toJSON(e.data)}const i={};let o=!1;for(const c in this.morphAttributes){const p=this.morphAttributes[c],m=[];for(let d=0,r=p.length;d<r;d++){const s=p[d];m.push(s.toJSON(e.data))}m.length>0&&(i[c]=m,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere=u.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const i=e.attributes;for(const p in i){const m=i[p];this.setAttribute(p,m.clone(t))}const o=e.morphAttributes;for(const p in o){const m=[],d=o[p];for(let r=0,s=d.length;r<s;r++)m.push(d[r].clone(t));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let p=0,m=l.length;p<m;p++){const d=l[p];this.addGroup(d.start,d.count,d.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const kl=new Ke,ui=new ta,Za=new Dn,Bl=new te,$a=new te,Ja=new te,Qa=new te,mo=new te,er=new te,Vl=new te,tr=new te;class ct extends ft{constructor(e=new Pt,t=new Bn){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=i.length;o<l;o++){const u=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,o=n.morphAttributes.position,l=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const u=this.morphTargetInfluences;if(o&&u){er.set(0,0,0);for(let c=0,p=o.length;c<p;c++){const m=u[c],d=o[c];m!==0&&(mo.fromBufferAttribute(d,e),l?er.addScaledVector(mo,m):er.addScaledVector(mo.sub(t),m))}t.add(er)}return t}raycast(e,t){const n=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Za.copy(n.boundingSphere),Za.applyMatrix4(o),ui.copy(e.ray).recast(e.near),!(Za.containsPoint(ui.origin)===!1&&(ui.intersectSphere(Za,Bl)===null||ui.origin.distanceToSquared(Bl)>(e.far-e.near)**2))&&(kl.copy(o).invert(),ui.copy(e.ray).applyMatrix4(kl),!(n.boundingBox!==null&&ui.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,ui)))}_computeIntersections(e,t,n){let i;const o=this.geometry,l=this.material,u=o.index,c=o.attributes.position,p=o.attributes.uv,m=o.attributes.uv1,d=o.attributes.normal,r=o.groups,s=o.drawRange;if(u!==null)if(Array.isArray(l))for(let h=0,g=r.length;h<g;h++){const _=r[h],f=l[_.materialIndex],C=Math.max(_.start,s.start),S=Math.min(u.count,Math.min(_.start+_.count,s.start+s.count));for(let D=C,I=S;D<I;D+=3){const U=u.getX(D),F=u.getX(D+1),H=u.getX(D+2);i=nr(this,f,e,n,p,m,d,U,F,H),i&&(i.faceIndex=Math.floor(D/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const h=Math.max(0,s.start),g=Math.min(u.count,s.start+s.count);for(let _=h,f=g;_<f;_+=3){const C=u.getX(_),S=u.getX(_+1),D=u.getX(_+2);i=nr(this,l,e,n,p,m,d,C,S,D),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}else if(c!==void 0)if(Array.isArray(l))for(let h=0,g=r.length;h<g;h++){const _=r[h],f=l[_.materialIndex],C=Math.max(_.start,s.start),S=Math.min(c.count,Math.min(_.start+_.count,s.start+s.count));for(let D=C,I=S;D<I;D+=3){const U=D,F=D+1,H=D+2;i=nr(this,f,e,n,p,m,d,U,F,H),i&&(i.faceIndex=Math.floor(D/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const h=Math.max(0,s.start),g=Math.min(c.count,s.start+s.count);for(let _=h,f=g;_<f;_+=3){const C=_,S=_+1,D=_+2;i=nr(this,l,e,n,p,m,d,C,S,D),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}}}function Sm(a,e,t,n,i,o,l,u){let c;if(e.side===Wt?c=n.intersectTriangle(l,o,i,!0,u):c=n.intersectTriangle(i,o,l,e.side===qn,u),c===null)return null;tr.copy(u),tr.applyMatrix4(a.matrixWorld);const p=t.ray.origin.distanceTo(tr);return p<t.near||p>t.far?null:{distance:p,point:tr.clone(),object:a}}function nr(a,e,t,n,i,o,l,u,c,p){a.getVertexPosition(u,$a),a.getVertexPosition(c,Ja),a.getVertexPosition(p,Qa);const m=Sm(a,e,t,n,$a,Ja,Qa,Vl);if(m){const d=new te;mn.getBarycoord(Vl,$a,Ja,Qa,d),i&&(m.uv=mn.getInterpolatedAttribute(i,u,c,p,d,new ze)),o&&(m.uv1=mn.getInterpolatedAttribute(o,u,c,p,d,new ze)),l&&(m.normal=mn.getInterpolatedAttribute(l,u,c,p,d,new te),m.normal.dot(n.direction)>0&&m.normal.multiplyScalar(-1));const r={a:u,b:c,c:p,normal:new te,materialIndex:0};mn.getNormal($a,Ja,Qa,r.normal),m.face=r,m.barycoord=d}return m}class Na extends Pt{constructor(e=1,t=1,n=1,i=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:o,depthSegments:l};const u=this;i=Math.floor(i),o=Math.floor(o),l=Math.floor(l);const c=[],p=[],m=[],d=[];let r=0,s=0;h("z","y","x",-1,-1,n,t,e,l,o,0),h("z","y","x",1,-1,n,t,-e,l,o,1),h("x","z","y",1,1,e,n,t,i,l,2),h("x","z","y",1,-1,e,n,-t,i,l,3),h("x","y","z",1,-1,e,t,n,i,o,4),h("x","y","z",-1,-1,e,t,-n,i,o,5),this.setIndex(c),this.setAttribute("position",new Tt(p,3)),this.setAttribute("normal",new Tt(m,3)),this.setAttribute("uv",new Tt(d,2));function h(g,_,f,C,S,D,I,U,F,H,R){const N=D/F,q=I/H,Q=D/2,T=I/2,b=U/2,v=F+1,P=H+1;let O=0,W=0;const ie=new te;for(let J=0;J<P;J++){const ae=J*q-T;for(let he=0;he<v;he++){const ue=he*N-Q;ie[g]=ue*C,ie[_]=ae*S,ie[f]=b,p.push(ie.x,ie.y,ie.z),ie[g]=0,ie[_]=0,ie[f]=U>0?1:-1,m.push(ie.x,ie.y,ie.z),d.push(he/F),d.push(1-J/H),O+=1}}for(let J=0;J<H;J++)for(let ae=0;ae<F;ae++){const he=r+ae+v*J,ue=r+ae+v*(J+1),we=r+(ae+1)+v*(J+1),Ge=r+(ae+1)+v*J;c.push(he,ue,Ge),c.push(ue,we,Ge),W+=6}u.addGroup(s,W,R),s+=W,r+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Na(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function $i(a){const e={};for(const t in a){e[t]={};for(const n in a[t]){const i=a[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Le("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function Gt(a){const e={};for(let t=0;t<a.length;t++){const n=$i(a[t]);for(const i in n)e[i]=n[i]}return e}function Am(a){const e=[];for(let t=0;t<a.length;t++)e.push(a[t].clone());return e}function Mu(a){const e=a.getRenderTarget();return e===null?a.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:et.workingColorSpace}const vm={clone:$i,merge:Gt};var xm=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Rm=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Rn extends An{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=xm,this.fragmentShader=Rm,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=$i(e.uniforms),this.uniformsGroups=Am(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const l=this.uniforms[i].value;l&&l.isTexture?t.uniforms[i]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[i]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[i]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[i]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[i]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[i]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[i]={type:"m4",value:l.toArray()}:t.uniforms[i]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Su extends ft{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ke,this.projectionMatrix=new Ke,this.projectionMatrixInverse=new Ke,this.coordinateSystem=Tn,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Jn=new te,Hl=new ze,zl=new ze;class Ft extends Su{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Zi*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ma*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Zi*2*Math.atan(Math.tan(Ma*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Jn.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Jn.x,Jn.y).multiplyScalar(-e/Jn.z),Jn.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Jn.x,Jn.y).multiplyScalar(-e/Jn.z)}getViewSize(e,t){return this.getViewBounds(e,Hl,zl),t.subVectors(zl,Hl)}setViewOffset(e,t,n,i,o,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ma*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,o=-.5*i;const l=this.view;if(this.view!==null&&this.view.enabled){const c=l.fullWidth,p=l.fullHeight;o+=l.offsetX*i/c,t-=l.offsetY*n/p,i*=l.width/c,n*=l.height/p}const u=this.filmOffset;u!==0&&(o+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Li=-90,Ui=1;class bm extends ft{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ft(Li,Ui,e,t);i.layers=this.layers,this.add(i);const o=new Ft(Li,Ui,e,t);o.layers=this.layers,this.add(o);const l=new Ft(Li,Ui,e,t);l.layers=this.layers,this.add(l);const u=new Ft(Li,Ui,e,t);u.layers=this.layers,this.add(u);const c=new Ft(Li,Ui,e,t);c.layers=this.layers,this.add(c);const p=new Ft(Li,Ui,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,o,l,u,c]=t;for(const p of t)this.remove(p);if(e===Tn)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===Ir)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,l,u,c,p,m]=this.children,d=e.getRenderTarget(),r=e.getActiveCubeFace(),s=e.getActiveMipmapLevel(),h=e.xr.enabled;e.xr.enabled=!1;const g=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,o),e.setRenderTarget(n,1,i),e.render(t,l),e.setRenderTarget(n,2,i),e.render(t,u),e.setRenderTarget(n,3,i),e.render(t,c),e.setRenderTarget(n,4,i),e.render(t,p),n.texture.generateMipmaps=g,e.setRenderTarget(n,5,i),e.render(t,m),e.setRenderTarget(d,r,s),e.xr.enabled=h,n.texture.needsPMREMUpdate=!0}}class Au extends Rt{constructor(e=[],t=Ci,n,i,o,l,u,c,p,m){super(e,t,n,i,o,l,u,c,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class vu extends Sn{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new Au(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Na(5,5,5),o=new Rn({name:"CubemapFromEquirect",uniforms:$i(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Wt,blending:zn});o.uniforms.tEquirect.value=t;const l=new ct(i,o),u=t.minFilter;return t.minFilter===Cn&&(t.minFilter=ht),new bm(1,10,this).update(e,l),t.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(e,t=!0,n=!0,i=!0){const o=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,n,i);e.setRenderTarget(o)}}class Vn extends ft{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Dm={type:"move"};class co{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Vn,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Vn,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new te,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new te),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Vn,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new te,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new te),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,o=null,l=null;const u=this._targetRay,c=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){l=!0;for(const g of e.hand.values()){const _=t.getJointPose(g,n),f=this._getHandJoint(p,g);_!==null&&(f.matrix.fromArray(_.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,f.jointRadius=_.radius),f.visible=_!==null}const m=p.joints["index-finger-tip"],d=p.joints["thumb-tip"],r=m.position.distanceTo(d.position),s=.02,h=.005;p.inputState.pinching&&r>s+h?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&r<=s-h&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),o!==null&&(c.matrix.fromArray(o.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,o.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(o.linearVelocity)):c.hasLinearVelocity=!1,o.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(o.angularVelocity)):c.hasAngularVelocity=!1));u!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&o!==null&&(i=o),i!==null&&(u.matrix.fromArray(i.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,i.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(i.linearVelocity)):u.hasLinearVelocity=!1,i.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(i.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(Dm)))}return u!==null&&(u.visible=i!==null),c!==null&&(c.visible=o!==null),p!==null&&(p.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Vn;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Om extends ft{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new xn,this.environmentIntensity=1,this.environmentRotation=new xn,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Im{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=vs,this.updateRanges=[],this.version=0,this.uuid=cn()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=cn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=cn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Lt=new te;class Xs{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Lt.fromBufferAttribute(this,t),Lt.applyMatrix4(e),this.setXYZ(t,Lt.x,Lt.y,Lt.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Lt.fromBufferAttribute(this,t),Lt.applyNormalMatrix(e),this.setXYZ(t,Lt.x,Lt.y,Lt.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Lt.fromBufferAttribute(this,t),Lt.transformDirection(e),this.setXYZ(t,Lt.x,Lt.y,Lt.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=pn(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=rt(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=rt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=rt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=rt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=rt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=pn(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=pn(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=pn(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=pn(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=rt(t,this.array),n=rt(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=rt(t,this.array),n=rt(n,this.array),i=rt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=rt(t,this.array),n=rt(n,this.array),i=rt(i,this.array),o=rt(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){wr("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return new It(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Xs(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){wr("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const Wl=new te,ql=new mt,Yl=new mt,wm=new te,Xl=new Ke,ir=new te,ho=new Dn,Kl=new Ke,fo=new ta;class Pm extends ct{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Cl,this.bindMatrix=new Ke,this.bindMatrixInverse=new Ke,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new bn),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,ir),this.boundingBox.expandByPoint(ir)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Dn),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,ir),this.boundingSphere.expandByPoint(ir)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ho.copy(this.boundingSphere),ho.applyMatrix4(i),e.ray.intersectsSphere(ho)!==!1&&(Kl.copy(i).invert(),fo.copy(e.ray).applyMatrix4(Kl),!(this.boundingBox!==null&&fo.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,fo)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new mt,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Cl?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===bp?this.bindMatrixInverse.copy(this.bindMatrix).invert():Le("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;ql.fromBufferAttribute(i.attributes.skinIndex,e),Yl.fromBufferAttribute(i.attributes.skinWeight,e),Wl.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const l=Yl.getComponent(o);if(l!==0){const u=ql.getComponent(o);Xl.multiplyMatrices(n.bones[u].matrixWorld,n.boneInverses[u]),t.addScaledVector(wm.copy(Wl).applyMatrix4(Xl),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}class xu extends ft{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ur extends Rt{constructor(e=null,t=1,n=1,i,o,l,u,c,p=St,m=St,d,r){super(null,l,u,c,p,m,i,o,d,r),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const jl=new Ke,Nm=new Ke;class Ks{constructor(e=[],t=[]){this.uuid=cn(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){Le("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Ke)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Ke;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let o=0,l=e.length;o<l;o++){const u=e[o]?e[o].matrixWorld:Nm;jl.multiplyMatrices(u,t[o]),jl.toArray(n,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Ks(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Ur(t,e,e,an,kt);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const o=e.bones[n];let l=t[o];l===void 0&&(Le("Skeleton: No bone found with UUID:",o),l=new xu),this.bones.push(l),this.boneInverses.push(new Ke().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,o=t.length;i<o;i++){const l=t[i];e.bones.push(l.uuid);const u=n[i];e.boneInverses.push(u.toArray())}return e}}class xs extends It{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Gi=new Ke,Zl=new Ke,ar=[],$l=new bn,Lm=new Ke,pa=new ct,ma=new Dn;class Um extends ct{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new xs(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,Lm)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new bn),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Gi),$l.copy(e.boundingBox).applyMatrix4(Gi),this.boundingBox.union($l)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Dn),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Gi),ma.copy(e.boundingSphere).applyMatrix4(Gi),this.boundingSphere.union(ma)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,o=n.length+1,l=e*o+1;for(let u=0;u<n.length;u++)n[u]=i[l+u]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(pa.geometry=this.geometry,pa.material=this.material,pa.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ma.copy(this.boundingSphere),ma.applyMatrix4(n),e.ray.intersectsSphere(ma)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,Gi),Zl.multiplyMatrices(n,Gi),pa.matrixWorld=Zl,pa.raycast(e,ar);for(let l=0,u=ar.length;l<u;l++){const c=ar[l];c.instanceId=o,c.object=this,t.push(c)}ar.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new xs(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;this.morphTexture===null&&(this.morphTexture=new Ur(new Float32Array(i*this.count),i,this.count,Fs,kt));const o=this.morphTexture.source.data.data;let l=0;for(let p=0;p<n.length;p++)l+=n[p];const u=this.geometry.morphTargetsRelative?1:1-l,c=i*e;o[c]=u,o.set(n,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const _o=new te,Gm=new te,Fm=new je;class ei{constructor(e=new te(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=_o.subVectors(n,t).cross(Gm.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(_o),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(e.start).addScaledVector(n,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Fm.getNormalMatrix(e),i=this.coplanarPoint(_o).applyMatrix4(e),o=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const pi=new Dn,km=new ze(.5,.5),rr=new te;class js{constructor(e=new ei,t=new ei,n=new ei,i=new ei,o=new ei,l=new ei){this.planes=[e,t,n,i,o,l]}set(e,t,n,i,o,l){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(n),u[3].copy(i),u[4].copy(o),u[5].copy(l),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Tn,n=!1){const i=this.planes,o=e.elements,l=o[0],u=o[1],c=o[2],p=o[3],m=o[4],d=o[5],r=o[6],s=o[7],h=o[8],g=o[9],_=o[10],f=o[11],C=o[12],S=o[13],D=o[14],I=o[15];if(i[0].setComponents(p-l,s-m,f-h,I-C).normalize(),i[1].setComponents(p+l,s+m,f+h,I+C).normalize(),i[2].setComponents(p+u,s+d,f+g,I+S).normalize(),i[3].setComponents(p-u,s-d,f-g,I-S).normalize(),n)i[4].setComponents(c,r,_,D).normalize(),i[5].setComponents(p-c,s-r,f-_,I-D).normalize();else if(i[4].setComponents(p-c,s-r,f-_,I-D).normalize(),t===Tn)i[5].setComponents(p+c,s+r,f+_,I+D).normalize();else if(t===Ir)i[5].setComponents(c,r,_,D).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),pi.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),pi.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(pi)}intersectsSprite(e){pi.center.set(0,0,0);const t=km.distanceTo(e.center);return pi.radius=.7071067811865476+t,pi.applyMatrix4(e.matrixWorld),this.intersectsSphere(pi)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(rr.x=i.normal.x>0?e.max.x:e.min.x,rr.y=i.normal.y>0?e.max.y:e.min.y,rr.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(rr)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class Zs extends An{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ve(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Pr=new te,Nr=new te,Jl=new Ke,ca=new ta,or=new Dn,go=new te,Ql=new te;class Ia extends ft{constructor(e=new Pt,t=new Zs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,o=t.count;i<o;i++)Pr.fromBufferAttribute(t,i-1),Nr.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=Pr.distanceTo(Nr);e.setAttribute("lineDistance",new Tt(n,1))}else Le("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,l=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),or.copy(n.boundingSphere),or.applyMatrix4(i),or.radius+=o,e.ray.intersectsSphere(or)===!1)return;Jl.copy(i).invert(),ca.copy(e.ray).applyMatrix4(Jl);const u=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=u*u,p=this.isLineSegments?2:1,m=n.index,r=n.attributes.position;if(m!==null){const s=Math.max(0,l.start),h=Math.min(m.count,l.start+l.count);for(let g=s,_=h-1;g<_;g+=p){const f=m.getX(g),C=m.getX(g+1),S=sr(this,e,ca,c,f,C,g);S&&t.push(S)}if(this.isLineLoop){const g=m.getX(h-1),_=m.getX(s),f=sr(this,e,ca,c,g,_,h-1);f&&t.push(f)}}else{const s=Math.max(0,l.start),h=Math.min(r.count,l.start+l.count);for(let g=s,_=h-1;g<_;g+=p){const f=sr(this,e,ca,c,g,g+1,g);f&&t.push(f)}if(this.isLineLoop){const g=sr(this,e,ca,c,h-1,s,h-1);g&&t.push(g)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=i.length;o<l;o++){const u=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}}function sr(a,e,t,n,i,o,l){const u=a.geometry.attributes.position;if(Pr.fromBufferAttribute(u,i),Nr.fromBufferAttribute(u,o),t.distanceSqToSegment(Pr,Nr,go,Ql)>n)return;go.applyMatrix4(a.matrixWorld);const p=e.ray.origin.distanceTo(go);if(!(p<e.near||p>e.far))return{distance:p,point:Ql.clone().applyMatrix4(a.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:a}}const ed=new te,td=new te;class Bm extends Ia{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,o=t.count;i<o;i+=2)ed.fromBufferAttribute(t,i),td.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+ed.distanceTo(td);e.setAttribute("lineDistance",new Tt(n,1))}else Le("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Vm extends Ia{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Ru extends An{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ve(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const nd=new Ke,Rs=new ta,lr=new Dn,dr=new te;class Hm extends ft{constructor(e=new Pt,t=new Ru){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,l=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),lr.copy(n.boundingSphere),lr.applyMatrix4(i),lr.radius+=o,e.ray.intersectsSphere(lr)===!1)return;nd.copy(i).invert(),Rs.copy(e.ray).applyMatrix4(nd);const u=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=u*u,p=n.index,d=n.attributes.position;if(p!==null){const r=Math.max(0,l.start),s=Math.min(p.count,l.start+l.count);for(let h=r,g=s;h<g;h++){const _=p.getX(h);dr.fromBufferAttribute(d,_),id(dr,_,c,i,e,t,this)}}else{const r=Math.max(0,l.start),s=Math.min(d.count,l.start+l.count);for(let h=r,g=s;h<g;h++)dr.fromBufferAttribute(d,h),id(dr,h,c,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=i.length;o<l;o++){const u=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}}function id(a,e,t,n,i,o,l){const u=Rs.distanceSqToPoint(a);if(u<t){const c=new te;Rs.closestPointToPoint(a,c),c.applyMatrix4(n);const p=i.ray.origin.distanceTo(c);if(p<i.near||p>i.far)return;o.push({distance:p,distanceToRay:Math.sqrt(u),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:l})}}class wa extends Rt{constructor(e,t,n=vn,i,o,l,u=St,c=St,p,m=Yn,d=1){if(m!==Yn&&m!==yi)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const r={width:e,height:t,depth:d};super(r,i,o,l,u,c,m,n,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new qs(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class zm extends wa{constructor(e,t=vn,n=Ci,i,o,l=St,u=St,c,p=Yn){const m={width:e,height:e,depth:1},d=[m,m,m,m,m,m];super(e,e,t,n,i,o,l,u,c,p),this.image=d,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class bu extends Rt{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class $s extends Pt{constructor(e=1,t=32,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const o=[],l=[],u=[],c=[],p=new te,m=new ze;l.push(0,0,0),u.push(0,0,1),c.push(.5,.5);for(let d=0,r=3;d<=t;d++,r+=3){const s=n+d/t*i;p.x=e*Math.cos(s),p.y=e*Math.sin(s),l.push(p.x,p.y,p.z),u.push(0,0,1),m.x=(l[r]/e+1)/2,m.y=(l[r+1]/e+1)/2,c.push(m.x,m.y)}for(let d=1;d<=t;d++)o.push(d,d+1,0);this.setIndex(o),this.setAttribute("position",new Tt(l,3)),this.setAttribute("normal",new Tt(u,3)),this.setAttribute("uv",new Tt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $s(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Pa extends Pt{constructor(e=1,t=1,n=1,i=32,o=1,l=!1,u=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:o,openEnded:l,thetaStart:u,thetaLength:c};const p=this;i=Math.floor(i),o=Math.floor(o);const m=[],d=[],r=[],s=[];let h=0;const g=[],_=n/2;let f=0;C(),l===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(m),this.setAttribute("position",new Tt(d,3)),this.setAttribute("normal",new Tt(r,3)),this.setAttribute("uv",new Tt(s,2));function C(){const D=new te,I=new te;let U=0;const F=(t-e)/n;for(let H=0;H<=o;H++){const R=[],N=H/o,q=N*(t-e)+e;for(let Q=0;Q<=i;Q++){const T=Q/i,b=T*c+u,v=Math.sin(b),P=Math.cos(b);I.x=q*v,I.y=-N*n+_,I.z=q*P,d.push(I.x,I.y,I.z),D.set(v,F,P).normalize(),r.push(D.x,D.y,D.z),s.push(T,1-N),R.push(h++)}g.push(R)}for(let H=0;H<i;H++)for(let R=0;R<o;R++){const N=g[R][H],q=g[R+1][H],Q=g[R+1][H+1],T=g[R][H+1];(e>0||R!==0)&&(m.push(N,q,T),U+=3),(t>0||R!==o-1)&&(m.push(q,Q,T),U+=3)}p.addGroup(f,U,0),f+=U}function S(D){const I=h,U=new ze,F=new te;let H=0;const R=D===!0?e:t,N=D===!0?1:-1;for(let Q=1;Q<=i;Q++)d.push(0,_*N,0),r.push(0,N,0),s.push(.5,.5),h++;const q=h;for(let Q=0;Q<=i;Q++){const b=Q/i*c+u,v=Math.cos(b),P=Math.sin(b);F.x=R*P,F.y=_*N,F.z=R*v,d.push(F.x,F.y,F.z),r.push(0,N,0),U.x=v*.5+.5,U.y=P*.5*N+.5,s.push(U.x,U.y),h++}for(let Q=0;Q<i;Q++){const T=I+Q,b=q+Q;D===!0?m.push(b,b+1,T):m.push(b+1,b,T),H+=3}p.addGroup(f,H,D===!0?1:2),f+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pa(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Js extends Pa{constructor(e=1,t=1,n=32,i=1,o=!1,l=0,u=Math.PI*2){super(0,e,t,n,i,o,l,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:l,thetaLength:u}}static fromJSON(e){return new Js(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class La extends Pt{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const o=e/2,l=t/2,u=Math.floor(n),c=Math.floor(i),p=u+1,m=c+1,d=e/u,r=t/c,s=[],h=[],g=[],_=[];for(let f=0;f<m;f++){const C=f*r-l;for(let S=0;S<p;S++){const D=S*d-o;h.push(D,-C,0),g.push(0,0,1),_.push(S/u),_.push(1-f/c)}}for(let f=0;f<c;f++)for(let C=0;C<u;C++){const S=C+p*f,D=C+p*(f+1),I=C+1+p*(f+1),U=C+1+p*f;s.push(S,D,U),s.push(D,I,U)}this.setIndex(s),this.setAttribute("position",new Tt(h,3)),this.setAttribute("normal",new Tt(g,3)),this.setAttribute("uv",new Tt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new La(e.width,e.height,e.widthSegments,e.heightSegments)}}class Ei extends Pt{constructor(e=1,t=32,n=16,i=0,o=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:o,thetaStart:l,thetaLength:u},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const c=Math.min(l+u,Math.PI);let p=0;const m=[],d=new te,r=new te,s=[],h=[],g=[],_=[];for(let f=0;f<=n;f++){const C=[],S=f/n;let D=0;f===0&&l===0?D=.5/t:f===n&&c===Math.PI&&(D=-.5/t);for(let I=0;I<=t;I++){const U=I/t;d.x=-e*Math.cos(i+U*o)*Math.sin(l+S*u),d.y=e*Math.cos(l+S*u),d.z=e*Math.sin(i+U*o)*Math.sin(l+S*u),h.push(d.x,d.y,d.z),r.copy(d).normalize(),g.push(r.x,r.y,r.z),_.push(U+D,1-S),C.push(p++)}m.push(C)}for(let f=0;f<n;f++)for(let C=0;C<t;C++){const S=m[f][C+1],D=m[f][C],I=m[f+1][C],U=m[f+1][C+1];(f!==0||l>0)&&s.push(S,D,U),(f!==n-1||c<Math.PI)&&s.push(D,I,U)}this.setIndex(s),this.setAttribute("position",new Tt(h,3)),this.setAttribute("normal",new Tt(g,3)),this.setAttribute("uv",new Tt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ei(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Wm extends Rn{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class ii extends An{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ve(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xn,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class On extends ii{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ze(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return $e(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ve(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ve(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ve(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class qm extends An{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Ip,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Ym extends An{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function ur(a,e){return!a||a.constructor===e?a:typeof e.BYTES_PER_ELEMENT=="number"?new e(a):Array.prototype.slice.call(a)}function Xm(a){function e(i,o){return a[i]-a[o]}const t=a.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function ad(a,e,t){const n=a.length,i=new a.constructor(n);for(let o=0,l=0;l!==n;++o){const u=t[o]*e;for(let c=0;c!==e;++c)i[l++]=a[u+c]}return i}function Du(a,e,t,n){let i=1,o=a[0];for(;o!==void 0&&o[n]===void 0;)o=a[i++];if(o===void 0)return;let l=o[n];if(l!==void 0)if(Array.isArray(l))do l=o[n],l!==void 0&&(e.push(o.time),t.push(...l)),o=a[i++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[n],l!==void 0&&(e.push(o.time),l.toArray(t,t.length)),o=a[i++];while(o!==void 0);else do l=o[n],l!==void 0&&(e.push(o.time),t.push(l)),o=a[i++];while(o!==void 0)}class Ua{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],o=t[n-1];n:{e:{let l;t:{i:if(!(e<i)){for(let u=n+2;;){if(i===void 0){if(e<o)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===u)break;if(o=i,i=t[++n],e<i)break e}l=t.length;break t}if(!(e>=o)){const u=t[1];e<u&&(n=2,o=u);for(let c=n-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===c)break;if(i=o,o=t[--n-1],e>=o)break e}l=n,n=0;break t}break n}for(;n<l;){const u=n+l>>>1;e<t[u]?l=u:n=u+1}if(i=t[n],o=t[n-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,i)}return this.interpolate_(n,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,o=e*i;for(let l=0;l!==i;++l)t[l]=n[o+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Km extends Ua{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Tl,endingEnd:Tl}}intervalChanged_(e,t,n){const i=this.parameterPositions;let o=e-2,l=e+1,u=i[o],c=i[l];if(u===void 0)switch(this.getSettings_().endingStart){case Ml:o=e,u=2*t-n;break;case Sl:o=i.length-2,u=t+i[o]-i[o+1];break;default:o=e,u=n}if(c===void 0)switch(this.getSettings_().endingEnd){case Ml:l=e,c=2*n-t;break;case Sl:l=1,c=n+i[1]-i[0];break;default:l=e-1,c=t}const p=(n-t)*.5,m=this.valueSize;this._weightPrev=p/(t-u),this._weightNext=p/(c-n),this._offsetPrev=o*m,this._offsetNext=l*m}interpolate_(e,t,n,i){const o=this.resultBuffer,l=this.sampleValues,u=this.valueSize,c=e*u,p=c-u,m=this._offsetPrev,d=this._offsetNext,r=this._weightPrev,s=this._weightNext,h=(n-t)/(i-t),g=h*h,_=g*h,f=-r*_+2*r*g-r*h,C=(1+r)*_+(-1.5-2*r)*g+(-.5+r)*h+1,S=(-1-s)*_+(1.5+s)*g+.5*h,D=s*_-s*g;for(let I=0;I!==u;++I)o[I]=f*l[m+I]+C*l[p+I]+S*l[c+I]+D*l[d+I];return o}}class jm extends Ua{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const o=this.resultBuffer,l=this.sampleValues,u=this.valueSize,c=e*u,p=c-u,m=(n-t)/(i-t),d=1-m;for(let r=0;r!==u;++r)o[r]=l[p+r]*d+l[c+r]*m;return o}}class Zm extends Ua{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class fn{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ur(t,this.TimeBufferType),this.values=ur(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:ur(e.times,Array),values:ur(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Zm(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new jm(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Km(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Ra:t=this.InterpolantFactoryMethodDiscrete;break;case ba:t=this.InterpolantFactoryMethodLinear;break;case qr:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return Le("KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ra;case this.InterpolantFactoryMethodLinear:return ba;case this.InterpolantFactoryMethodSmooth:return qr}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let o=0,l=i-1;for(;o!==i&&n[o]<e;)++o;for(;l!==-1&&n[l]>t;)--l;if(++l,o!==0||l!==i){o>=l&&(l=Math.max(l,1),o=l-1);const u=this.getValueSize();this.times=n.slice(o,l),this.values=this.values.slice(o*u,l*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Be("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,o=n.length;o===0&&(Be("KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let u=0;u!==o;u++){const c=n[u];if(typeof c=="number"&&isNaN(c)){Be("KeyframeTrack: Time is not a valid number.",this,u,c),e=!1;break}if(l!==null&&l>c){Be("KeyframeTrack: Out of order keys.",this,u,c,l),e=!1;break}l=c}if(i!==void 0&&kp(i))for(let u=0,c=i.length;u!==c;++u){const p=i[u];if(isNaN(p)){Be("KeyframeTrack: Value is not a valid number.",this,u,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===qr,o=e.length-1;let l=1;for(let u=1;u<o;++u){let c=!1;const p=e[u],m=e[u+1];if(p!==m&&(u!==1||p!==e[0]))if(i)c=!0;else{const d=u*n,r=d-n,s=d+n;for(let h=0;h!==n;++h){const g=t[d+h];if(g!==t[r+h]||g!==t[s+h]){c=!0;break}}}if(c){if(u!==l){e[l]=e[u];const d=u*n,r=l*n;for(let s=0;s!==n;++s)t[r+s]=t[d+s]}++l}}if(o>0){e[l]=e[o];for(let u=o*n,c=l*n,p=0;p!==n;++p)t[c+p]=t[u+p];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}fn.prototype.ValueTypeName="";fn.prototype.TimeBufferType=Float32Array;fn.prototype.ValueBufferType=Float32Array;fn.prototype.DefaultInterpolation=ba;class na extends fn{constructor(e,t,n){super(e,t,n)}}na.prototype.ValueTypeName="bool";na.prototype.ValueBufferType=Array;na.prototype.DefaultInterpolation=Ra;na.prototype.InterpolantFactoryMethodLinear=void 0;na.prototype.InterpolantFactoryMethodSmooth=void 0;class Ou extends fn{constructor(e,t,n,i){super(e,t,n,i)}}Ou.prototype.ValueTypeName="color";class Ji extends fn{constructor(e,t,n,i){super(e,t,n,i)}}Ji.prototype.ValueTypeName="number";class $m extends Ua{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const o=this.resultBuffer,l=this.sampleValues,u=this.valueSize,c=(n-t)/(i-t);let p=e*u;for(let m=p+u;p!==m;p+=4)hn.slerpFlat(o,0,l,p-u,l,p,c);return o}}class Qi extends fn{constructor(e,t,n,i){super(e,t,n,i)}InterpolantFactoryMethodLinear(e){return new $m(this.times,this.values,this.getValueSize(),e)}}Qi.prototype.ValueTypeName="quaternion";Qi.prototype.InterpolantFactoryMethodSmooth=void 0;class ia extends fn{constructor(e,t,n){super(e,t,n)}}ia.prototype.ValueTypeName="string";ia.prototype.ValueBufferType=Array;ia.prototype.DefaultInterpolation=Ra;ia.prototype.InterpolantFactoryMethodLinear=void 0;ia.prototype.InterpolantFactoryMethodSmooth=void 0;class ea extends fn{constructor(e,t,n,i){super(e,t,n,i)}}ea.prototype.ValueTypeName="vector";class Jm{constructor(e="",t=-1,n=[],i=Dp){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=cn(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let l=0,u=n.length;l!==u;++l)t.push(ec(n[l]).scale(i));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o.userData=JSON.parse(e.userData||"{}"),o}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let o=0,l=n.length;o!==l;++o)t.push(fn.toJSON(n[o]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const o=t.length,l=[];for(let u=0;u<o;u++){let c=[],p=[];c.push((u+o-1)%o,u,(u+1)%o),p.push(0,1,0);const m=Xm(c);c=ad(c,1,m),p=ad(p,1,m),!i&&c[0]===0&&(c.push(o),p.push(p[0])),l.push(new Ji(".morphTargetInfluences["+t[u].name+"]",c,p).scale(1/n))}return new this(e,-1,l)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},o=/^([\w-]*?)([\d]+)$/;for(let u=0,c=e.length;u<c;u++){const p=e[u],m=p.name.match(o);if(m&&m.length>1){const d=m[1];let r=i[d];r||(i[d]=r=[]),r.push(p)}}const l=[];for(const u in i)l.push(this.CreateFromMorphTargetSequence(u,i[u],t,n));return l}static parseAnimation(e,t){if(Le("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Be("AnimationClip: No animation in JSONLoader data."),null;const n=function(d,r,s,h,g){if(s.length!==0){const _=[],f=[];Du(s,_,f,h),_.length!==0&&g.push(new d(r,_,f))}},i=[],o=e.name||"default",l=e.fps||30,u=e.blendMode;let c=e.length||-1;const p=e.hierarchy||[];for(let d=0;d<p.length;d++){const r=p[d].keys;if(!(!r||r.length===0))if(r[0].morphTargets){const s={};let h;for(h=0;h<r.length;h++)if(r[h].morphTargets)for(let g=0;g<r[h].morphTargets.length;g++)s[r[h].morphTargets[g]]=-1;for(const g in s){const _=[],f=[];for(let C=0;C!==r[h].morphTargets.length;++C){const S=r[h];_.push(S.time),f.push(S.morphTarget===g?1:0)}i.push(new Ji(".morphTargetInfluence["+g+"]",_,f))}c=s.length*l}else{const s=".bones["+t[d].name+"]";n(ea,s+".position",r,"pos",i),n(Qi,s+".quaternion",r,"rot",i),n(ea,s+".scale",r,"scl",i)}}return i.length===0?null:new this(o,c,i,u)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const o=this.tracks[n];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function Qm(a){switch(a.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ji;case"vector":case"vector2":case"vector3":case"vector4":return ea;case"color":return Ou;case"quaternion":return Qi;case"bool":case"boolean":return na;case"string":return ia}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+a)}function ec(a){if(a.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Qm(a.type);if(a.times===void 0){const t=[],n=[];Du(a.keys,t,n,"value"),a.times=t,a.values=n}return e.parse!==void 0?e.parse(a):new e(a.name,a.times,a.values,a.interpolation)}const Hn={enabled:!1,files:{},add:function(a,e){this.enabled!==!1&&(this.files[a]=e)},get:function(a){if(this.enabled!==!1)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};class tc{constructor(e,t,n){const i=this;let o=!1,l=0,u=0,c;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(m){u++,o===!1&&i.onStart!==void 0&&i.onStart(m,l,u),o=!0},this.itemEnd=function(m){l++,i.onProgress!==void 0&&i.onProgress(m,l,u),l===u&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(m){i.onError!==void 0&&i.onError(m)},this.resolveURL=function(m){return c?c(m):m},this.setURLModifier=function(m){return c=m,this},this.addHandler=function(m,d){return p.push(m,d),this},this.removeHandler=function(m){const d=p.indexOf(m);return d!==-1&&p.splice(d,2),this},this.getHandler=function(m){for(let d=0,r=p.length;d<r;d+=2){const s=p[d],h=p[d+1];if(s.global&&(s.lastIndex=0),s.test(m))return h}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const nc=new tc;class Mi{constructor(e){this.manager=e!==void 0?e:nc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,o){n.load(e,i,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Mi.DEFAULT_MATERIAL_NAME="__DEFAULT";const Gn={};class ic extends Error{constructor(e,t){super(e),this.response=t}}class Qs extends Mi{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Hn.get(`file:${e}`);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Gn[e]!==void 0){Gn[e].push({onLoad:t,onProgress:n,onError:i});return}Gn[e]=[],Gn[e].push({onLoad:t,onProgress:n,onError:i});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),u=this.mimeType,c=this.responseType;fetch(l).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&Le("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=Gn[e],d=p.body.getReader(),r=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),s=r?parseInt(r):0,h=s!==0;let g=0;const _=new ReadableStream({start(f){C();function C(){d.read().then(({done:S,value:D})=>{if(S)f.close();else{g+=D.byteLength;const I=new ProgressEvent("progress",{lengthComputable:h,loaded:g,total:s});for(let U=0,F=m.length;U<F;U++){const H=m[U];H.onProgress&&H.onProgress(I)}f.enqueue(D),C()}},S=>{f.error(S)})}}});return new Response(_)}else throw new ic(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(c){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,u));case"json":return p.json();default:if(u==="")return p.text();{const d=/charset="?([^;"\s]*)"?/i.exec(u),r=d&&d[1]?d[1].toLowerCase():void 0,s=new TextDecoder(r);return p.arrayBuffer().then(h=>s.decode(h))}}}).then(p=>{Hn.add(`file:${e}`,p);const m=Gn[e];delete Gn[e];for(let d=0,r=m.length;d<r;d++){const s=m[d];s.onLoad&&s.onLoad(p)}}).catch(p=>{const m=Gn[e];if(m===void 0)throw this.manager.itemError(e),p;delete Gn[e];for(let d=0,r=m.length;d<r;d++){const s=m[d];s.onError&&s.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}const Fi=new WeakMap;class ac extends Mi{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=Hn.get(`image:${e}`);if(l!==void 0){if(l.complete===!0)o.manager.itemStart(e),setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0);else{let d=Fi.get(l);d===void 0&&(d=[],Fi.set(l,d)),d.push({onLoad:t,onError:i})}return l}const u=Da("img");function c(){m(),t&&t(this);const d=Fi.get(this)||[];for(let r=0;r<d.length;r++){const s=d[r];s.onLoad&&s.onLoad(this)}Fi.delete(this),o.manager.itemEnd(e)}function p(d){m(),i&&i(d),Hn.remove(`image:${e}`);const r=Fi.get(this)||[];for(let s=0;s<r.length;s++){const h=r[s];h.onError&&h.onError(d)}Fi.delete(this),o.manager.itemError(e),o.manager.itemEnd(e)}function m(){u.removeEventListener("load",c,!1),u.removeEventListener("error",p,!1)}return u.addEventListener("load",c,!1),u.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),Hn.add(`image:${e}`,u),o.manager.itemStart(e),u.src=e,u}}class rc extends Mi{constructor(e){super(e)}load(e,t,n,i){const o=this,l=new Ur,u=new Qs(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(o.withCredentials),u.load(e,function(c){let p;try{p=o.parse(c)}catch(m){if(i!==void 0)i(m);else{m(m);return}}p.image!==void 0?l.image=p.image:p.data!==void 0&&(l.image.width=p.width,l.image.height=p.height,l.image.data=p.data),l.wrapS=p.wrapS!==void 0?p.wrapS:nn,l.wrapT=p.wrapT!==void 0?p.wrapT:nn,l.magFilter=p.magFilter!==void 0?p.magFilter:ht,l.minFilter=p.minFilter!==void 0?p.minFilter:ht,l.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(l.colorSpace=p.colorSpace),p.flipY!==void 0&&(l.flipY=p.flipY),p.format!==void 0&&(l.format=p.format),p.type!==void 0&&(l.type=p.type),p.mipmaps!==void 0&&(l.mipmaps=p.mipmaps,l.minFilter=Cn),p.mipmapCount===1&&(l.minFilter=ht),p.generateMipmaps!==void 0&&(l.generateMipmaps=p.generateMipmaps),l.needsUpdate=!0,t&&t(l,p)},n,i),l}}class oc extends Mi{constructor(e){super(e)}load(e,t,n,i){const o=new Rt,l=new ac(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(u){o.image=u,o.needsUpdate=!0,t!==void 0&&t(o)},n,i),o}}class Gr extends ft{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ve(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}const yo=new Ke,rd=new te,od=new te;class el{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ze(512,512),this.mapType=zt,this.map=null,this.mapPass=null,this.matrix=new Ke,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new js,this._frameExtents=new ze(1,1),this._viewportCount=1,this._viewports=[new mt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;rd.setFromMatrixPosition(e.matrixWorld),t.position.copy(rd),od.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(od),t.updateMatrixWorld(),yo.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yo,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(yo)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class sc extends el{constructor(){super(new Ft(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=Zi*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,o=e.distance||t.far;(n!==t.fov||i!==t.aspect||o!==t.far)&&(t.fov=n,t.aspect=i,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class lc extends Gr{constructor(e,t,n=0,i=Math.PI/3,o=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ft.DEFAULT_UP),this.updateMatrix(),this.target=new ft,this.distance=n,this.angle=i,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new sc}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.angle=this.angle,t.object.decay=this.decay,t.object.penumbra=this.penumbra,t.object.target=this.target.uuid,this.map&&this.map.isTexture&&(t.object.map=this.map.toJSON(e).uuid),t.object.shadow=this.shadow.toJSON(),t}}class dc extends el{constructor(){super(new Ft(90,1,.5,500)),this.isPointLightShadow=!0}}class uc extends Gr{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new dc}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.decay=this.decay,t.object.shadow=this.shadow.toJSON(),t}}class Fr extends Su{constructor(e=-1,t=1,n=1,i=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=n-e,l=n+e,u=i+t,c=i-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=p*this.view.offsetX,l=o+p*this.view.width,u-=m*this.view.offsetY,c=u-m*this.view.height}this.projectionMatrix.makeOrthographic(o,l,u,c,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class pc extends el{constructor(){super(new Fr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Iu extends Gr{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ft.DEFAULT_UP),this.updateMatrix(),this.target=new ft,this.shadow=new pc}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class mc extends Gr{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Aa{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}const Eo=new WeakMap;class cc extends Mi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Le("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Le("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=Hn.get(`image-bitmap:${e}`);if(l!==void 0){if(o.manager.itemStart(e),l.then){l.then(p=>{if(Eo.has(l)===!0)i&&i(Eo.get(l)),o.manager.itemError(e),o.manager.itemEnd(e);else return t&&t(p),o.manager.itemEnd(e),p});return}return setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,u.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const c=fetch(e,u).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(p){return Hn.add(`image-bitmap:${e}`,p),t&&t(p),o.manager.itemEnd(e),p}).catch(function(p){i&&i(p),Eo.set(c,p),Hn.remove(`image-bitmap:${e}`),o.manager.itemError(e),o.manager.itemEnd(e)});Hn.add(`image-bitmap:${e}`,c),o.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class hc extends Ft{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}const tl="\\[\\]\\.:\\/",fc=new RegExp("["+tl+"]","g"),nl="[^"+tl+"]",_c="[^"+tl.replace("\\.","")+"]",gc=/((?:WC+[\/:])*)/.source.replace("WC",nl),yc=/(WCOD+)?/.source.replace("WCOD",_c),Ec=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",nl),Cc=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",nl),Tc=new RegExp("^"+gc+yc+Ec+Cc+"$"),Mc=["material","materials","bones","map"];class Sc{constructor(e,t,n){const i=n||ot.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=n.length;i!==o;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class ot{constructor(e,t,n){this.path=t,this.parsedPath=n||ot.parseTrackName(t),this.node=ot.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new ot.Composite(e,t,n):new ot(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(fc,"")}static parseTrackName(e){const t=Tc.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=n.nodeName.substring(i+1);Mc.indexOf(o)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=o)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(o){for(let l=0;l<o.length;l++){const u=o[l];if(u.name===t||u.uuid===t)return u;const c=n(u.children);if(c)return c}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,o=n.length;i!==o;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,o=n.length;i!==o;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,o=n.length;i!==o;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,o=n.length;i!==o;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let o=t.propertyIndex;if(e||(e=ot.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Le("PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let p=t.objectIndex;switch(n){case"materials":if(!e.material){Be("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Be("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Be("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===p){p=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Be("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Be("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){Be("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(p!==void 0){if(e[p]===void 0){Be("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const l=e[i];if(l===void 0){const p=t.nodeName;Be("PropertyBinding: Trying to update property for track: "+p+"."+i+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?u=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){Be("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Be("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&&l.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ot.Composite=Sc;ot.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ot.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ot.prototype.GetterByBindingType=[ot.prototype._getValue_direct,ot.prototype._getValue_array,ot.prototype._getValue_arrayElement,ot.prototype._getValue_toArray];ot.prototype.SetterByBindingTypeAndVersioning=[[ot.prototype._setValue_direct,ot.prototype._setValue_direct_setNeedsUpdate,ot.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ot.prototype._setValue_array,ot.prototype._setValue_array_setNeedsUpdate,ot.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ot.prototype._setValue_arrayElement,ot.prototype._setValue_arrayElement_setNeedsUpdate,ot.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ot.prototype._setValue_fromArray,ot.prototype._setValue_fromArray_setNeedsUpdate,ot.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];const sd=new Ke;class Ac{constructor(e,t,n=0,i=1/0){this.ray=new ta(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new Ys,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Be("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return sd.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(sd),this}intersectObject(e,t=!0,n=[]){return bs(e,this,n,t),n.sort(ld),n}intersectObjects(e,t=!0,n=[]){for(let i=0,o=e.length;i<o;i++)bs(e[i],this,n,t);return n.sort(ld),n}}function ld(a,e){return a.distance-e.distance}function bs(a,e,t,n){let i=!0;if(a.layers.test(e.layers)&&a.raycast(e,t)===!1&&(i=!1),i===!0&&n===!0){const o=a.children;for(let l=0,u=o.length;l<u;l++)bs(o[l],e,t,!0)}}class dd{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=$e(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos($e(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class vc extends Ti{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Le("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function ud(a,e,t,n){const i=xc(n);switch(t){case mu:return a*e;case Fs:return a*e/i.components*i.byteLength;case ks:return a*e/i.components*i.byteLength;case ji:return a*e*2/i.components*i.byteLength;case Bs:return a*e*2/i.components*i.byteLength;case cu:return a*e*3/i.components*i.byteLength;case an:return a*e*4/i.components*i.byteLength;case Vs:return a*e*4/i.components*i.byteLength;case Tr:case Mr:return Math.floor((a+3)/4)*Math.floor((e+3)/4)*8;case Sr:case Ar:return Math.floor((a+3)/4)*Math.floor((e+3)/4)*16;case Xo:case jo:return Math.max(a,16)*Math.max(e,8)/4;case Yo:case Ko:return Math.max(a,8)*Math.max(e,8)/2;case Zo:case $o:case Qo:case es:return Math.floor((a+3)/4)*Math.floor((e+3)/4)*8;case Jo:case ts:case ns:return Math.floor((a+3)/4)*Math.floor((e+3)/4)*16;case is:return Math.floor((a+3)/4)*Math.floor((e+3)/4)*16;case as:return Math.floor((a+4)/5)*Math.floor((e+3)/4)*16;case rs:return Math.floor((a+4)/5)*Math.floor((e+4)/5)*16;case os:return Math.floor((a+5)/6)*Math.floor((e+4)/5)*16;case ss:return Math.floor((a+5)/6)*Math.floor((e+5)/6)*16;case ls:return Math.floor((a+7)/8)*Math.floor((e+4)/5)*16;case ds:return Math.floor((a+7)/8)*Math.floor((e+5)/6)*16;case us:return Math.floor((a+7)/8)*Math.floor((e+7)/8)*16;case ps:return Math.floor((a+9)/10)*Math.floor((e+4)/5)*16;case ms:return Math.floor((a+9)/10)*Math.floor((e+5)/6)*16;case cs:return Math.floor((a+9)/10)*Math.floor((e+7)/8)*16;case hs:return Math.floor((a+9)/10)*Math.floor((e+9)/10)*16;case fs:return Math.floor((a+11)/12)*Math.floor((e+9)/10)*16;case _s:return Math.floor((a+11)/12)*Math.floor((e+11)/12)*16;case gs:case ys:case Es:return Math.ceil(a/4)*Math.ceil(e/4)*16;case Cs:case Ts:return Math.ceil(a/4)*Math.ceil(e/4)*8;case Ms:case Ss:return Math.ceil(a/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function xc(a){switch(a){case zt:case lu:return{byteLength:1,components:1};case va:case du:case Zt:return{byteLength:2,components:1};case Us:case Gs:return{byteLength:2,components:4};case vn:case Ls:case kt:return{byteLength:4,components:1};case uu:case pu:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${a}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ns}}));typeof window<"u"&&(window.__THREE__?Le("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ns);function wu(){let a=null,e=!1,t=null,n=null;function i(o,l){t(o,l),n=a.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=a.requestAnimationFrame(i),e=!0)},stop:function(){a.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){a=o}}}function Rc(a){const e=new WeakMap;function t(u,c){const p=u.array,m=u.usage,d=p.byteLength,r=a.createBuffer();a.bindBuffer(c,r),a.bufferData(c,p,m),u.onUploadCallback();let s;if(p instanceof Float32Array)s=a.FLOAT;else if(typeof Float16Array<"u"&&p instanceof Float16Array)s=a.HALF_FLOAT;else if(p instanceof Uint16Array)u.isFloat16BufferAttribute?s=a.HALF_FLOAT:s=a.UNSIGNED_SHORT;else if(p instanceof Int16Array)s=a.SHORT;else if(p instanceof Uint32Array)s=a.UNSIGNED_INT;else if(p instanceof Int32Array)s=a.INT;else if(p instanceof Int8Array)s=a.BYTE;else if(p instanceof Uint8Array)s=a.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)s=a.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:r,type:s,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version,size:d}}function n(u,c,p){const m=c.array,d=c.updateRanges;if(a.bindBuffer(p,u),d.length===0)a.bufferSubData(p,0,m);else{d.sort((s,h)=>s.start-h.start);let r=0;for(let s=1;s<d.length;s++){const h=d[r],g=d[s];g.start<=h.start+h.count+1?h.count=Math.max(h.count,g.start+g.count-h.start):(++r,d[r]=g)}d.length=r+1;for(let s=0,h=d.length;s<h;s++){const g=d[s];a.bufferSubData(p,g.start*m.BYTES_PER_ELEMENT,m,g.start,g.count)}c.clearUpdateRanges()}c.onUploadCallback()}function i(u){return u.isInterleavedBufferAttribute&&(u=u.data),e.get(u)}function o(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=e.get(u);c&&(a.deleteBuffer(c.buffer),e.delete(u))}function l(u,c){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const m=e.get(u);(!m||m.version<u.version)&&e.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const p=e.get(u);if(p===void 0)e.set(u,t(u,c));else if(p.version<u.version){if(p.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(p.buffer,u,c),p.version=u.version}}return{get:i,remove:o,update:l}}var bc=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Dc=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Oc=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Ic=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wc=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Pc=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Nc=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Lc=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Uc=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Gc=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Fc=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,kc=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Bc=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Vc=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Hc=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,zc=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Wc=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,qc=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Yc=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Xc=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Kc=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,jc=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Zc=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,$c=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Jc=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Qc=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,eh=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,th=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,nh=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,ih=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ah="gl_FragColor = linearToOutputTexel( gl_FragColor );",rh=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,oh=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,sh=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,lh=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,dh=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,uh=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ph=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,mh=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ch=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,hh=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,fh=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,_h=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,gh=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,yh=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Eh=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Ch=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Th=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Mh=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Sh=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Ah=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,vh=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,xh=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Rh=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,bh=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Dh=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Oh=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Ih=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wh=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Ph=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Nh=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Lh=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Uh=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Gh=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Fh=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,kh=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Bh=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Vh=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Hh=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,zh=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Wh=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,qh=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Yh=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Xh=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Kh=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,jh=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Zh=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,$h=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Jh=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Qh=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,ef=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,tf=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,nf=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,af=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,rf=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,of=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,sf=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,lf=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,df=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,uf=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,pf=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,mf=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,cf=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,hf=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ff=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,_f=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,gf=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,yf=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ef=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Cf=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Tf=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Mf=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Sf=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Af=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vf=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,xf=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Rf=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const bf=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Df=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Of=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,If=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wf=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Pf=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Nf=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Lf=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Uf=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Gf=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,Ff=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,kf=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Bf=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Vf=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Hf=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,zf=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wf=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qf=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yf=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Xf=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kf=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,jf=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Zf=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$f=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jf=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Qf=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,e_=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,t_=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,n_=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,i_=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,a_=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,r_=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,o_=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,s_=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ze={alphahash_fragment:bc,alphahash_pars_fragment:Dc,alphamap_fragment:Oc,alphamap_pars_fragment:Ic,alphatest_fragment:wc,alphatest_pars_fragment:Pc,aomap_fragment:Nc,aomap_pars_fragment:Lc,batching_pars_vertex:Uc,batching_vertex:Gc,begin_vertex:Fc,beginnormal_vertex:kc,bsdfs:Bc,iridescence_fragment:Vc,bumpmap_pars_fragment:Hc,clipping_planes_fragment:zc,clipping_planes_pars_fragment:Wc,clipping_planes_pars_vertex:qc,clipping_planes_vertex:Yc,color_fragment:Xc,color_pars_fragment:Kc,color_pars_vertex:jc,color_vertex:Zc,common:$c,cube_uv_reflection_fragment:Jc,defaultnormal_vertex:Qc,displacementmap_pars_vertex:eh,displacementmap_vertex:th,emissivemap_fragment:nh,emissivemap_pars_fragment:ih,colorspace_fragment:ah,colorspace_pars_fragment:rh,envmap_fragment:oh,envmap_common_pars_fragment:sh,envmap_pars_fragment:lh,envmap_pars_vertex:dh,envmap_physical_pars_fragment:Ch,envmap_vertex:uh,fog_vertex:ph,fog_pars_vertex:mh,fog_fragment:ch,fog_pars_fragment:hh,gradientmap_pars_fragment:fh,lightmap_pars_fragment:_h,lights_lambert_fragment:gh,lights_lambert_pars_fragment:yh,lights_pars_begin:Eh,lights_toon_fragment:Th,lights_toon_pars_fragment:Mh,lights_phong_fragment:Sh,lights_phong_pars_fragment:Ah,lights_physical_fragment:vh,lights_physical_pars_fragment:xh,lights_fragment_begin:Rh,lights_fragment_maps:bh,lights_fragment_end:Dh,logdepthbuf_fragment:Oh,logdepthbuf_pars_fragment:Ih,logdepthbuf_pars_vertex:wh,logdepthbuf_vertex:Ph,map_fragment:Nh,map_pars_fragment:Lh,map_particle_fragment:Uh,map_particle_pars_fragment:Gh,metalnessmap_fragment:Fh,metalnessmap_pars_fragment:kh,morphinstance_vertex:Bh,morphcolor_vertex:Vh,morphnormal_vertex:Hh,morphtarget_pars_vertex:zh,morphtarget_vertex:Wh,normal_fragment_begin:qh,normal_fragment_maps:Yh,normal_pars_fragment:Xh,normal_pars_vertex:Kh,normal_vertex:jh,normalmap_pars_fragment:Zh,clearcoat_normal_fragment_begin:$h,clearcoat_normal_fragment_maps:Jh,clearcoat_pars_fragment:Qh,iridescence_pars_fragment:ef,opaque_fragment:tf,packing:nf,premultiplied_alpha_fragment:af,project_vertex:rf,dithering_fragment:of,dithering_pars_fragment:sf,roughnessmap_fragment:lf,roughnessmap_pars_fragment:df,shadowmap_pars_fragment:uf,shadowmap_pars_vertex:pf,shadowmap_vertex:mf,shadowmask_pars_fragment:cf,skinbase_vertex:hf,skinning_pars_vertex:ff,skinning_vertex:_f,skinnormal_vertex:gf,specularmap_fragment:yf,specularmap_pars_fragment:Ef,tonemapping_fragment:Cf,tonemapping_pars_fragment:Tf,transmission_fragment:Mf,transmission_pars_fragment:Sf,uv_pars_fragment:Af,uv_pars_vertex:vf,uv_vertex:xf,worldpos_vertex:Rf,background_vert:bf,background_frag:Df,backgroundCube_vert:Of,backgroundCube_frag:If,cube_vert:wf,cube_frag:Pf,depth_vert:Nf,depth_frag:Lf,distance_vert:Uf,distance_frag:Gf,equirect_vert:Ff,equirect_frag:kf,linedashed_vert:Bf,linedashed_frag:Vf,meshbasic_vert:Hf,meshbasic_frag:zf,meshlambert_vert:Wf,meshlambert_frag:qf,meshmatcap_vert:Yf,meshmatcap_frag:Xf,meshnormal_vert:Kf,meshnormal_frag:jf,meshphong_vert:Zf,meshphong_frag:$f,meshphysical_vert:Jf,meshphysical_frag:Qf,meshtoon_vert:e_,meshtoon_frag:t_,points_vert:n_,points_frag:i_,shadow_vert:a_,shadow_frag:r_,sprite_vert:o_,sprite_frag:s_},ve={common:{diffuse:{value:new Ve(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new je},alphaMap:{value:null},alphaMapTransform:{value:new je},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new je}},envmap:{envMap:{value:null},envMapRotation:{value:new je},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new je}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new je}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new je},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new je},normalScale:{value:new ze(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new je},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new je}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new je}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new je}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ve(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ve(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new je},alphaTest:{value:0},uvTransform:{value:new je}},sprite:{diffuse:{value:new Ve(16777215)},opacity:{value:1},center:{value:new ze(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new je},alphaMap:{value:null},alphaMapTransform:{value:new je},alphaTest:{value:0}}},En={basic:{uniforms:Gt([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.fog]),vertexShader:Ze.meshbasic_vert,fragmentShader:Ze.meshbasic_frag},lambert:{uniforms:Gt([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.fog,ve.lights,{emissive:{value:new Ve(0)}}]),vertexShader:Ze.meshlambert_vert,fragmentShader:Ze.meshlambert_frag},phong:{uniforms:Gt([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.fog,ve.lights,{emissive:{value:new Ve(0)},specular:{value:new Ve(1118481)},shininess:{value:30}}]),vertexShader:Ze.meshphong_vert,fragmentShader:Ze.meshphong_frag},standard:{uniforms:Gt([ve.common,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.roughnessmap,ve.metalnessmap,ve.fog,ve.lights,{emissive:{value:new Ve(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ze.meshphysical_vert,fragmentShader:Ze.meshphysical_frag},toon:{uniforms:Gt([ve.common,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.gradientmap,ve.fog,ve.lights,{emissive:{value:new Ve(0)}}]),vertexShader:Ze.meshtoon_vert,fragmentShader:Ze.meshtoon_frag},matcap:{uniforms:Gt([ve.common,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.fog,{matcap:{value:null}}]),vertexShader:Ze.meshmatcap_vert,fragmentShader:Ze.meshmatcap_frag},points:{uniforms:Gt([ve.points,ve.fog]),vertexShader:Ze.points_vert,fragmentShader:Ze.points_frag},dashed:{uniforms:Gt([ve.common,ve.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ze.linedashed_vert,fragmentShader:Ze.linedashed_frag},depth:{uniforms:Gt([ve.common,ve.displacementmap]),vertexShader:Ze.depth_vert,fragmentShader:Ze.depth_frag},normal:{uniforms:Gt([ve.common,ve.bumpmap,ve.normalmap,ve.displacementmap,{opacity:{value:1}}]),vertexShader:Ze.meshnormal_vert,fragmentShader:Ze.meshnormal_frag},sprite:{uniforms:Gt([ve.sprite,ve.fog]),vertexShader:Ze.sprite_vert,fragmentShader:Ze.sprite_frag},background:{uniforms:{uvTransform:{value:new je},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ze.background_vert,fragmentShader:Ze.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new je}},vertexShader:Ze.backgroundCube_vert,fragmentShader:Ze.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ze.cube_vert,fragmentShader:Ze.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ze.equirect_vert,fragmentShader:Ze.equirect_frag},distance:{uniforms:Gt([ve.common,ve.displacementmap,{referencePosition:{value:new te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ze.distance_vert,fragmentShader:Ze.distance_frag},shadow:{uniforms:Gt([ve.lights,ve.fog,{color:{value:new Ve(0)},opacity:{value:1}}]),vertexShader:Ze.shadow_vert,fragmentShader:Ze.shadow_frag}};En.physical={uniforms:Gt([En.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new je},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new je},clearcoatNormalScale:{value:new ze(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new je},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new je},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new je},sheen:{value:0},sheenColor:{value:new Ve(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new je},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new je},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new je},transmissionSamplerSize:{value:new ze},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new je},attenuationDistance:{value:0},attenuationColor:{value:new Ve(0)},specularColor:{value:new Ve(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new je},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new je},anisotropyVector:{value:new ze},anisotropyMap:{value:null},anisotropyMapTransform:{value:new je}}]),vertexShader:Ze.meshphysical_vert,fragmentShader:Ze.meshphysical_frag};const pr={r:0,b:0,g:0},mi=new xn,l_=new Ke;function d_(a,e,t,n,i,o,l){const u=new Ve(0);let c=o===!0?0:1,p,m,d=null,r=0,s=null;function h(S){let D=S.isScene===!0?S.background:null;return D&&D.isTexture&&(D=(S.backgroundBlurriness>0?t:e).get(D)),D}function g(S){let D=!1;const I=h(S);I===null?f(u,c):I&&I.isColor&&(f(I,1),D=!0);const U=a.xr.getEnvironmentBlendMode();U==="additive"?n.buffers.color.setClear(0,0,0,1,l):U==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,l),(a.autoClear||D)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil))}function _(S,D){const I=h(D);I&&(I.isCubeTexture||I.mapping===Lr)?(m===void 0&&(m=new ct(new Na(1,1,1),new Rn({name:"BackgroundCubeMaterial",uniforms:$i(En.backgroundCube.uniforms),vertexShader:En.backgroundCube.vertexShader,fragmentShader:En.backgroundCube.fragmentShader,side:Wt,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(U,F,H){this.matrixWorld.copyPosition(H.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(m)),mi.copy(D.backgroundRotation),mi.x*=-1,mi.y*=-1,mi.z*=-1,I.isCubeTexture&&I.isRenderTargetTexture===!1&&(mi.y*=-1,mi.z*=-1),m.material.uniforms.envMap.value=I,m.material.uniforms.flipEnvMap.value=I.isCubeTexture&&I.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=D.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(l_.makeRotationFromEuler(mi)),m.material.toneMapped=et.getTransfer(I.colorSpace)!==at,(d!==I||r!==I.version||s!==a.toneMapping)&&(m.material.needsUpdate=!0,d=I,r=I.version,s=a.toneMapping),m.layers.enableAll(),S.unshift(m,m.geometry,m.material,0,0,null)):I&&I.isTexture&&(p===void 0&&(p=new ct(new La(2,2),new Rn({name:"BackgroundMaterial",uniforms:$i(En.background.uniforms),vertexShader:En.background.vertexShader,fragmentShader:En.background.fragmentShader,side:qn,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(p)),p.material.uniforms.t2D.value=I,p.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,p.material.toneMapped=et.getTransfer(I.colorSpace)!==at,I.matrixAutoUpdate===!0&&I.updateMatrix(),p.material.uniforms.uvTransform.value.copy(I.matrix),(d!==I||r!==I.version||s!==a.toneMapping)&&(p.material.needsUpdate=!0,d=I,r=I.version,s=a.toneMapping),p.layers.enableAll(),S.unshift(p,p.geometry,p.material,0,0,null))}function f(S,D){S.getRGB(pr,Mu(a)),n.buffers.color.setClear(pr.r,pr.g,pr.b,D,l)}function C(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return u},setClearColor:function(S,D=1){u.set(S),c=D,f(u,c)},getClearAlpha:function(){return c},setClearAlpha:function(S){c=S,f(u,c)},render:g,addToRenderList:_,dispose:C}}function u_(a,e){const t=a.getParameter(a.MAX_VERTEX_ATTRIBS),n={},i=r(null);let o=i,l=!1;function u(N,q,Q,T,b){let v=!1;const P=d(T,Q,q);o!==P&&(o=P,p(o.object)),v=s(N,T,Q,b),v&&h(N,T,Q,b),b!==null&&e.update(b,a.ELEMENT_ARRAY_BUFFER),(v||l)&&(l=!1,D(N,q,Q,T),b!==null&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e.get(b).buffer))}function c(){return a.createVertexArray()}function p(N){return a.bindVertexArray(N)}function m(N){return a.deleteVertexArray(N)}function d(N,q,Q){const T=Q.wireframe===!0;let b=n[N.id];b===void 0&&(b={},n[N.id]=b);let v=b[q.id];v===void 0&&(v={},b[q.id]=v);let P=v[T];return P===void 0&&(P=r(c()),v[T]=P),P}function r(N){const q=[],Q=[],T=[];for(let b=0;b<t;b++)q[b]=0,Q[b]=0,T[b]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:Q,attributeDivisors:T,object:N,attributes:{},index:null}}function s(N,q,Q,T){const b=o.attributes,v=q.attributes;let P=0;const O=Q.getAttributes();for(const W in O)if(O[W].location>=0){const J=b[W];let ae=v[W];if(ae===void 0&&(W==="instanceMatrix"&&N.instanceMatrix&&(ae=N.instanceMatrix),W==="instanceColor"&&N.instanceColor&&(ae=N.instanceColor)),J===void 0||J.attribute!==ae||ae&&J.data!==ae.data)return!0;P++}return o.attributesNum!==P||o.index!==T}function h(N,q,Q,T){const b={},v=q.attributes;let P=0;const O=Q.getAttributes();for(const W in O)if(O[W].location>=0){let J=v[W];J===void 0&&(W==="instanceMatrix"&&N.instanceMatrix&&(J=N.instanceMatrix),W==="instanceColor"&&N.instanceColor&&(J=N.instanceColor));const ae={};ae.attribute=J,J&&J.data&&(ae.data=J.data),b[W]=ae,P++}o.attributes=b,o.attributesNum=P,o.index=T}function g(){const N=o.newAttributes;for(let q=0,Q=N.length;q<Q;q++)N[q]=0}function _(N){f(N,0)}function f(N,q){const Q=o.newAttributes,T=o.enabledAttributes,b=o.attributeDivisors;Q[N]=1,T[N]===0&&(a.enableVertexAttribArray(N),T[N]=1),b[N]!==q&&(a.vertexAttribDivisor(N,q),b[N]=q)}function C(){const N=o.newAttributes,q=o.enabledAttributes;for(let Q=0,T=q.length;Q<T;Q++)q[Q]!==N[Q]&&(a.disableVertexAttribArray(Q),q[Q]=0)}function S(N,q,Q,T,b,v,P){P===!0?a.vertexAttribIPointer(N,q,Q,b,v):a.vertexAttribPointer(N,q,Q,T,b,v)}function D(N,q,Q,T){g();const b=T.attributes,v=Q.getAttributes(),P=q.defaultAttributeValues;for(const O in v){const W=v[O];if(W.location>=0){let ie=b[O];if(ie===void 0&&(O==="instanceMatrix"&&N.instanceMatrix&&(ie=N.instanceMatrix),O==="instanceColor"&&N.instanceColor&&(ie=N.instanceColor)),ie!==void 0){const J=ie.normalized,ae=ie.itemSize,he=e.get(ie);if(he===void 0)continue;const ue=he.buffer,we=he.type,Ge=he.bytesPerElement,G=we===a.INT||we===a.UNSIGNED_INT||ie.gpuType===Ls;if(ie.isInterleavedBufferAttribute){const A=ie.data,k=A.stride,Y=ie.offset;if(A.isInstancedInterleavedBuffer){for(let X=0;X<W.locationSize;X++)f(W.location+X,A.meshPerAttribute);N.isInstancedMesh!==!0&&T._maxInstanceCount===void 0&&(T._maxInstanceCount=A.meshPerAttribute*A.count)}else for(let X=0;X<W.locationSize;X++)_(W.location+X);a.bindBuffer(a.ARRAY_BUFFER,ue);for(let X=0;X<W.locationSize;X++)S(W.location+X,ae/W.locationSize,we,J,k*Ge,(Y+ae/W.locationSize*X)*Ge,G)}else{if(ie.isInstancedBufferAttribute){for(let A=0;A<W.locationSize;A++)f(W.location+A,ie.meshPerAttribute);N.isInstancedMesh!==!0&&T._maxInstanceCount===void 0&&(T._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let A=0;A<W.locationSize;A++)_(W.location+A);a.bindBuffer(a.ARRAY_BUFFER,ue);for(let A=0;A<W.locationSize;A++)S(W.location+A,ae/W.locationSize,we,J,ae*Ge,ae/W.locationSize*A*Ge,G)}}else if(P!==void 0){const J=P[O];if(J!==void 0)switch(J.length){case 2:a.vertexAttrib2fv(W.location,J);break;case 3:a.vertexAttrib3fv(W.location,J);break;case 4:a.vertexAttrib4fv(W.location,J);break;default:a.vertexAttrib1fv(W.location,J)}}}}C()}function I(){H();for(const N in n){const q=n[N];for(const Q in q){const T=q[Q];for(const b in T)m(T[b].object),delete T[b];delete q[Q]}delete n[N]}}function U(N){if(n[N.id]===void 0)return;const q=n[N.id];for(const Q in q){const T=q[Q];for(const b in T)m(T[b].object),delete T[b];delete q[Q]}delete n[N.id]}function F(N){for(const q in n){const Q=n[q];if(Q[N.id]===void 0)continue;const T=Q[N.id];for(const b in T)m(T[b].object),delete T[b];delete Q[N.id]}}function H(){R(),l=!0,o!==i&&(o=i,p(o.object))}function R(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:u,reset:H,resetDefaultState:R,dispose:I,releaseStatesOfGeometry:U,releaseStatesOfProgram:F,initAttributes:g,enableAttribute:_,disableUnusedAttributes:C}}function p_(a,e,t){let n;function i(p){n=p}function o(p,m){a.drawArrays(n,p,m),t.update(m,n,1)}function l(p,m,d){d!==0&&(a.drawArraysInstanced(n,p,m,d),t.update(m,n,d))}function u(p,m,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,p,0,m,0,d);let s=0;for(let h=0;h<d;h++)s+=m[h];t.update(s,n,1)}function c(p,m,d,r){if(d===0)return;const s=e.get("WEBGL_multi_draw");if(s===null)for(let h=0;h<p.length;h++)l(p[h],m[h],r[h]);else{s.multiDrawArraysInstancedWEBGL(n,p,0,m,0,r,0,d);let h=0;for(let g=0;g<d;g++)h+=m[g]*r[g];t.update(h,n,1)}}this.setMode=i,this.render=o,this.renderInstances=l,this.renderMultiDraw=u,this.renderMultiDrawInstances=c}function m_(a,e,t,n){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");i=a.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function l(F){return!(F!==an&&n.convert(F)!==a.getParameter(a.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(F){const H=F===Zt&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(F!==zt&&n.convert(F)!==a.getParameter(a.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==kt&&!H)}function c(F){if(F==="highp"){if(a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision>0&&a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision>0&&a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const m=c(p);m!==p&&(Le("WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const d=t.logarithmicDepthBuffer===!0,r=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),s=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),h=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=a.getParameter(a.MAX_TEXTURE_SIZE),_=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),f=a.getParameter(a.MAX_VERTEX_ATTRIBS),C=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),S=a.getParameter(a.MAX_VARYING_VECTORS),D=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),I=a.getParameter(a.MAX_SAMPLES),U=a.getParameter(a.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:c,textureFormatReadable:l,textureTypeReadable:u,precision:p,logarithmicDepthBuffer:d,reversedDepthBuffer:r,maxTextures:s,maxVertexTextures:h,maxTextureSize:g,maxCubemapSize:_,maxAttributes:f,maxVertexUniforms:C,maxVaryings:S,maxFragmentUniforms:D,maxSamples:I,samples:U}}function c_(a){const e=this;let t=null,n=0,i=!1,o=!1;const l=new ei,u=new je,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(d,r){const s=d.length!==0||r||n!==0||i;return i=r,n=d.length,s},this.beginShadows=function(){o=!0,m(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,r){t=m(d,r,0)},this.setState=function(d,r,s){const h=d.clippingPlanes,g=d.clipIntersection,_=d.clipShadows,f=a.get(d);if(!i||h===null||h.length===0||o&&!_)o?m(null):p();else{const C=o?0:n,S=C*4;let D=f.clippingState||null;c.value=D,D=m(h,r,S,s);for(let I=0;I!==S;++I)D[I]=t[I];f.clippingState=D,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=C}};function p(){c.value!==t&&(c.value=t,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function m(d,r,s,h){const g=d!==null?d.length:0;let _=null;if(g!==0){if(_=c.value,h!==!0||_===null){const f=s+g*4,C=r.matrixWorldInverse;u.getNormalMatrix(C),(_===null||_.length<f)&&(_=new Float32Array(f));for(let S=0,D=s;S!==g;++S,D+=4)l.copy(d[S]).applyMatrix4(C,u),l.normal.toArray(_,D),_[D+3]=l.constant}c.value=_,c.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,_}}function h_(a){let e=new WeakMap;function t(l,u){return u===Wo?l.mapping=Ci:u===qo&&(l.mapping=Xi),l}function n(l){if(l&&l.isTexture){const u=l.mapping;if(u===Wo||u===qo)if(e.has(l)){const c=e.get(l).texture;return t(c,l.mapping)}else{const c=l.image;if(c&&c.height>0){const p=new vu(c.height);return p.fromEquirectangularTexture(a,l),e.set(l,p),l.addEventListener("dispose",i),t(p.texture,l.mapping)}else return null}}return l}function i(l){const u=l.target;u.removeEventListener("dispose",i);const c=e.get(u);c!==void 0&&(e.delete(u),c.dispose())}function o(){e=new WeakMap}return{get:n,dispose:o}}const ri=4,pd=[.125,.215,.35,.446,.526,.582],_i=20,f_=256,ha=new Fr,md=new Ve;let Co=null,To=0,Mo=0,So=!1;const __=new te;class Ds{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,i=100,o={}){const{size:l=256,position:u=__}=o;Co=this._renderer.getRenderTarget(),To=this._renderer.getActiveCubeFace(),Mo=this._renderer.getActiveMipmapLevel(),So=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,n,i,c,u),t>0&&this._blur(c,0,0,t),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=fd(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=hd(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(Co,To,Mo),this._renderer.xr.enabled=So,e.scissorTest=!1,ki(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ci||e.mapping===Xi?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Co=this._renderer.getRenderTarget(),To=this._renderer.getActiveCubeFace(),Mo=this._renderer.getActiveMipmapLevel(),So=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:ht,minFilter:ht,generateMipmaps:!1,type:Zt,format:an,colorSpace:wt,depthBuffer:!1},i=cd(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=cd(e,t,n);const{_lodMax:o}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=g_(o)),this._blurMaterial=E_(o,e,t),this._ggxMaterial=y_(o,e,t)}return i}_compileMaterial(e){const t=new ct(new Pt,e);this._renderer.compile(t,ha)}_sceneToCubeUV(e,t,n,i,o){const c=new Ft(90,1,t,n),p=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],d=this._renderer,r=d.autoClear,s=d.toneMapping;d.getClearColor(md),d.toneMapping=Mn,d.autoClear=!1,d.state.buffers.depth.getReversed()&&(d.setRenderTarget(i),d.clearDepth(),d.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new ct(new Na,new Bn({name:"PMREM.Background",side:Wt,depthWrite:!1,depthTest:!1})));const g=this._backgroundBox,_=g.material;let f=!1;const C=e.background;C?C.isColor&&(_.color.copy(C),e.background=null,f=!0):(_.color.copy(md),f=!0);for(let S=0;S<6;S++){const D=S%3;D===0?(c.up.set(0,p[S],0),c.position.set(o.x,o.y,o.z),c.lookAt(o.x+m[S],o.y,o.z)):D===1?(c.up.set(0,0,p[S]),c.position.set(o.x,o.y,o.z),c.lookAt(o.x,o.y+m[S],o.z)):(c.up.set(0,p[S],0),c.position.set(o.x,o.y,o.z),c.lookAt(o.x,o.y,o.z+m[S]));const I=this._cubeSize;ki(i,D*I,S>2?I:0,I,I),d.setRenderTarget(i),f&&d.render(g,c),d.render(e,c)}d.toneMapping=s,d.autoClear=r,e.background=C}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===Ci||e.mapping===Xi;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=fd()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=hd());const o=i?this._cubemapMaterial:this._equirectMaterial,l=this._lodMeshes[0];l.material=o;const u=o.uniforms;u.envMap.value=e;const c=this._cubeSize;ki(t,0,0,3*c,2*c),n.setRenderTarget(t),n.render(l,ha)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodMeshes.length;for(let o=1;o<i;o++)this._applyGGXFilter(e,o-1,o);t.autoClear=n}_applyGGXFilter(e,t,n){const i=this._renderer,o=this._pingPongRenderTarget,l=this._ggxMaterial,u=this._lodMeshes[n];u.material=l;const c=l.uniforms,p=n/(this._lodMeshes.length-1),m=t/(this._lodMeshes.length-1),d=Math.sqrt(p*p-m*m),r=0+p*1.25,s=d*r,{_lodMax:h}=this,g=this._sizeLods[n],_=3*g*(n>h-ri?n-h+ri:0),f=4*(this._cubeSize-g);c.envMap.value=e.texture,c.roughness.value=s,c.mipInt.value=h-t,ki(o,_,f,3*g,2*g),i.setRenderTarget(o),i.render(u,ha),c.envMap.value=o.texture,c.roughness.value=0,c.mipInt.value=h-n,ki(e,_,f,3*g,2*g),i.setRenderTarget(e),i.render(u,ha)}_blur(e,t,n,i,o){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,n,i,"latitudinal",o),this._halfBlur(l,e,n,n,i,"longitudinal",o)}_halfBlur(e,t,n,i,o,l,u){const c=this._renderer,p=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&Be("blur direction must be either latitudinal or longitudinal!");const m=3,d=this._lodMeshes[i];d.material=p;const r=p.uniforms,s=this._sizeLods[n]-1,h=isFinite(o)?Math.PI/(2*s):2*Math.PI/(2*_i-1),g=o/h,_=isFinite(o)?1+Math.floor(m*g):_i;_>_i&&Le(`sigmaRadians, ${o}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${_i}`);const f=[];let C=0;for(let F=0;F<_i;++F){const H=F/g,R=Math.exp(-H*H/2);f.push(R),F===0?C+=R:F<_&&(C+=2*R)}for(let F=0;F<f.length;F++)f[F]=f[F]/C;r.envMap.value=e.texture,r.samples.value=_,r.weights.value=f,r.latitudinal.value=l==="latitudinal",u&&(r.poleAxis.value=u);const{_lodMax:S}=this;r.dTheta.value=h,r.mipInt.value=S-n;const D=this._sizeLods[i],I=3*D*(i>S-ri?i-S+ri:0),U=4*(this._cubeSize-D);ki(t,I,U,3*D,2*D),c.setRenderTarget(t),c.render(d,ha)}}function g_(a){const e=[],t=[],n=[];let i=a;const o=a-ri+1+pd.length;for(let l=0;l<o;l++){const u=Math.pow(2,i);e.push(u);let c=1/u;l>a-ri?c=pd[l-a+ri-1]:l===0&&(c=0),t.push(c);const p=1/(u-2),m=-p,d=1+p,r=[m,m,d,m,d,d,m,m,d,d,m,d],s=6,h=6,g=3,_=2,f=1,C=new Float32Array(g*h*s),S=new Float32Array(_*h*s),D=new Float32Array(f*h*s);for(let U=0;U<s;U++){const F=U%3*2/3-1,H=U>2?0:-1,R=[F,H,0,F+2/3,H,0,F+2/3,H+1,0,F,H,0,F+2/3,H+1,0,F,H+1,0];C.set(R,g*h*U),S.set(r,_*h*U);const N=[U,U,U,U,U,U];D.set(N,f*h*U)}const I=new Pt;I.setAttribute("position",new It(C,g)),I.setAttribute("uv",new It(S,_)),I.setAttribute("faceIndex",new It(D,f)),n.push(new ct(I,null)),i>ri&&i--}return{lodMeshes:n,sizeLods:e,sigmas:t}}function cd(a,e,t){const n=new Sn(a,e,t);return n.texture.mapping=Lr,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function ki(a,e,t,n,i){a.viewport.set(e,t,n,i),a.scissor.set(e,t,n,i)}function y_(a,e,t){return new Rn({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:f_,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${a}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:kr(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:zn,depthTest:!1,depthWrite:!1})}function E_(a,e,t){const n=new Float32Array(_i),i=new te(0,1,0);return new Rn({name:"SphericalGaussianBlur",defines:{n:_i,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${a}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:kr(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:zn,depthTest:!1,depthWrite:!1})}function hd(){return new Rn({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:kr(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:zn,depthTest:!1,depthWrite:!1})}function fd(){return new Rn({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:kr(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:zn,depthTest:!1,depthWrite:!1})}function kr(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function C_(a){let e=new WeakMap,t=null;function n(u){if(u&&u.isTexture){const c=u.mapping,p=c===Wo||c===qo,m=c===Ci||c===Xi;if(p||m){let d=e.get(u);const r=d!==void 0?d.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==r)return t===null&&(t=new Ds(a)),d=p?t.fromEquirectangular(u,d):t.fromCubemap(u,d),d.texture.pmremVersion=u.pmremVersion,e.set(u,d),d.texture;if(d!==void 0)return d.texture;{const s=u.image;return p&&s&&s.height>0||m&&s&&i(s)?(t===null&&(t=new Ds(a)),d=p?t.fromEquirectangular(u):t.fromCubemap(u),d.texture.pmremVersion=u.pmremVersion,e.set(u,d),u.addEventListener("dispose",o),d.texture):null}}}return u}function i(u){let c=0;const p=6;for(let m=0;m<p;m++)u[m]!==void 0&&c++;return c===p}function o(u){const c=u.target;c.removeEventListener("dispose",o);const p=e.get(c);p!==void 0&&(e.delete(c),p.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:l}}function T_(a){const e={};function t(n){if(e[n]!==void 0)return e[n];const i=a.getExtension(n);return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const i=t(n);return i===null&&Oa("WebGLRenderer: "+n+" extension not supported."),i}}}function M_(a,e,t,n){const i={},o=new WeakMap;function l(d){const r=d.target;r.index!==null&&e.remove(r.index);for(const h in r.attributes)e.remove(r.attributes[h]);r.removeEventListener("dispose",l),delete i[r.id];const s=o.get(r);s&&(e.remove(s),o.delete(r)),n.releaseStatesOfGeometry(r),r.isInstancedBufferGeometry===!0&&delete r._maxInstanceCount,t.memory.geometries--}function u(d,r){return i[r.id]===!0||(r.addEventListener("dispose",l),i[r.id]=!0,t.memory.geometries++),r}function c(d){const r=d.attributes;for(const s in r)e.update(r[s],a.ARRAY_BUFFER)}function p(d){const r=[],s=d.index,h=d.attributes.position;let g=0;if(s!==null){const C=s.array;g=s.version;for(let S=0,D=C.length;S<D;S+=3){const I=C[S+0],U=C[S+1],F=C[S+2];r.push(I,U,U,F,F,I)}}else if(h!==void 0){const C=h.array;g=h.version;for(let S=0,D=C.length/3-1;S<D;S+=3){const I=S+0,U=S+1,F=S+2;r.push(I,U,U,F,F,I)}}else return;const _=new(_u(r)?Tu:Cu)(r,1);_.version=g;const f=o.get(d);f&&e.remove(f),o.set(d,_)}function m(d){const r=o.get(d);if(r){const s=d.index;s!==null&&r.version<s.version&&p(d)}else p(d);return o.get(d)}return{get:u,update:c,getWireframeAttribute:m}}function S_(a,e,t){let n;function i(r){n=r}let o,l;function u(r){o=r.type,l=r.bytesPerElement}function c(r,s){a.drawElements(n,s,o,r*l),t.update(s,n,1)}function p(r,s,h){h!==0&&(a.drawElementsInstanced(n,s,o,r*l,h),t.update(s,n,h))}function m(r,s,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,s,0,o,r,0,h);let _=0;for(let f=0;f<h;f++)_+=s[f];t.update(_,n,1)}function d(r,s,h,g){if(h===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let f=0;f<r.length;f++)p(r[f]/l,s[f],g[f]);else{_.multiDrawElementsInstancedWEBGL(n,s,0,o,r,0,g,0,h);let f=0;for(let C=0;C<h;C++)f+=s[C]*g[C];t.update(f,n,1)}}this.setMode=i,this.setIndex=u,this.render=c,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=d}function A_(a){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,l,u){switch(t.calls++,l){case a.TRIANGLES:t.triangles+=u*(o/3);break;case a.LINES:t.lines+=u*(o/2);break;case a.LINE_STRIP:t.lines+=u*(o-1);break;case a.LINE_LOOP:t.lines+=u*o;break;case a.POINTS:t.points+=u*o;break;default:Be("WebGLInfo: Unknown draw mode:",l);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function v_(a,e,t){const n=new WeakMap,i=new mt;function o(l,u,c){const p=l.morphTargetInfluences,m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,d=m!==void 0?m.length:0;let r=n.get(u);if(r===void 0||r.count!==d){let N=function(){H.dispose(),n.delete(u),u.removeEventListener("dispose",N)};var s=N;r!==void 0&&r.texture.dispose();const h=u.morphAttributes.position!==void 0,g=u.morphAttributes.normal!==void 0,_=u.morphAttributes.color!==void 0,f=u.morphAttributes.position||[],C=u.morphAttributes.normal||[],S=u.morphAttributes.color||[];let D=0;h===!0&&(D=1),g===!0&&(D=2),_===!0&&(D=3);let I=u.attributes.position.count*D,U=1;I>e.maxTextureSize&&(U=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const F=new Float32Array(I*U*4*d),H=new yu(F,I,U,d);H.type=kt,H.needsUpdate=!0;const R=D*4;for(let q=0;q<d;q++){const Q=f[q],T=C[q],b=S[q],v=I*U*4*q;for(let P=0;P<Q.count;P++){const O=P*R;h===!0&&(i.fromBufferAttribute(Q,P),F[v+O+0]=i.x,F[v+O+1]=i.y,F[v+O+2]=i.z,F[v+O+3]=0),g===!0&&(i.fromBufferAttribute(T,P),F[v+O+4]=i.x,F[v+O+5]=i.y,F[v+O+6]=i.z,F[v+O+7]=0),_===!0&&(i.fromBufferAttribute(b,P),F[v+O+8]=i.x,F[v+O+9]=i.y,F[v+O+10]=i.z,F[v+O+11]=b.itemSize===4?i.w:1)}}r={count:d,texture:H,size:new ze(I,U)},n.set(u,r),u.addEventListener("dispose",N)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)c.getUniforms().setValue(a,"morphTexture",l.morphTexture,t);else{let h=0;for(let _=0;_<p.length;_++)h+=p[_];const g=u.morphTargetsRelative?1:1-h;c.getUniforms().setValue(a,"morphTargetBaseInfluence",g),c.getUniforms().setValue(a,"morphTargetInfluences",p)}c.getUniforms().setValue(a,"morphTargetsTexture",r.texture,t),c.getUniforms().setValue(a,"morphTargetsTextureSize",r.size)}return{update:o}}function x_(a,e,t,n){let i=new WeakMap;function o(c){const p=n.render.frame,m=c.geometry,d=e.get(c,m);if(i.get(d)!==p&&(e.update(d),i.set(d,p)),c.isInstancedMesh&&(c.hasEventListener("dispose",u)===!1&&c.addEventListener("dispose",u),i.get(c)!==p&&(t.update(c.instanceMatrix,a.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,a.ARRAY_BUFFER),i.set(c,p))),c.isSkinnedMesh){const r=c.skeleton;i.get(r)!==p&&(r.update(),i.set(r,p))}return d}function l(){i=new WeakMap}function u(c){const p=c.target;p.removeEventListener("dispose",u),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:o,dispose:l}}const R_={[Qd]:"LINEAR_TONE_MAPPING",[eu]:"REINHARD_TONE_MAPPING",[tu]:"CINEON_TONE_MAPPING",[nu]:"ACES_FILMIC_TONE_MAPPING",[au]:"AGX_TONE_MAPPING",[ru]:"NEUTRAL_TONE_MAPPING",[iu]:"CUSTOM_TONE_MAPPING"};function b_(a,e,t,n,i){const o=new Sn(e,t,{type:a,depthBuffer:n,stencilBuffer:i}),l=new Sn(e,t,{type:Zt,depthBuffer:!1,stencilBuffer:!1}),u=new Pt;u.setAttribute("position",new Tt([-1,3,0,-1,-1,0,3,-1,0],3)),u.setAttribute("uv",new Tt([0,2,0,0,2,0],2));const c=new Wm({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),p=new ct(u,c),m=new Fr(-1,1,1,-1,0,1);let d=null,r=null,s=!1,h,g=null,_=[],f=!1;this.setSize=function(C,S){o.setSize(C,S),l.setSize(C,S);for(let D=0;D<_.length;D++){const I=_[D];I.setSize&&I.setSize(C,S)}},this.setEffects=function(C){_=C,f=_.length>0&&_[0].isRenderPass===!0;const S=o.width,D=o.height;for(let I=0;I<_.length;I++){const U=_[I];U.setSize&&U.setSize(S,D)}},this.begin=function(C,S){if(s||C.toneMapping===Mn&&_.length===0)return!1;if(g=S,S!==null){const D=S.width,I=S.height;(o.width!==D||o.height!==I)&&this.setSize(D,I)}return f===!1&&C.setRenderTarget(o),h=C.toneMapping,C.toneMapping=Mn,!0},this.hasRenderPass=function(){return f},this.end=function(C,S){C.toneMapping=h,s=!0;let D=o,I=l;for(let U=0;U<_.length;U++){const F=_[U];if(F.enabled!==!1&&(F.render(C,I,D,S),F.needsSwap!==!1)){const H=D;D=I,I=H}}if(d!==C.outputColorSpace||r!==C.toneMapping){d=C.outputColorSpace,r=C.toneMapping,c.defines={},et.getTransfer(d)===at&&(c.defines.SRGB_TRANSFER="");const U=R_[r];U&&(c.defines[U]=""),c.needsUpdate=!0}c.uniforms.tDiffuse.value=D.texture,C.setRenderTarget(g),C.render(p,m),g=null,s=!1},this.isCompositing=function(){return s},this.dispose=function(){o.dispose(),l.dispose(),u.dispose(),c.dispose()}}const Pu=new Rt,Os=new wa(1,1),Nu=new yu,Lu=new dm,Uu=new Au,_d=[],gd=[],yd=new Float32Array(16),Ed=new Float32Array(9),Cd=new Float32Array(4);function aa(a,e,t){const n=a[0];if(n<=0||n>0)return a;const i=e*t;let o=_d[i];if(o===void 0&&(o=new Float32Array(i),_d[i]=o),e!==0){n.toArray(o,0);for(let l=1,u=0;l!==e;++l)u+=t,a[l].toArray(o,u)}return o}function At(a,e){if(a.length!==e.length)return!1;for(let t=0,n=a.length;t<n;t++)if(a[t]!==e[t])return!1;return!0}function vt(a,e){for(let t=0,n=e.length;t<n;t++)a[t]=e[t]}function Br(a,e){let t=gd[e];t===void 0&&(t=new Int32Array(e),gd[e]=t);for(let n=0;n!==e;++n)t[n]=a.allocateTextureUnit();return t}function D_(a,e){const t=this.cache;t[0]!==e&&(a.uniform1f(this.addr,e),t[0]=e)}function O_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(At(t,e))return;a.uniform2fv(this.addr,e),vt(t,e)}}function I_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(a.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(At(t,e))return;a.uniform3fv(this.addr,e),vt(t,e)}}function w_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(At(t,e))return;a.uniform4fv(this.addr,e),vt(t,e)}}function P_(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(At(t,e))return;a.uniformMatrix2fv(this.addr,!1,e),vt(t,e)}else{if(At(t,n))return;Cd.set(n),a.uniformMatrix2fv(this.addr,!1,Cd),vt(t,n)}}function N_(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(At(t,e))return;a.uniformMatrix3fv(this.addr,!1,e),vt(t,e)}else{if(At(t,n))return;Ed.set(n),a.uniformMatrix3fv(this.addr,!1,Ed),vt(t,n)}}function L_(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(At(t,e))return;a.uniformMatrix4fv(this.addr,!1,e),vt(t,e)}else{if(At(t,n))return;yd.set(n),a.uniformMatrix4fv(this.addr,!1,yd),vt(t,n)}}function U_(a,e){const t=this.cache;t[0]!==e&&(a.uniform1i(this.addr,e),t[0]=e)}function G_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(At(t,e))return;a.uniform2iv(this.addr,e),vt(t,e)}}function F_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(At(t,e))return;a.uniform3iv(this.addr,e),vt(t,e)}}function k_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(At(t,e))return;a.uniform4iv(this.addr,e),vt(t,e)}}function B_(a,e){const t=this.cache;t[0]!==e&&(a.uniform1ui(this.addr,e),t[0]=e)}function V_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(At(t,e))return;a.uniform2uiv(this.addr,e),vt(t,e)}}function H_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(At(t,e))return;a.uniform3uiv(this.addr,e),vt(t,e)}}function z_(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(At(t,e))return;a.uniform4uiv(this.addr,e),vt(t,e)}}function W_(a,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(a.uniform1i(this.addr,i),n[0]=i);let o;this.type===a.SAMPLER_2D_SHADOW?(Os.compareFunction=t.isReversedDepthBuffer()?zs:Hs,o=Os):o=Pu,t.setTexture2D(e||o,i)}function q_(a,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(a.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||Lu,i)}function Y_(a,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(a.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||Uu,i)}function X_(a,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(a.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||Nu,i)}function K_(a){switch(a){case 5126:return D_;case 35664:return O_;case 35665:return I_;case 35666:return w_;case 35674:return P_;case 35675:return N_;case 35676:return L_;case 5124:case 35670:return U_;case 35667:case 35671:return G_;case 35668:case 35672:return F_;case 35669:case 35673:return k_;case 5125:return B_;case 36294:return V_;case 36295:return H_;case 36296:return z_;case 35678:case 36198:case 36298:case 36306:case 35682:return W_;case 35679:case 36299:case 36307:return q_;case 35680:case 36300:case 36308:case 36293:return Y_;case 36289:case 36303:case 36311:case 36292:return X_}}function j_(a,e){a.uniform1fv(this.addr,e)}function Z_(a,e){const t=aa(e,this.size,2);a.uniform2fv(this.addr,t)}function $_(a,e){const t=aa(e,this.size,3);a.uniform3fv(this.addr,t)}function J_(a,e){const t=aa(e,this.size,4);a.uniform4fv(this.addr,t)}function Q_(a,e){const t=aa(e,this.size,4);a.uniformMatrix2fv(this.addr,!1,t)}function eg(a,e){const t=aa(e,this.size,9);a.uniformMatrix3fv(this.addr,!1,t)}function tg(a,e){const t=aa(e,this.size,16);a.uniformMatrix4fv(this.addr,!1,t)}function ng(a,e){a.uniform1iv(this.addr,e)}function ig(a,e){a.uniform2iv(this.addr,e)}function ag(a,e){a.uniform3iv(this.addr,e)}function rg(a,e){a.uniform4iv(this.addr,e)}function og(a,e){a.uniform1uiv(this.addr,e)}function sg(a,e){a.uniform2uiv(this.addr,e)}function lg(a,e){a.uniform3uiv(this.addr,e)}function dg(a,e){a.uniform4uiv(this.addr,e)}function ug(a,e,t){const n=this.cache,i=e.length,o=Br(t,i);At(n,o)||(a.uniform1iv(this.addr,o),vt(n,o));let l;this.type===a.SAMPLER_2D_SHADOW?l=Os:l=Pu;for(let u=0;u!==i;++u)t.setTexture2D(e[u]||l,o[u])}function pg(a,e,t){const n=this.cache,i=e.length,o=Br(t,i);At(n,o)||(a.uniform1iv(this.addr,o),vt(n,o));for(let l=0;l!==i;++l)t.setTexture3D(e[l]||Lu,o[l])}function mg(a,e,t){const n=this.cache,i=e.length,o=Br(t,i);At(n,o)||(a.uniform1iv(this.addr,o),vt(n,o));for(let l=0;l!==i;++l)t.setTextureCube(e[l]||Uu,o[l])}function cg(a,e,t){const n=this.cache,i=e.length,o=Br(t,i);At(n,o)||(a.uniform1iv(this.addr,o),vt(n,o));for(let l=0;l!==i;++l)t.setTexture2DArray(e[l]||Nu,o[l])}function hg(a){switch(a){case 5126:return j_;case 35664:return Z_;case 35665:return $_;case 35666:return J_;case 35674:return Q_;case 35675:return eg;case 35676:return tg;case 5124:case 35670:return ng;case 35667:case 35671:return ig;case 35668:case 35672:return ag;case 35669:case 35673:return rg;case 5125:return og;case 36294:return sg;case 36295:return lg;case 36296:return dg;case 35678:case 36198:case 36298:case 36306:case 35682:return ug;case 35679:case 36299:case 36307:return pg;case 35680:case 36300:case 36308:case 36293:return mg;case 36289:case 36303:case 36311:case 36292:return cg}}class fg{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=K_(t.type)}}class _g{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=hg(t.type)}}class gg{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let o=0,l=i.length;o!==l;++o){const u=i[o];u.setValue(e,t[u.id],n)}}}const Ao=/(\w+)(\])?(\[|\.)?/g;function Td(a,e){a.seq.push(e),a.map[e.id]=e}function yg(a,e,t){const n=a.name,i=n.length;for(Ao.lastIndex=0;;){const o=Ao.exec(n),l=Ao.lastIndex;let u=o[1];const c=o[2]==="]",p=o[3];if(c&&(u=u|0),p===void 0||p==="["&&l+2===i){Td(t,p===void 0?new fg(u,a,e):new _g(u,a,e));break}else{let d=t.map[u];d===void 0&&(d=new gg(u),Td(t,d)),t=d}}}class vr{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let l=0;l<n;++l){const u=e.getActiveUniform(t,l),c=e.getUniformLocation(t,u.name);yg(u,c,this)}const i=[],o=[];for(const l of this.seq)l.type===e.SAMPLER_2D_SHADOW||l.type===e.SAMPLER_CUBE_SHADOW||l.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(l):o.push(l);i.length>0&&(this.seq=i.concat(o))}setValue(e,t,n,i){const o=this.map[t];o!==void 0&&o.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let o=0,l=t.length;o!==l;++o){const u=t[o],c=n[u.id];c.needsUpdate!==!1&&u.setValue(e,c.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,o=e.length;i!==o;++i){const l=e[i];l.id in t&&n.push(l)}return n}}function Md(a,e,t){const n=a.createShader(e);return a.shaderSource(n,t),a.compileShader(n),n}const Eg=37297;let Cg=0;function Tg(a,e){const t=a.split(`
`),n=[],i=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let l=i;l<o;l++){const u=l+1;n.push(`${u===e?">":" "} ${u}: ${t[l]}`)}return n.join(`
`)}const Sd=new je;function Mg(a){et._getMatrix(Sd,et.workingColorSpace,a);const e=`mat3( ${Sd.elements.map(t=>t.toFixed(4))} )`;switch(et.getTransfer(a)){case Or:return[e,"LinearTransferOETF"];case at:return[e,"sRGBTransferOETF"];default:return Le("WebGLProgram: Unsupported color space: ",a),[e,"LinearTransferOETF"]}}function Ad(a,e,t){const n=a.getShaderParameter(e,a.COMPILE_STATUS),o=(a.getShaderInfoLog(e)||"").trim();if(n&&o==="")return"";const l=/ERROR: 0:(\d+)/.exec(o);if(l){const u=parseInt(l[1]);return t.toUpperCase()+`

`+o+`

`+Tg(a.getShaderSource(e),u)}else return o}function Sg(a,e){const t=Mg(e);return[`vec4 ${a}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}const Ag={[Qd]:"Linear",[eu]:"Reinhard",[tu]:"Cineon",[nu]:"ACESFilmic",[au]:"AgX",[ru]:"Neutral",[iu]:"Custom"};function vg(a,e){const t=Ag[e];return t===void 0?(Le("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+a+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+a+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const mr=new te;function xg(){et.getLuminanceCoefficients(mr);const a=mr.x.toFixed(4),e=mr.y.toFixed(4),t=mr.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${a}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Rg(a){return[a.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",a.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ta).join(`
`)}function bg(a){const e=[];for(const t in a){const n=a[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function Dg(a,e){const t={},n=a.getProgramParameter(e,a.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const o=a.getActiveAttrib(e,i),l=o.name;let u=1;o.type===a.FLOAT_MAT2&&(u=2),o.type===a.FLOAT_MAT3&&(u=3),o.type===a.FLOAT_MAT4&&(u=4),t[l]={type:o.type,location:a.getAttribLocation(e,l),locationSize:u}}return t}function Ta(a){return a!==""}function vd(a,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return a.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function xd(a,e){return a.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Og=/^[ \t]*#include +<([\w\d./]+)>/gm;function Is(a){return a.replace(Og,wg)}const Ig=new Map;function wg(a,e){let t=Ze[e];if(t===void 0){const n=Ig.get(e);if(n!==void 0)t=Ze[n],Le('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return Is(t)}const Pg=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Rd(a){return a.replace(Pg,Ng)}function Ng(a,e,t,n){let i="";for(let o=parseInt(e);o<parseInt(t);o++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function bd(a){let e=`precision ${a.precision} float;
	precision ${a.precision} int;
	precision ${a.precision} sampler2D;
	precision ${a.precision} samplerCube;
	precision ${a.precision} sampler3D;
	precision ${a.precision} sampler2DArray;
	precision ${a.precision} sampler2DShadow;
	precision ${a.precision} samplerCubeShadow;
	precision ${a.precision} sampler2DArrayShadow;
	precision ${a.precision} isampler2D;
	precision ${a.precision} isampler3D;
	precision ${a.precision} isamplerCube;
	precision ${a.precision} isampler2DArray;
	precision ${a.precision} usampler2D;
	precision ${a.precision} usampler3D;
	precision ${a.precision} usamplerCube;
	precision ${a.precision} usampler2DArray;
	`;return a.precision==="highp"?e+=`
#define HIGH_PRECISION`:a.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:a.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const Lg={[Er]:"SHADOWMAP_TYPE_PCF",[Ea]:"SHADOWMAP_TYPE_VSM"};function Ug(a){return Lg[a.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const Gg={[Ci]:"ENVMAP_TYPE_CUBE",[Xi]:"ENVMAP_TYPE_CUBE",[Lr]:"ENVMAP_TYPE_CUBE_UV"};function Fg(a){return a.envMap===!1?"ENVMAP_TYPE_CUBE":Gg[a.envMapMode]||"ENVMAP_TYPE_CUBE"}const kg={[Xi]:"ENVMAP_MODE_REFRACTION"};function Bg(a){return a.envMap===!1?"ENVMAP_MODE_REFLECTION":kg[a.envMapMode]||"ENVMAP_MODE_REFLECTION"}const Vg={[Jd]:"ENVMAP_BLENDING_MULTIPLY",[xp]:"ENVMAP_BLENDING_MIX",[Rp]:"ENVMAP_BLENDING_ADD"};function Hg(a){return a.envMap===!1?"ENVMAP_BLENDING_NONE":Vg[a.combine]||"ENVMAP_BLENDING_NONE"}function zg(a){const e=a.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function Wg(a,e,t,n){const i=a.getContext(),o=t.defines;let l=t.vertexShader,u=t.fragmentShader;const c=Ug(t),p=Fg(t),m=Bg(t),d=Hg(t),r=zg(t),s=Rg(t),h=bg(o),g=i.createProgram();let _,f,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,h].filter(Ta).join(`
`),_.length>0&&(_+=`
`),f=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,h].filter(Ta).join(`
`),f.length>0&&(f+=`
`)):(_=[bd(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,h,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ta).join(`
`),f=[bd(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,h,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+m:"",t.envMap?"#define "+d:"",r?"#define CUBEUV_TEXEL_WIDTH "+r.texelWidth:"",r?"#define CUBEUV_TEXEL_HEIGHT "+r.texelHeight:"",r?"#define CUBEUV_MAX_MIP "+r.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Mn?"#define TONE_MAPPING":"",t.toneMapping!==Mn?Ze.tonemapping_pars_fragment:"",t.toneMapping!==Mn?vg("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ze.colorspace_pars_fragment,Sg("linearToOutputTexel",t.outputColorSpace),xg(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Ta).join(`
`)),l=Is(l),l=vd(l,t),l=xd(l,t),u=Is(u),u=vd(u,t),u=xd(u,t),l=Rd(l),u=Rd(u),t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,_=[s,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,f=["#define varying in",t.glslVersion===vl?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===vl?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+f);const S=C+_+l,D=C+f+u,I=Md(i,i.VERTEX_SHADER,S),U=Md(i,i.FRAGMENT_SHADER,D);i.attachShader(g,I),i.attachShader(g,U),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g);function F(q){if(a.debug.checkShaderErrors){const Q=i.getProgramInfoLog(g)||"",T=i.getShaderInfoLog(I)||"",b=i.getShaderInfoLog(U)||"",v=Q.trim(),P=T.trim(),O=b.trim();let W=!0,ie=!0;if(i.getProgramParameter(g,i.LINK_STATUS)===!1)if(W=!1,typeof a.debug.onShaderError=="function")a.debug.onShaderError(i,g,I,U);else{const J=Ad(i,I,"vertex"),ae=Ad(i,U,"fragment");Be("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,i.VALIDATE_STATUS)+`

Material Name: `+q.name+`
Material Type: `+q.type+`

Program Info Log: `+v+`
`+J+`
`+ae)}else v!==""?Le("WebGLProgram: Program Info Log:",v):(P===""||O==="")&&(ie=!1);ie&&(q.diagnostics={runnable:W,programLog:v,vertexShader:{log:P,prefix:_},fragmentShader:{log:O,prefix:f}})}i.deleteShader(I),i.deleteShader(U),H=new vr(i,g),R=Dg(i,g)}let H;this.getUniforms=function(){return H===void 0&&F(this),H};let R;this.getAttributes=function(){return R===void 0&&F(this),R};let N=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=i.getProgramParameter(g,Eg)),N},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Cg++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=I,this.fragmentShader=U,this}let qg=0;class Yg{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),o=this._getShaderStage(n),l=this._getShaderCacheForMaterial(e);return l.has(i)===!1&&(l.add(i),i.usedTimes++),l.has(o)===!1&&(l.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new Xg(e),t.set(e,n)),n}}class Xg{constructor(e){this.id=qg++,this.code=e,this.usedTimes=0}}function Kg(a,e,t,n,i,o,l){const u=new Ys,c=new Yg,p=new Set,m=[],d=new Map,r=i.logarithmicDepthBuffer;let s=i.precision;const h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(R){return p.add(R),R===0?"uv":`uv${R}`}function _(R,N,q,Q,T){const b=Q.fog,v=T.geometry,P=R.isMeshStandardMaterial?Q.environment:null,O=(R.isMeshStandardMaterial?t:e).get(R.envMap||P),W=O&&O.mapping===Lr?O.image.height:null,ie=h[R.type];R.precision!==null&&(s=i.getMaxPrecision(R.precision),s!==R.precision&&Le("WebGLProgram.getParameters:",R.precision,"not supported, using",s,"instead."));const J=v.morphAttributes.position||v.morphAttributes.normal||v.morphAttributes.color,ae=J!==void 0?J.length:0;let he=0;v.morphAttributes.position!==void 0&&(he=1),v.morphAttributes.normal!==void 0&&(he=2),v.morphAttributes.color!==void 0&&(he=3);let ue,we,Ge,G;if(ie){const nt=En[ie];ue=nt.vertexShader,we=nt.fragmentShader}else ue=R.vertexShader,we=R.fragmentShader,c.update(R),Ge=c.getVertexShaderID(R),G=c.getFragmentShaderID(R);const A=a.getRenderTarget(),k=a.state.buffers.depth.getReversed(),Y=T.isInstancedMesh===!0,X=T.isBatchedMesh===!0,ee=!!R.map,oe=!!R.matcap,de=!!O,ce=!!R.aoMap,ye=!!R.lightMap,xe=!!R.bumpMap,Ne=!!R.normalMap,z=!!R.displacementMap,qe=!!R.emissiveMap,We=!!R.metalnessMap,Xe=!!R.roughnessMap,Me=R.anisotropy>0,B=R.clearcoat>0,x=R.dispersion>0,j=R.iridescence>0,pe=R.sheen>0,M=R.transmission>0,y=Me&&!!R.anisotropyMap,E=B&&!!R.clearcoatMap,w=B&&!!R.clearcoatNormalMap,V=B&&!!R.clearcoatRoughnessMap,$=j&&!!R.iridescenceMap,K=j&&!!R.iridescenceThicknessMap,me=pe&&!!R.sheenColorMap,Ce=pe&&!!R.sheenRoughnessMap,Te=!!R.specularMap,_e=!!R.specularColorMap,Oe=!!R.specularIntensityMap,Z=M&&!!R.transmissionMap,be=M&&!!R.thicknessMap,Ee=!!R.gradientMap,De=!!R.alphaMap,ge=R.alphaTest>0,fe=!!R.alphaHash,Se=!!R.extensions;let Ye=Mn;R.toneMapped&&(A===null||A.isXRRenderTarget===!0)&&(Ye=a.toneMapping);const ut={shaderID:ie,shaderType:R.type,shaderName:R.name,vertexShader:ue,fragmentShader:we,defines:R.defines,customVertexShaderID:Ge,customFragmentShaderID:G,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:s,batching:X,batchingColor:X&&T._colorsTexture!==null,instancing:Y,instancingColor:Y&&T.instanceColor!==null,instancingMorph:Y&&T.morphTexture!==null,outputColorSpace:A===null?a.outputColorSpace:A.isXRRenderTarget===!0?A.texture.colorSpace:wt,alphaToCoverage:!!R.alphaToCoverage,map:ee,matcap:oe,envMap:de,envMapMode:de&&O.mapping,envMapCubeUVHeight:W,aoMap:ce,lightMap:ye,bumpMap:xe,normalMap:Ne,displacementMap:z,emissiveMap:qe,normalMapObjectSpace:Ne&&R.normalMapType===wp,normalMapTangentSpace:Ne&&R.normalMapType===fu,metalnessMap:We,roughnessMap:Xe,anisotropy:Me,anisotropyMap:y,clearcoat:B,clearcoatMap:E,clearcoatNormalMap:w,clearcoatRoughnessMap:V,dispersion:x,iridescence:j,iridescenceMap:$,iridescenceThicknessMap:K,sheen:pe,sheenColorMap:me,sheenRoughnessMap:Ce,specularMap:Te,specularColorMap:_e,specularIntensityMap:Oe,transmission:M,transmissionMap:Z,thicknessMap:be,gradientMap:Ee,opaque:R.transparent===!1&&R.blending===zi&&R.alphaToCoverage===!1,alphaMap:De,alphaTest:ge,alphaHash:fe,combine:R.combine,mapUv:ee&&g(R.map.channel),aoMapUv:ce&&g(R.aoMap.channel),lightMapUv:ye&&g(R.lightMap.channel),bumpMapUv:xe&&g(R.bumpMap.channel),normalMapUv:Ne&&g(R.normalMap.channel),displacementMapUv:z&&g(R.displacementMap.channel),emissiveMapUv:qe&&g(R.emissiveMap.channel),metalnessMapUv:We&&g(R.metalnessMap.channel),roughnessMapUv:Xe&&g(R.roughnessMap.channel),anisotropyMapUv:y&&g(R.anisotropyMap.channel),clearcoatMapUv:E&&g(R.clearcoatMap.channel),clearcoatNormalMapUv:w&&g(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:V&&g(R.clearcoatRoughnessMap.channel),iridescenceMapUv:$&&g(R.iridescenceMap.channel),iridescenceThicknessMapUv:K&&g(R.iridescenceThicknessMap.channel),sheenColorMapUv:me&&g(R.sheenColorMap.channel),sheenRoughnessMapUv:Ce&&g(R.sheenRoughnessMap.channel),specularMapUv:Te&&g(R.specularMap.channel),specularColorMapUv:_e&&g(R.specularColorMap.channel),specularIntensityMapUv:Oe&&g(R.specularIntensityMap.channel),transmissionMapUv:Z&&g(R.transmissionMap.channel),thicknessMapUv:be&&g(R.thicknessMap.channel),alphaMapUv:De&&g(R.alphaMap.channel),vertexTangents:!!v.attributes.tangent&&(Ne||Me),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!v.attributes.color&&v.attributes.color.itemSize===4,pointsUvs:T.isPoints===!0&&!!v.attributes.uv&&(ee||De),fog:!!b,useFog:R.fog===!0,fogExp2:!!b&&b.isFogExp2,flatShading:R.flatShading===!0&&R.wireframe===!1,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:r,reversedDepthBuffer:k,skinning:T.isSkinnedMesh===!0,morphTargets:v.morphAttributes.position!==void 0,morphNormals:v.morphAttributes.normal!==void 0,morphColors:v.morphAttributes.color!==void 0,morphTargetsCount:ae,morphTextureStride:he,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:R.dithering,shadowMapEnabled:a.shadowMap.enabled&&q.length>0,shadowMapType:a.shadowMap.type,toneMapping:Ye,decodeVideoTexture:ee&&R.map.isVideoTexture===!0&&et.getTransfer(R.map.colorSpace)===at,decodeVideoTextureEmissive:qe&&R.emissiveMap.isVideoTexture===!0&&et.getTransfer(R.emissiveMap.colorSpace)===at,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===un,flipSided:R.side===Wt,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:Se&&R.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Se&&R.extensions.multiDraw===!0||X)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return ut.vertexUv1s=p.has(1),ut.vertexUv2s=p.has(2),ut.vertexUv3s=p.has(3),p.clear(),ut}function f(R){const N=[];if(R.shaderID?N.push(R.shaderID):(N.push(R.customVertexShaderID),N.push(R.customFragmentShaderID)),R.defines!==void 0)for(const q in R.defines)N.push(q),N.push(R.defines[q]);return R.isRawShaderMaterial===!1&&(C(N,R),S(N,R),N.push(a.outputColorSpace)),N.push(R.customProgramCacheKey),N.join()}function C(R,N){R.push(N.precision),R.push(N.outputColorSpace),R.push(N.envMapMode),R.push(N.envMapCubeUVHeight),R.push(N.mapUv),R.push(N.alphaMapUv),R.push(N.lightMapUv),R.push(N.aoMapUv),R.push(N.bumpMapUv),R.push(N.normalMapUv),R.push(N.displacementMapUv),R.push(N.emissiveMapUv),R.push(N.metalnessMapUv),R.push(N.roughnessMapUv),R.push(N.anisotropyMapUv),R.push(N.clearcoatMapUv),R.push(N.clearcoatNormalMapUv),R.push(N.clearcoatRoughnessMapUv),R.push(N.iridescenceMapUv),R.push(N.iridescenceThicknessMapUv),R.push(N.sheenColorMapUv),R.push(N.sheenRoughnessMapUv),R.push(N.specularMapUv),R.push(N.specularColorMapUv),R.push(N.specularIntensityMapUv),R.push(N.transmissionMapUv),R.push(N.thicknessMapUv),R.push(N.combine),R.push(N.fogExp2),R.push(N.sizeAttenuation),R.push(N.morphTargetsCount),R.push(N.morphAttributeCount),R.push(N.numDirLights),R.push(N.numPointLights),R.push(N.numSpotLights),R.push(N.numSpotLightMaps),R.push(N.numHemiLights),R.push(N.numRectAreaLights),R.push(N.numDirLightShadows),R.push(N.numPointLightShadows),R.push(N.numSpotLightShadows),R.push(N.numSpotLightShadowsWithMaps),R.push(N.numLightProbes),R.push(N.shadowMapType),R.push(N.toneMapping),R.push(N.numClippingPlanes),R.push(N.numClipIntersection),R.push(N.depthPacking)}function S(R,N){u.disableAll(),N.instancing&&u.enable(0),N.instancingColor&&u.enable(1),N.instancingMorph&&u.enable(2),N.matcap&&u.enable(3),N.envMap&&u.enable(4),N.normalMapObjectSpace&&u.enable(5),N.normalMapTangentSpace&&u.enable(6),N.clearcoat&&u.enable(7),N.iridescence&&u.enable(8),N.alphaTest&&u.enable(9),N.vertexColors&&u.enable(10),N.vertexAlphas&&u.enable(11),N.vertexUv1s&&u.enable(12),N.vertexUv2s&&u.enable(13),N.vertexUv3s&&u.enable(14),N.vertexTangents&&u.enable(15),N.anisotropy&&u.enable(16),N.alphaHash&&u.enable(17),N.batching&&u.enable(18),N.dispersion&&u.enable(19),N.batchingColor&&u.enable(20),N.gradientMap&&u.enable(21),R.push(u.mask),u.disableAll(),N.fog&&u.enable(0),N.useFog&&u.enable(1),N.flatShading&&u.enable(2),N.logarithmicDepthBuffer&&u.enable(3),N.reversedDepthBuffer&&u.enable(4),N.skinning&&u.enable(5),N.morphTargets&&u.enable(6),N.morphNormals&&u.enable(7),N.morphColors&&u.enable(8),N.premultipliedAlpha&&u.enable(9),N.shadowMapEnabled&&u.enable(10),N.doubleSided&&u.enable(11),N.flipSided&&u.enable(12),N.useDepthPacking&&u.enable(13),N.dithering&&u.enable(14),N.transmission&&u.enable(15),N.sheen&&u.enable(16),N.opaque&&u.enable(17),N.pointsUvs&&u.enable(18),N.decodeVideoTexture&&u.enable(19),N.decodeVideoTextureEmissive&&u.enable(20),N.alphaToCoverage&&u.enable(21),R.push(u.mask)}function D(R){const N=h[R.type];let q;if(N){const Q=En[N];q=vm.clone(Q.uniforms)}else q=R.uniforms;return q}function I(R,N){let q=d.get(N);return q!==void 0?++q.usedTimes:(q=new Wg(a,N,R,o),m.push(q),d.set(N,q)),q}function U(R){if(--R.usedTimes===0){const N=m.indexOf(R);m[N]=m[m.length-1],m.pop(),d.delete(R.cacheKey),R.destroy()}}function F(R){c.remove(R)}function H(){c.dispose()}return{getParameters:_,getProgramCacheKey:f,getUniforms:D,acquireProgram:I,releaseProgram:U,releaseShaderCache:F,programs:m,dispose:H}}function jg(){let a=new WeakMap;function e(l){return a.has(l)}function t(l){let u=a.get(l);return u===void 0&&(u={},a.set(l,u)),u}function n(l){a.delete(l)}function i(l,u,c){a.get(l)[u]=c}function o(){a=new WeakMap}return{has:e,get:t,remove:n,update:i,dispose:o}}function Zg(a,e){return a.groupOrder!==e.groupOrder?a.groupOrder-e.groupOrder:a.renderOrder!==e.renderOrder?a.renderOrder-e.renderOrder:a.material.id!==e.material.id?a.material.id-e.material.id:a.z!==e.z?a.z-e.z:a.id-e.id}function Dd(a,e){return a.groupOrder!==e.groupOrder?a.groupOrder-e.groupOrder:a.renderOrder!==e.renderOrder?a.renderOrder-e.renderOrder:a.z!==e.z?e.z-a.z:a.id-e.id}function Od(){const a=[];let e=0;const t=[],n=[],i=[];function o(){e=0,t.length=0,n.length=0,i.length=0}function l(d,r,s,h,g,_){let f=a[e];return f===void 0?(f={id:d.id,object:d,geometry:r,material:s,groupOrder:h,renderOrder:d.renderOrder,z:g,group:_},a[e]=f):(f.id=d.id,f.object=d,f.geometry=r,f.material=s,f.groupOrder=h,f.renderOrder=d.renderOrder,f.z=g,f.group=_),e++,f}function u(d,r,s,h,g,_){const f=l(d,r,s,h,g,_);s.transmission>0?n.push(f):s.transparent===!0?i.push(f):t.push(f)}function c(d,r,s,h,g,_){const f=l(d,r,s,h,g,_);s.transmission>0?n.unshift(f):s.transparent===!0?i.unshift(f):t.unshift(f)}function p(d,r){t.length>1&&t.sort(d||Zg),n.length>1&&n.sort(r||Dd),i.length>1&&i.sort(r||Dd)}function m(){for(let d=e,r=a.length;d<r;d++){const s=a[d];if(s.id===null)break;s.id=null,s.object=null,s.geometry=null,s.material=null,s.group=null}}return{opaque:t,transmissive:n,transparent:i,init:o,push:u,unshift:c,finish:m,sort:p}}function $g(){let a=new WeakMap;function e(n,i){const o=a.get(n);let l;return o===void 0?(l=new Od,a.set(n,[l])):i>=o.length?(l=new Od,o.push(l)):l=o[i],l}function t(){a=new WeakMap}return{get:e,dispose:t}}function Jg(){const a={};return{get:function(e){if(a[e.id]!==void 0)return a[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new te,color:new Ve};break;case"SpotLight":t={position:new te,direction:new te,color:new Ve,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new te,color:new Ve,distance:0,decay:0};break;case"HemisphereLight":t={direction:new te,skyColor:new Ve,groundColor:new Ve};break;case"RectAreaLight":t={color:new Ve,position:new te,halfWidth:new te,halfHeight:new te};break}return a[e.id]=t,t}}}function Qg(){const a={};return{get:function(e){if(a[e.id]!==void 0)return a[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze,shadowCameraNear:1,shadowCameraFar:1e3};break}return a[e.id]=t,t}}}let ey=0;function ty(a,e){return(e.castShadow?2:0)-(a.castShadow?2:0)+(e.map?1:0)-(a.map?1:0)}function ny(a){const e=new Jg,t=Qg(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)n.probe.push(new te);const i=new te,o=new Ke,l=new Ke;function u(p){let m=0,d=0,r=0;for(let R=0;R<9;R++)n.probe[R].set(0,0,0);let s=0,h=0,g=0,_=0,f=0,C=0,S=0,D=0,I=0,U=0,F=0;p.sort(ty);for(let R=0,N=p.length;R<N;R++){const q=p[R],Q=q.color,T=q.intensity,b=q.distance;let v=null;if(q.shadow&&q.shadow.map&&(q.shadow.map.texture.format===ji?v=q.shadow.map.texture:v=q.shadow.map.depthTexture||q.shadow.map.texture),q.isAmbientLight)m+=Q.r*T,d+=Q.g*T,r+=Q.b*T;else if(q.isLightProbe){for(let P=0;P<9;P++)n.probe[P].addScaledVector(q.sh.coefficients[P],T);F++}else if(q.isDirectionalLight){const P=e.get(q);if(P.color.copy(q.color).multiplyScalar(q.intensity),q.castShadow){const O=q.shadow,W=t.get(q);W.shadowIntensity=O.intensity,W.shadowBias=O.bias,W.shadowNormalBias=O.normalBias,W.shadowRadius=O.radius,W.shadowMapSize=O.mapSize,n.directionalShadow[s]=W,n.directionalShadowMap[s]=v,n.directionalShadowMatrix[s]=q.shadow.matrix,C++}n.directional[s]=P,s++}else if(q.isSpotLight){const P=e.get(q);P.position.setFromMatrixPosition(q.matrixWorld),P.color.copy(Q).multiplyScalar(T),P.distance=b,P.coneCos=Math.cos(q.angle),P.penumbraCos=Math.cos(q.angle*(1-q.penumbra)),P.decay=q.decay,n.spot[g]=P;const O=q.shadow;if(q.map&&(n.spotLightMap[I]=q.map,I++,O.updateMatrices(q),q.castShadow&&U++),n.spotLightMatrix[g]=O.matrix,q.castShadow){const W=t.get(q);W.shadowIntensity=O.intensity,W.shadowBias=O.bias,W.shadowNormalBias=O.normalBias,W.shadowRadius=O.radius,W.shadowMapSize=O.mapSize,n.spotShadow[g]=W,n.spotShadowMap[g]=v,D++}g++}else if(q.isRectAreaLight){const P=e.get(q);P.color.copy(Q).multiplyScalar(T),P.halfWidth.set(q.width*.5,0,0),P.halfHeight.set(0,q.height*.5,0),n.rectArea[_]=P,_++}else if(q.isPointLight){const P=e.get(q);if(P.color.copy(q.color).multiplyScalar(q.intensity),P.distance=q.distance,P.decay=q.decay,q.castShadow){const O=q.shadow,W=t.get(q);W.shadowIntensity=O.intensity,W.shadowBias=O.bias,W.shadowNormalBias=O.normalBias,W.shadowRadius=O.radius,W.shadowMapSize=O.mapSize,W.shadowCameraNear=O.camera.near,W.shadowCameraFar=O.camera.far,n.pointShadow[h]=W,n.pointShadowMap[h]=v,n.pointShadowMatrix[h]=q.shadow.matrix,S++}n.point[h]=P,h++}else if(q.isHemisphereLight){const P=e.get(q);P.skyColor.copy(q.color).multiplyScalar(T),P.groundColor.copy(q.groundColor).multiplyScalar(T),n.hemi[f]=P,f++}}_>0&&(a.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=ve.LTC_FLOAT_1,n.rectAreaLTC2=ve.LTC_FLOAT_2):(n.rectAreaLTC1=ve.LTC_HALF_1,n.rectAreaLTC2=ve.LTC_HALF_2)),n.ambient[0]=m,n.ambient[1]=d,n.ambient[2]=r;const H=n.hash;(H.directionalLength!==s||H.pointLength!==h||H.spotLength!==g||H.rectAreaLength!==_||H.hemiLength!==f||H.numDirectionalShadows!==C||H.numPointShadows!==S||H.numSpotShadows!==D||H.numSpotMaps!==I||H.numLightProbes!==F)&&(n.directional.length=s,n.spot.length=g,n.rectArea.length=_,n.point.length=h,n.hemi.length=f,n.directionalShadow.length=C,n.directionalShadowMap.length=C,n.pointShadow.length=S,n.pointShadowMap.length=S,n.spotShadow.length=D,n.spotShadowMap.length=D,n.directionalShadowMatrix.length=C,n.pointShadowMatrix.length=S,n.spotLightMatrix.length=D+I-U,n.spotLightMap.length=I,n.numSpotLightShadowsWithMaps=U,n.numLightProbes=F,H.directionalLength=s,H.pointLength=h,H.spotLength=g,H.rectAreaLength=_,H.hemiLength=f,H.numDirectionalShadows=C,H.numPointShadows=S,H.numSpotShadows=D,H.numSpotMaps=I,H.numLightProbes=F,n.version=ey++)}function c(p,m){let d=0,r=0,s=0,h=0,g=0;const _=m.matrixWorldInverse;for(let f=0,C=p.length;f<C;f++){const S=p[f];if(S.isDirectionalLight){const D=n.directional[d];D.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),D.direction.sub(i),D.direction.transformDirection(_),d++}else if(S.isSpotLight){const D=n.spot[s];D.position.setFromMatrixPosition(S.matrixWorld),D.position.applyMatrix4(_),D.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),D.direction.sub(i),D.direction.transformDirection(_),s++}else if(S.isRectAreaLight){const D=n.rectArea[h];D.position.setFromMatrixPosition(S.matrixWorld),D.position.applyMatrix4(_),l.identity(),o.copy(S.matrixWorld),o.premultiply(_),l.extractRotation(o),D.halfWidth.set(S.width*.5,0,0),D.halfHeight.set(0,S.height*.5,0),D.halfWidth.applyMatrix4(l),D.halfHeight.applyMatrix4(l),h++}else if(S.isPointLight){const D=n.point[r];D.position.setFromMatrixPosition(S.matrixWorld),D.position.applyMatrix4(_),r++}else if(S.isHemisphereLight){const D=n.hemi[g];D.direction.setFromMatrixPosition(S.matrixWorld),D.direction.transformDirection(_),g++}}}return{setup:u,setupView:c,state:n}}function Id(a){const e=new ny(a),t=[],n=[];function i(m){p.camera=m,t.length=0,n.length=0}function o(m){t.push(m)}function l(m){n.push(m)}function u(){e.setup(t)}function c(m){e.setupView(t,m)}const p={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:p,setupLights:u,setupLightsView:c,pushLight:o,pushShadow:l}}function iy(a){let e=new WeakMap;function t(i,o=0){const l=e.get(i);let u;return l===void 0?(u=new Id(a),e.set(i,[u])):o>=l.length?(u=new Id(a),l.push(u)):u=l[o],u}function n(){e=new WeakMap}return{get:t,dispose:n}}const ay=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,ry=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,oy=[new te(1,0,0),new te(-1,0,0),new te(0,1,0),new te(0,-1,0),new te(0,0,1),new te(0,0,-1)],sy=[new te(0,-1,0),new te(0,-1,0),new te(0,0,1),new te(0,0,-1),new te(0,-1,0),new te(0,-1,0)],wd=new Ke,fa=new te,vo=new te;function ly(a,e,t){let n=new js;const i=new ze,o=new ze,l=new mt,u=new qm,c=new Ym,p={},m=t.maxTextureSize,d={[qn]:Wt,[Wt]:qn,[un]:un},r=new Rn({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ze},radius:{value:4}},vertexShader:ay,fragmentShader:ry}),s=r.clone();s.defines.HORIZONTAL_PASS=1;const h=new Pt;h.setAttribute("position",new It(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new ct(h,r),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Er;let f=this.type;this.render=function(U,F,H){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||U.length===0)return;U.type===sp&&(Le("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),U.type=Er);const R=a.getRenderTarget(),N=a.getActiveCubeFace(),q=a.getActiveMipmapLevel(),Q=a.state;Q.setBlending(zn),Q.buffers.depth.getReversed()===!0?Q.buffers.color.setClear(0,0,0,0):Q.buffers.color.setClear(1,1,1,1),Q.buffers.depth.setTest(!0),Q.setScissorTest(!1);const T=f!==this.type;T&&F.traverse(function(b){b.material&&(Array.isArray(b.material)?b.material.forEach(v=>v.needsUpdate=!0):b.material.needsUpdate=!0)});for(let b=0,v=U.length;b<v;b++){const P=U[b],O=P.shadow;if(O===void 0){Le("WebGLShadowMap:",P,"has no shadow.");continue}if(O.autoUpdate===!1&&O.needsUpdate===!1)continue;i.copy(O.mapSize);const W=O.getFrameExtents();if(i.multiply(W),o.copy(O.mapSize),(i.x>m||i.y>m)&&(i.x>m&&(o.x=Math.floor(m/W.x),i.x=o.x*W.x,O.mapSize.x=o.x),i.y>m&&(o.y=Math.floor(m/W.y),i.y=o.y*W.y,O.mapSize.y=o.y)),O.map===null||T===!0){if(O.map!==null&&(O.map.depthTexture!==null&&(O.map.depthTexture.dispose(),O.map.depthTexture=null),O.map.dispose()),this.type===Ea){if(P.isPointLight){Le("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}O.map=new Sn(i.x,i.y,{format:ji,type:Zt,minFilter:ht,magFilter:ht,generateMipmaps:!1}),O.map.texture.name=P.name+".shadowMap",O.map.depthTexture=new wa(i.x,i.y,kt),O.map.depthTexture.name=P.name+".shadowMapDepth",O.map.depthTexture.format=Yn,O.map.depthTexture.compareFunction=null,O.map.depthTexture.minFilter=St,O.map.depthTexture.magFilter=St}else{P.isPointLight?(O.map=new vu(i.x),O.map.depthTexture=new zm(i.x,vn)):(O.map=new Sn(i.x,i.y),O.map.depthTexture=new wa(i.x,i.y,vn)),O.map.depthTexture.name=P.name+".shadowMap",O.map.depthTexture.format=Yn;const J=a.state.buffers.depth.getReversed();this.type===Er?(O.map.depthTexture.compareFunction=J?zs:Hs,O.map.depthTexture.minFilter=ht,O.map.depthTexture.magFilter=ht):(O.map.depthTexture.compareFunction=null,O.map.depthTexture.minFilter=St,O.map.depthTexture.magFilter=St)}O.camera.updateProjectionMatrix()}const ie=O.map.isWebGLCubeRenderTarget?6:1;for(let J=0;J<ie;J++){if(O.map.isWebGLCubeRenderTarget)a.setRenderTarget(O.map,J),a.clear();else{J===0&&(a.setRenderTarget(O.map),a.clear());const ae=O.getViewport(J);l.set(o.x*ae.x,o.y*ae.y,o.x*ae.z,o.y*ae.w),Q.viewport(l)}if(P.isPointLight){const ae=O.camera,he=O.matrix,ue=P.distance||ae.far;ue!==ae.far&&(ae.far=ue,ae.updateProjectionMatrix()),fa.setFromMatrixPosition(P.matrixWorld),ae.position.copy(fa),vo.copy(ae.position),vo.add(oy[J]),ae.up.copy(sy[J]),ae.lookAt(vo),ae.updateMatrixWorld(),he.makeTranslation(-fa.x,-fa.y,-fa.z),wd.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),O._frustum.setFromProjectionMatrix(wd,ae.coordinateSystem,ae.reversedDepth)}else O.updateMatrices(P);n=O.getFrustum(),D(F,H,O.camera,P,this.type)}O.isPointLightShadow!==!0&&this.type===Ea&&C(O,H),O.needsUpdate=!1}f=this.type,_.needsUpdate=!1,a.setRenderTarget(R,N,q)};function C(U,F){const H=e.update(g);r.defines.VSM_SAMPLES!==U.blurSamples&&(r.defines.VSM_SAMPLES=U.blurSamples,s.defines.VSM_SAMPLES=U.blurSamples,r.needsUpdate=!0,s.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new Sn(i.x,i.y,{format:ji,type:Zt})),r.uniforms.shadow_pass.value=U.map.depthTexture,r.uniforms.resolution.value=U.mapSize,r.uniforms.radius.value=U.radius,a.setRenderTarget(U.mapPass),a.clear(),a.renderBufferDirect(F,null,H,r,g,null),s.uniforms.shadow_pass.value=U.mapPass.texture,s.uniforms.resolution.value=U.mapSize,s.uniforms.radius.value=U.radius,a.setRenderTarget(U.map),a.clear(),a.renderBufferDirect(F,null,H,s,g,null)}function S(U,F,H,R){let N=null;const q=H.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(q!==void 0)N=q;else if(N=H.isPointLight===!0?c:u,a.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0||F.alphaToCoverage===!0){const Q=N.uuid,T=F.uuid;let b=p[Q];b===void 0&&(b={},p[Q]=b);let v=b[T];v===void 0&&(v=N.clone(),b[T]=v,F.addEventListener("dispose",I)),N=v}if(N.visible=F.visible,N.wireframe=F.wireframe,R===Ea?N.side=F.shadowSide!==null?F.shadowSide:F.side:N.side=F.shadowSide!==null?F.shadowSide:d[F.side],N.alphaMap=F.alphaMap,N.alphaTest=F.alphaToCoverage===!0?.5:F.alphaTest,N.map=F.map,N.clipShadows=F.clipShadows,N.clippingPlanes=F.clippingPlanes,N.clipIntersection=F.clipIntersection,N.displacementMap=F.displacementMap,N.displacementScale=F.displacementScale,N.displacementBias=F.displacementBias,N.wireframeLinewidth=F.wireframeLinewidth,N.linewidth=F.linewidth,H.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const Q=a.properties.get(N);Q.light=H}return N}function D(U,F,H,R,N){if(U.visible===!1)return;if(U.layers.test(F.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&N===Ea)&&(!U.frustumCulled||n.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(H.matrixWorldInverse,U.matrixWorld);const T=e.update(U),b=U.material;if(Array.isArray(b)){const v=T.groups;for(let P=0,O=v.length;P<O;P++){const W=v[P],ie=b[W.materialIndex];if(ie&&ie.visible){const J=S(U,ie,R,N);U.onBeforeShadow(a,U,F,H,T,J,W),a.renderBufferDirect(H,null,T,J,U,W),U.onAfterShadow(a,U,F,H,T,J,W)}}}else if(b.visible){const v=S(U,b,R,N);U.onBeforeShadow(a,U,F,H,T,v,null),a.renderBufferDirect(H,null,T,v,U,null),U.onAfterShadow(a,U,F,H,T,v,null)}}const Q=U.children;for(let T=0,b=Q.length;T<b;T++)D(Q[T],F,H,R,N)}function I(U){U.target.removeEventListener("dispose",I);for(const H in p){const R=p[H],N=U.target.uuid;N in R&&(R[N].dispose(),delete R[N])}}}const dy={[Go]:Fo,[ko]:Ho,[Bo]:zo,[Yi]:Vo,[Fo]:Go,[Ho]:ko,[zo]:Bo,[Vo]:Yi};function uy(a,e){function t(){let Z=!1;const be=new mt;let Ee=null;const De=new mt(0,0,0,0);return{setMask:function(ge){Ee!==ge&&!Z&&(a.colorMask(ge,ge,ge,ge),Ee=ge)},setLocked:function(ge){Z=ge},setClear:function(ge,fe,Se,Ye,ut){ut===!0&&(ge*=Ye,fe*=Ye,Se*=Ye),be.set(ge,fe,Se,Ye),De.equals(be)===!1&&(a.clearColor(ge,fe,Se,Ye),De.copy(be))},reset:function(){Z=!1,Ee=null,De.set(-1,0,0,0)}}}function n(){let Z=!1,be=!1,Ee=null,De=null,ge=null;return{setReversed:function(fe){if(be!==fe){const Se=e.get("EXT_clip_control");fe?Se.clipControlEXT(Se.LOWER_LEFT_EXT,Se.ZERO_TO_ONE_EXT):Se.clipControlEXT(Se.LOWER_LEFT_EXT,Se.NEGATIVE_ONE_TO_ONE_EXT),be=fe;const Ye=ge;ge=null,this.setClear(Ye)}},getReversed:function(){return be},setTest:function(fe){fe?A(a.DEPTH_TEST):k(a.DEPTH_TEST)},setMask:function(fe){Ee!==fe&&!Z&&(a.depthMask(fe),Ee=fe)},setFunc:function(fe){if(be&&(fe=dy[fe]),De!==fe){switch(fe){case Go:a.depthFunc(a.NEVER);break;case Fo:a.depthFunc(a.ALWAYS);break;case ko:a.depthFunc(a.LESS);break;case Yi:a.depthFunc(a.LEQUAL);break;case Bo:a.depthFunc(a.EQUAL);break;case Vo:a.depthFunc(a.GEQUAL);break;case Ho:a.depthFunc(a.GREATER);break;case zo:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}De=fe}},setLocked:function(fe){Z=fe},setClear:function(fe){ge!==fe&&(be&&(fe=1-fe),a.clearDepth(fe),ge=fe)},reset:function(){Z=!1,Ee=null,De=null,ge=null,be=!1}}}function i(){let Z=!1,be=null,Ee=null,De=null,ge=null,fe=null,Se=null,Ye=null,ut=null;return{setTest:function(nt){Z||(nt?A(a.STENCIL_TEST):k(a.STENCIL_TEST))},setMask:function(nt){be!==nt&&!Z&&(a.stencilMask(nt),be=nt)},setFunc:function(nt,_n,In){(Ee!==nt||De!==_n||ge!==In)&&(a.stencilFunc(nt,_n,In),Ee=nt,De=_n,ge=In)},setOp:function(nt,_n,In){(fe!==nt||Se!==_n||Ye!==In)&&(a.stencilOp(nt,_n,In),fe=nt,Se=_n,Ye=In)},setLocked:function(nt){Z=nt},setClear:function(nt){ut!==nt&&(a.clearStencil(nt),ut=nt)},reset:function(){Z=!1,be=null,Ee=null,De=null,ge=null,fe=null,Se=null,Ye=null,ut=null}}}const o=new t,l=new n,u=new i,c=new WeakMap,p=new WeakMap;let m={},d={},r=new WeakMap,s=[],h=null,g=!1,_=null,f=null,C=null,S=null,D=null,I=null,U=null,F=new Ve(0,0,0),H=0,R=!1,N=null,q=null,Q=null,T=null,b=null;const v=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let P=!1,O=0;const W=a.getParameter(a.VERSION);W.indexOf("WebGL")!==-1?(O=parseFloat(/^WebGL (\d)/.exec(W)[1]),P=O>=1):W.indexOf("OpenGL ES")!==-1&&(O=parseFloat(/^OpenGL ES (\d)/.exec(W)[1]),P=O>=2);let ie=null,J={};const ae=a.getParameter(a.SCISSOR_BOX),he=a.getParameter(a.VIEWPORT),ue=new mt().fromArray(ae),we=new mt().fromArray(he);function Ge(Z,be,Ee,De){const ge=new Uint8Array(4),fe=a.createTexture();a.bindTexture(Z,fe),a.texParameteri(Z,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(Z,a.TEXTURE_MAG_FILTER,a.NEAREST);for(let Se=0;Se<Ee;Se++)Z===a.TEXTURE_3D||Z===a.TEXTURE_2D_ARRAY?a.texImage3D(be,0,a.RGBA,1,1,De,0,a.RGBA,a.UNSIGNED_BYTE,ge):a.texImage2D(be+Se,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,ge);return fe}const G={};G[a.TEXTURE_2D]=Ge(a.TEXTURE_2D,a.TEXTURE_2D,1),G[a.TEXTURE_CUBE_MAP]=Ge(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6),G[a.TEXTURE_2D_ARRAY]=Ge(a.TEXTURE_2D_ARRAY,a.TEXTURE_2D_ARRAY,1,1),G[a.TEXTURE_3D]=Ge(a.TEXTURE_3D,a.TEXTURE_3D,1,1),o.setClear(0,0,0,1),l.setClear(1),u.setClear(0),A(a.DEPTH_TEST),l.setFunc(Yi),xe(!1),Ne(_l),A(a.CULL_FACE),ce(zn);function A(Z){m[Z]!==!0&&(a.enable(Z),m[Z]=!0)}function k(Z){m[Z]!==!1&&(a.disable(Z),m[Z]=!1)}function Y(Z,be){return d[Z]!==be?(a.bindFramebuffer(Z,be),d[Z]=be,Z===a.DRAW_FRAMEBUFFER&&(d[a.FRAMEBUFFER]=be),Z===a.FRAMEBUFFER&&(d[a.DRAW_FRAMEBUFFER]=be),!0):!1}function X(Z,be){let Ee=s,De=!1;if(Z){Ee=r.get(be),Ee===void 0&&(Ee=[],r.set(be,Ee));const ge=Z.textures;if(Ee.length!==ge.length||Ee[0]!==a.COLOR_ATTACHMENT0){for(let fe=0,Se=ge.length;fe<Se;fe++)Ee[fe]=a.COLOR_ATTACHMENT0+fe;Ee.length=ge.length,De=!0}}else Ee[0]!==a.BACK&&(Ee[0]=a.BACK,De=!0);De&&a.drawBuffers(Ee)}function ee(Z){return h!==Z?(a.useProgram(Z),h=Z,!0):!1}const oe={[fi]:a.FUNC_ADD,[dp]:a.FUNC_SUBTRACT,[up]:a.FUNC_REVERSE_SUBTRACT};oe[pp]=a.MIN,oe[mp]=a.MAX;const de={[cp]:a.ZERO,[hp]:a.ONE,[fp]:a.SRC_COLOR,[Lo]:a.SRC_ALPHA,[Tp]:a.SRC_ALPHA_SATURATE,[Ep]:a.DST_COLOR,[gp]:a.DST_ALPHA,[_p]:a.ONE_MINUS_SRC_COLOR,[Uo]:a.ONE_MINUS_SRC_ALPHA,[Cp]:a.ONE_MINUS_DST_COLOR,[yp]:a.ONE_MINUS_DST_ALPHA,[Mp]:a.CONSTANT_COLOR,[Sp]:a.ONE_MINUS_CONSTANT_COLOR,[Ap]:a.CONSTANT_ALPHA,[vp]:a.ONE_MINUS_CONSTANT_ALPHA};function ce(Z,be,Ee,De,ge,fe,Se,Ye,ut,nt){if(Z===zn){g===!0&&(k(a.BLEND),g=!1);return}if(g===!1&&(A(a.BLEND),g=!0),Z!==lp){if(Z!==_||nt!==R){if((f!==fi||D!==fi)&&(a.blendEquation(a.FUNC_ADD),f=fi,D=fi),nt)switch(Z){case zi:a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case gl:a.blendFunc(a.ONE,a.ONE);break;case yl:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case El:a.blendFuncSeparate(a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA,a.ZERO,a.ONE);break;default:Be("WebGLState: Invalid blending: ",Z);break}else switch(Z){case zi:a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case gl:a.blendFuncSeparate(a.SRC_ALPHA,a.ONE,a.ONE,a.ONE);break;case yl:Be("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case El:Be("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Be("WebGLState: Invalid blending: ",Z);break}C=null,S=null,I=null,U=null,F.set(0,0,0),H=0,_=Z,R=nt}return}ge=ge||be,fe=fe||Ee,Se=Se||De,(be!==f||ge!==D)&&(a.blendEquationSeparate(oe[be],oe[ge]),f=be,D=ge),(Ee!==C||De!==S||fe!==I||Se!==U)&&(a.blendFuncSeparate(de[Ee],de[De],de[fe],de[Se]),C=Ee,S=De,I=fe,U=Se),(Ye.equals(F)===!1||ut!==H)&&(a.blendColor(Ye.r,Ye.g,Ye.b,ut),F.copy(Ye),H=ut),_=Z,R=!1}function ye(Z,be){Z.side===un?k(a.CULL_FACE):A(a.CULL_FACE);let Ee=Z.side===Wt;be&&(Ee=!Ee),xe(Ee),Z.blending===zi&&Z.transparent===!1?ce(zn):ce(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.blendColor,Z.blendAlpha,Z.premultipliedAlpha),l.setFunc(Z.depthFunc),l.setTest(Z.depthTest),l.setMask(Z.depthWrite),o.setMask(Z.colorWrite);const De=Z.stencilWrite;u.setTest(De),De&&(u.setMask(Z.stencilWriteMask),u.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),u.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),qe(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?A(a.SAMPLE_ALPHA_TO_COVERAGE):k(a.SAMPLE_ALPHA_TO_COVERAGE)}function xe(Z){N!==Z&&(Z?a.frontFace(a.CW):a.frontFace(a.CCW),N=Z)}function Ne(Z){Z!==rp?(A(a.CULL_FACE),Z!==q&&(Z===_l?a.cullFace(a.BACK):Z===op?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):k(a.CULL_FACE),q=Z}function z(Z){Z!==Q&&(P&&a.lineWidth(Z),Q=Z)}function qe(Z,be,Ee){Z?(A(a.POLYGON_OFFSET_FILL),(T!==be||b!==Ee)&&(a.polygonOffset(be,Ee),T=be,b=Ee)):k(a.POLYGON_OFFSET_FILL)}function We(Z){Z?A(a.SCISSOR_TEST):k(a.SCISSOR_TEST)}function Xe(Z){Z===void 0&&(Z=a.TEXTURE0+v-1),ie!==Z&&(a.activeTexture(Z),ie=Z)}function Me(Z,be,Ee){Ee===void 0&&(ie===null?Ee=a.TEXTURE0+v-1:Ee=ie);let De=J[Ee];De===void 0&&(De={type:void 0,texture:void 0},J[Ee]=De),(De.type!==Z||De.texture!==be)&&(ie!==Ee&&(a.activeTexture(Ee),ie=Ee),a.bindTexture(Z,be||G[Z]),De.type=Z,De.texture=be)}function B(){const Z=J[ie];Z!==void 0&&Z.type!==void 0&&(a.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function x(){try{a.compressedTexImage2D(...arguments)}catch(Z){Be("WebGLState:",Z)}}function j(){try{a.compressedTexImage3D(...arguments)}catch(Z){Be("WebGLState:",Z)}}function pe(){try{a.texSubImage2D(...arguments)}catch(Z){Be("WebGLState:",Z)}}function M(){try{a.texSubImage3D(...arguments)}catch(Z){Be("WebGLState:",Z)}}function y(){try{a.compressedTexSubImage2D(...arguments)}catch(Z){Be("WebGLState:",Z)}}function E(){try{a.compressedTexSubImage3D(...arguments)}catch(Z){Be("WebGLState:",Z)}}function w(){try{a.texStorage2D(...arguments)}catch(Z){Be("WebGLState:",Z)}}function V(){try{a.texStorage3D(...arguments)}catch(Z){Be("WebGLState:",Z)}}function $(){try{a.texImage2D(...arguments)}catch(Z){Be("WebGLState:",Z)}}function K(){try{a.texImage3D(...arguments)}catch(Z){Be("WebGLState:",Z)}}function me(Z){ue.equals(Z)===!1&&(a.scissor(Z.x,Z.y,Z.z,Z.w),ue.copy(Z))}function Ce(Z){we.equals(Z)===!1&&(a.viewport(Z.x,Z.y,Z.z,Z.w),we.copy(Z))}function Te(Z,be){let Ee=p.get(be);Ee===void 0&&(Ee=new WeakMap,p.set(be,Ee));let De=Ee.get(Z);De===void 0&&(De=a.getUniformBlockIndex(be,Z.name),Ee.set(Z,De))}function _e(Z,be){const De=p.get(be).get(Z);c.get(be)!==De&&(a.uniformBlockBinding(be,De,Z.__bindingPointIndex),c.set(be,De))}function Oe(){a.disable(a.BLEND),a.disable(a.CULL_FACE),a.disable(a.DEPTH_TEST),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SCISSOR_TEST),a.disable(a.STENCIL_TEST),a.disable(a.SAMPLE_ALPHA_TO_COVERAGE),a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ZERO),a.blendFuncSeparate(a.ONE,a.ZERO,a.ONE,a.ZERO),a.blendColor(0,0,0,0),a.colorMask(!0,!0,!0,!0),a.clearColor(0,0,0,0),a.depthMask(!0),a.depthFunc(a.LESS),l.setReversed(!1),a.clearDepth(1),a.stencilMask(4294967295),a.stencilFunc(a.ALWAYS,0,4294967295),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),a.clearStencil(0),a.cullFace(a.BACK),a.frontFace(a.CCW),a.polygonOffset(0,0),a.activeTexture(a.TEXTURE0),a.bindFramebuffer(a.FRAMEBUFFER,null),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),a.bindFramebuffer(a.READ_FRAMEBUFFER,null),a.useProgram(null),a.lineWidth(1),a.scissor(0,0,a.canvas.width,a.canvas.height),a.viewport(0,0,a.canvas.width,a.canvas.height),m={},ie=null,J={},d={},r=new WeakMap,s=[],h=null,g=!1,_=null,f=null,C=null,S=null,D=null,I=null,U=null,F=new Ve(0,0,0),H=0,R=!1,N=null,q=null,Q=null,T=null,b=null,ue.set(0,0,a.canvas.width,a.canvas.height),we.set(0,0,a.canvas.width,a.canvas.height),o.reset(),l.reset(),u.reset()}return{buffers:{color:o,depth:l,stencil:u},enable:A,disable:k,bindFramebuffer:Y,drawBuffers:X,useProgram:ee,setBlending:ce,setMaterial:ye,setFlipSided:xe,setCullFace:Ne,setLineWidth:z,setPolygonOffset:qe,setScissorTest:We,activeTexture:Xe,bindTexture:Me,unbindTexture:B,compressedTexImage2D:x,compressedTexImage3D:j,texImage2D:$,texImage3D:K,updateUBOMapping:Te,uniformBlockBinding:_e,texStorage2D:w,texStorage3D:V,texSubImage2D:pe,texSubImage3D:M,compressedTexSubImage2D:y,compressedTexSubImage3D:E,scissor:me,viewport:Ce,reset:Oe}}function py(a,e,t,n,i,o,l){const u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new ze,m=new WeakMap;let d;const r=new WeakMap;let s=!1;try{s=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function h(B,x){return s?new OffscreenCanvas(B,x):Da("canvas")}function g(B,x,j){let pe=1;const M=Me(B);if((M.width>j||M.height>j)&&(pe=j/Math.max(M.width,M.height)),pe<1)if(typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&B instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&B instanceof ImageBitmap||typeof VideoFrame<"u"&&B instanceof VideoFrame){const y=Math.floor(pe*M.width),E=Math.floor(pe*M.height);d===void 0&&(d=h(y,E));const w=x?h(y,E):d;return w.width=y,w.height=E,w.getContext("2d").drawImage(B,0,0,y,E),Le("WebGLRenderer: Texture has been resized from ("+M.width+"x"+M.height+") to ("+y+"x"+E+")."),w}else return"data"in B&&Le("WebGLRenderer: Image in DataTexture is too big ("+M.width+"x"+M.height+")."),B;return B}function _(B){return B.generateMipmaps}function f(B){a.generateMipmap(B)}function C(B){return B.isWebGLCubeRenderTarget?a.TEXTURE_CUBE_MAP:B.isWebGL3DRenderTarget?a.TEXTURE_3D:B.isWebGLArrayRenderTarget||B.isCompressedArrayTexture?a.TEXTURE_2D_ARRAY:a.TEXTURE_2D}function S(B,x,j,pe,M=!1){if(B!==null){if(a[B]!==void 0)return a[B];Le("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+B+"'")}let y=x;if(x===a.RED&&(j===a.FLOAT&&(y=a.R32F),j===a.HALF_FLOAT&&(y=a.R16F),j===a.UNSIGNED_BYTE&&(y=a.R8)),x===a.RED_INTEGER&&(j===a.UNSIGNED_BYTE&&(y=a.R8UI),j===a.UNSIGNED_SHORT&&(y=a.R16UI),j===a.UNSIGNED_INT&&(y=a.R32UI),j===a.BYTE&&(y=a.R8I),j===a.SHORT&&(y=a.R16I),j===a.INT&&(y=a.R32I)),x===a.RG&&(j===a.FLOAT&&(y=a.RG32F),j===a.HALF_FLOAT&&(y=a.RG16F),j===a.UNSIGNED_BYTE&&(y=a.RG8)),x===a.RG_INTEGER&&(j===a.UNSIGNED_BYTE&&(y=a.RG8UI),j===a.UNSIGNED_SHORT&&(y=a.RG16UI),j===a.UNSIGNED_INT&&(y=a.RG32UI),j===a.BYTE&&(y=a.RG8I),j===a.SHORT&&(y=a.RG16I),j===a.INT&&(y=a.RG32I)),x===a.RGB_INTEGER&&(j===a.UNSIGNED_BYTE&&(y=a.RGB8UI),j===a.UNSIGNED_SHORT&&(y=a.RGB16UI),j===a.UNSIGNED_INT&&(y=a.RGB32UI),j===a.BYTE&&(y=a.RGB8I),j===a.SHORT&&(y=a.RGB16I),j===a.INT&&(y=a.RGB32I)),x===a.RGBA_INTEGER&&(j===a.UNSIGNED_BYTE&&(y=a.RGBA8UI),j===a.UNSIGNED_SHORT&&(y=a.RGBA16UI),j===a.UNSIGNED_INT&&(y=a.RGBA32UI),j===a.BYTE&&(y=a.RGBA8I),j===a.SHORT&&(y=a.RGBA16I),j===a.INT&&(y=a.RGBA32I)),x===a.RGB&&(j===a.UNSIGNED_INT_5_9_9_9_REV&&(y=a.RGB9_E5),j===a.UNSIGNED_INT_10F_11F_11F_REV&&(y=a.R11F_G11F_B10F)),x===a.RGBA){const E=M?Or:et.getTransfer(pe);j===a.FLOAT&&(y=a.RGBA32F),j===a.HALF_FLOAT&&(y=a.RGBA16F),j===a.UNSIGNED_BYTE&&(y=E===at?a.SRGB8_ALPHA8:a.RGBA8),j===a.UNSIGNED_SHORT_4_4_4_4&&(y=a.RGBA4),j===a.UNSIGNED_SHORT_5_5_5_1&&(y=a.RGB5_A1)}return(y===a.R16F||y===a.R32F||y===a.RG16F||y===a.RG32F||y===a.RGBA16F||y===a.RGBA32F)&&e.get("EXT_color_buffer_float"),y}function D(B,x){let j;return B?x===null||x===vn||x===xa?j=a.DEPTH24_STENCIL8:x===kt?j=a.DEPTH32F_STENCIL8:x===va&&(j=a.DEPTH24_STENCIL8,Le("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):x===null||x===vn||x===xa?j=a.DEPTH_COMPONENT24:x===kt?j=a.DEPTH_COMPONENT32F:x===va&&(j=a.DEPTH_COMPONENT16),j}function I(B,x){return _(B)===!0||B.isFramebufferTexture&&B.minFilter!==St&&B.minFilter!==ht?Math.log2(Math.max(x.width,x.height))+1:B.mipmaps!==void 0&&B.mipmaps.length>0?B.mipmaps.length:B.isCompressedTexture&&Array.isArray(B.image)?x.mipmaps.length:1}function U(B){const x=B.target;x.removeEventListener("dispose",U),H(x),x.isVideoTexture&&m.delete(x)}function F(B){const x=B.target;x.removeEventListener("dispose",F),N(x)}function H(B){const x=n.get(B);if(x.__webglInit===void 0)return;const j=B.source,pe=r.get(j);if(pe){const M=pe[x.__cacheKey];M.usedTimes--,M.usedTimes===0&&R(B),Object.keys(pe).length===0&&r.delete(j)}n.remove(B)}function R(B){const x=n.get(B);a.deleteTexture(x.__webglTexture);const j=B.source,pe=r.get(j);delete pe[x.__cacheKey],l.memory.textures--}function N(B){const x=n.get(B);if(B.depthTexture&&(B.depthTexture.dispose(),n.remove(B.depthTexture)),B.isWebGLCubeRenderTarget)for(let pe=0;pe<6;pe++){if(Array.isArray(x.__webglFramebuffer[pe]))for(let M=0;M<x.__webglFramebuffer[pe].length;M++)a.deleteFramebuffer(x.__webglFramebuffer[pe][M]);else a.deleteFramebuffer(x.__webglFramebuffer[pe]);x.__webglDepthbuffer&&a.deleteRenderbuffer(x.__webglDepthbuffer[pe])}else{if(Array.isArray(x.__webglFramebuffer))for(let pe=0;pe<x.__webglFramebuffer.length;pe++)a.deleteFramebuffer(x.__webglFramebuffer[pe]);else a.deleteFramebuffer(x.__webglFramebuffer);if(x.__webglDepthbuffer&&a.deleteRenderbuffer(x.__webglDepthbuffer),x.__webglMultisampledFramebuffer&&a.deleteFramebuffer(x.__webglMultisampledFramebuffer),x.__webglColorRenderbuffer)for(let pe=0;pe<x.__webglColorRenderbuffer.length;pe++)x.__webglColorRenderbuffer[pe]&&a.deleteRenderbuffer(x.__webglColorRenderbuffer[pe]);x.__webglDepthRenderbuffer&&a.deleteRenderbuffer(x.__webglDepthRenderbuffer)}const j=B.textures;for(let pe=0,M=j.length;pe<M;pe++){const y=n.get(j[pe]);y.__webglTexture&&(a.deleteTexture(y.__webglTexture),l.memory.textures--),n.remove(j[pe])}n.remove(B)}let q=0;function Q(){q=0}function T(){const B=q;return B>=i.maxTextures&&Le("WebGLTextures: Trying to use "+B+" texture units while this GPU supports only "+i.maxTextures),q+=1,B}function b(B){const x=[];return x.push(B.wrapS),x.push(B.wrapT),x.push(B.wrapR||0),x.push(B.magFilter),x.push(B.minFilter),x.push(B.anisotropy),x.push(B.internalFormat),x.push(B.format),x.push(B.type),x.push(B.generateMipmaps),x.push(B.premultiplyAlpha),x.push(B.flipY),x.push(B.unpackAlignment),x.push(B.colorSpace),x.join()}function v(B,x){const j=n.get(B);if(B.isVideoTexture&&We(B),B.isRenderTargetTexture===!1&&B.isExternalTexture!==!0&&B.version>0&&j.__version!==B.version){const pe=B.image;if(pe===null)Le("WebGLRenderer: Texture marked for update but no image data found.");else if(pe.complete===!1)Le("WebGLRenderer: Texture marked for update but image is incomplete");else{G(j,B,x);return}}else B.isExternalTexture&&(j.__webglTexture=B.sourceTexture?B.sourceTexture:null);t.bindTexture(a.TEXTURE_2D,j.__webglTexture,a.TEXTURE0+x)}function P(B,x){const j=n.get(B);if(B.isRenderTargetTexture===!1&&B.version>0&&j.__version!==B.version){G(j,B,x);return}else B.isExternalTexture&&(j.__webglTexture=B.sourceTexture?B.sourceTexture:null);t.bindTexture(a.TEXTURE_2D_ARRAY,j.__webglTexture,a.TEXTURE0+x)}function O(B,x){const j=n.get(B);if(B.isRenderTargetTexture===!1&&B.version>0&&j.__version!==B.version){G(j,B,x);return}t.bindTexture(a.TEXTURE_3D,j.__webglTexture,a.TEXTURE0+x)}function W(B,x){const j=n.get(B);if(B.isCubeDepthTexture!==!0&&B.version>0&&j.__version!==B.version){A(j,B,x);return}t.bindTexture(a.TEXTURE_CUBE_MAP,j.__webglTexture,a.TEXTURE0+x)}const ie={[Ki]:a.REPEAT,[nn]:a.CLAMP_TO_EDGE,[Dr]:a.MIRRORED_REPEAT},J={[St]:a.NEAREST,[su]:a.NEAREST_MIPMAP_NEAREST,[Ca]:a.NEAREST_MIPMAP_LINEAR,[ht]:a.LINEAR,[Cr]:a.LINEAR_MIPMAP_NEAREST,[Cn]:a.LINEAR_MIPMAP_LINEAR},ae={[Pp]:a.NEVER,[Fp]:a.ALWAYS,[Np]:a.LESS,[Hs]:a.LEQUAL,[Lp]:a.EQUAL,[zs]:a.GEQUAL,[Up]:a.GREATER,[Gp]:a.NOTEQUAL};function he(B,x){if(x.type===kt&&e.has("OES_texture_float_linear")===!1&&(x.magFilter===ht||x.magFilter===Cr||x.magFilter===Ca||x.magFilter===Cn||x.minFilter===ht||x.minFilter===Cr||x.minFilter===Ca||x.minFilter===Cn)&&Le("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),a.texParameteri(B,a.TEXTURE_WRAP_S,ie[x.wrapS]),a.texParameteri(B,a.TEXTURE_WRAP_T,ie[x.wrapT]),(B===a.TEXTURE_3D||B===a.TEXTURE_2D_ARRAY)&&a.texParameteri(B,a.TEXTURE_WRAP_R,ie[x.wrapR]),a.texParameteri(B,a.TEXTURE_MAG_FILTER,J[x.magFilter]),a.texParameteri(B,a.TEXTURE_MIN_FILTER,J[x.minFilter]),x.compareFunction&&(a.texParameteri(B,a.TEXTURE_COMPARE_MODE,a.COMPARE_REF_TO_TEXTURE),a.texParameteri(B,a.TEXTURE_COMPARE_FUNC,ae[x.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(x.magFilter===St||x.minFilter!==Ca&&x.minFilter!==Cn||x.type===kt&&e.has("OES_texture_float_linear")===!1)return;if(x.anisotropy>1||n.get(x).__currentAnisotropy){const j=e.get("EXT_texture_filter_anisotropic");a.texParameterf(B,j.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(x.anisotropy,i.getMaxAnisotropy())),n.get(x).__currentAnisotropy=x.anisotropy}}}function ue(B,x){let j=!1;B.__webglInit===void 0&&(B.__webglInit=!0,x.addEventListener("dispose",U));const pe=x.source;let M=r.get(pe);M===void 0&&(M={},r.set(pe,M));const y=b(x);if(y!==B.__cacheKey){M[y]===void 0&&(M[y]={texture:a.createTexture(),usedTimes:0},l.memory.textures++,j=!0),M[y].usedTimes++;const E=M[B.__cacheKey];E!==void 0&&(M[B.__cacheKey].usedTimes--,E.usedTimes===0&&R(x)),B.__cacheKey=y,B.__webglTexture=M[y].texture}return j}function we(B,x,j){return Math.floor(Math.floor(B/j)/x)}function Ge(B,x,j,pe){const y=B.updateRanges;if(y.length===0)t.texSubImage2D(a.TEXTURE_2D,0,0,0,x.width,x.height,j,pe,x.data);else{y.sort((K,me)=>K.start-me.start);let E=0;for(let K=1;K<y.length;K++){const me=y[E],Ce=y[K],Te=me.start+me.count,_e=we(Ce.start,x.width,4),Oe=we(me.start,x.width,4);Ce.start<=Te+1&&_e===Oe&&we(Ce.start+Ce.count-1,x.width,4)===_e?me.count=Math.max(me.count,Ce.start+Ce.count-me.start):(++E,y[E]=Ce)}y.length=E+1;const w=a.getParameter(a.UNPACK_ROW_LENGTH),V=a.getParameter(a.UNPACK_SKIP_PIXELS),$=a.getParameter(a.UNPACK_SKIP_ROWS);a.pixelStorei(a.UNPACK_ROW_LENGTH,x.width);for(let K=0,me=y.length;K<me;K++){const Ce=y[K],Te=Math.floor(Ce.start/4),_e=Math.ceil(Ce.count/4),Oe=Te%x.width,Z=Math.floor(Te/x.width),be=_e,Ee=1;a.pixelStorei(a.UNPACK_SKIP_PIXELS,Oe),a.pixelStorei(a.UNPACK_SKIP_ROWS,Z),t.texSubImage2D(a.TEXTURE_2D,0,Oe,Z,be,Ee,j,pe,x.data)}B.clearUpdateRanges(),a.pixelStorei(a.UNPACK_ROW_LENGTH,w),a.pixelStorei(a.UNPACK_SKIP_PIXELS,V),a.pixelStorei(a.UNPACK_SKIP_ROWS,$)}}function G(B,x,j){let pe=a.TEXTURE_2D;(x.isDataArrayTexture||x.isCompressedArrayTexture)&&(pe=a.TEXTURE_2D_ARRAY),x.isData3DTexture&&(pe=a.TEXTURE_3D);const M=ue(B,x),y=x.source;t.bindTexture(pe,B.__webglTexture,a.TEXTURE0+j);const E=n.get(y);if(y.version!==E.__version||M===!0){t.activeTexture(a.TEXTURE0+j);const w=et.getPrimaries(et.workingColorSpace),V=x.colorSpace===ni?null:et.getPrimaries(x.colorSpace),$=x.colorSpace===ni||w===V?a.NONE:a.BROWSER_DEFAULT_WEBGL;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,x.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,x.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,x.unpackAlignment),a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,$);let K=g(x.image,!1,i.maxTextureSize);K=Xe(x,K);const me=o.convert(x.format,x.colorSpace),Ce=o.convert(x.type);let Te=S(x.internalFormat,me,Ce,x.colorSpace,x.isVideoTexture);he(pe,x);let _e;const Oe=x.mipmaps,Z=x.isVideoTexture!==!0,be=E.__version===void 0||M===!0,Ee=y.dataReady,De=I(x,K);if(x.isDepthTexture)Te=D(x.format===yi,x.type),be&&(Z?t.texStorage2D(a.TEXTURE_2D,1,Te,K.width,K.height):t.texImage2D(a.TEXTURE_2D,0,Te,K.width,K.height,0,me,Ce,null));else if(x.isDataTexture)if(Oe.length>0){Z&&be&&t.texStorage2D(a.TEXTURE_2D,De,Te,Oe[0].width,Oe[0].height);for(let ge=0,fe=Oe.length;ge<fe;ge++)_e=Oe[ge],Z?Ee&&t.texSubImage2D(a.TEXTURE_2D,ge,0,0,_e.width,_e.height,me,Ce,_e.data):t.texImage2D(a.TEXTURE_2D,ge,Te,_e.width,_e.height,0,me,Ce,_e.data);x.generateMipmaps=!1}else Z?(be&&t.texStorage2D(a.TEXTURE_2D,De,Te,K.width,K.height),Ee&&Ge(x,K,me,Ce)):t.texImage2D(a.TEXTURE_2D,0,Te,K.width,K.height,0,me,Ce,K.data);else if(x.isCompressedTexture)if(x.isCompressedArrayTexture){Z&&be&&t.texStorage3D(a.TEXTURE_2D_ARRAY,De,Te,Oe[0].width,Oe[0].height,K.depth);for(let ge=0,fe=Oe.length;ge<fe;ge++)if(_e=Oe[ge],x.format!==an)if(me!==null)if(Z){if(Ee)if(x.layerUpdates.size>0){const Se=ud(_e.width,_e.height,x.format,x.type);for(const Ye of x.layerUpdates){const ut=_e.data.subarray(Ye*Se/_e.data.BYTES_PER_ELEMENT,(Ye+1)*Se/_e.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(a.TEXTURE_2D_ARRAY,ge,0,0,Ye,_e.width,_e.height,1,me,ut)}x.clearLayerUpdates()}else t.compressedTexSubImage3D(a.TEXTURE_2D_ARRAY,ge,0,0,0,_e.width,_e.height,K.depth,me,_e.data)}else t.compressedTexImage3D(a.TEXTURE_2D_ARRAY,ge,Te,_e.width,_e.height,K.depth,0,_e.data,0,0);else Le("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Z?Ee&&t.texSubImage3D(a.TEXTURE_2D_ARRAY,ge,0,0,0,_e.width,_e.height,K.depth,me,Ce,_e.data):t.texImage3D(a.TEXTURE_2D_ARRAY,ge,Te,_e.width,_e.height,K.depth,0,me,Ce,_e.data)}else{Z&&be&&t.texStorage2D(a.TEXTURE_2D,De,Te,Oe[0].width,Oe[0].height);for(let ge=0,fe=Oe.length;ge<fe;ge++)_e=Oe[ge],x.format!==an?me!==null?Z?Ee&&t.compressedTexSubImage2D(a.TEXTURE_2D,ge,0,0,_e.width,_e.height,me,_e.data):t.compressedTexImage2D(a.TEXTURE_2D,ge,Te,_e.width,_e.height,0,_e.data):Le("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Z?Ee&&t.texSubImage2D(a.TEXTURE_2D,ge,0,0,_e.width,_e.height,me,Ce,_e.data):t.texImage2D(a.TEXTURE_2D,ge,Te,_e.width,_e.height,0,me,Ce,_e.data)}else if(x.isDataArrayTexture)if(Z){if(be&&t.texStorage3D(a.TEXTURE_2D_ARRAY,De,Te,K.width,K.height,K.depth),Ee)if(x.layerUpdates.size>0){const ge=ud(K.width,K.height,x.format,x.type);for(const fe of x.layerUpdates){const Se=K.data.subarray(fe*ge/K.data.BYTES_PER_ELEMENT,(fe+1)*ge/K.data.BYTES_PER_ELEMENT);t.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,fe,K.width,K.height,1,me,Ce,Se)}x.clearLayerUpdates()}else t.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,0,K.width,K.height,K.depth,me,Ce,K.data)}else t.texImage3D(a.TEXTURE_2D_ARRAY,0,Te,K.width,K.height,K.depth,0,me,Ce,K.data);else if(x.isData3DTexture)Z?(be&&t.texStorage3D(a.TEXTURE_3D,De,Te,K.width,K.height,K.depth),Ee&&t.texSubImage3D(a.TEXTURE_3D,0,0,0,0,K.width,K.height,K.depth,me,Ce,K.data)):t.texImage3D(a.TEXTURE_3D,0,Te,K.width,K.height,K.depth,0,me,Ce,K.data);else if(x.isFramebufferTexture){if(be)if(Z)t.texStorage2D(a.TEXTURE_2D,De,Te,K.width,K.height);else{let ge=K.width,fe=K.height;for(let Se=0;Se<De;Se++)t.texImage2D(a.TEXTURE_2D,Se,Te,ge,fe,0,me,Ce,null),ge>>=1,fe>>=1}}else if(Oe.length>0){if(Z&&be){const ge=Me(Oe[0]);t.texStorage2D(a.TEXTURE_2D,De,Te,ge.width,ge.height)}for(let ge=0,fe=Oe.length;ge<fe;ge++)_e=Oe[ge],Z?Ee&&t.texSubImage2D(a.TEXTURE_2D,ge,0,0,me,Ce,_e):t.texImage2D(a.TEXTURE_2D,ge,Te,me,Ce,_e);x.generateMipmaps=!1}else if(Z){if(be){const ge=Me(K);t.texStorage2D(a.TEXTURE_2D,De,Te,ge.width,ge.height)}Ee&&t.texSubImage2D(a.TEXTURE_2D,0,0,0,me,Ce,K)}else t.texImage2D(a.TEXTURE_2D,0,Te,me,Ce,K);_(x)&&f(pe),E.__version=y.version,x.onUpdate&&x.onUpdate(x)}B.__version=x.version}function A(B,x,j){if(x.image.length!==6)return;const pe=ue(B,x),M=x.source;t.bindTexture(a.TEXTURE_CUBE_MAP,B.__webglTexture,a.TEXTURE0+j);const y=n.get(M);if(M.version!==y.__version||pe===!0){t.activeTexture(a.TEXTURE0+j);const E=et.getPrimaries(et.workingColorSpace),w=x.colorSpace===ni?null:et.getPrimaries(x.colorSpace),V=x.colorSpace===ni||E===w?a.NONE:a.BROWSER_DEFAULT_WEBGL;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,x.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,x.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,x.unpackAlignment),a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,V);const $=x.isCompressedTexture||x.image[0].isCompressedTexture,K=x.image[0]&&x.image[0].isDataTexture,me=[];for(let fe=0;fe<6;fe++)!$&&!K?me[fe]=g(x.image[fe],!0,i.maxCubemapSize):me[fe]=K?x.image[fe].image:x.image[fe],me[fe]=Xe(x,me[fe]);const Ce=me[0],Te=o.convert(x.format,x.colorSpace),_e=o.convert(x.type),Oe=S(x.internalFormat,Te,_e,x.colorSpace),Z=x.isVideoTexture!==!0,be=y.__version===void 0||pe===!0,Ee=M.dataReady;let De=I(x,Ce);he(a.TEXTURE_CUBE_MAP,x);let ge;if($){Z&&be&&t.texStorage2D(a.TEXTURE_CUBE_MAP,De,Oe,Ce.width,Ce.height);for(let fe=0;fe<6;fe++){ge=me[fe].mipmaps;for(let Se=0;Se<ge.length;Se++){const Ye=ge[Se];x.format!==an?Te!==null?Z?Ee&&t.compressedTexSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Se,0,0,Ye.width,Ye.height,Te,Ye.data):t.compressedTexImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Se,Oe,Ye.width,Ye.height,0,Ye.data):Le("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Z?Ee&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Se,0,0,Ye.width,Ye.height,Te,_e,Ye.data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Se,Oe,Ye.width,Ye.height,0,Te,_e,Ye.data)}}}else{if(ge=x.mipmaps,Z&&be){ge.length>0&&De++;const fe=Me(me[0]);t.texStorage2D(a.TEXTURE_CUBE_MAP,De,Oe,fe.width,fe.height)}for(let fe=0;fe<6;fe++)if(K){Z?Ee&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0,0,0,me[fe].width,me[fe].height,Te,_e,me[fe].data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0,Oe,me[fe].width,me[fe].height,0,Te,_e,me[fe].data);for(let Se=0;Se<ge.length;Se++){const ut=ge[Se].image[fe].image;Z?Ee&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Se+1,0,0,ut.width,ut.height,Te,_e,ut.data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Se+1,Oe,ut.width,ut.height,0,Te,_e,ut.data)}}else{Z?Ee&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0,0,0,Te,_e,me[fe]):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0,Oe,Te,_e,me[fe]);for(let Se=0;Se<ge.length;Se++){const Ye=ge[Se];Z?Ee&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Se+1,0,0,Te,_e,Ye.image[fe]):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Se+1,Oe,Te,_e,Ye.image[fe])}}}_(x)&&f(a.TEXTURE_CUBE_MAP),y.__version=M.version,x.onUpdate&&x.onUpdate(x)}B.__version=x.version}function k(B,x,j,pe,M,y){const E=o.convert(j.format,j.colorSpace),w=o.convert(j.type),V=S(j.internalFormat,E,w,j.colorSpace),$=n.get(x),K=n.get(j);if(K.__renderTarget=x,!$.__hasExternalTextures){const me=Math.max(1,x.width>>y),Ce=Math.max(1,x.height>>y);M===a.TEXTURE_3D||M===a.TEXTURE_2D_ARRAY?t.texImage3D(M,y,V,me,Ce,x.depth,0,E,w,null):t.texImage2D(M,y,V,me,Ce,0,E,w,null)}t.bindFramebuffer(a.FRAMEBUFFER,B),qe(x)?u.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,pe,M,K.__webglTexture,0,z(x)):(M===a.TEXTURE_2D||M>=a.TEXTURE_CUBE_MAP_POSITIVE_X&&M<=a.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&a.framebufferTexture2D(a.FRAMEBUFFER,pe,M,K.__webglTexture,y),t.bindFramebuffer(a.FRAMEBUFFER,null)}function Y(B,x,j){if(a.bindRenderbuffer(a.RENDERBUFFER,B),x.depthBuffer){const pe=x.depthTexture,M=pe&&pe.isDepthTexture?pe.type:null,y=D(x.stencilBuffer,M),E=x.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT;qe(x)?u.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,z(x),y,x.width,x.height):j?a.renderbufferStorageMultisample(a.RENDERBUFFER,z(x),y,x.width,x.height):a.renderbufferStorage(a.RENDERBUFFER,y,x.width,x.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,E,a.RENDERBUFFER,B)}else{const pe=x.textures;for(let M=0;M<pe.length;M++){const y=pe[M],E=o.convert(y.format,y.colorSpace),w=o.convert(y.type),V=S(y.internalFormat,E,w,y.colorSpace);qe(x)?u.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,z(x),V,x.width,x.height):j?a.renderbufferStorageMultisample(a.RENDERBUFFER,z(x),V,x.width,x.height):a.renderbufferStorage(a.RENDERBUFFER,V,x.width,x.height)}}a.bindRenderbuffer(a.RENDERBUFFER,null)}function X(B,x,j){const pe=x.isWebGLCubeRenderTarget===!0;if(t.bindFramebuffer(a.FRAMEBUFFER,B),!(x.depthTexture&&x.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const M=n.get(x.depthTexture);if(M.__renderTarget=x,(!M.__webglTexture||x.depthTexture.image.width!==x.width||x.depthTexture.image.height!==x.height)&&(x.depthTexture.image.width=x.width,x.depthTexture.image.height=x.height,x.depthTexture.needsUpdate=!0),pe){if(M.__webglInit===void 0&&(M.__webglInit=!0,x.depthTexture.addEventListener("dispose",U)),M.__webglTexture===void 0){M.__webglTexture=a.createTexture(),t.bindTexture(a.TEXTURE_CUBE_MAP,M.__webglTexture),he(a.TEXTURE_CUBE_MAP,x.depthTexture);const $=o.convert(x.depthTexture.format),K=o.convert(x.depthTexture.type);let me;x.depthTexture.format===Yn?me=a.DEPTH_COMPONENT24:x.depthTexture.format===yi&&(me=a.DEPTH24_STENCIL8);for(let Ce=0;Ce<6;Ce++)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,me,x.width,x.height,0,$,K,null)}}else v(x.depthTexture,0);const y=M.__webglTexture,E=z(x),w=pe?a.TEXTURE_CUBE_MAP_POSITIVE_X+j:a.TEXTURE_2D,V=x.depthTexture.format===yi?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT;if(x.depthTexture.format===Yn)qe(x)?u.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,V,w,y,0,E):a.framebufferTexture2D(a.FRAMEBUFFER,V,w,y,0);else if(x.depthTexture.format===yi)qe(x)?u.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,V,w,y,0,E):a.framebufferTexture2D(a.FRAMEBUFFER,V,w,y,0);else throw new Error("Unknown depthTexture format")}function ee(B){const x=n.get(B),j=B.isWebGLCubeRenderTarget===!0;if(x.__boundDepthTexture!==B.depthTexture){const pe=B.depthTexture;if(x.__depthDisposeCallback&&x.__depthDisposeCallback(),pe){const M=()=>{delete x.__boundDepthTexture,delete x.__depthDisposeCallback,pe.removeEventListener("dispose",M)};pe.addEventListener("dispose",M),x.__depthDisposeCallback=M}x.__boundDepthTexture=pe}if(B.depthTexture&&!x.__autoAllocateDepthBuffer)if(j)for(let pe=0;pe<6;pe++)X(x.__webglFramebuffer[pe],B,pe);else{const pe=B.texture.mipmaps;pe&&pe.length>0?X(x.__webglFramebuffer[0],B,0):X(x.__webglFramebuffer,B,0)}else if(j){x.__webglDepthbuffer=[];for(let pe=0;pe<6;pe++)if(t.bindFramebuffer(a.FRAMEBUFFER,x.__webglFramebuffer[pe]),x.__webglDepthbuffer[pe]===void 0)x.__webglDepthbuffer[pe]=a.createRenderbuffer(),Y(x.__webglDepthbuffer[pe],B,!1);else{const M=B.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT,y=x.__webglDepthbuffer[pe];a.bindRenderbuffer(a.RENDERBUFFER,y),a.framebufferRenderbuffer(a.FRAMEBUFFER,M,a.RENDERBUFFER,y)}}else{const pe=B.texture.mipmaps;if(pe&&pe.length>0?t.bindFramebuffer(a.FRAMEBUFFER,x.__webglFramebuffer[0]):t.bindFramebuffer(a.FRAMEBUFFER,x.__webglFramebuffer),x.__webglDepthbuffer===void 0)x.__webglDepthbuffer=a.createRenderbuffer(),Y(x.__webglDepthbuffer,B,!1);else{const M=B.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT,y=x.__webglDepthbuffer;a.bindRenderbuffer(a.RENDERBUFFER,y),a.framebufferRenderbuffer(a.FRAMEBUFFER,M,a.RENDERBUFFER,y)}}t.bindFramebuffer(a.FRAMEBUFFER,null)}function oe(B,x,j){const pe=n.get(B);x!==void 0&&k(pe.__webglFramebuffer,B,B.texture,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,0),j!==void 0&&ee(B)}function de(B){const x=B.texture,j=n.get(B),pe=n.get(x);B.addEventListener("dispose",F);const M=B.textures,y=B.isWebGLCubeRenderTarget===!0,E=M.length>1;if(E||(pe.__webglTexture===void 0&&(pe.__webglTexture=a.createTexture()),pe.__version=x.version,l.memory.textures++),y){j.__webglFramebuffer=[];for(let w=0;w<6;w++)if(x.mipmaps&&x.mipmaps.length>0){j.__webglFramebuffer[w]=[];for(let V=0;V<x.mipmaps.length;V++)j.__webglFramebuffer[w][V]=a.createFramebuffer()}else j.__webglFramebuffer[w]=a.createFramebuffer()}else{if(x.mipmaps&&x.mipmaps.length>0){j.__webglFramebuffer=[];for(let w=0;w<x.mipmaps.length;w++)j.__webglFramebuffer[w]=a.createFramebuffer()}else j.__webglFramebuffer=a.createFramebuffer();if(E)for(let w=0,V=M.length;w<V;w++){const $=n.get(M[w]);$.__webglTexture===void 0&&($.__webglTexture=a.createTexture(),l.memory.textures++)}if(B.samples>0&&qe(B)===!1){j.__webglMultisampledFramebuffer=a.createFramebuffer(),j.__webglColorRenderbuffer=[],t.bindFramebuffer(a.FRAMEBUFFER,j.__webglMultisampledFramebuffer);for(let w=0;w<M.length;w++){const V=M[w];j.__webglColorRenderbuffer[w]=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,j.__webglColorRenderbuffer[w]);const $=o.convert(V.format,V.colorSpace),K=o.convert(V.type),me=S(V.internalFormat,$,K,V.colorSpace,B.isXRRenderTarget===!0),Ce=z(B);a.renderbufferStorageMultisample(a.RENDERBUFFER,Ce,me,B.width,B.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+w,a.RENDERBUFFER,j.__webglColorRenderbuffer[w])}a.bindRenderbuffer(a.RENDERBUFFER,null),B.depthBuffer&&(j.__webglDepthRenderbuffer=a.createRenderbuffer(),Y(j.__webglDepthRenderbuffer,B,!0)),t.bindFramebuffer(a.FRAMEBUFFER,null)}}if(y){t.bindTexture(a.TEXTURE_CUBE_MAP,pe.__webglTexture),he(a.TEXTURE_CUBE_MAP,x);for(let w=0;w<6;w++)if(x.mipmaps&&x.mipmaps.length>0)for(let V=0;V<x.mipmaps.length;V++)k(j.__webglFramebuffer[w][V],B,x,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+w,V);else k(j.__webglFramebuffer[w],B,x,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+w,0);_(x)&&f(a.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(E){for(let w=0,V=M.length;w<V;w++){const $=M[w],K=n.get($);let me=a.TEXTURE_2D;(B.isWebGL3DRenderTarget||B.isWebGLArrayRenderTarget)&&(me=B.isWebGL3DRenderTarget?a.TEXTURE_3D:a.TEXTURE_2D_ARRAY),t.bindTexture(me,K.__webglTexture),he(me,$),k(j.__webglFramebuffer,B,$,a.COLOR_ATTACHMENT0+w,me,0),_($)&&f(me)}t.unbindTexture()}else{let w=a.TEXTURE_2D;if((B.isWebGL3DRenderTarget||B.isWebGLArrayRenderTarget)&&(w=B.isWebGL3DRenderTarget?a.TEXTURE_3D:a.TEXTURE_2D_ARRAY),t.bindTexture(w,pe.__webglTexture),he(w,x),x.mipmaps&&x.mipmaps.length>0)for(let V=0;V<x.mipmaps.length;V++)k(j.__webglFramebuffer[V],B,x,a.COLOR_ATTACHMENT0,w,V);else k(j.__webglFramebuffer,B,x,a.COLOR_ATTACHMENT0,w,0);_(x)&&f(w),t.unbindTexture()}B.depthBuffer&&ee(B)}function ce(B){const x=B.textures;for(let j=0,pe=x.length;j<pe;j++){const M=x[j];if(_(M)){const y=C(B),E=n.get(M).__webglTexture;t.bindTexture(y,E),f(y),t.unbindTexture()}}}const ye=[],xe=[];function Ne(B){if(B.samples>0){if(qe(B)===!1){const x=B.textures,j=B.width,pe=B.height;let M=a.COLOR_BUFFER_BIT;const y=B.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT,E=n.get(B),w=x.length>1;if(w)for(let $=0;$<x.length;$++)t.bindFramebuffer(a.FRAMEBUFFER,E.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+$,a.RENDERBUFFER,null),t.bindFramebuffer(a.FRAMEBUFFER,E.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+$,a.TEXTURE_2D,null,0);t.bindFramebuffer(a.READ_FRAMEBUFFER,E.__webglMultisampledFramebuffer);const V=B.texture.mipmaps;V&&V.length>0?t.bindFramebuffer(a.DRAW_FRAMEBUFFER,E.__webglFramebuffer[0]):t.bindFramebuffer(a.DRAW_FRAMEBUFFER,E.__webglFramebuffer);for(let $=0;$<x.length;$++){if(B.resolveDepthBuffer&&(B.depthBuffer&&(M|=a.DEPTH_BUFFER_BIT),B.stencilBuffer&&B.resolveStencilBuffer&&(M|=a.STENCIL_BUFFER_BIT)),w){a.framebufferRenderbuffer(a.READ_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,E.__webglColorRenderbuffer[$]);const K=n.get(x[$]).__webglTexture;a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,K,0)}a.blitFramebuffer(0,0,j,pe,0,0,j,pe,M,a.NEAREST),c===!0&&(ye.length=0,xe.length=0,ye.push(a.COLOR_ATTACHMENT0+$),B.depthBuffer&&B.resolveDepthBuffer===!1&&(ye.push(y),xe.push(y),a.invalidateFramebuffer(a.DRAW_FRAMEBUFFER,xe)),a.invalidateFramebuffer(a.READ_FRAMEBUFFER,ye))}if(t.bindFramebuffer(a.READ_FRAMEBUFFER,null),t.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),w)for(let $=0;$<x.length;$++){t.bindFramebuffer(a.FRAMEBUFFER,E.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+$,a.RENDERBUFFER,E.__webglColorRenderbuffer[$]);const K=n.get(x[$]).__webglTexture;t.bindFramebuffer(a.FRAMEBUFFER,E.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+$,a.TEXTURE_2D,K,0)}t.bindFramebuffer(a.DRAW_FRAMEBUFFER,E.__webglMultisampledFramebuffer)}else if(B.depthBuffer&&B.resolveDepthBuffer===!1&&c){const x=B.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT;a.invalidateFramebuffer(a.DRAW_FRAMEBUFFER,[x])}}}function z(B){return Math.min(i.maxSamples,B.samples)}function qe(B){const x=n.get(B);return B.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&x.__useRenderToTexture!==!1}function We(B){const x=l.render.frame;m.get(B)!==x&&(m.set(B,x),B.update())}function Xe(B,x){const j=B.colorSpace,pe=B.format,M=B.type;return B.isCompressedTexture===!0||B.isVideoTexture===!0||j!==wt&&j!==ni&&(et.getTransfer(j)===at?(pe!==an||M!==zt)&&Le("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Be("WebGLTextures: Unsupported texture color space:",j)),x}function Me(B){return typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement?(p.width=B.naturalWidth||B.width,p.height=B.naturalHeight||B.height):typeof VideoFrame<"u"&&B instanceof VideoFrame?(p.width=B.displayWidth,p.height=B.displayHeight):(p.width=B.width,p.height=B.height),p}this.allocateTextureUnit=T,this.resetTextureUnits=Q,this.setTexture2D=v,this.setTexture2DArray=P,this.setTexture3D=O,this.setTextureCube=W,this.rebindTextures=oe,this.setupRenderTarget=de,this.updateRenderTargetMipmap=ce,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=ee,this.setupFrameBufferTexture=k,this.useMultisampledRTT=qe,this.isReversedDepthBuffer=function(){return t.buffers.depth.getReversed()}}function my(a,e){function t(n,i=ni){let o;const l=et.getTransfer(i);if(n===zt)return a.UNSIGNED_BYTE;if(n===Us)return a.UNSIGNED_SHORT_4_4_4_4;if(n===Gs)return a.UNSIGNED_SHORT_5_5_5_1;if(n===uu)return a.UNSIGNED_INT_5_9_9_9_REV;if(n===pu)return a.UNSIGNED_INT_10F_11F_11F_REV;if(n===lu)return a.BYTE;if(n===du)return a.SHORT;if(n===va)return a.UNSIGNED_SHORT;if(n===Ls)return a.INT;if(n===vn)return a.UNSIGNED_INT;if(n===kt)return a.FLOAT;if(n===Zt)return a.HALF_FLOAT;if(n===mu)return a.ALPHA;if(n===cu)return a.RGB;if(n===an)return a.RGBA;if(n===Yn)return a.DEPTH_COMPONENT;if(n===yi)return a.DEPTH_STENCIL;if(n===Fs)return a.RED;if(n===ks)return a.RED_INTEGER;if(n===ji)return a.RG;if(n===Bs)return a.RG_INTEGER;if(n===Vs)return a.RGBA_INTEGER;if(n===Tr||n===Mr||n===Sr||n===Ar)if(l===at)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(n===Tr)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Mr)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Sr)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Ar)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(n===Tr)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Mr)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Sr)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Ar)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===Yo||n===Xo||n===Ko||n===jo)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(n===Yo)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Xo)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Ko)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===jo)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===Zo||n===$o||n===Jo||n===Qo||n===es||n===ts||n===ns)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(n===Zo||n===$o)return l===at?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(n===Jo)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC;if(n===Qo)return o.COMPRESSED_R11_EAC;if(n===es)return o.COMPRESSED_SIGNED_R11_EAC;if(n===ts)return o.COMPRESSED_RG11_EAC;if(n===ns)return o.COMPRESSED_SIGNED_RG11_EAC}else return null;if(n===is||n===as||n===rs||n===os||n===ss||n===ls||n===ds||n===us||n===ps||n===ms||n===cs||n===hs||n===fs||n===_s)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(n===is)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===as)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===rs)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===os)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===ss)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===ls)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===ds)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===us)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===ps)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===ms)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===cs)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===hs)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===fs)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===_s)return l===at?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===gs||n===ys||n===Es)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(n===gs)return l===at?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===ys)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Es)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===Cs||n===Ts||n===Ms||n===Ss)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(n===Cs)return o.COMPRESSED_RED_RGTC1_EXT;if(n===Ts)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Ms)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Ss)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===xa?a.UNSIGNED_INT_24_8:a[n]!==void 0?a[n]:null}return{convert:t}}const cy=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,hy=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class fy{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new bu(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new Rn({vertexShader:cy,fragmentShader:hy,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ct(new La(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class _y extends Ti{constructor(e,t){super();const n=this;let i=null,o=1,l=null,u="local-floor",c=1,p=null,m=null,d=null,r=null,s=null,h=null;const g=typeof XRWebGLBinding<"u",_=new fy,f={},C=t.getContextAttributes();let S=null,D=null;const I=[],U=[],F=new ze;let H=null;const R=new Ft;R.viewport=new mt;const N=new Ft;N.viewport=new mt;const q=[R,N],Q=new hc;let T=null,b=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let A=I[G];return A===void 0&&(A=new co,I[G]=A),A.getTargetRaySpace()},this.getControllerGrip=function(G){let A=I[G];return A===void 0&&(A=new co,I[G]=A),A.getGripSpace()},this.getHand=function(G){let A=I[G];return A===void 0&&(A=new co,I[G]=A),A.getHandSpace()};function v(G){const A=U.indexOf(G.inputSource);if(A===-1)return;const k=I[A];k!==void 0&&(k.update(G.inputSource,G.frame,p||l),k.dispatchEvent({type:G.type,data:G.inputSource}))}function P(){i.removeEventListener("select",v),i.removeEventListener("selectstart",v),i.removeEventListener("selectend",v),i.removeEventListener("squeeze",v),i.removeEventListener("squeezestart",v),i.removeEventListener("squeezeend",v),i.removeEventListener("end",P),i.removeEventListener("inputsourceschange",O);for(let G=0;G<I.length;G++){const A=U[G];A!==null&&(U[G]=null,I[G].disconnect(A))}T=null,b=null,_.reset();for(const G in f)delete f[G];e.setRenderTarget(S),s=null,r=null,d=null,i=null,D=null,Ge.stop(),n.isPresenting=!1,e.setPixelRatio(H),e.setSize(F.width,F.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){o=G,n.isPresenting===!0&&Le("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){u=G,n.isPresenting===!0&&Le("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||l},this.setReferenceSpace=function(G){p=G},this.getBaseLayer=function(){return r!==null?r:s},this.getBinding=function(){return d===null&&g&&(d=new XRWebGLBinding(i,t)),d},this.getFrame=function(){return h},this.getSession=function(){return i},this.setSession=async function(G){if(i=G,i!==null){if(S=e.getRenderTarget(),i.addEventListener("select",v),i.addEventListener("selectstart",v),i.addEventListener("selectend",v),i.addEventListener("squeeze",v),i.addEventListener("squeezestart",v),i.addEventListener("squeezeend",v),i.addEventListener("end",P),i.addEventListener("inputsourceschange",O),C.xrCompatible!==!0&&await t.makeXRCompatible(),H=e.getPixelRatio(),e.getSize(F),g&&"createProjectionLayer"in XRWebGLBinding.prototype){let k=null,Y=null,X=null;C.depth&&(X=C.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,k=C.stencil?yi:Yn,Y=C.stencil?xa:vn);const ee={colorFormat:t.RGBA8,depthFormat:X,scaleFactor:o};d=this.getBinding(),r=d.createProjectionLayer(ee),i.updateRenderState({layers:[r]}),e.setPixelRatio(1),e.setSize(r.textureWidth,r.textureHeight,!1),D=new Sn(r.textureWidth,r.textureHeight,{format:an,type:zt,depthTexture:new wa(r.textureWidth,r.textureHeight,Y,void 0,void 0,void 0,void 0,void 0,void 0,k),stencilBuffer:C.stencil,colorSpace:e.outputColorSpace,samples:C.antialias?4:0,resolveDepthBuffer:r.ignoreDepthValues===!1,resolveStencilBuffer:r.ignoreDepthValues===!1})}else{const k={antialias:C.antialias,alpha:!0,depth:C.depth,stencil:C.stencil,framebufferScaleFactor:o};s=new XRWebGLLayer(i,t,k),i.updateRenderState({baseLayer:s}),e.setPixelRatio(1),e.setSize(s.framebufferWidth,s.framebufferHeight,!1),D=new Sn(s.framebufferWidth,s.framebufferHeight,{format:an,type:zt,colorSpace:e.outputColorSpace,stencilBuffer:C.stencil,resolveDepthBuffer:s.ignoreDepthValues===!1,resolveStencilBuffer:s.ignoreDepthValues===!1})}D.isXRRenderTarget=!0,this.setFoveation(c),p=null,l=await i.requestReferenceSpace(u),Ge.setContext(i),Ge.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return _.getDepthTexture()};function O(G){for(let A=0;A<G.removed.length;A++){const k=G.removed[A],Y=U.indexOf(k);Y>=0&&(U[Y]=null,I[Y].disconnect(k))}for(let A=0;A<G.added.length;A++){const k=G.added[A];let Y=U.indexOf(k);if(Y===-1){for(let ee=0;ee<I.length;ee++)if(ee>=U.length){U.push(k),Y=ee;break}else if(U[ee]===null){U[ee]=k,Y=ee;break}if(Y===-1)break}const X=I[Y];X&&X.connect(k)}}const W=new te,ie=new te;function J(G,A,k){W.setFromMatrixPosition(A.matrixWorld),ie.setFromMatrixPosition(k.matrixWorld);const Y=W.distanceTo(ie),X=A.projectionMatrix.elements,ee=k.projectionMatrix.elements,oe=X[14]/(X[10]-1),de=X[14]/(X[10]+1),ce=(X[9]+1)/X[5],ye=(X[9]-1)/X[5],xe=(X[8]-1)/X[0],Ne=(ee[8]+1)/ee[0],z=oe*xe,qe=oe*Ne,We=Y/(-xe+Ne),Xe=We*-xe;if(A.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(Xe),G.translateZ(We),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert(),X[10]===-1)G.projectionMatrix.copy(A.projectionMatrix),G.projectionMatrixInverse.copy(A.projectionMatrixInverse);else{const Me=oe+We,B=de+We,x=z-Xe,j=qe+(Y-Xe),pe=ce*de/B*Me,M=ye*de/B*Me;G.projectionMatrix.makePerspective(x,j,pe,M,Me,B),G.projectionMatrixInverse.copy(G.projectionMatrix).invert()}}function ae(G,A){A===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(A.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(i===null)return;let A=G.near,k=G.far;_.texture!==null&&(_.depthNear>0&&(A=_.depthNear),_.depthFar>0&&(k=_.depthFar)),Q.near=N.near=R.near=A,Q.far=N.far=R.far=k,(T!==Q.near||b!==Q.far)&&(i.updateRenderState({depthNear:Q.near,depthFar:Q.far}),T=Q.near,b=Q.far),Q.layers.mask=G.layers.mask|6,R.layers.mask=Q.layers.mask&3,N.layers.mask=Q.layers.mask&5;const Y=G.parent,X=Q.cameras;ae(Q,Y);for(let ee=0;ee<X.length;ee++)ae(X[ee],Y);X.length===2?J(Q,R,N):Q.projectionMatrix.copy(R.projectionMatrix),he(G,Q,Y)};function he(G,A,k){k===null?G.matrix.copy(A.matrixWorld):(G.matrix.copy(k.matrixWorld),G.matrix.invert(),G.matrix.multiply(A.matrixWorld)),G.matrix.decompose(G.position,G.quaternion,G.scale),G.updateMatrixWorld(!0),G.projectionMatrix.copy(A.projectionMatrix),G.projectionMatrixInverse.copy(A.projectionMatrixInverse),G.isPerspectiveCamera&&(G.fov=Zi*2*Math.atan(1/G.projectionMatrix.elements[5]),G.zoom=1)}this.getCamera=function(){return Q},this.getFoveation=function(){if(!(r===null&&s===null))return c},this.setFoveation=function(G){c=G,r!==null&&(r.fixedFoveation=G),s!==null&&s.fixedFoveation!==void 0&&(s.fixedFoveation=G)},this.hasDepthSensing=function(){return _.texture!==null},this.getDepthSensingMesh=function(){return _.getMesh(Q)},this.getCameraTexture=function(G){return f[G]};let ue=null;function we(G,A){if(m=A.getViewerPose(p||l),h=A,m!==null){const k=m.views;s!==null&&(e.setRenderTargetFramebuffer(D,s.framebuffer),e.setRenderTarget(D));let Y=!1;k.length!==Q.cameras.length&&(Q.cameras.length=0,Y=!0);for(let de=0;de<k.length;de++){const ce=k[de];let ye=null;if(s!==null)ye=s.getViewport(ce);else{const Ne=d.getViewSubImage(r,ce);ye=Ne.viewport,de===0&&(e.setRenderTargetTextures(D,Ne.colorTexture,Ne.depthStencilTexture),e.setRenderTarget(D))}let xe=q[de];xe===void 0&&(xe=new Ft,xe.layers.enable(de),xe.viewport=new mt,q[de]=xe),xe.matrix.fromArray(ce.transform.matrix),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.projectionMatrix.fromArray(ce.projectionMatrix),xe.projectionMatrixInverse.copy(xe.projectionMatrix).invert(),xe.viewport.set(ye.x,ye.y,ye.width,ye.height),de===0&&(Q.matrix.copy(xe.matrix),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale)),Y===!0&&Q.cameras.push(xe)}const X=i.enabledFeatures;if(X&&X.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&g){d=n.getBinding();const de=d.getDepthInformation(k[0]);de&&de.isValid&&de.texture&&_.init(de,i.renderState)}if(X&&X.includes("camera-access")&&g){e.state.unbindTexture(),d=n.getBinding();for(let de=0;de<k.length;de++){const ce=k[de].camera;if(ce){let ye=f[ce];ye||(ye=new bu,f[ce]=ye);const xe=d.getCameraImage(ce);ye.sourceTexture=xe}}}}for(let k=0;k<I.length;k++){const Y=U[k],X=I[k];Y!==null&&X!==void 0&&X.update(Y,A,p||l)}ue&&ue(G,A),A.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:A}),h=null}const Ge=new wu;Ge.setAnimationLoop(we),this.setAnimationLoop=function(G){ue=G},this.dispose=function(){}}}const ci=new xn,gy=new Ke;function yy(a,e){function t(_,f){_.matrixAutoUpdate===!0&&_.updateMatrix(),f.value.copy(_.matrix)}function n(_,f){f.color.getRGB(_.fogColor.value,Mu(a)),f.isFog?(_.fogNear.value=f.near,_.fogFar.value=f.far):f.isFogExp2&&(_.fogDensity.value=f.density)}function i(_,f,C,S,D){f.isMeshBasicMaterial||f.isMeshLambertMaterial?o(_,f):f.isMeshToonMaterial?(o(_,f),d(_,f)):f.isMeshPhongMaterial?(o(_,f),m(_,f)):f.isMeshStandardMaterial?(o(_,f),r(_,f),f.isMeshPhysicalMaterial&&s(_,f,D)):f.isMeshMatcapMaterial?(o(_,f),h(_,f)):f.isMeshDepthMaterial?o(_,f):f.isMeshDistanceMaterial?(o(_,f),g(_,f)):f.isMeshNormalMaterial?o(_,f):f.isLineBasicMaterial?(l(_,f),f.isLineDashedMaterial&&u(_,f)):f.isPointsMaterial?c(_,f,C,S):f.isSpriteMaterial?p(_,f):f.isShadowMaterial?(_.color.value.copy(f.color),_.opacity.value=f.opacity):f.isShaderMaterial&&(f.uniformsNeedUpdate=!1)}function o(_,f){_.opacity.value=f.opacity,f.color&&_.diffuse.value.copy(f.color),f.emissive&&_.emissive.value.copy(f.emissive).multiplyScalar(f.emissiveIntensity),f.map&&(_.map.value=f.map,t(f.map,_.mapTransform)),f.alphaMap&&(_.alphaMap.value=f.alphaMap,t(f.alphaMap,_.alphaMapTransform)),f.bumpMap&&(_.bumpMap.value=f.bumpMap,t(f.bumpMap,_.bumpMapTransform),_.bumpScale.value=f.bumpScale,f.side===Wt&&(_.bumpScale.value*=-1)),f.normalMap&&(_.normalMap.value=f.normalMap,t(f.normalMap,_.normalMapTransform),_.normalScale.value.copy(f.normalScale),f.side===Wt&&_.normalScale.value.negate()),f.displacementMap&&(_.displacementMap.value=f.displacementMap,t(f.displacementMap,_.displacementMapTransform),_.displacementScale.value=f.displacementScale,_.displacementBias.value=f.displacementBias),f.emissiveMap&&(_.emissiveMap.value=f.emissiveMap,t(f.emissiveMap,_.emissiveMapTransform)),f.specularMap&&(_.specularMap.value=f.specularMap,t(f.specularMap,_.specularMapTransform)),f.alphaTest>0&&(_.alphaTest.value=f.alphaTest);const C=e.get(f),S=C.envMap,D=C.envMapRotation;S&&(_.envMap.value=S,ci.copy(D),ci.x*=-1,ci.y*=-1,ci.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(ci.y*=-1,ci.z*=-1),_.envMapRotation.value.setFromMatrix4(gy.makeRotationFromEuler(ci)),_.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=f.reflectivity,_.ior.value=f.ior,_.refractionRatio.value=f.refractionRatio),f.lightMap&&(_.lightMap.value=f.lightMap,_.lightMapIntensity.value=f.lightMapIntensity,t(f.lightMap,_.lightMapTransform)),f.aoMap&&(_.aoMap.value=f.aoMap,_.aoMapIntensity.value=f.aoMapIntensity,t(f.aoMap,_.aoMapTransform))}function l(_,f){_.diffuse.value.copy(f.color),_.opacity.value=f.opacity,f.map&&(_.map.value=f.map,t(f.map,_.mapTransform))}function u(_,f){_.dashSize.value=f.dashSize,_.totalSize.value=f.dashSize+f.gapSize,_.scale.value=f.scale}function c(_,f,C,S){_.diffuse.value.copy(f.color),_.opacity.value=f.opacity,_.size.value=f.size*C,_.scale.value=S*.5,f.map&&(_.map.value=f.map,t(f.map,_.uvTransform)),f.alphaMap&&(_.alphaMap.value=f.alphaMap,t(f.alphaMap,_.alphaMapTransform)),f.alphaTest>0&&(_.alphaTest.value=f.alphaTest)}function p(_,f){_.diffuse.value.copy(f.color),_.opacity.value=f.opacity,_.rotation.value=f.rotation,f.map&&(_.map.value=f.map,t(f.map,_.mapTransform)),f.alphaMap&&(_.alphaMap.value=f.alphaMap,t(f.alphaMap,_.alphaMapTransform)),f.alphaTest>0&&(_.alphaTest.value=f.alphaTest)}function m(_,f){_.specular.value.copy(f.specular),_.shininess.value=Math.max(f.shininess,1e-4)}function d(_,f){f.gradientMap&&(_.gradientMap.value=f.gradientMap)}function r(_,f){_.metalness.value=f.metalness,f.metalnessMap&&(_.metalnessMap.value=f.metalnessMap,t(f.metalnessMap,_.metalnessMapTransform)),_.roughness.value=f.roughness,f.roughnessMap&&(_.roughnessMap.value=f.roughnessMap,t(f.roughnessMap,_.roughnessMapTransform)),f.envMap&&(_.envMapIntensity.value=f.envMapIntensity)}function s(_,f,C){_.ior.value=f.ior,f.sheen>0&&(_.sheenColor.value.copy(f.sheenColor).multiplyScalar(f.sheen),_.sheenRoughness.value=f.sheenRoughness,f.sheenColorMap&&(_.sheenColorMap.value=f.sheenColorMap,t(f.sheenColorMap,_.sheenColorMapTransform)),f.sheenRoughnessMap&&(_.sheenRoughnessMap.value=f.sheenRoughnessMap,t(f.sheenRoughnessMap,_.sheenRoughnessMapTransform))),f.clearcoat>0&&(_.clearcoat.value=f.clearcoat,_.clearcoatRoughness.value=f.clearcoatRoughness,f.clearcoatMap&&(_.clearcoatMap.value=f.clearcoatMap,t(f.clearcoatMap,_.clearcoatMapTransform)),f.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=f.clearcoatRoughnessMap,t(f.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),f.clearcoatNormalMap&&(_.clearcoatNormalMap.value=f.clearcoatNormalMap,t(f.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(f.clearcoatNormalScale),f.side===Wt&&_.clearcoatNormalScale.value.negate())),f.dispersion>0&&(_.dispersion.value=f.dispersion),f.iridescence>0&&(_.iridescence.value=f.iridescence,_.iridescenceIOR.value=f.iridescenceIOR,_.iridescenceThicknessMinimum.value=f.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=f.iridescenceThicknessRange[1],f.iridescenceMap&&(_.iridescenceMap.value=f.iridescenceMap,t(f.iridescenceMap,_.iridescenceMapTransform)),f.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=f.iridescenceThicknessMap,t(f.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),f.transmission>0&&(_.transmission.value=f.transmission,_.transmissionSamplerMap.value=C.texture,_.transmissionSamplerSize.value.set(C.width,C.height),f.transmissionMap&&(_.transmissionMap.value=f.transmissionMap,t(f.transmissionMap,_.transmissionMapTransform)),_.thickness.value=f.thickness,f.thicknessMap&&(_.thicknessMap.value=f.thicknessMap,t(f.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=f.attenuationDistance,_.attenuationColor.value.copy(f.attenuationColor)),f.anisotropy>0&&(_.anisotropyVector.value.set(f.anisotropy*Math.cos(f.anisotropyRotation),f.anisotropy*Math.sin(f.anisotropyRotation)),f.anisotropyMap&&(_.anisotropyMap.value=f.anisotropyMap,t(f.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=f.specularIntensity,_.specularColor.value.copy(f.specularColor),f.specularColorMap&&(_.specularColorMap.value=f.specularColorMap,t(f.specularColorMap,_.specularColorMapTransform)),f.specularIntensityMap&&(_.specularIntensityMap.value=f.specularIntensityMap,t(f.specularIntensityMap,_.specularIntensityMapTransform))}function h(_,f){f.matcap&&(_.matcap.value=f.matcap)}function g(_,f){const C=e.get(f).light;_.referencePosition.value.setFromMatrixPosition(C.matrixWorld),_.nearDistance.value=C.shadow.camera.near,_.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function Ey(a,e,t,n){let i={},o={},l=[];const u=a.getParameter(a.MAX_UNIFORM_BUFFER_BINDINGS);function c(C,S){const D=S.program;n.uniformBlockBinding(C,D)}function p(C,S){let D=i[C.id];D===void 0&&(h(C),D=m(C),i[C.id]=D,C.addEventListener("dispose",_));const I=S.program;n.updateUBOMapping(C,I);const U=e.render.frame;o[C.id]!==U&&(r(C),o[C.id]=U)}function m(C){const S=d();C.__bindingPointIndex=S;const D=a.createBuffer(),I=C.__size,U=C.usage;return a.bindBuffer(a.UNIFORM_BUFFER,D),a.bufferData(a.UNIFORM_BUFFER,I,U),a.bindBuffer(a.UNIFORM_BUFFER,null),a.bindBufferBase(a.UNIFORM_BUFFER,S,D),D}function d(){for(let C=0;C<u;C++)if(l.indexOf(C)===-1)return l.push(C),C;return Be("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function r(C){const S=i[C.id],D=C.uniforms,I=C.__cache;a.bindBuffer(a.UNIFORM_BUFFER,S);for(let U=0,F=D.length;U<F;U++){const H=Array.isArray(D[U])?D[U]:[D[U]];for(let R=0,N=H.length;R<N;R++){const q=H[R];if(s(q,U,R,I)===!0){const Q=q.__offset,T=Array.isArray(q.value)?q.value:[q.value];let b=0;for(let v=0;v<T.length;v++){const P=T[v],O=g(P);typeof P=="number"||typeof P=="boolean"?(q.__data[0]=P,a.bufferSubData(a.UNIFORM_BUFFER,Q+b,q.__data)):P.isMatrix3?(q.__data[0]=P.elements[0],q.__data[1]=P.elements[1],q.__data[2]=P.elements[2],q.__data[3]=0,q.__data[4]=P.elements[3],q.__data[5]=P.elements[4],q.__data[6]=P.elements[5],q.__data[7]=0,q.__data[8]=P.elements[6],q.__data[9]=P.elements[7],q.__data[10]=P.elements[8],q.__data[11]=0):(P.toArray(q.__data,b),b+=O.storage/Float32Array.BYTES_PER_ELEMENT)}a.bufferSubData(a.UNIFORM_BUFFER,Q,q.__data)}}}a.bindBuffer(a.UNIFORM_BUFFER,null)}function s(C,S,D,I){const U=C.value,F=S+"_"+D;if(I[F]===void 0)return typeof U=="number"||typeof U=="boolean"?I[F]=U:I[F]=U.clone(),!0;{const H=I[F];if(typeof U=="number"||typeof U=="boolean"){if(H!==U)return I[F]=U,!0}else if(H.equals(U)===!1)return H.copy(U),!0}return!1}function h(C){const S=C.uniforms;let D=0;const I=16;for(let F=0,H=S.length;F<H;F++){const R=Array.isArray(S[F])?S[F]:[S[F]];for(let N=0,q=R.length;N<q;N++){const Q=R[N],T=Array.isArray(Q.value)?Q.value:[Q.value];for(let b=0,v=T.length;b<v;b++){const P=T[b],O=g(P),W=D%I,ie=W%O.boundary,J=W+ie;D+=ie,J!==0&&I-J<O.storage&&(D+=I-J),Q.__data=new Float32Array(O.storage/Float32Array.BYTES_PER_ELEMENT),Q.__offset=D,D+=O.storage}}}const U=D%I;return U>0&&(D+=I-U),C.__size=D,C.__cache={},this}function g(C){const S={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(S.boundary=4,S.storage=4):C.isVector2?(S.boundary=8,S.storage=8):C.isVector3||C.isColor?(S.boundary=16,S.storage=12):C.isVector4?(S.boundary=16,S.storage=16):C.isMatrix3?(S.boundary=48,S.storage=48):C.isMatrix4?(S.boundary=64,S.storage=64):C.isTexture?Le("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Le("WebGLRenderer: Unsupported uniform value type.",C),S}function _(C){const S=C.target;S.removeEventListener("dispose",_);const D=l.indexOf(S.__bindingPointIndex);l.splice(D,1),a.deleteBuffer(i[S.id]),delete i[S.id],delete o[S.id]}function f(){for(const C in i)a.deleteBuffer(i[C]);l=[],i={},o={}}return{bind:c,update:p,dispose:f}}const Cy=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let gn=null;function Ty(){return gn===null&&(gn=new Ur(Cy,16,16,ji,Zt),gn.name="DFG_LUT",gn.minFilter=ht,gn.magFilter=ht,gn.wrapS=nn,gn.wrapT=nn,gn.generateMipmaps=!1,gn.needsUpdate=!0),gn}class My{constructor(e={}){const{canvas:t=Bp(),context:n=null,depth:i=!0,stencil:o=!1,alpha:l=!1,antialias:u=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:d=!1,reversedDepthBuffer:r=!1,outputBufferType:s=zt}=e;this.isWebGLRenderer=!0;let h;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=n.getContextAttributes().alpha}else h=l;const g=s,_=new Set([Vs,Bs,ks]),f=new Set([zt,vn,va,xa,Us,Gs]),C=new Uint32Array(4),S=new Int32Array(4);let D=null,I=null;const U=[],F=[];let H=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Mn,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const R=this;let N=!1;this._outputColorSpace=bt;let q=0,Q=0,T=null,b=-1,v=null;const P=new mt,O=new mt;let W=null;const ie=new Ve(0);let J=0,ae=t.width,he=t.height,ue=1,we=null,Ge=null;const G=new mt(0,0,ae,he),A=new mt(0,0,ae,he);let k=!1;const Y=new js;let X=!1,ee=!1;const oe=new Ke,de=new te,ce=new mt,ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let xe=!1;function Ne(){return T===null?ue:1}let z=n;function qe(L,ne){return t.getContext(L,ne)}try{const L={alpha:!0,depth:i,stencil:o,antialias:u,premultipliedAlpha:c,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Ns}`),t.addEventListener("webglcontextlost",Ye,!1),t.addEventListener("webglcontextrestored",ut,!1),t.addEventListener("webglcontextcreationerror",nt,!1),z===null){const ne="webgl2";if(z=qe(ne,L),z===null)throw qe(ne)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(L){throw Be("WebGLRenderer: "+L.message),L}let We,Xe,Me,B,x,j,pe,M,y,E,w,V,$,K,me,Ce,Te,_e,Oe,Z,be,Ee,De,ge;function fe(){We=new T_(z),We.init(),Ee=new my(z,We),Xe=new m_(z,We,e,Ee),Me=new uy(z,We),Xe.reversedDepthBuffer&&r&&Me.buffers.depth.setReversed(!0),B=new A_(z),x=new jg,j=new py(z,We,Me,x,Xe,Ee,B),pe=new h_(R),M=new C_(R),y=new Rc(z),De=new u_(z,y),E=new M_(z,y,B,De),w=new x_(z,E,y,B),Oe=new v_(z,Xe,j),Ce=new c_(x),V=new Kg(R,pe,M,We,Xe,De,Ce),$=new yy(R,x),K=new $g,me=new iy(We),_e=new d_(R,pe,M,Me,w,h,c),Te=new ly(R,w,Xe),ge=new Ey(z,B,Xe,Me),Z=new p_(z,We,B),be=new S_(z,We,B),B.programs=V.programs,R.capabilities=Xe,R.extensions=We,R.properties=x,R.renderLists=K,R.shadowMap=Te,R.state=Me,R.info=B}fe(),g!==zt&&(H=new b_(g,t.width,t.height,i,o));const Se=new _y(R,z);this.xr=Se,this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){const L=We.get("WEBGL_lose_context");L&&L.loseContext()},this.forceContextRestore=function(){const L=We.get("WEBGL_lose_context");L&&L.restoreContext()},this.getPixelRatio=function(){return ue},this.setPixelRatio=function(L){L!==void 0&&(ue=L,this.setSize(ae,he,!1))},this.getSize=function(L){return L.set(ae,he)},this.setSize=function(L,ne,le=!0){if(Se.isPresenting){Le("WebGLRenderer: Can't change size while VR device is presenting.");return}ae=L,he=ne,t.width=Math.floor(L*ue),t.height=Math.floor(ne*ue),le===!0&&(t.style.width=L+"px",t.style.height=ne+"px"),H!==null&&H.setSize(t.width,t.height),this.setViewport(0,0,L,ne)},this.getDrawingBufferSize=function(L){return L.set(ae*ue,he*ue).floor()},this.setDrawingBufferSize=function(L,ne,le){ae=L,he=ne,ue=le,t.width=Math.floor(L*le),t.height=Math.floor(ne*le),this.setViewport(0,0,L,ne)},this.setEffects=function(L){if(g===zt){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(L){for(let ne=0;ne<L.length;ne++)if(L[ne].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}H.setEffects(L||[])},this.getCurrentViewport=function(L){return L.copy(P)},this.getViewport=function(L){return L.copy(G)},this.setViewport=function(L,ne,le,se){L.isVector4?G.set(L.x,L.y,L.z,L.w):G.set(L,ne,le,se),Me.viewport(P.copy(G).multiplyScalar(ue).round())},this.getScissor=function(L){return L.copy(A)},this.setScissor=function(L,ne,le,se){L.isVector4?A.set(L.x,L.y,L.z,L.w):A.set(L,ne,le,se),Me.scissor(O.copy(A).multiplyScalar(ue).round())},this.getScissorTest=function(){return k},this.setScissorTest=function(L){Me.setScissorTest(k=L)},this.setOpaqueSort=function(L){we=L},this.setTransparentSort=function(L){Ge=L},this.getClearColor=function(L){return L.copy(_e.getClearColor())},this.setClearColor=function(){_e.setClearColor(...arguments)},this.getClearAlpha=function(){return _e.getClearAlpha()},this.setClearAlpha=function(){_e.setClearAlpha(...arguments)},this.clear=function(L=!0,ne=!0,le=!0){let se=0;if(L){let re=!1;if(T!==null){const Ae=T.texture.format;re=_.has(Ae)}if(re){const Ae=T.texture.type,Ie=f.has(Ae),Re=_e.getClearColor(),Pe=_e.getClearAlpha(),Ue=Re.r,He=Re.g,Fe=Re.b;Ie?(C[0]=Ue,C[1]=He,C[2]=Fe,C[3]=Pe,z.clearBufferuiv(z.COLOR,0,C)):(S[0]=Ue,S[1]=He,S[2]=Fe,S[3]=Pe,z.clearBufferiv(z.COLOR,0,S))}else se|=z.COLOR_BUFFER_BIT}ne&&(se|=z.DEPTH_BUFFER_BIT),le&&(se|=z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),z.clear(se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ye,!1),t.removeEventListener("webglcontextrestored",ut,!1),t.removeEventListener("webglcontextcreationerror",nt,!1),_e.dispose(),K.dispose(),me.dispose(),x.dispose(),pe.dispose(),M.dispose(),w.dispose(),De.dispose(),ge.dispose(),V.dispose(),Se.dispose(),Se.removeEventListener("sessionstart",ol),Se.removeEventListener("sessionend",sl),oi.stop()};function Ye(L){L.preventDefault(),wr("WebGLRenderer: Context Lost."),N=!0}function ut(){wr("WebGLRenderer: Context Restored."),N=!1;const L=B.autoReset,ne=Te.enabled,le=Te.autoUpdate,se=Te.needsUpdate,re=Te.type;fe(),B.autoReset=L,Te.enabled=ne,Te.autoUpdate=le,Te.needsUpdate=se,Te.type=re}function nt(L){Be("WebGLRenderer: A WebGL context could not be created. Reason: ",L.statusMessage)}function _n(L){const ne=L.target;ne.removeEventListener("dispose",_n),In(ne)}function In(L){qu(L),x.remove(L)}function qu(L){const ne=x.get(L).programs;ne!==void 0&&(ne.forEach(function(le){V.releaseProgram(le)}),L.isShaderMaterial&&V.releaseShaderCache(L))}this.renderBufferDirect=function(L,ne,le,se,re,Ae){ne===null&&(ne=ye);const Ie=re.isMesh&&re.matrixWorld.determinant()<0,Re=Xu(L,ne,le,se,re);Me.setMaterial(se,Ie);let Pe=le.index,Ue=1;if(se.wireframe===!0){if(Pe=E.getWireframeAttribute(le),Pe===void 0)return;Ue=2}const He=le.drawRange,Fe=le.attributes.position;let Je=He.start*Ue,st=(He.start+He.count)*Ue;Ae!==null&&(Je=Math.max(Je,Ae.start*Ue),st=Math.min(st,(Ae.start+Ae.count)*Ue)),Pe!==null?(Je=Math.max(Je,0),st=Math.min(st,Pe.count)):Fe!=null&&(Je=Math.max(Je,0),st=Math.min(st,Fe.count));const gt=st-Je;if(gt<0||gt===1/0)return;De.setup(re,se,Re,le,Pe);let yt,dt=Z;if(Pe!==null&&(yt=y.get(Pe),dt=be,dt.setIndex(yt)),re.isMesh)se.wireframe===!0?(Me.setLineWidth(se.wireframeLinewidth*Ne()),dt.setMode(z.LINES)):dt.setMode(z.TRIANGLES);else if(re.isLine){let ke=se.linewidth;ke===void 0&&(ke=1),Me.setLineWidth(ke*Ne()),re.isLineSegments?dt.setMode(z.LINES):re.isLineLoop?dt.setMode(z.LINE_LOOP):dt.setMode(z.LINE_STRIP)}else re.isPoints?dt.setMode(z.POINTS):re.isSprite&&dt.setMode(z.TRIANGLES);if(re.isBatchedMesh)if(re._multiDrawInstances!==null)Oa("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),dt.renderMultiDrawInstances(re._multiDrawStarts,re._multiDrawCounts,re._multiDrawCount,re._multiDrawInstances);else if(We.get("WEBGL_multi_draw"))dt.renderMultiDraw(re._multiDrawStarts,re._multiDrawCounts,re._multiDrawCount);else{const ke=re._multiDrawStarts,it=re._multiDrawCounts,tt=re._multiDrawCount,qt=Pe?y.get(Pe).bytesPerElement:1,Si=x.get(se).currentProgram.getUniforms();for(let Yt=0;Yt<tt;Yt++)Si.setValue(z,"_gl_DrawID",Yt),dt.render(ke[Yt]/qt,it[Yt])}else if(re.isInstancedMesh)dt.renderInstances(Je,gt,re.count);else if(le.isInstancedBufferGeometry){const ke=le._maxInstanceCount!==void 0?le._maxInstanceCount:1/0,it=Math.min(le.instanceCount,ke);dt.renderInstances(Je,gt,it)}else dt.render(Je,gt)};function rl(L,ne,le){L.transparent===!0&&L.side===un&&L.forceSinglePass===!1?(L.side=Wt,L.needsUpdate=!0,Fa(L,ne,le),L.side=qn,L.needsUpdate=!0,Fa(L,ne,le),L.side=un):Fa(L,ne,le)}this.compile=function(L,ne,le=null){le===null&&(le=L),I=me.get(le),I.init(ne),F.push(I),le.traverseVisible(function(re){re.isLight&&re.layers.test(ne.layers)&&(I.pushLight(re),re.castShadow&&I.pushShadow(re))}),L!==le&&L.traverseVisible(function(re){re.isLight&&re.layers.test(ne.layers)&&(I.pushLight(re),re.castShadow&&I.pushShadow(re))}),I.setupLights();const se=new Set;return L.traverse(function(re){if(!(re.isMesh||re.isPoints||re.isLine||re.isSprite))return;const Ae=re.material;if(Ae)if(Array.isArray(Ae))for(let Ie=0;Ie<Ae.length;Ie++){const Re=Ae[Ie];rl(Re,le,re),se.add(Re)}else rl(Ae,le,re),se.add(Ae)}),I=F.pop(),se},this.compileAsync=function(L,ne,le=null){const se=this.compile(L,ne,le);return new Promise(re=>{function Ae(){if(se.forEach(function(Ie){x.get(Ie).currentProgram.isReady()&&se.delete(Ie)}),se.size===0){re(L);return}setTimeout(Ae,10)}We.get("KHR_parallel_shader_compile")!==null?Ae():setTimeout(Ae,10)})};let Vr=null;function Yu(L){Vr&&Vr(L)}function ol(){oi.stop()}function sl(){oi.start()}const oi=new wu;oi.setAnimationLoop(Yu),typeof self<"u"&&oi.setContext(self),this.setAnimationLoop=function(L){Vr=L,Se.setAnimationLoop(L),L===null?oi.stop():oi.start()},Se.addEventListener("sessionstart",ol),Se.addEventListener("sessionend",sl),this.render=function(L,ne){if(ne!==void 0&&ne.isCamera!==!0){Be("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(N===!0)return;const le=Se.enabled===!0&&Se.isPresenting===!0,se=H!==null&&(T===null||le)&&H.begin(R,T);if(L.matrixWorldAutoUpdate===!0&&L.updateMatrixWorld(),ne.parent===null&&ne.matrixWorldAutoUpdate===!0&&ne.updateMatrixWorld(),Se.enabled===!0&&Se.isPresenting===!0&&(H===null||H.isCompositing()===!1)&&(Se.cameraAutoUpdate===!0&&Se.updateCamera(ne),ne=Se.getCamera()),L.isScene===!0&&L.onBeforeRender(R,L,ne,T),I=me.get(L,F.length),I.init(ne),F.push(I),oe.multiplyMatrices(ne.projectionMatrix,ne.matrixWorldInverse),Y.setFromProjectionMatrix(oe,Tn,ne.reversedDepth),ee=this.localClippingEnabled,X=Ce.init(this.clippingPlanes,ee),D=K.get(L,U.length),D.init(),U.push(D),Se.enabled===!0&&Se.isPresenting===!0){const Ie=R.xr.getDepthSensingMesh();Ie!==null&&Hr(Ie,ne,-1/0,R.sortObjects)}Hr(L,ne,0,R.sortObjects),D.finish(),R.sortObjects===!0&&D.sort(we,Ge),xe=Se.enabled===!1||Se.isPresenting===!1||Se.hasDepthSensing()===!1,xe&&_e.addToRenderList(D,L),this.info.render.frame++,X===!0&&Ce.beginShadows();const re=I.state.shadowsArray;if(Te.render(re,L,ne),X===!0&&Ce.endShadows(),this.info.autoReset===!0&&this.info.reset(),(se&&H.hasRenderPass())===!1){const Ie=D.opaque,Re=D.transmissive;if(I.setupLights(),ne.isArrayCamera){const Pe=ne.cameras;if(Re.length>0)for(let Ue=0,He=Pe.length;Ue<He;Ue++){const Fe=Pe[Ue];dl(Ie,Re,L,Fe)}xe&&_e.render(L);for(let Ue=0,He=Pe.length;Ue<He;Ue++){const Fe=Pe[Ue];ll(D,L,Fe,Fe.viewport)}}else Re.length>0&&dl(Ie,Re,L,ne),xe&&_e.render(L),ll(D,L,ne)}T!==null&&Q===0&&(j.updateMultisampleRenderTarget(T),j.updateRenderTargetMipmap(T)),se&&H.end(R),L.isScene===!0&&L.onAfterRender(R,L,ne),De.resetDefaultState(),b=-1,v=null,F.pop(),F.length>0?(I=F[F.length-1],X===!0&&Ce.setGlobalState(R.clippingPlanes,I.state.camera)):I=null,U.pop(),U.length>0?D=U[U.length-1]:D=null};function Hr(L,ne,le,se){if(L.visible===!1)return;if(L.layers.test(ne.layers)){if(L.isGroup)le=L.renderOrder;else if(L.isLOD)L.autoUpdate===!0&&L.update(ne);else if(L.isLight)I.pushLight(L),L.castShadow&&I.pushShadow(L);else if(L.isSprite){if(!L.frustumCulled||Y.intersectsSprite(L)){se&&ce.setFromMatrixPosition(L.matrixWorld).applyMatrix4(oe);const Ie=w.update(L),Re=L.material;Re.visible&&D.push(L,Ie,Re,le,ce.z,null)}}else if((L.isMesh||L.isLine||L.isPoints)&&(!L.frustumCulled||Y.intersectsObject(L))){const Ie=w.update(L),Re=L.material;if(se&&(L.boundingSphere!==void 0?(L.boundingSphere===null&&L.computeBoundingSphere(),ce.copy(L.boundingSphere.center)):(Ie.boundingSphere===null&&Ie.computeBoundingSphere(),ce.copy(Ie.boundingSphere.center)),ce.applyMatrix4(L.matrixWorld).applyMatrix4(oe)),Array.isArray(Re)){const Pe=Ie.groups;for(let Ue=0,He=Pe.length;Ue<He;Ue++){const Fe=Pe[Ue],Je=Re[Fe.materialIndex];Je&&Je.visible&&D.push(L,Ie,Je,le,ce.z,Fe)}}else Re.visible&&D.push(L,Ie,Re,le,ce.z,null)}}const Ae=L.children;for(let Ie=0,Re=Ae.length;Ie<Re;Ie++)Hr(Ae[Ie],ne,le,se)}function ll(L,ne,le,se){const{opaque:re,transmissive:Ae,transparent:Ie}=L;I.setupLightsView(le),X===!0&&Ce.setGlobalState(R.clippingPlanes,le),se&&Me.viewport(P.copy(se)),re.length>0&&Ga(re,ne,le),Ae.length>0&&Ga(Ae,ne,le),Ie.length>0&&Ga(Ie,ne,le),Me.buffers.depth.setTest(!0),Me.buffers.depth.setMask(!0),Me.buffers.color.setMask(!0),Me.setPolygonOffset(!1)}function dl(L,ne,le,se){if((le.isScene===!0?le.overrideMaterial:null)!==null)return;if(I.state.transmissionRenderTarget[se.id]===void 0){const Je=We.has("EXT_color_buffer_half_float")||We.has("EXT_color_buffer_float");I.state.transmissionRenderTarget[se.id]=new Sn(1,1,{generateMipmaps:!0,type:Je?Zt:zt,minFilter:Cn,samples:Xe.samples,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:et.workingColorSpace})}const Ae=I.state.transmissionRenderTarget[se.id],Ie=se.viewport||P;Ae.setSize(Ie.z*R.transmissionResolutionScale,Ie.w*R.transmissionResolutionScale);const Re=R.getRenderTarget(),Pe=R.getActiveCubeFace(),Ue=R.getActiveMipmapLevel();R.setRenderTarget(Ae),R.getClearColor(ie),J=R.getClearAlpha(),J<1&&R.setClearColor(16777215,.5),R.clear(),xe&&_e.render(le);const He=R.toneMapping;R.toneMapping=Mn;const Fe=se.viewport;if(se.viewport!==void 0&&(se.viewport=void 0),I.setupLightsView(se),X===!0&&Ce.setGlobalState(R.clippingPlanes,se),Ga(L,le,se),j.updateMultisampleRenderTarget(Ae),j.updateRenderTargetMipmap(Ae),We.has("WEBGL_multisampled_render_to_texture")===!1){let Je=!1;for(let st=0,gt=ne.length;st<gt;st++){const yt=ne[st],{object:dt,geometry:ke,material:it,group:tt}=yt;if(it.side===un&&dt.layers.test(se.layers)){const qt=it.side;it.side=Wt,it.needsUpdate=!0,ul(dt,le,se,ke,it,tt),it.side=qt,it.needsUpdate=!0,Je=!0}}Je===!0&&(j.updateMultisampleRenderTarget(Ae),j.updateRenderTargetMipmap(Ae))}R.setRenderTarget(Re,Pe,Ue),R.setClearColor(ie,J),Fe!==void 0&&(se.viewport=Fe),R.toneMapping=He}function Ga(L,ne,le){const se=ne.isScene===!0?ne.overrideMaterial:null;for(let re=0,Ae=L.length;re<Ae;re++){const Ie=L[re],{object:Re,geometry:Pe,group:Ue}=Ie;let He=Ie.material;He.allowOverride===!0&&se!==null&&(He=se),Re.layers.test(le.layers)&&ul(Re,ne,le,Pe,He,Ue)}}function ul(L,ne,le,se,re,Ae){L.onBeforeRender(R,ne,le,se,re,Ae),L.modelViewMatrix.multiplyMatrices(le.matrixWorldInverse,L.matrixWorld),L.normalMatrix.getNormalMatrix(L.modelViewMatrix),re.onBeforeRender(R,ne,le,se,L,Ae),re.transparent===!0&&re.side===un&&re.forceSinglePass===!1?(re.side=Wt,re.needsUpdate=!0,R.renderBufferDirect(le,ne,se,re,L,Ae),re.side=qn,re.needsUpdate=!0,R.renderBufferDirect(le,ne,se,re,L,Ae),re.side=un):R.renderBufferDirect(le,ne,se,re,L,Ae),L.onAfterRender(R,ne,le,se,re,Ae)}function Fa(L,ne,le){ne.isScene!==!0&&(ne=ye);const se=x.get(L),re=I.state.lights,Ae=I.state.shadowsArray,Ie=re.state.version,Re=V.getParameters(L,re.state,Ae,ne,le),Pe=V.getProgramCacheKey(Re);let Ue=se.programs;se.environment=L.isMeshStandardMaterial?ne.environment:null,se.fog=ne.fog,se.envMap=(L.isMeshStandardMaterial?M:pe).get(L.envMap||se.environment),se.envMapRotation=se.environment!==null&&L.envMap===null?ne.environmentRotation:L.envMapRotation,Ue===void 0&&(L.addEventListener("dispose",_n),Ue=new Map,se.programs=Ue);let He=Ue.get(Pe);if(He!==void 0){if(se.currentProgram===He&&se.lightsStateVersion===Ie)return ml(L,Re),He}else Re.uniforms=V.getUniforms(L),L.onBeforeCompile(Re,R),He=V.acquireProgram(Re,Pe),Ue.set(Pe,He),se.uniforms=Re.uniforms;const Fe=se.uniforms;return(!L.isShaderMaterial&&!L.isRawShaderMaterial||L.clipping===!0)&&(Fe.clippingPlanes=Ce.uniform),ml(L,Re),se.needsLights=ju(L),se.lightsStateVersion=Ie,se.needsLights&&(Fe.ambientLightColor.value=re.state.ambient,Fe.lightProbe.value=re.state.probe,Fe.directionalLights.value=re.state.directional,Fe.directionalLightShadows.value=re.state.directionalShadow,Fe.spotLights.value=re.state.spot,Fe.spotLightShadows.value=re.state.spotShadow,Fe.rectAreaLights.value=re.state.rectArea,Fe.ltc_1.value=re.state.rectAreaLTC1,Fe.ltc_2.value=re.state.rectAreaLTC2,Fe.pointLights.value=re.state.point,Fe.pointLightShadows.value=re.state.pointShadow,Fe.hemisphereLights.value=re.state.hemi,Fe.directionalShadowMap.value=re.state.directionalShadowMap,Fe.directionalShadowMatrix.value=re.state.directionalShadowMatrix,Fe.spotShadowMap.value=re.state.spotShadowMap,Fe.spotLightMatrix.value=re.state.spotLightMatrix,Fe.spotLightMap.value=re.state.spotLightMap,Fe.pointShadowMap.value=re.state.pointShadowMap,Fe.pointShadowMatrix.value=re.state.pointShadowMatrix),se.currentProgram=He,se.uniformsList=null,He}function pl(L){if(L.uniformsList===null){const ne=L.currentProgram.getUniforms();L.uniformsList=vr.seqWithValue(ne.seq,L.uniforms)}return L.uniformsList}function ml(L,ne){const le=x.get(L);le.outputColorSpace=ne.outputColorSpace,le.batching=ne.batching,le.batchingColor=ne.batchingColor,le.instancing=ne.instancing,le.instancingColor=ne.instancingColor,le.instancingMorph=ne.instancingMorph,le.skinning=ne.skinning,le.morphTargets=ne.morphTargets,le.morphNormals=ne.morphNormals,le.morphColors=ne.morphColors,le.morphTargetsCount=ne.morphTargetsCount,le.numClippingPlanes=ne.numClippingPlanes,le.numIntersection=ne.numClipIntersection,le.vertexAlphas=ne.vertexAlphas,le.vertexTangents=ne.vertexTangents,le.toneMapping=ne.toneMapping}function Xu(L,ne,le,se,re){ne.isScene!==!0&&(ne=ye),j.resetTextureUnits();const Ae=ne.fog,Ie=se.isMeshStandardMaterial?ne.environment:null,Re=T===null?R.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:wt,Pe=(se.isMeshStandardMaterial?M:pe).get(se.envMap||Ie),Ue=se.vertexColors===!0&&!!le.attributes.color&&le.attributes.color.itemSize===4,He=!!le.attributes.tangent&&(!!se.normalMap||se.anisotropy>0),Fe=!!le.morphAttributes.position,Je=!!le.morphAttributes.normal,st=!!le.morphAttributes.color;let gt=Mn;se.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(gt=R.toneMapping);const yt=le.morphAttributes.position||le.morphAttributes.normal||le.morphAttributes.color,dt=yt!==void 0?yt.length:0,ke=x.get(se),it=I.state.lights;if(X===!0&&(ee===!0||L!==v)){const Nt=L===v&&se.id===b;Ce.setState(se,L,Nt)}let tt=!1;se.version===ke.__version?(ke.needsLights&&ke.lightsStateVersion!==it.state.version||ke.outputColorSpace!==Re||re.isBatchedMesh&&ke.batching===!1||!re.isBatchedMesh&&ke.batching===!0||re.isBatchedMesh&&ke.batchingColor===!0&&re.colorTexture===null||re.isBatchedMesh&&ke.batchingColor===!1&&re.colorTexture!==null||re.isInstancedMesh&&ke.instancing===!1||!re.isInstancedMesh&&ke.instancing===!0||re.isSkinnedMesh&&ke.skinning===!1||!re.isSkinnedMesh&&ke.skinning===!0||re.isInstancedMesh&&ke.instancingColor===!0&&re.instanceColor===null||re.isInstancedMesh&&ke.instancingColor===!1&&re.instanceColor!==null||re.isInstancedMesh&&ke.instancingMorph===!0&&re.morphTexture===null||re.isInstancedMesh&&ke.instancingMorph===!1&&re.morphTexture!==null||ke.envMap!==Pe||se.fog===!0&&ke.fog!==Ae||ke.numClippingPlanes!==void 0&&(ke.numClippingPlanes!==Ce.numPlanes||ke.numIntersection!==Ce.numIntersection)||ke.vertexAlphas!==Ue||ke.vertexTangents!==He||ke.morphTargets!==Fe||ke.morphNormals!==Je||ke.morphColors!==st||ke.toneMapping!==gt||ke.morphTargetsCount!==dt)&&(tt=!0):(tt=!0,ke.__version=se.version);let qt=ke.currentProgram;tt===!0&&(qt=Fa(se,ne,re));let Si=!1,Yt=!1,ra=!1;const pt=qt.getUniforms(),Bt=ke.uniforms;if(Me.useProgram(qt.program)&&(Si=!0,Yt=!0,ra=!0),se.id!==b&&(b=se.id,Yt=!0),Si||v!==L){Me.buffers.depth.getReversed()&&L.reversedDepth!==!0&&(L._reversedDepth=!0,L.updateProjectionMatrix()),pt.setValue(z,"projectionMatrix",L.projectionMatrix),pt.setValue(z,"viewMatrix",L.matrixWorldInverse);const Vt=pt.map.cameraPosition;Vt!==void 0&&Vt.setValue(z,de.setFromMatrixPosition(L.matrixWorld)),Xe.logarithmicDepthBuffer&&pt.setValue(z,"logDepthBufFC",2/(Math.log(L.far+1)/Math.LN2)),(se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshLambertMaterial||se.isMeshBasicMaterial||se.isMeshStandardMaterial||se.isShaderMaterial)&&pt.setValue(z,"isOrthographic",L.isOrthographicCamera===!0),v!==L&&(v=L,Yt=!0,ra=!0)}if(ke.needsLights&&(it.state.directionalShadowMap.length>0&&pt.setValue(z,"directionalShadowMap",it.state.directionalShadowMap,j),it.state.spotShadowMap.length>0&&pt.setValue(z,"spotShadowMap",it.state.spotShadowMap,j),it.state.pointShadowMap.length>0&&pt.setValue(z,"pointShadowMap",it.state.pointShadowMap,j)),re.isSkinnedMesh){pt.setOptional(z,re,"bindMatrix"),pt.setOptional(z,re,"bindMatrixInverse");const Nt=re.skeleton;Nt&&(Nt.boneTexture===null&&Nt.computeBoneTexture(),pt.setValue(z,"boneTexture",Nt.boneTexture,j))}re.isBatchedMesh&&(pt.setOptional(z,re,"batchingTexture"),pt.setValue(z,"batchingTexture",re._matricesTexture,j),pt.setOptional(z,re,"batchingIdTexture"),pt.setValue(z,"batchingIdTexture",re._indirectTexture,j),pt.setOptional(z,re,"batchingColorTexture"),re._colorsTexture!==null&&pt.setValue(z,"batchingColorTexture",re._colorsTexture,j));const $t=le.morphAttributes;if(($t.position!==void 0||$t.normal!==void 0||$t.color!==void 0)&&Oe.update(re,le,qt),(Yt||ke.receiveShadow!==re.receiveShadow)&&(ke.receiveShadow=re.receiveShadow,pt.setValue(z,"receiveShadow",re.receiveShadow)),se.isMeshGouraudMaterial&&se.envMap!==null&&(Bt.envMap.value=Pe,Bt.flipEnvMap.value=Pe.isCubeTexture&&Pe.isRenderTargetTexture===!1?-1:1),se.isMeshStandardMaterial&&se.envMap===null&&ne.environment!==null&&(Bt.envMapIntensity.value=ne.environmentIntensity),Bt.dfgLUT!==void 0&&(Bt.dfgLUT.value=Ty()),Yt&&(pt.setValue(z,"toneMappingExposure",R.toneMappingExposure),ke.needsLights&&Ku(Bt,ra),Ae&&se.fog===!0&&$.refreshFogUniforms(Bt,Ae),$.refreshMaterialUniforms(Bt,se,ue,he,I.state.transmissionRenderTarget[L.id]),vr.upload(z,pl(ke),Bt,j)),se.isShaderMaterial&&se.uniformsNeedUpdate===!0&&(vr.upload(z,pl(ke),Bt,j),se.uniformsNeedUpdate=!1),se.isSpriteMaterial&&pt.setValue(z,"center",re.center),pt.setValue(z,"modelViewMatrix",re.modelViewMatrix),pt.setValue(z,"normalMatrix",re.normalMatrix),pt.setValue(z,"modelMatrix",re.matrixWorld),se.isShaderMaterial||se.isRawShaderMaterial){const Nt=se.uniformsGroups;for(let Vt=0,zr=Nt.length;Vt<zr;Vt++){const si=Nt[Vt];ge.update(si,qt),ge.bind(si,qt)}}return qt}function Ku(L,ne){L.ambientLightColor.needsUpdate=ne,L.lightProbe.needsUpdate=ne,L.directionalLights.needsUpdate=ne,L.directionalLightShadows.needsUpdate=ne,L.pointLights.needsUpdate=ne,L.pointLightShadows.needsUpdate=ne,L.spotLights.needsUpdate=ne,L.spotLightShadows.needsUpdate=ne,L.rectAreaLights.needsUpdate=ne,L.hemisphereLights.needsUpdate=ne}function ju(L){return L.isMeshLambertMaterial||L.isMeshToonMaterial||L.isMeshPhongMaterial||L.isMeshStandardMaterial||L.isShadowMaterial||L.isShaderMaterial&&L.lights===!0}this.getActiveCubeFace=function(){return q},this.getActiveMipmapLevel=function(){return Q},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(L,ne,le){const se=x.get(L);se.__autoAllocateDepthBuffer=L.resolveDepthBuffer===!1,se.__autoAllocateDepthBuffer===!1&&(se.__useRenderToTexture=!1),x.get(L.texture).__webglTexture=ne,x.get(L.depthTexture).__webglTexture=se.__autoAllocateDepthBuffer?void 0:le,se.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(L,ne){const le=x.get(L);le.__webglFramebuffer=ne,le.__useDefaultFramebuffer=ne===void 0};const Zu=z.createFramebuffer();this.setRenderTarget=function(L,ne=0,le=0){T=L,q=ne,Q=le;let se=null,re=!1,Ae=!1;if(L){const Re=x.get(L);if(Re.__useDefaultFramebuffer!==void 0){Me.bindFramebuffer(z.FRAMEBUFFER,Re.__webglFramebuffer),P.copy(L.viewport),O.copy(L.scissor),W=L.scissorTest,Me.viewport(P),Me.scissor(O),Me.setScissorTest(W),b=-1;return}else if(Re.__webglFramebuffer===void 0)j.setupRenderTarget(L);else if(Re.__hasExternalTextures)j.rebindTextures(L,x.get(L.texture).__webglTexture,x.get(L.depthTexture).__webglTexture);else if(L.depthBuffer){const He=L.depthTexture;if(Re.__boundDepthTexture!==He){if(He!==null&&x.has(He)&&(L.width!==He.image.width||L.height!==He.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");j.setupDepthRenderbuffer(L)}}const Pe=L.texture;(Pe.isData3DTexture||Pe.isDataArrayTexture||Pe.isCompressedArrayTexture)&&(Ae=!0);const Ue=x.get(L).__webglFramebuffer;L.isWebGLCubeRenderTarget?(Array.isArray(Ue[ne])?se=Ue[ne][le]:se=Ue[ne],re=!0):L.samples>0&&j.useMultisampledRTT(L)===!1?se=x.get(L).__webglMultisampledFramebuffer:Array.isArray(Ue)?se=Ue[le]:se=Ue,P.copy(L.viewport),O.copy(L.scissor),W=L.scissorTest}else P.copy(G).multiplyScalar(ue).floor(),O.copy(A).multiplyScalar(ue).floor(),W=k;if(le!==0&&(se=Zu),Me.bindFramebuffer(z.FRAMEBUFFER,se)&&Me.drawBuffers(L,se),Me.viewport(P),Me.scissor(O),Me.setScissorTest(W),re){const Re=x.get(L.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+ne,Re.__webglTexture,le)}else if(Ae){const Re=ne;for(let Pe=0;Pe<L.textures.length;Pe++){const Ue=x.get(L.textures[Pe]);z.framebufferTextureLayer(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0+Pe,Ue.__webglTexture,le,Re)}}else if(L!==null&&le!==0){const Re=x.get(L.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,Re.__webglTexture,le)}b=-1},this.readRenderTargetPixels=function(L,ne,le,se,re,Ae,Ie,Re=0){if(!(L&&L.isWebGLRenderTarget)){Be("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Pe=x.get(L).__webglFramebuffer;if(L.isWebGLCubeRenderTarget&&Ie!==void 0&&(Pe=Pe[Ie]),Pe){Me.bindFramebuffer(z.FRAMEBUFFER,Pe);try{const Ue=L.textures[Re],He=Ue.format,Fe=Ue.type;if(!Xe.textureFormatReadable(He)){Be("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Xe.textureTypeReadable(Fe)){Be("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ne>=0&&ne<=L.width-se&&le>=0&&le<=L.height-re&&(L.textures.length>1&&z.readBuffer(z.COLOR_ATTACHMENT0+Re),z.readPixels(ne,le,se,re,Ee.convert(He),Ee.convert(Fe),Ae))}finally{const Ue=T!==null?x.get(T).__webglFramebuffer:null;Me.bindFramebuffer(z.FRAMEBUFFER,Ue)}}},this.readRenderTargetPixelsAsync=async function(L,ne,le,se,re,Ae,Ie,Re=0){if(!(L&&L.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Pe=x.get(L).__webglFramebuffer;if(L.isWebGLCubeRenderTarget&&Ie!==void 0&&(Pe=Pe[Ie]),Pe)if(ne>=0&&ne<=L.width-se&&le>=0&&le<=L.height-re){Me.bindFramebuffer(z.FRAMEBUFFER,Pe);const Ue=L.textures[Re],He=Ue.format,Fe=Ue.type;if(!Xe.textureFormatReadable(He))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Xe.textureTypeReadable(Fe))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Je=z.createBuffer();z.bindBuffer(z.PIXEL_PACK_BUFFER,Je),z.bufferData(z.PIXEL_PACK_BUFFER,Ae.byteLength,z.STREAM_READ),L.textures.length>1&&z.readBuffer(z.COLOR_ATTACHMENT0+Re),z.readPixels(ne,le,se,re,Ee.convert(He),Ee.convert(Fe),0);const st=T!==null?x.get(T).__webglFramebuffer:null;Me.bindFramebuffer(z.FRAMEBUFFER,st);const gt=z.fenceSync(z.SYNC_GPU_COMMANDS_COMPLETE,0);return z.flush(),await Vp(z,gt,4),z.bindBuffer(z.PIXEL_PACK_BUFFER,Je),z.getBufferSubData(z.PIXEL_PACK_BUFFER,0,Ae),z.deleteBuffer(Je),z.deleteSync(gt),Ae}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(L,ne=null,le=0){const se=Math.pow(2,-le),re=Math.floor(L.image.width*se),Ae=Math.floor(L.image.height*se),Ie=ne!==null?ne.x:0,Re=ne!==null?ne.y:0;j.setTexture2D(L,0),z.copyTexSubImage2D(z.TEXTURE_2D,le,0,0,Ie,Re,re,Ae),Me.unbindTexture()};const $u=z.createFramebuffer(),Ju=z.createFramebuffer();this.copyTextureToTexture=function(L,ne,le=null,se=null,re=0,Ae=null){Ae===null&&(re!==0?(Oa("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ae=re,re=0):Ae=0);let Ie,Re,Pe,Ue,He,Fe,Je,st,gt;const yt=L.isCompressedTexture?L.mipmaps[Ae]:L.image;if(le!==null)Ie=le.max.x-le.min.x,Re=le.max.y-le.min.y,Pe=le.isBox3?le.max.z-le.min.z:1,Ue=le.min.x,He=le.min.y,Fe=le.isBox3?le.min.z:0;else{const $t=Math.pow(2,-re);Ie=Math.floor(yt.width*$t),Re=Math.floor(yt.height*$t),L.isDataArrayTexture?Pe=yt.depth:L.isData3DTexture?Pe=Math.floor(yt.depth*$t):Pe=1,Ue=0,He=0,Fe=0}se!==null?(Je=se.x,st=se.y,gt=se.z):(Je=0,st=0,gt=0);const dt=Ee.convert(ne.format),ke=Ee.convert(ne.type);let it;ne.isData3DTexture?(j.setTexture3D(ne,0),it=z.TEXTURE_3D):ne.isDataArrayTexture||ne.isCompressedArrayTexture?(j.setTexture2DArray(ne,0),it=z.TEXTURE_2D_ARRAY):(j.setTexture2D(ne,0),it=z.TEXTURE_2D),z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,ne.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,ne.unpackAlignment);const tt=z.getParameter(z.UNPACK_ROW_LENGTH),qt=z.getParameter(z.UNPACK_IMAGE_HEIGHT),Si=z.getParameter(z.UNPACK_SKIP_PIXELS),Yt=z.getParameter(z.UNPACK_SKIP_ROWS),ra=z.getParameter(z.UNPACK_SKIP_IMAGES);z.pixelStorei(z.UNPACK_ROW_LENGTH,yt.width),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,yt.height),z.pixelStorei(z.UNPACK_SKIP_PIXELS,Ue),z.pixelStorei(z.UNPACK_SKIP_ROWS,He),z.pixelStorei(z.UNPACK_SKIP_IMAGES,Fe);const pt=L.isDataArrayTexture||L.isData3DTexture,Bt=ne.isDataArrayTexture||ne.isData3DTexture;if(L.isDepthTexture){const $t=x.get(L),Nt=x.get(ne),Vt=x.get($t.__renderTarget),zr=x.get(Nt.__renderTarget);Me.bindFramebuffer(z.READ_FRAMEBUFFER,Vt.__webglFramebuffer),Me.bindFramebuffer(z.DRAW_FRAMEBUFFER,zr.__webglFramebuffer);for(let si=0;si<Pe;si++)pt&&(z.framebufferTextureLayer(z.READ_FRAMEBUFFER,z.COLOR_ATTACHMENT0,x.get(L).__webglTexture,re,Fe+si),z.framebufferTextureLayer(z.DRAW_FRAMEBUFFER,z.COLOR_ATTACHMENT0,x.get(ne).__webglTexture,Ae,gt+si)),z.blitFramebuffer(Ue,He,Ie,Re,Je,st,Ie,Re,z.DEPTH_BUFFER_BIT,z.NEAREST);Me.bindFramebuffer(z.READ_FRAMEBUFFER,null),Me.bindFramebuffer(z.DRAW_FRAMEBUFFER,null)}else if(re!==0||L.isRenderTargetTexture||x.has(L)){const $t=x.get(L),Nt=x.get(ne);Me.bindFramebuffer(z.READ_FRAMEBUFFER,$u),Me.bindFramebuffer(z.DRAW_FRAMEBUFFER,Ju);for(let Vt=0;Vt<Pe;Vt++)pt?z.framebufferTextureLayer(z.READ_FRAMEBUFFER,z.COLOR_ATTACHMENT0,$t.__webglTexture,re,Fe+Vt):z.framebufferTexture2D(z.READ_FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,$t.__webglTexture,re),Bt?z.framebufferTextureLayer(z.DRAW_FRAMEBUFFER,z.COLOR_ATTACHMENT0,Nt.__webglTexture,Ae,gt+Vt):z.framebufferTexture2D(z.DRAW_FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,Nt.__webglTexture,Ae),re!==0?z.blitFramebuffer(Ue,He,Ie,Re,Je,st,Ie,Re,z.COLOR_BUFFER_BIT,z.NEAREST):Bt?z.copyTexSubImage3D(it,Ae,Je,st,gt+Vt,Ue,He,Ie,Re):z.copyTexSubImage2D(it,Ae,Je,st,Ue,He,Ie,Re);Me.bindFramebuffer(z.READ_FRAMEBUFFER,null),Me.bindFramebuffer(z.DRAW_FRAMEBUFFER,null)}else Bt?L.isDataTexture||L.isData3DTexture?z.texSubImage3D(it,Ae,Je,st,gt,Ie,Re,Pe,dt,ke,yt.data):ne.isCompressedArrayTexture?z.compressedTexSubImage3D(it,Ae,Je,st,gt,Ie,Re,Pe,dt,yt.data):z.texSubImage3D(it,Ae,Je,st,gt,Ie,Re,Pe,dt,ke,yt):L.isDataTexture?z.texSubImage2D(z.TEXTURE_2D,Ae,Je,st,Ie,Re,dt,ke,yt.data):L.isCompressedTexture?z.compressedTexSubImage2D(z.TEXTURE_2D,Ae,Je,st,yt.width,yt.height,dt,yt.data):z.texSubImage2D(z.TEXTURE_2D,Ae,Je,st,Ie,Re,dt,ke,yt);z.pixelStorei(z.UNPACK_ROW_LENGTH,tt),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,qt),z.pixelStorei(z.UNPACK_SKIP_PIXELS,Si),z.pixelStorei(z.UNPACK_SKIP_ROWS,Yt),z.pixelStorei(z.UNPACK_SKIP_IMAGES,ra),Ae===0&&ne.generateMipmaps&&z.generateMipmap(it),Me.unbindTexture()},this.initRenderTarget=function(L){x.get(L).__webglFramebuffer===void 0&&j.setupRenderTarget(L)},this.initTexture=function(L){L.isCubeTexture?j.setTextureCube(L,0):L.isData3DTexture?j.setTexture3D(L,0):L.isDataArrayTexture||L.isCompressedArrayTexture?j.setTexture2DArray(L,0):j.setTexture2D(L,0),Me.unbindTexture()},this.resetState=function(){q=0,Q=0,T=null,Me.reset(),De.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Tn}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=et._getDrawingBufferColorSpace(e),t.unpackColorSpace=et._getUnpackColorSpace()}}const Pd={type:"change"},il={type:"start"},Gu={type:"end"},cr=new ta,Nd=new ei,Sy=Math.cos(70*gu.DEG2RAD),Mt=new te,Ht=2*Math.PI,lt={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},xo=1e-6;class Ay extends vc{constructor(e,t=null){super(e,t),this.state=lt.NONE,this.target=new te,this.cursor=new te,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Hi.ROTATE,MIDDLE:Hi.DOLLY,RIGHT:Hi.PAN},this.touches={ONE:Bi.ROTATE,TWO:Bi.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new te,this._lastQuaternion=new hn,this._lastTargetPosition=new te,this._quat=new hn().setFromUnitVectors(e.up,new te(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new dd,this._sphericalDelta=new dd,this._scale=1,this._panOffset=new te,this._rotateStart=new ze,this._rotateEnd=new ze,this._rotateDelta=new ze,this._panStart=new ze,this._panEnd=new ze,this._panDelta=new ze,this._dollyStart=new ze,this._dollyEnd=new ze,this._dollyDelta=new ze,this._dollyDirection=new te,this._mouse=new ze,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=xy.bind(this),this._onPointerDown=vy.bind(this),this._onPointerUp=Ry.bind(this),this._onContextMenu=Ny.bind(this),this._onMouseWheel=Oy.bind(this),this._onKeyDown=Iy.bind(this),this._onTouchStart=wy.bind(this),this._onTouchMove=Py.bind(this),this._onMouseDown=by.bind(this),this._onMouseMove=Dy.bind(this),this._interceptControlDown=Ly.bind(this),this._interceptControlUp=Uy.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(Pd),this.update(),this.state=lt.NONE}update(e=null){const t=this.object.position;Mt.copy(t).sub(this.target),Mt.applyQuaternion(this._quat),this._spherical.setFromVector3(Mt),this.autoRotate&&this.state===lt.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let n=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(n)&&isFinite(i)&&(n<-Math.PI?n+=Ht:n>Math.PI&&(n-=Ht),i<-Math.PI?i+=Ht:i>Math.PI&&(i-=Ht),n<=i?this._spherical.theta=Math.max(n,Math.min(i,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(n+i)/2?Math.max(n,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let o=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const l=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),o=l!=this._spherical.radius}if(Mt.setFromSpherical(this._spherical),Mt.applyQuaternion(this._quatInverse),t.copy(this.target).add(Mt),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let l=null;if(this.object.isPerspectiveCamera){const u=Mt.length();l=this._clampDistance(u*this._scale);const c=u-l;this.object.position.addScaledVector(this._dollyDirection,c),this.object.updateMatrixWorld(),o=!!c}else if(this.object.isOrthographicCamera){const u=new te(this._mouse.x,this._mouse.y,0);u.unproject(this.object);const c=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),o=c!==this.object.zoom;const p=new te(this._mouse.x,this._mouse.y,0);p.unproject(this.object),this.object.position.sub(p).add(u),this.object.updateMatrixWorld(),l=Mt.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;l!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(l).add(this.object.position):(cr.origin.copy(this.object.position),cr.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(cr.direction))<Sy?this.object.lookAt(this.target):(Nd.setFromNormalAndCoplanarPoint(this.object.up,this.target),cr.intersectPlane(Nd,this.target))))}else if(this.object.isOrthographicCamera){const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),l!==this.object.zoom&&(this.object.updateProjectionMatrix(),o=!0)}return this._scale=1,this._performCursorZoom=!1,o||this._lastPosition.distanceToSquared(this.object.position)>xo||8*(1-this._lastQuaternion.dot(this.object.quaternion))>xo||this._lastTargetPosition.distanceToSquared(this.target)>xo?(this.dispatchEvent(Pd),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?Ht/60*this.autoRotateSpeed*e:Ht/60/60*this.autoRotateSpeed}_getZoomScale(e){const t=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){Mt.setFromMatrixColumn(t,0),Mt.multiplyScalar(-e),this._panOffset.add(Mt)}_panUp(e,t){this.screenSpacePanning===!0?Mt.setFromMatrixColumn(t,1):(Mt.setFromMatrixColumn(t,0),Mt.crossVectors(this.object.up,Mt)),Mt.multiplyScalar(e),this._panOffset.add(Mt)}_pan(e,t){const n=this.domElement;if(this.object.isPerspectiveCamera){const i=this.object.position;Mt.copy(i).sub(this.target);let o=Mt.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*o/n.clientHeight,this.object.matrix),this._panUp(2*t*o/n.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const n=this.domElement.getBoundingClientRect(),i=e-n.left,o=t-n.top,l=n.width,u=n.height;this._mouse.x=i/l*2-1,this._mouse.y=-(o/u)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(Ht*this._rotateDelta.x/t.clientHeight),this._rotateUp(Ht*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(Ht*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-Ht*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(Ht*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-Ht*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);this._rotateStart.set(n,i)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);this._panStart.set(n,i)}}_handleTouchStartDolly(e){const t=this._getSecondPointerPosition(e),n=e.pageX-t.x,i=e.pageY-t.y,o=Math.sqrt(n*n+i*i);this._dollyStart.set(0,o)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),i=.5*(e.pageX+n.x),o=.5*(e.pageY+n.y);this._rotateEnd.set(i,o)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(Ht*this._rotateDelta.x/t.clientHeight),this._rotateUp(Ht*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);this._panEnd.set(n,i)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const t=this._getSecondPointerPosition(e),n=e.pageX-t.x,i=e.pageY-t.y,o=Math.sqrt(n*n+i*i);this._dollyEnd.set(0,o),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const l=(e.pageX+t.x)*.5,u=(e.pageY+t.y)*.5;this._updateZoomParameters(l,u)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId){this._pointers.splice(t,1);return}}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];t===void 0&&(t=new ze,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const t=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[t]}_customWheelEvent(e){const t=e.deltaMode,n={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:n.deltaY*=16;break;case 2:n.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(n.deltaY*=10),n}}function vy(a){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(a.pointerId),this.domElement.ownerDocument.addEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(a)&&(this._addPointer(a),a.pointerType==="touch"?this._onTouchStart(a):this._onMouseDown(a)))}function xy(a){this.enabled!==!1&&(a.pointerType==="touch"?this._onTouchMove(a):this._onMouseMove(a))}function Ry(a){switch(this._removePointer(a),this._pointers.length){case 0:this.domElement.releasePointerCapture(a.pointerId),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(Gu),this.state=lt.NONE;break;case 1:const e=this._pointers[0],t=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:t.x,pageY:t.y});break}}function by(a){let e;switch(a.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Hi.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(a),this.state=lt.DOLLY;break;case Hi.ROTATE:if(a.ctrlKey||a.metaKey||a.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(a),this.state=lt.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(a),this.state=lt.ROTATE}break;case Hi.PAN:if(a.ctrlKey||a.metaKey||a.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(a),this.state=lt.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(a),this.state=lt.PAN}break;default:this.state=lt.NONE}this.state!==lt.NONE&&this.dispatchEvent(il)}function Dy(a){switch(this.state){case lt.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(a);break;case lt.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(a);break;case lt.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(a);break}}function Oy(a){this.enabled===!1||this.enableZoom===!1||this.state!==lt.NONE||(a.preventDefault(),this.dispatchEvent(il),this._handleMouseWheel(this._customWheelEvent(a)),this.dispatchEvent(Gu))}function Iy(a){this.enabled!==!1&&this._handleKeyDown(a)}function wy(a){switch(this._trackPointer(a),this._pointers.length){case 1:switch(this.touches.ONE){case Bi.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(a),this.state=lt.TOUCH_ROTATE;break;case Bi.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(a),this.state=lt.TOUCH_PAN;break;default:this.state=lt.NONE}break;case 2:switch(this.touches.TWO){case Bi.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(a),this.state=lt.TOUCH_DOLLY_PAN;break;case Bi.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(a),this.state=lt.TOUCH_DOLLY_ROTATE;break;default:this.state=lt.NONE}break;default:this.state=lt.NONE}this.state!==lt.NONE&&this.dispatchEvent(il)}function Py(a){switch(this._trackPointer(a),this.state){case lt.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(a),this.update();break;case lt.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(a),this.update();break;case lt.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(a),this.update();break;case lt.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(a),this.update();break;default:this.state=lt.NONE}}function Ny(a){this.enabled!==!1&&a.preventDefault()}function Ly(a){a.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function Uy(a){a.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function Ld(a,e){if(e===Op)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),a;if(e===As||e===hu){let t=a.getIndex();if(t===null){const l=[],u=a.getAttribute("position");if(u!==void 0){for(let c=0;c<u.count;c++)l.push(c);a.setIndex(l),t=a.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),a}const n=t.count-2,i=[];if(e===As)for(let l=1;l<=n;l++)i.push(t.getX(0)),i.push(t.getX(l)),i.push(t.getX(l+1));else for(let l=0;l<n;l++)l%2===0?(i.push(t.getX(l)),i.push(t.getX(l+1)),i.push(t.getX(l+2))):(i.push(t.getX(l+2)),i.push(t.getX(l+1)),i.push(t.getX(l)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=a.clone();return o.setIndex(i),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),a}class Fu extends Mi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Vy(t)}),this.register(function(t){return new Hy(t)}),this.register(function(t){return new $y(t)}),this.register(function(t){return new Jy(t)}),this.register(function(t){return new Qy(t)}),this.register(function(t){return new Wy(t)}),this.register(function(t){return new qy(t)}),this.register(function(t){return new Yy(t)}),this.register(function(t){return new Xy(t)}),this.register(function(t){return new By(t)}),this.register(function(t){return new Ky(t)}),this.register(function(t){return new zy(t)}),this.register(function(t){return new Zy(t)}),this.register(function(t){return new jy(t)}),this.register(function(t){return new Fy(t)}),this.register(function(t){return new eE(t)}),this.register(function(t){return new tE(t)})}load(e,t,n,i){const o=this;let l;if(this.resourcePath!=="")l=this.resourcePath;else if(this.path!==""){const p=Aa.extractUrlBase(e);l=Aa.resolveURL(p,this.path)}else l=Aa.extractUrlBase(e);this.manager.itemStart(e);const u=function(p){i?i(p):console.error(p),o.manager.itemError(e),o.manager.itemEnd(e)},c=new Qs(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(p){try{o.parse(p,l,function(m){t(m),o.manager.itemEnd(e)},u)}catch(m){u(m)}},n,u)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let o;const l={},u={},c=new TextDecoder;if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(c.decode(new Uint8Array(e,0,4))===ku){try{l[Qe.KHR_BINARY_GLTF]=new nE(e)}catch(d){i&&i(d);return}o=JSON.parse(l[Qe.KHR_BINARY_GLTF].content)}else o=JSON.parse(c.decode(e));else o=e;if(o.asset===void 0||o.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const p=new fE(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});p.fileLoader.setRequestHeader(this.requestHeader);for(let m=0;m<this.pluginCallbacks.length;m++){const d=this.pluginCallbacks[m](p);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),u[d.name]=d,l[d.name]=!0}if(o.extensionsUsed)for(let m=0;m<o.extensionsUsed.length;++m){const d=o.extensionsUsed[m],r=o.extensionsRequired||[];switch(d){case Qe.KHR_MATERIALS_UNLIT:l[d]=new ky;break;case Qe.KHR_DRACO_MESH_COMPRESSION:l[d]=new iE(o,this.dracoLoader);break;case Qe.KHR_TEXTURE_TRANSFORM:l[d]=new aE;break;case Qe.KHR_MESH_QUANTIZATION:l[d]=new rE;break;default:r.indexOf(d)>=0&&u[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}p.setExtensions(l),p.setPlugins(u),p.parse(n,i)}parseAsync(e,t){const n=this;return new Promise(function(i,o){n.parse(e,t,i,o)})}}function Gy(){let a={};return{get:function(e){return a[e]},add:function(e,t){a[e]=t},remove:function(e){delete a[e]},removeAll:function(){a={}}}}const Qe={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Fy{constructor(e){this.parser=e,this.name=Qe.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const o=t[n];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const o=t.json,c=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let p;const m=new Ve(16777215);c.color!==void 0&&m.setRGB(c.color[0],c.color[1],c.color[2],wt);const d=c.range!==void 0?c.range:0;switch(c.type){case"directional":p=new Iu(m),p.target.position.set(0,0,-1),p.add(p.target);break;case"point":p=new uc(m),p.distance=d;break;case"spot":p=new lc(m),p.distance=d,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,p.angle=c.spot.outerConeAngle,p.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,p.target.position.set(0,0,-1),p.add(p.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return p.position.set(0,0,0),yn(p,c),c.intensity!==void 0&&(p.intensity=c.intensity),p.name=t.createUniqueName(c.name||"light_"+e),i=Promise.resolve(p),t.cache.add(n,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,o=n.json.nodes[e],u=(o.extensions&&o.extensions[this.name]||{}).light;return u===void 0?null:this._loadLight(u).then(function(c){return n._getNodeRef(t.cache,u,c)})}}class ky{constructor(){this.name=Qe.KHR_MATERIALS_UNLIT}getMaterialType(){return Bn}extendParams(e,t,n){const i=[];e.color=new Ve(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const l=o.baseColorFactor;e.color.setRGB(l[0],l[1],l[2],wt),e.opacity=l[3]}o.baseColorTexture!==void 0&&i.push(n.assignTexture(e,"map",o.baseColorTexture,bt))}return Promise.all(i)}}class By{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name].emissiveStrength;return o!==void 0&&(t.emissiveIntensity=o),Promise.resolve()}}class Vy{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],l=i.extensions[this.name];if(l.clearcoatFactor!==void 0&&(t.clearcoat=l.clearcoatFactor),l.clearcoatTexture!==void 0&&o.push(n.assignTexture(t,"clearcoatMap",l.clearcoatTexture)),l.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=l.clearcoatRoughnessFactor),l.clearcoatRoughnessTexture!==void 0&&o.push(n.assignTexture(t,"clearcoatRoughnessMap",l.clearcoatRoughnessTexture)),l.clearcoatNormalTexture!==void 0&&(o.push(n.assignTexture(t,"clearcoatNormalMap",l.clearcoatNormalTexture)),l.clearcoatNormalTexture.scale!==void 0)){const u=l.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ze(u,u)}return Promise.all(o)}}class Hy{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return t.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class zy{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],l=i.extensions[this.name];return l.iridescenceFactor!==void 0&&(t.iridescence=l.iridescenceFactor),l.iridescenceTexture!==void 0&&o.push(n.assignTexture(t,"iridescenceMap",l.iridescenceTexture)),l.iridescenceIor!==void 0&&(t.iridescenceIOR=l.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),l.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=l.iridescenceThicknessMinimum),l.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=l.iridescenceThicknessMaximum),l.iridescenceThicknessTexture!==void 0&&o.push(n.assignTexture(t,"iridescenceThicknessMap",l.iridescenceThicknessTexture)),Promise.all(o)}}class Wy{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new Ve(0,0,0),t.sheenRoughness=0,t.sheen=1;const l=i.extensions[this.name];if(l.sheenColorFactor!==void 0){const u=l.sheenColorFactor;t.sheenColor.setRGB(u[0],u[1],u[2],wt)}return l.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=l.sheenRoughnessFactor),l.sheenColorTexture!==void 0&&o.push(n.assignTexture(t,"sheenColorMap",l.sheenColorTexture,bt)),l.sheenRoughnessTexture!==void 0&&o.push(n.assignTexture(t,"sheenRoughnessMap",l.sheenRoughnessTexture)),Promise.all(o)}}class qy{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],l=i.extensions[this.name];return l.transmissionFactor!==void 0&&(t.transmission=l.transmissionFactor),l.transmissionTexture!==void 0&&o.push(n.assignTexture(t,"transmissionMap",l.transmissionTexture)),Promise.all(o)}}class Yy{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],l=i.extensions[this.name];t.thickness=l.thicknessFactor!==void 0?l.thicknessFactor:0,l.thicknessTexture!==void 0&&o.push(n.assignTexture(t,"thicknessMap",l.thicknessTexture)),t.attenuationDistance=l.attenuationDistance||1/0;const u=l.attenuationColor||[1,1,1];return t.attenuationColor=new Ve().setRGB(u[0],u[1],u[2],wt),Promise.all(o)}}class Xy{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return t.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class Ky{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],l=i.extensions[this.name];t.specularIntensity=l.specularFactor!==void 0?l.specularFactor:1,l.specularTexture!==void 0&&o.push(n.assignTexture(t,"specularIntensityMap",l.specularTexture));const u=l.specularColorFactor||[1,1,1];return t.specularColor=new Ve().setRGB(u[0],u[1],u[2],wt),l.specularColorTexture!==void 0&&o.push(n.assignTexture(t,"specularColorMap",l.specularColorTexture,bt)),Promise.all(o)}}class jy{constructor(e){this.parser=e,this.name=Qe.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],l=i.extensions[this.name];return t.bumpScale=l.bumpFactor!==void 0?l.bumpFactor:1,l.bumpTexture!==void 0&&o.push(n.assignTexture(t,"bumpMap",l.bumpTexture)),Promise.all(o)}}class Zy{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:On}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],l=i.extensions[this.name];return l.anisotropyStrength!==void 0&&(t.anisotropy=l.anisotropyStrength),l.anisotropyRotation!==void 0&&(t.anisotropyRotation=l.anisotropyRotation),l.anisotropyTexture!==void 0&&o.push(n.assignTexture(t,"anisotropyMap",l.anisotropyTexture)),Promise.all(o)}}class $y{constructor(e){this.parser=e,this.name=Qe.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const o=i.extensions[this.name],l=t.options.ktx2Loader;if(!l){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,l)}}class Jy{constructor(e){this.parser=e,this.name=Qe.EXT_TEXTURE_WEBP}loadTexture(e){const t=this.name,n=this.parser,i=n.json,o=i.textures[e];if(!o.extensions||!o.extensions[t])return null;const l=o.extensions[t],u=i.images[l.source];let c=n.textureLoader;if(u.uri){const p=n.options.manager.getHandler(u.uri);p!==null&&(c=p)}return n.loadTextureImage(e,l.source,c)}}class Qy{constructor(e){this.parser=e,this.name=Qe.EXT_TEXTURE_AVIF}loadTexture(e){const t=this.name,n=this.parser,i=n.json,o=i.textures[e];if(!o.extensions||!o.extensions[t])return null;const l=o.extensions[t],u=i.images[l.source];let c=n.textureLoader;if(u.uri){const p=n.options.manager.getHandler(u.uri);p!==null&&(c=p)}return n.loadTextureImage(e,l.source,c)}}class eE{constructor(e){this.name=Qe.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const i=n.extensions[this.name],o=this.parser.getDependency("buffer",i.buffer),l=this.parser.options.meshoptDecoder;if(!l||!l.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(u){const c=i.byteOffset||0,p=i.byteLength||0,m=i.count,d=i.byteStride,r=new Uint8Array(u,c,p);return l.decodeGltfBufferAsync?l.decodeGltfBufferAsync(m,d,r,i.mode,i.filter).then(function(s){return s.buffer}):l.ready.then(function(){const s=new ArrayBuffer(m*d);return l.decodeGltfBuffer(new Uint8Array(s),m,d,r,i.mode,i.filter),s})})}else return null}}class tE{constructor(e){this.name=Qe.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const i=t.meshes[n.mesh];for(const p of i.primitives)if(p.mode!==tn.TRIANGLES&&p.mode!==tn.TRIANGLE_STRIP&&p.mode!==tn.TRIANGLE_FAN&&p.mode!==void 0)return null;const l=n.extensions[this.name].attributes,u=[],c={};for(const p in l)u.push(this.parser.getDependency("accessor",l[p]).then(m=>(c[p]=m,c[p])));return u.length<1?null:(u.push(this.parser.createNodeMesh(e)),Promise.all(u).then(p=>{const m=p.pop(),d=m.isGroup?m.children:[m],r=p[0].count,s=[];for(const h of d){const g=new Ke,_=new te,f=new hn,C=new te(1,1,1),S=new Um(h.geometry,h.material,r);for(let D=0;D<r;D++)c.TRANSLATION&&_.fromBufferAttribute(c.TRANSLATION,D),c.ROTATION&&f.fromBufferAttribute(c.ROTATION,D),c.SCALE&&C.fromBufferAttribute(c.SCALE,D),S.setMatrixAt(D,g.compose(_,f,C));for(const D in c)if(D==="_COLOR_0"){const I=c[D];S.instanceColor=new xs(I.array,I.itemSize,I.normalized)}else D!=="TRANSLATION"&&D!=="ROTATION"&&D!=="SCALE"&&h.geometry.setAttribute(D,c[D]);ft.prototype.copy.call(S,h),this.parser.assignFinalMaterial(S),s.push(S)}return m.isGroup?(m.clear(),m.add(...s),m):s[0]}))}}const ku="glTF",_a=12,Ud={JSON:1313821514,BIN:5130562};class nE{constructor(e){this.name=Qe.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,_a),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==ku)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-_a,o=new DataView(e,_a);let l=0;for(;l<i;){const u=o.getUint32(l,!0);l+=4;const c=o.getUint32(l,!0);if(l+=4,c===Ud.JSON){const p=new Uint8Array(e,_a+l,u);this.content=n.decode(p)}else if(c===Ud.BIN){const p=_a+l;this.body=e.slice(p,p+u)}l+=u}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class iE{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Qe.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,i=this.dracoLoader,o=e.extensions[this.name].bufferView,l=e.extensions[this.name].attributes,u={},c={},p={};for(const m in l){const d=ws[m]||m.toLowerCase();u[d]=l[m]}for(const m in e.attributes){const d=ws[m]||m.toLowerCase();if(l[m]!==void 0){const r=n.accessors[e.attributes[m]],s=qi[r.componentType];p[d]=s.name,c[d]=r.normalized===!0}}return t.getDependency("bufferView",o).then(function(m){return new Promise(function(d,r){i.decodeDracoFile(m,function(s){for(const h in s.attributes){const g=s.attributes[h],_=c[h];_!==void 0&&(g.normalized=_)}d(s)},u,p,wt,r)})})}}class aE{constructor(){this.name=Qe.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class rE{constructor(){this.name=Qe.KHR_MESH_QUANTIZATION}}class Bu extends Ua{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,o=e*i*3+i;for(let l=0;l!==i;l++)t[l]=n[o+l];return t}interpolate_(e,t,n,i){const o=this.resultBuffer,l=this.sampleValues,u=this.valueSize,c=u*2,p=u*3,m=i-t,d=(n-t)/m,r=d*d,s=r*d,h=e*p,g=h-p,_=-2*s+3*r,f=s-r,C=1-_,S=f-r+d;for(let D=0;D!==u;D++){const I=l[g+D+u],U=l[g+D+c]*m,F=l[h+D+u],H=l[h+D]*m;o[D]=C*I+S*U+_*F+f*H}return o}}const oE=new hn;class sE extends Bu{interpolate_(e,t,n,i){const o=super.interpolate_(e,t,n,i);return oE.fromArray(o).normalize().toArray(o),o}}const tn={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},qi={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Gd={9728:St,9729:ht,9984:su,9985:Cr,9986:Ca,9987:Cn},Fd={33071:nn,33648:Dr,10497:Ki},Ro={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ws={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Qn={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},lE={CUBICSPLINE:void 0,LINEAR:ba,STEP:Ra},bo={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function dE(a){return a.DefaultMaterial===void 0&&(a.DefaultMaterial=new ii({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:qn})),a.DefaultMaterial}function hi(a,e,t){for(const n in t.extensions)a[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function yn(a,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(a.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function uE(a,e,t){let n=!1,i=!1,o=!1;for(let p=0,m=e.length;p<m;p++){const d=e[p];if(d.POSITION!==void 0&&(n=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(o=!0),n&&i&&o)break}if(!n&&!i&&!o)return Promise.resolve(a);const l=[],u=[],c=[];for(let p=0,m=e.length;p<m;p++){const d=e[p];if(n){const r=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):a.attributes.position;l.push(r)}if(i){const r=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):a.attributes.normal;u.push(r)}if(o){const r=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):a.attributes.color;c.push(r)}}return Promise.all([Promise.all(l),Promise.all(u),Promise.all(c)]).then(function(p){const m=p[0],d=p[1],r=p[2];return n&&(a.morphAttributes.position=m),i&&(a.morphAttributes.normal=d),o&&(a.morphAttributes.color=r),a.morphTargetsRelative=!0,a})}function pE(a,e){if(a.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)a.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(a.morphTargetInfluences.length===t.length){a.morphTargetDictionary={};for(let n=0,i=t.length;n<i;n++)a.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function mE(a){let e;const t=a.extensions&&a.extensions[Qe.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Do(t.attributes):e=a.indices+":"+Do(a.attributes)+":"+a.mode,a.targets!==void 0)for(let n=0,i=a.targets.length;n<i;n++)e+=":"+Do(a.targets[n]);return e}function Do(a){let e="";const t=Object.keys(a).sort();for(let n=0,i=t.length;n<i;n++)e+=t[n]+":"+a[t[n]]+";";return e}function Ps(a){switch(a){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function cE(a){return a.search(/\.jpe?g($|\?)/i)>0||a.search(/^data\:image\/jpeg/)===0?"image/jpeg":a.search(/\.webp($|\?)/i)>0||a.search(/^data\:image\/webp/)===0?"image/webp":a.search(/\.ktx2($|\?)/i)>0||a.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const hE=new Ke;class fE{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Gy,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=-1,o=!1,l=-1;if(typeof navigator<"u"){const u=navigator.userAgent;n=/^((?!chrome|android).)*safari/i.test(u)===!0;const c=u.match(/Version\/(\d+)/);i=n&&c?parseInt(c[1],10):-1,o=u.indexOf("Firefox")>-1,l=o?u.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||n&&i<17||o&&l<98?this.textureLoader=new oc(this.options.manager):this.textureLoader=new cc(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Qs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(l){return l._markDefs&&l._markDefs()}),Promise.all(this._invokeAll(function(l){return l.beforeRoot&&l.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(l){const u={scene:l[0][i.scene||0],scenes:l[0],animations:l[1],cameras:l[2],asset:i.asset,parser:n,userData:{}};return hi(o,u,i),yn(u,i),Promise.all(n._invokeAll(function(c){return c.afterRoot&&c.afterRoot(u)})).then(function(){for(const c of u.scenes)c.updateMatrixWorld();e(u)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let i=0,o=t.length;i<o;i++){const l=t[i].joints;for(let u=0,c=l.length;u<c;u++)e[l[u]].isBone=!0}for(let i=0,o=e.length;i<o;i++){const l=e[i];l.mesh!==void 0&&(this._addNodeRef(this.meshCache,l.mesh),l.skin!==void 0&&(n[l.mesh].isSkinnedMesh=!0)),l.camera!==void 0&&this._addNodeRef(this.cameraCache,l.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),o=(l,u)=>{const c=this.associations.get(l);c!=null&&this.associations.set(u,c);for(const[p,m]of l.children.entries())o(m,u.children[p])};return o(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const o=e(t[i]);o&&n.push(o)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(o){return o.loadNode&&o.loadNode(t)});break;case"mesh":i=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(o,l){return n.getDependency(e,l)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Qe.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(o,l){n.load(Aa.resolveURL(t.uri,i.path),o,void 0,function(){l(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const i=t.byteLength||0,o=t.byteOffset||0;return n.slice(o,o+i)})}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const l=Ro[i.type],u=qi[i.componentType],c=i.normalized===!0,p=new u(i.count*l);return Promise.resolve(new It(p,l,c))}const o=[];return i.bufferView!==void 0?o.push(this.getDependency("bufferView",i.bufferView)):o.push(null),i.sparse!==void 0&&(o.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(o).then(function(l){const u=l[0],c=Ro[i.type],p=qi[i.componentType],m=p.BYTES_PER_ELEMENT,d=m*c,r=i.byteOffset||0,s=i.bufferView!==void 0?n.bufferViews[i.bufferView].byteStride:void 0,h=i.normalized===!0;let g,_;if(s&&s!==d){const f=Math.floor(r/s),C="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+f+":"+i.count;let S=t.cache.get(C);S||(g=new p(u,f*s,i.count*s/m),S=new Im(g,s/m),t.cache.add(C,S)),_=new Xs(S,c,r%s/m,h)}else u===null?g=new p(i.count*c):g=new p(u,r,i.count*c),_=new It(g,c,h);if(i.sparse!==void 0){const f=Ro.SCALAR,C=qi[i.sparse.indices.componentType],S=i.sparse.indices.byteOffset||0,D=i.sparse.values.byteOffset||0,I=new C(l[1],S,i.sparse.count*f),U=new p(l[2],D,i.sparse.count*c);u!==null&&(_=new It(_.array.slice(),_.itemSize,_.normalized)),_.normalized=!1;for(let F=0,H=I.length;F<H;F++){const R=I[F];if(_.setX(R,U[F*c]),c>=2&&_.setY(R,U[F*c+1]),c>=3&&_.setZ(R,U[F*c+2]),c>=4&&_.setW(R,U[F*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}_.normalized=h}return _})}loadTexture(e){const t=this.json,n=this.options,o=t.textures[e].source,l=t.images[o];let u=this.textureLoader;if(l.uri){const c=n.manager.getHandler(l.uri);c!==null&&(u=c)}return this.loadTextureImage(e,o,u)}loadTextureImage(e,t,n){const i=this,o=this.json,l=o.textures[e],u=o.images[t],c=(u.uri||u.bufferView)+":"+l.sampler;if(this.textureCache[c])return this.textureCache[c];const p=this.loadImageSource(t,n).then(function(m){m.flipY=!1,m.name=l.name||u.name||"",m.name===""&&typeof u.uri=="string"&&u.uri.startsWith("data:image/")===!1&&(m.name=u.uri);const r=(o.samplers||{})[l.sampler]||{};return m.magFilter=Gd[r.magFilter]||ht,m.minFilter=Gd[r.minFilter]||Cn,m.wrapS=Fd[r.wrapS]||Ki,m.wrapT=Fd[r.wrapT]||Ki,m.generateMipmaps=!m.isCompressedTexture&&m.minFilter!==St&&m.minFilter!==ht,i.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[c]=p,p}loadImageSource(e,t){const n=this,i=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const l=i.images[e],u=self.URL||self.webkitURL;let c=l.uri||"",p=!1;if(l.bufferView!==void 0)c=n.getDependency("bufferView",l.bufferView).then(function(d){p=!0;const r=new Blob([d],{type:l.mimeType});return c=u.createObjectURL(r),c});else if(l.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(c).then(function(d){return new Promise(function(r,s){let h=r;t.isImageBitmapLoader===!0&&(h=function(g){const _=new Rt(g);_.needsUpdate=!0,r(_)}),t.load(Aa.resolveURL(d,o.path),h,void 0,s)})}).then(function(d){return p===!0&&u.revokeObjectURL(c),yn(d,l),d.userData.mimeType=l.mimeType||cE(l.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),d});return this.sourceCache[e]=m,m}assignTexture(e,t,n,i){const o=this;return this.getDependency("texture",n.index).then(function(l){if(!l)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(l=l.clone(),l.channel=n.texCoord),o.extensions[Qe.KHR_TEXTURE_TRANSFORM]){const u=n.extensions!==void 0?n.extensions[Qe.KHR_TEXTURE_TRANSFORM]:void 0;if(u){const c=o.associations.get(l);l=o.extensions[Qe.KHR_TEXTURE_TRANSFORM].extendTexture(l,u),o.associations.set(l,c)}}return i!==void 0&&(l.colorSpace=i),e[t]=l,l})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=t.attributes.tangent===void 0,o=t.attributes.color!==void 0,l=t.attributes.normal===void 0;if(e.isPoints){const u="PointsMaterial:"+n.uuid;let c=this.cache.get(u);c||(c=new Ru,An.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,c.sizeAttenuation=!1,this.cache.add(u,c)),n=c}else if(e.isLine){const u="LineBasicMaterial:"+n.uuid;let c=this.cache.get(u);c||(c=new Zs,An.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,this.cache.add(u,c)),n=c}if(i||o||l){let u="ClonedMaterial:"+n.uuid+":";i&&(u+="derivative-tangents:"),o&&(u+="vertex-colors:"),l&&(u+="flat-shading:");let c=this.cache.get(u);c||(c=n.clone(),o&&(c.vertexColors=!0),l&&(c.flatShading=!0),i&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(u,c),this.associations.set(c,this.associations.get(n))),n=c}e.material=n}getMaterialType(){return ii}loadMaterial(e){const t=this,n=this.json,i=this.extensions,o=n.materials[e];let l;const u={},c=o.extensions||{},p=[];if(c[Qe.KHR_MATERIALS_UNLIT]){const d=i[Qe.KHR_MATERIALS_UNLIT];l=d.getMaterialType(),p.push(d.extendParams(u,o,t))}else{const d=o.pbrMetallicRoughness||{};if(u.color=new Ve(1,1,1),u.opacity=1,Array.isArray(d.baseColorFactor)){const r=d.baseColorFactor;u.color.setRGB(r[0],r[1],r[2],wt),u.opacity=r[3]}d.baseColorTexture!==void 0&&p.push(t.assignTexture(u,"map",d.baseColorTexture,bt)),u.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,u.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(p.push(t.assignTexture(u,"metalnessMap",d.metallicRoughnessTexture)),p.push(t.assignTexture(u,"roughnessMap",d.metallicRoughnessTexture))),l=this._invokeOne(function(r){return r.getMaterialType&&r.getMaterialType(e)}),p.push(Promise.all(this._invokeAll(function(r){return r.extendMaterialParams&&r.extendMaterialParams(e,u)})))}o.doubleSided===!0&&(u.side=un);const m=o.alphaMode||bo.OPAQUE;if(m===bo.BLEND?(u.transparent=!0,u.depthWrite=!1):(u.transparent=!1,m===bo.MASK&&(u.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&l!==Bn&&(p.push(t.assignTexture(u,"normalMap",o.normalTexture)),u.normalScale=new ze(1,1),o.normalTexture.scale!==void 0)){const d=o.normalTexture.scale;u.normalScale.set(d,d)}if(o.occlusionTexture!==void 0&&l!==Bn&&(p.push(t.assignTexture(u,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(u.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&l!==Bn){const d=o.emissiveFactor;u.emissive=new Ve().setRGB(d[0],d[1],d[2],wt)}return o.emissiveTexture!==void 0&&l!==Bn&&p.push(t.assignTexture(u,"emissiveMap",o.emissiveTexture,bt)),Promise.all(p).then(function(){const d=new l(u);return o.name&&(d.name=o.name),yn(d,o),t.associations.set(d,{materials:e}),o.extensions&&hi(i,d,o),d})}createUniqueName(e){const t=ot.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function o(u){return n[Qe.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(u,t).then(function(c){return kd(c,u,t)})}const l=[];for(let u=0,c=e.length;u<c;u++){const p=e[u],m=mE(p),d=i[m];if(d)l.push(d.promise);else{let r;p.extensions&&p.extensions[Qe.KHR_DRACO_MESH_COMPRESSION]?r=o(p):r=kd(new Pt,p,t),i[m]={primitive:p,promise:r},l.push(r)}}return Promise.all(l)}loadMesh(e){const t=this,n=this.json,i=this.extensions,o=n.meshes[e],l=o.primitives,u=[];for(let c=0,p=l.length;c<p;c++){const m=l[c].material===void 0?dE(this.cache):this.getDependency("material",l[c].material);u.push(m)}return u.push(t.loadGeometries(l)),Promise.all(u).then(function(c){const p=c.slice(0,c.length-1),m=c[c.length-1],d=[];for(let s=0,h=m.length;s<h;s++){const g=m[s],_=l[s];let f;const C=p[s];if(_.mode===tn.TRIANGLES||_.mode===tn.TRIANGLE_STRIP||_.mode===tn.TRIANGLE_FAN||_.mode===void 0)f=o.isSkinnedMesh===!0?new Pm(g,C):new ct(g,C),f.isSkinnedMesh===!0&&f.normalizeSkinWeights(),_.mode===tn.TRIANGLE_STRIP?f.geometry=Ld(f.geometry,hu):_.mode===tn.TRIANGLE_FAN&&(f.geometry=Ld(f.geometry,As));else if(_.mode===tn.LINES)f=new Bm(g,C);else if(_.mode===tn.LINE_STRIP)f=new Ia(g,C);else if(_.mode===tn.LINE_LOOP)f=new Vm(g,C);else if(_.mode===tn.POINTS)f=new Hm(g,C);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(f.geometry.morphAttributes).length>0&&pE(f,o),f.name=t.createUniqueName(o.name||"mesh_"+e),yn(f,o),_.extensions&&hi(i,f,_),t.assignFinalMaterial(f),d.push(f)}for(let s=0,h=d.length;s<h;s++)t.associations.set(d[s],{meshes:e,primitives:s});if(d.length===1)return o.extensions&&hi(i,d[0],o),d[0];const r=new Vn;o.extensions&&hi(i,r,o),t.associations.set(r,{meshes:e});for(let s=0,h=d.length;s<h;s++)r.add(d[s]);return r})}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new Ft(gu.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):n.type==="orthographic"&&(t=new Fr(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),yn(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let i=0,o=t.joints.length;i<o;i++)n.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(i){const o=i.pop(),l=i,u=[],c=[];for(let p=0,m=l.length;p<m;p++){const d=l[p];if(d){u.push(d);const r=new Ke;o!==null&&r.fromArray(o.array,p*16),c.push(r)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[p])}return new Ks(u,c)})}loadAnimation(e){const t=this.json,n=this,i=t.animations[e],o=i.name?i.name:"animation_"+e,l=[],u=[],c=[],p=[],m=[];for(let d=0,r=i.channels.length;d<r;d++){const s=i.channels[d],h=i.samplers[s.sampler],g=s.target,_=g.node,f=i.parameters!==void 0?i.parameters[h.input]:h.input,C=i.parameters!==void 0?i.parameters[h.output]:h.output;g.node!==void 0&&(l.push(this.getDependency("node",_)),u.push(this.getDependency("accessor",f)),c.push(this.getDependency("accessor",C)),p.push(h),m.push(g))}return Promise.all([Promise.all(l),Promise.all(u),Promise.all(c),Promise.all(p),Promise.all(m)]).then(function(d){const r=d[0],s=d[1],h=d[2],g=d[3],_=d[4],f=[];for(let S=0,D=r.length;S<D;S++){const I=r[S],U=s[S],F=h[S],H=g[S],R=_[S];if(I===void 0)continue;I.updateMatrix&&I.updateMatrix();const N=n._createAnimationTracks(I,U,F,H,R);if(N)for(let q=0;q<N.length;q++)f.push(N[q])}const C=new Jm(o,void 0,f);return yn(C,i),C})}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return i.mesh===void 0?null:n.getDependency("mesh",i.mesh).then(function(o){const l=n._getNodeRef(n.meshCache,i.mesh,o);return i.weights!==void 0&&l.traverse(function(u){if(u.isMesh)for(let c=0,p=i.weights.length;c<p;c++)u.morphTargetInfluences[c]=i.weights[c]}),l})}loadNode(e){const t=this.json,n=this,i=t.nodes[e],o=n._loadNodeShallow(e),l=[],u=i.children||[];for(let p=0,m=u.length;p<m;p++)l.push(n.getDependency("node",u[p]));const c=i.skin===void 0?Promise.resolve(null):n.getDependency("skin",i.skin);return Promise.all([o,Promise.all(l),c]).then(function(p){const m=p[0],d=p[1],r=p[2];r!==null&&m.traverse(function(s){s.isSkinnedMesh&&s.bind(r,hE)});for(let s=0,h=d.length;s<h;s++)m.add(d[s]);return m})}_loadNodeShallow(e){const t=this.json,n=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=t.nodes[e],l=o.name?i.createUniqueName(o.name):"",u=[],c=i._invokeOne(function(p){return p.createNodeMesh&&p.createNodeMesh(e)});return c&&u.push(c),o.camera!==void 0&&u.push(i.getDependency("camera",o.camera).then(function(p){return i._getNodeRef(i.cameraCache,o.camera,p)})),i._invokeAll(function(p){return p.createNodeAttachment&&p.createNodeAttachment(e)}).forEach(function(p){u.push(p)}),this.nodeCache[e]=Promise.all(u).then(function(p){let m;if(o.isBone===!0?m=new xu:p.length>1?m=new Vn:p.length===1?m=p[0]:m=new ft,m!==p[0])for(let d=0,r=p.length;d<r;d++)m.add(p[d]);if(o.name&&(m.userData.name=o.name,m.name=l),yn(m,o),o.extensions&&hi(n,m,o),o.matrix!==void 0){const d=new Ke;d.fromArray(o.matrix),m.applyMatrix4(d)}else o.translation!==void 0&&m.position.fromArray(o.translation),o.rotation!==void 0&&m.quaternion.fromArray(o.rotation),o.scale!==void 0&&m.scale.fromArray(o.scale);if(!i.associations.has(m))i.associations.set(m,{});else if(o.mesh!==void 0&&i.meshCache.refs[o.mesh]>1){const d=i.associations.get(m);i.associations.set(m,{...d})}return i.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],i=this,o=new Vn;n.name&&(o.name=i.createUniqueName(n.name)),yn(o,n),n.extensions&&hi(t,o,n);const l=n.nodes||[],u=[];for(let c=0,p=l.length;c<p;c++)u.push(i.getDependency("node",l[c]));return Promise.all(u).then(function(c){for(let m=0,d=c.length;m<d;m++)o.add(c[m]);const p=m=>{const d=new Map;for(const[r,s]of i.associations)(r instanceof An||r instanceof Rt)&&d.set(r,s);return m.traverse(r=>{const s=i.associations.get(r);s!=null&&d.set(r,s)}),d};return i.associations=p(o),o})}_createAnimationTracks(e,t,n,i,o){const l=[],u=e.name?e.name:e.uuid,c=[];Qn[o.path]===Qn.weights?e.traverse(function(r){r.morphTargetInfluences&&c.push(r.name?r.name:r.uuid)}):c.push(u);let p;switch(Qn[o.path]){case Qn.weights:p=Ji;break;case Qn.rotation:p=Qi;break;case Qn.translation:case Qn.scale:p=ea;break;default:switch(n.itemSize){case 1:p=Ji;break;case 2:case 3:default:p=ea;break}break}const m=i.interpolation!==void 0?lE[i.interpolation]:ba,d=this._getArrayFromAccessor(n);for(let r=0,s=c.length;r<s;r++){const h=new p(c[r]+"."+Qn[o.path],t.array,d,m);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(h),l.push(h)}return l}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=Ps(t.constructor),i=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o++)i[o]=t[o]*n;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const i=this instanceof Qi?sE:Bu;return new i(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function _E(a,e,t){const n=e.attributes,i=new bn;if(n.POSITION!==void 0){const u=t.json.accessors[n.POSITION],c=u.min,p=u.max;if(c!==void 0&&p!==void 0){if(i.set(new te(c[0],c[1],c[2]),new te(p[0],p[1],p[2])),u.normalized){const m=Ps(qi[u.componentType]);i.min.multiplyScalar(m),i.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const u=new te,c=new te;for(let p=0,m=o.length;p<m;p++){const d=o[p];if(d.POSITION!==void 0){const r=t.json.accessors[d.POSITION],s=r.min,h=r.max;if(s!==void 0&&h!==void 0){if(c.setX(Math.max(Math.abs(s[0]),Math.abs(h[0]))),c.setY(Math.max(Math.abs(s[1]),Math.abs(h[1]))),c.setZ(Math.max(Math.abs(s[2]),Math.abs(h[2]))),r.normalized){const g=Ps(qi[r.componentType]);c.multiplyScalar(g)}u.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(u)}a.boundingBox=i;const l=new Dn;i.getCenter(l.center),l.radius=i.min.distanceTo(i.max)/2,a.boundingSphere=l}function kd(a,e,t){const n=e.attributes,i=[];function o(l,u){return t.getDependency("accessor",l).then(function(c){a.setAttribute(u,c)})}for(const l in n){const u=ws[l]||l.toLowerCase();u in a.attributes||i.push(o(n[l],u))}if(e.indices!==void 0&&!a.index){const l=t.getDependency("accessor",e.indices).then(function(u){a.setIndex(u)});i.push(l)}return et.workingColorSpace!==wt&&"COLOR_0"in n&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${et.workingColorSpace}" not supported.`),yn(a,e),_E(a,e,t),Promise.all(i).then(function(){return e.targets!==void 0?uE(a,e.targets,t):a})}class gE extends rc{constructor(e){super(e),this.type=Zt}parse(e){const l=function(H,R){switch(H){case 1:throw new Error("THREE.HDRLoader: Read Error: "+(R||""));case 2:throw new Error("THREE.HDRLoader: Write Error: "+(R||""));case 3:throw new Error("THREE.HDRLoader: Bad File Format: "+(R||""));default:case 4:throw new Error("THREE.HDRLoader: Memory Error: "+(R||""))}},d=function(H,R,N){R=R||1024;let Q=H.pos,T=-1,b=0,v="",P=String.fromCharCode.apply(null,new Uint16Array(H.subarray(Q,Q+128)));for(;0>(T=P.indexOf(`
`))&&b<R&&Q<H.byteLength;)v+=P,b+=P.length,Q+=128,P+=String.fromCharCode.apply(null,new Uint16Array(H.subarray(Q,Q+128)));return-1<T?(H.pos+=b+T+1,v+P.slice(0,T)):!1},r=function(H){const R=/^#\?(\S+)/,N=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,q=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Q=/^\s*FORMAT=(\S+)\s*$/,T=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,b={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let v,P;for((H.pos>=H.byteLength||!(v=d(H)))&&l(1,"no header found"),(P=v.match(R))||l(3,"bad initial token"),b.valid|=1,b.programtype=P[1],b.string+=v+`
`;v=d(H),v!==!1;){if(b.string+=v+`
`,v.charAt(0)==="#"){b.comments+=v+`
`;continue}if((P=v.match(N))&&(b.gamma=parseFloat(P[1])),(P=v.match(q))&&(b.exposure=parseFloat(P[1])),(P=v.match(Q))&&(b.valid|=2,b.format=P[1]),(P=v.match(T))&&(b.valid|=4,b.height=parseInt(P[1],10),b.width=parseInt(P[2],10)),b.valid&2&&b.valid&4)break}return b.valid&2||l(3,"missing format specifier"),b.valid&4||l(3,"missing image size specifier"),b},s=function(H,R,N){const q=R;if(q<8||q>32767||H[0]!==2||H[1]!==2||H[2]&128)return new Uint8Array(H);q!==(H[2]<<8|H[3])&&l(3,"wrong scanline width");const Q=new Uint8Array(4*R*N);Q.length||l(4,"unable to allocate buffer space");let T=0,b=0;const v=4*q,P=new Uint8Array(4),O=new Uint8Array(v);let W=N;for(;W>0&&b<H.byteLength;){b+4>H.byteLength&&l(1),P[0]=H[b++],P[1]=H[b++],P[2]=H[b++],P[3]=H[b++],(P[0]!=2||P[1]!=2||(P[2]<<8|P[3])!=q)&&l(3,"bad rgbe scanline format");let ie=0,J;for(;ie<v&&b<H.byteLength;){J=H[b++];const he=J>128;if(he&&(J-=128),(J===0||ie+J>v)&&l(3,"bad scanline data"),he){const ue=H[b++];for(let we=0;we<J;we++)O[ie++]=ue}else O.set(H.subarray(b,b+J),ie),ie+=J,b+=J}const ae=q;for(let he=0;he<ae;he++){let ue=0;Q[T]=O[he+ue],ue+=q,Q[T+1]=O[he+ue],ue+=q,Q[T+2]=O[he+ue],ue+=q,Q[T+3]=O[he+ue],T+=4}W--}return Q},h=function(H,R,N,q){const Q=H[R+3],T=Math.pow(2,Q-128)/255;N[q+0]=H[R+0]*T,N[q+1]=H[R+1]*T,N[q+2]=H[R+2]*T,N[q+3]=1},g=function(H,R,N,q){const Q=H[R+3],T=Math.pow(2,Q-128)/255;N[q+0]=Ka.toHalfFloat(Math.min(H[R+0]*T,65504)),N[q+1]=Ka.toHalfFloat(Math.min(H[R+1]*T,65504)),N[q+2]=Ka.toHalfFloat(Math.min(H[R+2]*T,65504)),N[q+3]=Ka.toHalfFloat(1)},_=new Uint8Array(e);_.pos=0;const f=r(_),C=f.width,S=f.height,D=s(_.subarray(_.pos),C,S);let I,U,F;switch(this.type){case kt:F=D.length/4;const H=new Float32Array(F*4);for(let N=0;N<F;N++)h(D,N*4,H,N*4);I=H,U=kt;break;case Zt:F=D.length/4;const R=new Uint16Array(F*4);for(let N=0;N<F;N++)g(D,N*4,R,N*4);I=R,U=Zt;break;default:throw new Error("THREE.HDRLoader: Unsupported type: "+this.type)}return{width:C,height:S,data:I,header:f.string,gamma:f.gamma,exposure:f.exposure,type:U}}setDataType(e){return this.type=e,this}load(e,t,n,i){function o(l,u){switch(l.type){case kt:case Zt:l.colorSpace=wt,l.minFilter=ht,l.magFilter=ht,l.generateMipmaps=!1,l.flipY=!0;break}t&&t(l,u)}return super.load(e,o,n,i)}}class yE extends gE{constructor(e){console.warn("RGBELoader has been deprecated. Please use HDRLoader instead."),super(e)}}const Et={ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};async function Vu(a){const e=await fetch(a);if(e.ok)return e.json();throw new Error(e.statusText)}async function EE(a){if(!a)throw new Error("No basePath supplied");return await Vu(`${a}/profilesList.json`)}async function CE(a,e,t=null,n=!0){if(!a)throw new Error("No xrInputSource supplied");if(!e)throw new Error("No basePath supplied");const i=await EE(e);let o;if(a.profiles.some(c=>{const p=i[c];return p&&(o={profileId:c,profilePath:`${e}/${p.path}`,deprecated:!!p.deprecated}),!!o}),!o){if(!t)throw new Error("No matching profile name found");const c=i[t];if(!c)throw new Error(`No matching profile name found and default profile "${t}" missing.`);o={profileId:t,profilePath:`${e}/${c.path}`,deprecated:!!c.deprecated}}const l=await Vu(o.profilePath);let u;if(n){let c;if(a.handedness==="any"?c=l.layouts[Object.keys(l.layouts)[0]]:c=l.layouts[a.handedness],!c)throw new Error(`No matching handedness, ${a.handedness}, in profile ${o.profileId}`);c.assetPath&&(u=o.profilePath.replace("profile.json",c.assetPath))}return{profile:l,assetPath:u}}const TE={xAxis:0,yAxis:0,button:0,state:Et.ComponentState.DEFAULT};function ME(a=0,e=0){let t=a,n=e;if(Math.sqrt(a*a+e*e)>1){const l=Math.atan2(e,a);t=Math.cos(l),n=Math.sin(l)}return{normalizedXAxis:t*.5+.5,normalizedYAxis:n*.5+.5}}class SE{constructor(e){this.componentProperty=e.componentProperty,this.states=e.states,this.valueNodeName=e.valueNodeName,this.valueNodeProperty=e.valueNodeProperty,this.valueNodeProperty===Et.VisualResponseProperty.TRANSFORM&&(this.minNodeName=e.minNodeName,this.maxNodeName=e.maxNodeName),this.value=0,this.updateFromComponent(TE)}updateFromComponent({xAxis:e,yAxis:t,button:n,state:i}){const{normalizedXAxis:o,normalizedYAxis:l}=ME(e,t);switch(this.componentProperty){case Et.ComponentProperty.X_AXIS:this.value=this.states.includes(i)?o:.5;break;case Et.ComponentProperty.Y_AXIS:this.value=this.states.includes(i)?l:.5;break;case Et.ComponentProperty.BUTTON:this.value=this.states.includes(i)?n:0;break;case Et.ComponentProperty.STATE:this.valueNodeProperty===Et.VisualResponseProperty.VISIBILITY?this.value=this.states.includes(i):this.value=this.states.includes(i)?1:0;break;default:throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`)}}}class AE{constructor(e,t){if(!e||!t||!t.visualResponses||!t.gamepadIndices||Object.keys(t.gamepadIndices).length===0)throw new Error("Invalid arguments supplied");this.id=e,this.type=t.type,this.rootNodeName=t.rootNodeName,this.touchPointNodeName=t.touchPointNodeName,this.visualResponses={},Object.keys(t.visualResponses).forEach(n=>{const i=new SE(t.visualResponses[n]);this.visualResponses[n]=i}),this.gamepadIndices=Object.assign({},t.gamepadIndices),this.values={state:Et.ComponentState.DEFAULT,button:this.gamepadIndices.button!==void 0?0:void 0,xAxis:this.gamepadIndices.xAxis!==void 0?0:void 0,yAxis:this.gamepadIndices.yAxis!==void 0?0:void 0}}get data(){return{id:this.id,...this.values}}updateFromGamepad(e){if(this.values.state=Et.ComponentState.DEFAULT,this.gamepadIndices.button!==void 0&&e.buttons.length>this.gamepadIndices.button){const t=e.buttons[this.gamepadIndices.button];this.values.button=t.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,t.pressed||this.values.button===1?this.values.state=Et.ComponentState.PRESSED:(t.touched||this.values.button>Et.ButtonTouchThreshold)&&(this.values.state=Et.ComponentState.TOUCHED)}this.gamepadIndices.xAxis!==void 0&&e.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=e.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===Et.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>Et.AxisTouchThreshold&&(this.values.state=Et.ComponentState.TOUCHED)),this.gamepadIndices.yAxis!==void 0&&e.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=e.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===Et.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>Et.AxisTouchThreshold&&(this.values.state=Et.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(t=>{t.updateFromComponent(this.values)})}}class vE{constructor(e,t,n){if(!e)throw new Error("No xrInputSource supplied");if(!t)throw new Error("No profile supplied");this.xrInputSource=e,this.assetUrl=n,this.id=t.profileId,this.layoutDescription=t.layouts[e.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(i=>{const o=this.layoutDescription.components[i];this.components[i]=new AE(i,o)}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const e=[];return Object.values(this.components).forEach(t=>{e.push(t.data)}),e}updateFromGamepad(){Object.values(this.components).forEach(e=>{e.updateFromGamepad(this.xrInputSource.gamepad)})}}const xE="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles",RE="generic-trigger";class bE extends ft{constructor(){super(),this.motionController=null,this.envMap=null}setEnvironmentMap(e){return this.envMap==e?this:(this.envMap=e,this.traverse(t=>{t.isMesh&&(t.material.envMap=this.envMap,t.material.needsUpdate=!0)}),this)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.motionController&&(this.motionController.updateFromGamepad(),Object.values(this.motionController.components).forEach(t=>{Object.values(t.visualResponses).forEach(n=>{const{valueNode:i,minNode:o,maxNode:l,value:u,valueNodeProperty:c}=n;i&&(c===Et.VisualResponseProperty.VISIBILITY?i.visible=u:c===Et.VisualResponseProperty.TRANSFORM&&(i.quaternion.slerpQuaternions(o.quaternion,l.quaternion,u),i.position.lerpVectors(o.position,l.position,u)))})}))}}function DE(a,e){Object.values(a.components).forEach(t=>{const{type:n,touchPointNodeName:i,visualResponses:o}=t;if(n===Et.ComponentType.TOUCHPAD)if(t.touchPointNode=e.getObjectByName(i),t.touchPointNode){const l=new Ei(.001),u=new Bn({color:255}),c=new ct(l,u);t.touchPointNode.add(c)}else console.warn(`Could not find touch dot, ${t.touchPointNodeName}, in touchpad component ${t.id}`);Object.values(o).forEach(l=>{const{valueNodeName:u,minNodeName:c,maxNodeName:p,valueNodeProperty:m}=l;if(m===Et.VisualResponseProperty.TRANSFORM){if(l.minNode=e.getObjectByName(c),l.maxNode=e.getObjectByName(p),!l.minNode){console.warn(`Could not find ${c} in the model`);return}if(!l.maxNode){console.warn(`Could not find ${p} in the model`);return}}l.valueNode=e.getObjectByName(u),l.valueNode||console.warn(`Could not find ${u} in the model`)})})}function Bd(a,e){DE(a.motionController,e),a.envMap&&e.traverse(t=>{t.isMesh&&(t.material.envMap=a.envMap,t.material.needsUpdate=!0)}),a.add(e)}class OE{constructor(e=null,t=null){this.gltfLoader=e,this.path=xE,this._assetCache={},this.onLoad=t,this.gltfLoader||(this.gltfLoader=new Fu)}setPath(e){return this.path=e,this}createControllerModel(e){const t=new bE;let n=null;return e.addEventListener("connected",i=>{const o=i.data;o.targetRayMode!=="tracked-pointer"||!o.gamepad||o.hand||CE(o,this.path,RE).then(({profile:l,assetPath:u})=>{t.motionController=new vE(o,l,u);const c=this._assetCache[t.motionController.assetUrl];if(c)n=c.scene.clone(),Bd(t,n),this.onLoad&&this.onLoad(n);else{if(!this.gltfLoader)throw new Error("GLTFLoader not set.");this.gltfLoader.setPath(""),this.gltfLoader.load(t.motionController.assetUrl,p=>{this._assetCache[t.motionController.assetUrl]=p,n=p.scene.clone(),Bd(t,n),this.onLoad&&this.onLoad(n)},null,()=>{throw new Error(`Asset ${t.motionController.assetUrl} missing or malformed.`)})}}).catch(l=>{console.warn(l)})}),e.addEventListener("disconnected",()=>{t.motionController=null,t.remove(n),n=null}),t}}class IE{static createButton(e,t={}){const n=document.createElement("button");function i(p){let m=null;async function d(h){h.addEventListener("end",r),await e.xr.setSession(h),n.textContent="STOP XR",m=h}function r(){m.removeEventListener("end",r),n.textContent="START XR",m=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="START XR";const s={...t,optionalFeatures:["local-floor","bounded-floor","layers",...t.optionalFeatures||[]]};n.onmouseenter=function(){n.style.opacity="1.0"},n.onmouseleave=function(){n.style.opacity="0.5"},n.onclick=function(){m===null?navigator.xr.requestSession(p,s).then(d):(m.end(),navigator.xr.offerSession!==void 0&&navigator.xr.offerSession(p,s).then(d).catch(h=>{console.warn(h)}))},navigator.xr.offerSession!==void 0&&navigator.xr.offerSession(p,s).then(d).catch(h=>{console.warn(h)})}function o(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null}function l(){o(),n.textContent="XR NOT SUPPORTED"}function u(p){o(),console.warn("Exception when trying to call xr.isSessionSupported",p),n.textContent="XR NOT ALLOWED"}function c(p){p.style.position="absolute",p.style.bottom="20px",p.style.padding="12px 6px",p.style.border="1px solid #fff",p.style.borderRadius="4px",p.style.background="rgba(0,0,0,0.1)",p.style.color="#fff",p.style.font="normal 13px sans-serif",p.style.textAlign="center",p.style.opacity="0.5",p.style.outline="none",p.style.zIndex="999"}if("xr"in navigator)return n.id="XRButton",n.style.display="none",c(n),navigator.xr.isSessionSupported("immersive-ar").then(function(p){p?i("immersive-ar"):navigator.xr.isSessionSupported("immersive-vr").then(function(m){m?i("immersive-vr"):l()}).catch(u)}).catch(u),n;{const p=document.createElement("a");return window.isSecureContext===!1?(p.href=document.location.href.replace(/^http:/,"https:"),p.innerHTML="WEBXR NEEDS HTTPS"):(p.href="https://immersiveweb.dev/",p.innerHTML="WEBXR NOT AVAILABLE"),p.style.left="calc(50% - 90px)",p.style.width="180px",p.style.textDecoration="none",c(p),p}}}function al(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xr={exports:{}},Rr={exports:{}},br={exports:{}},wE=br.exports,Vd;function Hu(){return Vd||(Vd=1,(function(a){(function(e,t){typeof al=="function"&&a&&a.exports?a.exports=t():(e.dcodeIO=e.dcodeIO||{}).Long=t()})(wE,function(){function e(m,d,r){this.low=m|0,this.high=d|0,this.unsigned=!!r}e.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=function(d){return(d&&d.__isLong__)===!0};var t={},n={};e.fromInt=function(d,r){var s,h;return r?(d=d>>>0,0<=d&&d<256&&(h=n[d],h)?h:(s=new e(d,(d|0)<0?-1:0,!0),0<=d&&d<256&&(n[d]=s),s)):(d=d|0,-128<=d&&d<128&&(h=t[d],h)?h:(s=new e(d,d<0?-1:0,!1),-128<=d&&d<128&&(t[d]=s),s))},e.fromNumber=function(d,r){return r=!!r,isNaN(d)||!isFinite(d)?e.ZERO:!r&&d<=-c?e.MIN_VALUE:!r&&d+1>=c?e.MAX_VALUE:r&&d>=u?e.MAX_UNSIGNED_VALUE:d<0?e.fromNumber(-d,r).negate():new e(d%l|0,d/l|0,r)},e.fromBits=function(d,r,s){return new e(d,r,s)},e.fromString=function(d,r,s){if(d.length===0)throw Error("number format error: empty string");if(d==="NaN"||d==="Infinity"||d==="+Infinity"||d==="-Infinity")return e.ZERO;if(typeof r=="number"&&(s=r,r=!1),s=s||10,s<2||36<s)throw Error("radix out of range: "+s);var h;if((h=d.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+d);if(h===0)return e.fromString(d.substring(1),r,s).negate();for(var g=e.fromNumber(Math.pow(s,8)),_=e.ZERO,f=0;f<d.length;f+=8){var C=Math.min(8,d.length-f),S=parseInt(d.substring(f,f+C),s);if(C<8){var D=e.fromNumber(Math.pow(s,C));_=_.multiply(D).add(e.fromNumber(S))}else _=_.multiply(g),_=_.add(e.fromNumber(S))}return _.unsigned=r,_},e.fromValue=function(d){return d instanceof e?d:typeof d=="number"?e.fromNumber(d):typeof d=="string"?e.fromString(d):new e(d.low,d.high,d.unsigned)};var i=65536,o=1<<24,l=i*i,u=l*l,c=u/2,p=e.fromInt(o);return e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},e.prototype.toString=function(d){if(d=d||10,d<2||36<d)throw RangeError("radix out of range: "+d);if(this.isZero())return"0";var r;if(this.isNegative())if(this.equals(e.MIN_VALUE)){var s=e.fromNumber(d),h=this.divide(s);return r=h.multiply(s).subtract(this),h.toString(d)+r.toInt().toString(d)}else return"-"+this.negate().toString(d);var g=e.fromNumber(Math.pow(d,6),this.unsigned);r=this;for(var _="";;){var f=r.divide(g),C=r.subtract(f.multiply(g)).toInt()>>>0,S=C.toString(d);if(r=f,r.isZero())return S+_;for(;S.length<6;)S="0"+S;_=""+S+_}},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var d=this.high!=0?this.high:this.low,r=31;r>0&&(d&1<<r)==0;r--);return this.high!=0?r+33:r+1},e.prototype.isZero=function(){return this.high===0&&this.low===0},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isOdd=function(){return(this.low&1)===1},e.prototype.isEven=function(){return(this.low&1)===0},e.prototype.equals=function(d){return e.isLong(d)||(d=e.fromValue(d)),this.unsigned!==d.unsigned&&this.high>>>31===1&&d.high>>>31===1?!1:this.high===d.high&&this.low===d.low},e.eq=e.prototype.equals,e.prototype.notEquals=function(d){return!this.equals(d)},e.neq=e.prototype.notEquals,e.prototype.lessThan=function(d){return this.compare(d)<0},e.prototype.lt=e.prototype.lessThan,e.prototype.lessThanOrEqual=function(d){return this.compare(d)<=0},e.prototype.lte=e.prototype.lessThanOrEqual,e.prototype.greaterThan=function(d){return this.compare(d)>0},e.prototype.gt=e.prototype.greaterThan,e.prototype.greaterThanOrEqual=function(d){return this.compare(d)>=0},e.prototype.gte=e.prototype.greaterThanOrEqual,e.prototype.compare=function(d){if(e.isLong(d)||(d=e.fromValue(d)),this.equals(d))return 0;var r=this.isNegative(),s=d.isNegative();return r&&!s?-1:!r&&s?1:this.unsigned?d.high>>>0>this.high>>>0||d.high===this.high&&d.low>>>0>this.low>>>0?-1:1:this.subtract(d).isNegative()?-1:1},e.prototype.negate=function(){return!this.unsigned&&this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=e.prototype.negate,e.prototype.add=function(d){e.isLong(d)||(d=e.fromValue(d));var r=this.high>>>16,s=this.high&65535,h=this.low>>>16,g=this.low&65535,_=d.high>>>16,f=d.high&65535,C=d.low>>>16,S=d.low&65535,D=0,I=0,U=0,F=0;return F+=g+S,U+=F>>>16,F&=65535,U+=h+C,I+=U>>>16,U&=65535,I+=s+f,D+=I>>>16,I&=65535,D+=r+_,D&=65535,e.fromBits(U<<16|F,D<<16|I,this.unsigned)},e.prototype.subtract=function(d){return e.isLong(d)||(d=e.fromValue(d)),this.add(d.negate())},e.prototype.sub=e.prototype.subtract,e.prototype.multiply=function(d){if(this.isZero()||(e.isLong(d)||(d=e.fromValue(d)),d.isZero()))return e.ZERO;if(this.equals(e.MIN_VALUE))return d.isOdd()?e.MIN_VALUE:e.ZERO;if(d.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return d.isNegative()?this.negate().multiply(d.negate()):this.negate().multiply(d).negate();if(d.isNegative())return this.multiply(d.negate()).negate();if(this.lessThan(p)&&d.lessThan(p))return e.fromNumber(this.toNumber()*d.toNumber(),this.unsigned);var r=this.high>>>16,s=this.high&65535,h=this.low>>>16,g=this.low&65535,_=d.high>>>16,f=d.high&65535,C=d.low>>>16,S=d.low&65535,D=0,I=0,U=0,F=0;return F+=g*S,U+=F>>>16,F&=65535,U+=h*S,I+=U>>>16,U&=65535,U+=g*C,I+=U>>>16,U&=65535,I+=s*S,D+=I>>>16,I&=65535,I+=h*C,D+=I>>>16,I&=65535,I+=g*f,D+=I>>>16,I&=65535,D+=r*S+s*C+h*f+g*_,D&=65535,e.fromBits(U<<16|F,D<<16|I,this.unsigned)},e.prototype.mul=e.prototype.multiply,e.prototype.divide=function(d){if(e.isLong(d)||(d=e.fromValue(d)),d.isZero())throw new Error("division by zero");if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var r,s,h;if(this.equals(e.MIN_VALUE)){if(d.equals(e.ONE)||d.equals(e.NEG_ONE))return e.MIN_VALUE;if(d.equals(e.MIN_VALUE))return e.ONE;var g=this.shiftRight(1);return r=g.divide(d).shiftLeft(1),r.equals(e.ZERO)?d.isNegative()?e.ONE:e.NEG_ONE:(s=this.subtract(d.multiply(r)),h=r.add(s.divide(d)),h)}else if(d.equals(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return d.isNegative()?this.negate().divide(d.negate()):this.negate().divide(d).negate();if(d.isNegative())return this.divide(d.negate()).negate();for(h=e.ZERO,s=this;s.greaterThanOrEqual(d);){r=Math.max(1,Math.floor(s.toNumber()/d.toNumber()));for(var _=Math.ceil(Math.log(r)/Math.LN2),f=_<=48?1:Math.pow(2,_-48),C=e.fromNumber(r),S=C.multiply(d);S.isNegative()||S.greaterThan(s);)r-=f,C=e.fromNumber(r,this.unsigned),S=C.multiply(d);C.isZero()&&(C=e.ONE),h=h.add(C),s=s.subtract(S)}return h},e.prototype.div=e.prototype.divide,e.prototype.modulo=function(d){return e.isLong(d)||(d=e.fromValue(d)),this.subtract(this.divide(d).multiply(d))},e.prototype.mod=e.prototype.modulo,e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.and=function(d){return e.isLong(d)||(d=e.fromValue(d)),e.fromBits(this.low&d.low,this.high&d.high,this.unsigned)},e.prototype.or=function(d){return e.isLong(d)||(d=e.fromValue(d)),e.fromBits(this.low|d.low,this.high|d.high,this.unsigned)},e.prototype.xor=function(d){return e.isLong(d)||(d=e.fromValue(d)),e.fromBits(this.low^d.low,this.high^d.high,this.unsigned)},e.prototype.shiftLeft=function(d){return e.isLong(d)&&(d=d.toInt()),(d&=63)===0?this:d<32?e.fromBits(this.low<<d,this.high<<d|this.low>>>32-d,this.unsigned):e.fromBits(0,this.low<<d-32,this.unsigned)},e.prototype.shl=e.prototype.shiftLeft,e.prototype.shiftRight=function(d){return e.isLong(d)&&(d=d.toInt()),(d&=63)===0?this:d<32?e.fromBits(this.low>>>d|this.high<<32-d,this.high>>d,this.unsigned):e.fromBits(this.high>>d-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=e.prototype.shiftRight,e.prototype.shiftRightUnsigned=function(d){if(e.isLong(d)&&(d=d.toInt()),d&=63,d===0)return this;var r=this.high;if(d<32){var s=this.low;return e.fromBits(s>>>d|r<<32-d,r>>>d,this.unsigned)}else return d===32?e.fromBits(r,0,this.unsigned):e.fromBits(r>>>d-32,0,this.unsigned)},e.prototype.shru=e.prototype.shiftRightUnsigned,e.prototype.toSigned=function(){return this.unsigned?new e(this.low,this.high,!1):this},e.prototype.toUnsigned=function(){return this.unsigned?this:new e(this.low,this.high,!0)},e})})(br)),br.exports}var PE=Rr.exports,Hd;function zu(){return Hd||(Hd=1,(function(a){(function(e,t){typeof al=="function"&&a&&a.exports?a.exports=(function(){var n;try{n=Hu()}catch{}return t(n)})():(e.dcodeIO=e.dcodeIO||{}).ByteBuffer=t(e.dcodeIO.Long)})(PE,function(e){var t=function(r,s,h){if(typeof r>"u"&&(r=t.DEFAULT_CAPACITY),typeof s>"u"&&(s=t.DEFAULT_ENDIAN),typeof h>"u"&&(h=t.DEFAULT_NOASSERT),!h){if(r=r|0,r<0)throw RangeError("Illegal capacity");s=!!s,h=!!h}this.buffer=r===0?i:new ArrayBuffer(r),this.view=r===0?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=r,this.littleEndian=typeof s<"u"?!!s:!1,this.noAssert=!!h};t.VERSION="4.1.0",t.LITTLE_ENDIAN=!0,t.BIG_ENDIAN=!1,t.DEFAULT_CAPACITY=16,t.DEFAULT_ENDIAN=t.BIG_ENDIAN,t.DEFAULT_NOASSERT=!1,t.Long=e||null;var n=t.prototype;n.__isByteBuffer__,Object.defineProperty(n,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var i=new ArrayBuffer(0),o=String.fromCharCode;function l(r){var s=0;return function(){return s<r.length?r.charCodeAt(s++):null}}function u(){var r=[],s=[];return function(){if(arguments.length===0)return s.join("")+o.apply(String,r);r.length+arguments.length>1024&&(s.push(o.apply(String,r)),r.length=0),Array.prototype.push.apply(r,arguments)}}t.accessor=function(){return Uint8Array},t.allocate=function(r,s,h){return new t(r,s,h)},t.concat=function(r,s,h,g){(typeof s=="boolean"||typeof s!="string")&&(g=h,h=s,s=void 0);for(var _=0,f=0,C=r.length,S;f<C;++f)t.isByteBuffer(r[f])||(r[f]=t.wrap(r[f],s)),S=r[f].limit-r[f].offset,S>0&&(_+=S);if(_===0)return new t(0,h,g);var D=new t(_,h,g),I;for(f=0;f<C;)I=r[f++],S=I.limit-I.offset,!(S<=0)&&(D.view.set(I.view.subarray(I.offset,I.limit),D.offset),D.offset+=S);return D.limit=D.offset,D.offset=0,D},t.isByteBuffer=function(r){return(r&&r.__isByteBuffer__)===!0},t.type=function(){return ArrayBuffer},t.wrap=function(r,s,h,g){if(typeof s!="string"&&(g=h,h=s,s=void 0),typeof r=="string")switch(typeof s>"u"&&(s="utf8"),s){case"base64":return t.fromBase64(r,h);case"hex":return t.fromHex(r,h);case"binary":return t.fromBinary(r,h);case"utf8":return t.fromUTF8(r,h);case"debug":return t.fromDebug(r,h);default:throw Error("Unsupported encoding: "+s)}if(r===null||typeof r!="object")throw TypeError("Illegal buffer");var _;if(t.isByteBuffer(r))return _=n.clone.call(r),_.markedOffset=-1,_;if(r instanceof Uint8Array)_=new t(0,h,g),r.length>0&&(_.buffer=r.buffer,_.offset=r.byteOffset,_.limit=r.byteOffset+r.byteLength,_.view=new Uint8Array(r.buffer));else if(r instanceof ArrayBuffer)_=new t(0,h,g),r.byteLength>0&&(_.buffer=r,_.offset=0,_.limit=r.byteLength,_.view=r.byteLength>0?new Uint8Array(r):null);else if(Object.prototype.toString.call(r)==="[object Array]"){_=new t(r.length,h,g),_.limit=r.length;for(var f=0;f<r.length;++f)_.view[f]=r[f]}else throw TypeError("Illegal buffer");return _},n.readBytes=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+r>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+"+r+") <= "+this.buffer.byteLength)}var g=this.slice(s,s+r);return h&&(this.offset+=r),g},n.writeBytes=n.append,n.writeInt8=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal value: "+r+" (not an integer)");if(r|=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=1;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=1,this.view[s]=r,h&&(this.offset+=1),this},n.writeByte=n.writeInt8,n.readInt8=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+1) <= "+this.buffer.byteLength)}var h=this.view[r];return(h&128)===128&&(h=-(255-h+1)),s&&(this.offset+=1),h},n.readByte=n.readInt8,n.writeUint8=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal value: "+r+" (not an integer)");if(r>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=1;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=1,this.view[s]=r,h&&(this.offset+=1),this},n.writeUInt8=n.writeUint8,n.readUint8=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+1) <= "+this.buffer.byteLength)}var h=this.view[r];return s&&(this.offset+=1),h},n.readUInt8=n.readUint8,n.writeInt16=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal value: "+r+" (not an integer)");if(r|=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=2;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=2,this.littleEndian?(this.view[s+1]=(r&65280)>>>8,this.view[s]=r&255):(this.view[s]=(r&65280)>>>8,this.view[s+1]=r&255),h&&(this.offset+=2),this},n.writeShort=n.writeInt16,n.readInt16=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+2) <= "+this.buffer.byteLength)}var h=0;return this.littleEndian?(h=this.view[r],h|=this.view[r+1]<<8):(h=this.view[r]<<8,h|=this.view[r+1]),(h&32768)===32768&&(h=-(65535-h+1)),s&&(this.offset+=2),h},n.readShort=n.readInt16,n.writeUint16=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal value: "+r+" (not an integer)");if(r>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=2;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=2,this.littleEndian?(this.view[s+1]=(r&65280)>>>8,this.view[s]=r&255):(this.view[s]=(r&65280)>>>8,this.view[s+1]=r&255),h&&(this.offset+=2),this},n.writeUInt16=n.writeUint16,n.readUint16=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+2) <= "+this.buffer.byteLength)}var h=0;return this.littleEndian?(h=this.view[r],h|=this.view[r+1]<<8):(h=this.view[r]<<8,h|=this.view[r+1]),s&&(this.offset+=2),h},n.readUInt16=n.readUint16,n.writeInt32=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal value: "+r+" (not an integer)");if(r|=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=4;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=4,this.littleEndian?(this.view[s+3]=r>>>24&255,this.view[s+2]=r>>>16&255,this.view[s+1]=r>>>8&255,this.view[s]=r&255):(this.view[s]=r>>>24&255,this.view[s+1]=r>>>16&255,this.view[s+2]=r>>>8&255,this.view[s+3]=r&255),h&&(this.offset+=4),this},n.writeInt=n.writeInt32,n.readInt32=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+4) <= "+this.buffer.byteLength)}var h=0;return this.littleEndian?(h=this.view[r+2]<<16,h|=this.view[r+1]<<8,h|=this.view[r],h+=this.view[r+3]<<24>>>0):(h=this.view[r+1]<<16,h|=this.view[r+2]<<8,h|=this.view[r+3],h+=this.view[r]<<24>>>0),h|=0,s&&(this.offset+=4),h},n.readInt=n.readInt32,n.writeUint32=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal value: "+r+" (not an integer)");if(r>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=4;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=4,this.littleEndian?(this.view[s+3]=r>>>24&255,this.view[s+2]=r>>>16&255,this.view[s+1]=r>>>8&255,this.view[s]=r&255):(this.view[s]=r>>>24&255,this.view[s+1]=r>>>16&255,this.view[s+2]=r>>>8&255,this.view[s+3]=r&255),h&&(this.offset+=4),this},n.writeUInt32=n.writeUint32,n.readUint32=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+4) <= "+this.buffer.byteLength)}var h=0;return this.littleEndian?(h=this.view[r+2]<<16,h|=this.view[r+1]<<8,h|=this.view[r],h+=this.view[r+3]<<24>>>0):(h=this.view[r+1]<<16,h|=this.view[r+2]<<8,h|=this.view[r+3],h+=this.view[r]<<24>>>0),s&&(this.offset+=4),h},n.readUInt32=n.readUint32,e&&(n.writeInt64=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof r=="number")r=e.fromNumber(r);else if(typeof r=="string")r=e.fromString(r);else if(!(r&&r instanceof e))throw TypeError("Illegal value: "+r+" (not an integer or Long)");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}typeof r=="number"?r=e.fromNumber(r):typeof r=="string"&&(r=e.fromString(r)),s+=8;var g=this.buffer.byteLength;s>g&&this.resize((g*=2)>s?g:s),s-=8;var _=r.low,f=r.high;return this.littleEndian?(this.view[s+3]=_>>>24&255,this.view[s+2]=_>>>16&255,this.view[s+1]=_>>>8&255,this.view[s]=_&255,s+=4,this.view[s+3]=f>>>24&255,this.view[s+2]=f>>>16&255,this.view[s+1]=f>>>8&255,this.view[s]=f&255):(this.view[s]=f>>>24&255,this.view[s+1]=f>>>16&255,this.view[s+2]=f>>>8&255,this.view[s+3]=f&255,s+=4,this.view[s]=_>>>24&255,this.view[s+1]=_>>>16&255,this.view[s+2]=_>>>8&255,this.view[s+3]=_&255),h&&(this.offset+=8),this},n.writeLong=n.writeInt64,n.readInt64=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+8) <= "+this.buffer.byteLength)}var h=0,g=0;this.littleEndian?(h=this.view[r+2]<<16,h|=this.view[r+1]<<8,h|=this.view[r],h+=this.view[r+3]<<24>>>0,r+=4,g=this.view[r+2]<<16,g|=this.view[r+1]<<8,g|=this.view[r],g+=this.view[r+3]<<24>>>0):(g=this.view[r+1]<<16,g|=this.view[r+2]<<8,g|=this.view[r+3],g+=this.view[r]<<24>>>0,r+=4,h=this.view[r+1]<<16,h|=this.view[r+2]<<8,h|=this.view[r+3],h+=this.view[r]<<24>>>0);var _=new e(h,g,!1);return s&&(this.offset+=8),_},n.readLong=n.readInt64,n.writeUint64=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof r=="number")r=e.fromNumber(r);else if(typeof r=="string")r=e.fromString(r);else if(!(r&&r instanceof e))throw TypeError("Illegal value: "+r+" (not an integer or Long)");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}typeof r=="number"?r=e.fromNumber(r):typeof r=="string"&&(r=e.fromString(r)),s+=8;var g=this.buffer.byteLength;s>g&&this.resize((g*=2)>s?g:s),s-=8;var _=r.low,f=r.high;return this.littleEndian?(this.view[s+3]=_>>>24&255,this.view[s+2]=_>>>16&255,this.view[s+1]=_>>>8&255,this.view[s]=_&255,s+=4,this.view[s+3]=f>>>24&255,this.view[s+2]=f>>>16&255,this.view[s+1]=f>>>8&255,this.view[s]=f&255):(this.view[s]=f>>>24&255,this.view[s+1]=f>>>16&255,this.view[s+2]=f>>>8&255,this.view[s+3]=f&255,s+=4,this.view[s]=_>>>24&255,this.view[s+1]=_>>>16&255,this.view[s+2]=_>>>8&255,this.view[s+3]=_&255),h&&(this.offset+=8),this},n.writeUInt64=n.writeUint64,n.readUint64=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+8) <= "+this.buffer.byteLength)}var h=0,g=0;this.littleEndian?(h=this.view[r+2]<<16,h|=this.view[r+1]<<8,h|=this.view[r],h+=this.view[r+3]<<24>>>0,r+=4,g=this.view[r+2]<<16,g|=this.view[r+1]<<8,g|=this.view[r],g+=this.view[r+3]<<24>>>0):(g=this.view[r+1]<<16,g|=this.view[r+2]<<8,g|=this.view[r+3],g+=this.view[r]<<24>>>0,r+=4,h=this.view[r+1]<<16,h|=this.view[r+2]<<8,h|=this.view[r+3],h+=this.view[r]<<24>>>0);var _=new e(h,g,!0);return s&&(this.offset+=8),_},n.readUInt64=n.readUint64);function c(r,s,h,g,_){var f,C,S=_*8-g-1,D=(1<<S)-1,I=D>>1,U=-7,F=h?_-1:0,H=h?-1:1,R=r[s+F];for(F+=H,f=R&(1<<-U)-1,R>>=-U,U+=S;U>0;f=f*256+r[s+F],F+=H,U-=8);for(C=f&(1<<-U)-1,f>>=-U,U+=g;U>0;C=C*256+r[s+F],F+=H,U-=8);if(f===0)f=1-I;else{if(f===D)return C?NaN:(R?-1:1)*(1/0);C=C+Math.pow(2,g),f=f-I}return(R?-1:1)*C*Math.pow(2,f-g)}function p(r,s,h,g,_,f){var C,S,D,I=f*8-_-1,U=(1<<I)-1,F=U>>1,H=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=g?0:f-1,N=g?1:-1,q=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(S=isNaN(s)?1:0,C=U):(C=Math.floor(Math.log(s)/Math.LN2),s*(D=Math.pow(2,-C))<1&&(C--,D*=2),C+F>=1?s+=H/D:s+=H*Math.pow(2,1-F),s*D>=2&&(C++,D/=2),C+F>=U?(S=0,C=U):C+F>=1?(S=(s*D-1)*Math.pow(2,_),C=C+F):(S=s*Math.pow(2,F-1)*Math.pow(2,_),C=0));_>=8;r[h+R]=S&255,R+=N,S/=256,_-=8);for(C=C<<_|S,I+=_;I>0;r[h+R]=C&255,R+=N,C/=256,I-=8);r[h+R-N]|=q*128}n.writeFloat32=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof r!="number")throw TypeError("Illegal value: "+r+" (not a number)");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=4;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=4,p(this.view,r,s,this.littleEndian,23,4),h&&(this.offset+=4),this},n.writeFloat=n.writeFloat32,n.readFloat32=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+4) <= "+this.buffer.byteLength)}var h=c(this.view,r,this.littleEndian,23,4);return s&&(this.offset+=4),h},n.readFloat=n.readFloat32,n.writeFloat64=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof r!="number")throw TypeError("Illegal value: "+r+" (not a number)");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}s+=8;var g=this.buffer.byteLength;return s>g&&this.resize((g*=2)>s?g:s),s-=8,p(this.view,r,s,this.littleEndian,52,8),h&&(this.offset+=8),this},n.writeDouble=n.writeFloat64,n.readFloat64=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+8) <= "+this.buffer.byteLength)}var h=c(this.view,r,this.littleEndian,52,8);return s&&(this.offset+=8),h},n.readDouble=n.readFloat64,t.MAX_VARINT32_BYTES=5,t.calculateVarint32=function(r){return r=r>>>0,r<128?1:r<16384?2:r<1<<21?3:r<1<<28?4:5},t.zigZagEncode32=function(r){return((r|=0)<<1^r>>31)>>>0},t.zigZagDecode32=function(r){return r>>>1^-(r&1)|0},n.writeVarint32=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal value: "+r+" (not an integer)");if(r|=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}var g=t.calculateVarint32(r),_;s+=g;var f=this.buffer.byteLength;for(s>f&&this.resize((f*=2)>s?f:s),s-=g,r>>>=0;r>=128;)_=r&127|128,this.view[s++]=_,r>>>=7;return this.view[s++]=r,h?(this.offset=s,this):g},n.writeVarint32ZigZag=function(r,s){return this.writeVarint32(t.zigZagEncode32(r),s)},n.readVarint32=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+1) <= "+this.buffer.byteLength)}var h=0,g=0,_;do{if(!this.noAssert&&r>this.limit){var f=Error("Truncated");throw f.truncated=!0,f}_=this.view[r++],h<5&&(g|=(_&127)<<7*h),++h}while((_&128)!==0);return g|=0,s?(this.offset=r,g):{value:g,length:h}},n.readVarint32ZigZag=function(r){var s=this.readVarint32(r);return typeof s=="object"?s.value=t.zigZagDecode32(s.value):s=t.zigZagDecode32(s),s},e&&(t.MAX_VARINT64_BYTES=10,t.calculateVarint64=function(r){typeof r=="number"?r=e.fromNumber(r):typeof r=="string"&&(r=e.fromString(r));var s=r.toInt()>>>0,h=r.shiftRightUnsigned(28).toInt()>>>0,g=r.shiftRightUnsigned(56).toInt()>>>0;return g==0?h==0?s<16384?s<128?1:2:s<1<<21?3:4:h<16384?h<128?5:6:h<1<<21?7:8:g<128?9:10},t.zigZagEncode64=function(r){return typeof r=="number"?r=e.fromNumber(r,!1):typeof r=="string"?r=e.fromString(r,!1):r.unsigned!==!1&&(r=r.toSigned()),r.shiftLeft(1).xor(r.shiftRight(63)).toUnsigned()},t.zigZagDecode64=function(r){return typeof r=="number"?r=e.fromNumber(r,!1):typeof r=="string"?r=e.fromString(r,!1):r.unsigned!==!1&&(r=r.toSigned()),r.shiftRightUnsigned(1).xor(r.and(e.ONE).toSigned().negate()).toSigned()},n.writeVarint64=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof r=="number")r=e.fromNumber(r);else if(typeof r=="string")r=e.fromString(r);else if(!(r&&r instanceof e))throw TypeError("Illegal value: "+r+" (not an integer or Long)");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}typeof r=="number"?r=e.fromNumber(r,!1):typeof r=="string"?r=e.fromString(r,!1):r.unsigned!==!1&&(r=r.toSigned());var g=t.calculateVarint64(r),_=r.toInt()>>>0,f=r.shiftRightUnsigned(28).toInt()>>>0,C=r.shiftRightUnsigned(56).toInt()>>>0;s+=g;var S=this.buffer.byteLength;switch(s>S&&this.resize((S*=2)>s?S:s),s-=g,g){case 10:this.view[s+9]=C>>>7&1;case 9:this.view[s+8]=g!==9?C|128:C&127;case 8:this.view[s+7]=g!==8?f>>>21|128:f>>>21&127;case 7:this.view[s+6]=g!==7?f>>>14|128:f>>>14&127;case 6:this.view[s+5]=g!==6?f>>>7|128:f>>>7&127;case 5:this.view[s+4]=g!==5?f|128:f&127;case 4:this.view[s+3]=g!==4?_>>>21|128:_>>>21&127;case 3:this.view[s+2]=g!==3?_>>>14|128:_>>>14&127;case 2:this.view[s+1]=g!==2?_>>>7|128:_>>>7&127;case 1:this.view[s]=g!==1?_|128:_&127}return h?(this.offset+=g,this):g},n.writeVarint64ZigZag=function(r,s){return this.writeVarint64(t.zigZagEncode64(r),s)},n.readVarint64=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+1) <= "+this.buffer.byteLength)}var h=r,g=0,_=0,f=0,C=0;if(C=this.view[r++],g=C&127,C&128&&(C=this.view[r++],g|=(C&127)<<7,(C&128||this.noAssert&&typeof C>"u")&&(C=this.view[r++],g|=(C&127)<<14,(C&128||this.noAssert&&typeof C>"u")&&(C=this.view[r++],g|=(C&127)<<21,(C&128||this.noAssert&&typeof C>"u")&&(C=this.view[r++],_=C&127,(C&128||this.noAssert&&typeof C>"u")&&(C=this.view[r++],_|=(C&127)<<7,(C&128||this.noAssert&&typeof C>"u")&&(C=this.view[r++],_|=(C&127)<<14,(C&128||this.noAssert&&typeof C>"u")&&(C=this.view[r++],_|=(C&127)<<21,(C&128||this.noAssert&&typeof C>"u")&&(C=this.view[r++],f=C&127,(C&128||this.noAssert&&typeof C>"u")&&(C=this.view[r++],f|=(C&127)<<7,C&128||this.noAssert&&typeof C>"u"))))))))))throw Error("Buffer overrun");var S=e.fromBits(g|_<<28,_>>>4|f<<24,!1);return s?(this.offset=r,S):{value:S,length:r-h}},n.readVarint64ZigZag=function(r){var s=this.readVarint64(r);return s&&s.value instanceof e?s.value=t.zigZagDecode64(s.value):s=t.zigZagDecode64(s),s}),n.writeCString=function(r,s){var h=typeof s>"u";h&&(s=this.offset);var g,_=r.length;if(!this.noAssert){if(typeof r!="string")throw TypeError("Illegal str: Not a string");for(g=0;g<_;++g)if(r.charCodeAt(g)===0)throw RangeError("Illegal str: Contains NULL-characters");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}_=d.calculateUTF16asUTF8(l(r))[1],s+=_+1;var f=this.buffer.byteLength;return s>f&&this.resize((f*=2)>s?f:s),s-=_+1,d.encodeUTF16toUTF8(l(r),(function(C){this.view[s++]=C}).bind(this)),this.view[s++]=0,h?(this.offset=s,this):_},n.readCString=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+1) <= "+this.buffer.byteLength)}var h=r,g,_=-1;return d.decodeUTF8toUTF16((function(){if(_===0)return null;if(r>=this.limit)throw RangeError("Illegal range: Truncated data, "+r+" < "+this.limit);return _=this.view[r++],_===0?null:_}).bind(this),g=u(),!0),s?(this.offset=r,g()):{string:g(),length:r-h}},n.writeIString=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof r!="string")throw TypeError("Illegal str: Not a string");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}var g=s,_;_=d.calculateUTF16asUTF8(l(r),this.noAssert)[1],s+=4+_;var f=this.buffer.byteLength;if(s>f&&this.resize((f*=2)>s?f:s),s-=4+_,this.littleEndian?(this.view[s+3]=_>>>24&255,this.view[s+2]=_>>>16&255,this.view[s+1]=_>>>8&255,this.view[s]=_&255):(this.view[s]=_>>>24&255,this.view[s+1]=_>>>16&255,this.view[s+2]=_>>>8&255,this.view[s+3]=_&255),s+=4,d.encodeUTF16toUTF8(l(r),(function(C){this.view[s++]=C}).bind(this)),s!==g+4+_)throw RangeError("Illegal range: Truncated data, "+s+" == "+(s+4+_));return h?(this.offset=s,this):s-g},n.readIString=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+4) <= "+this.buffer.byteLength)}var h=0,g=r,_;this.littleEndian?(h=this.view[r+2]<<16,h|=this.view[r+1]<<8,h|=this.view[r],h+=this.view[r+3]<<24>>>0):(h=this.view[r+1]<<16,h|=this.view[r+2]<<8,h|=this.view[r+3],h+=this.view[r]<<24>>>0),r+=4;var f=r+h,C;return d.decodeUTF8toUTF16((function(){return r<f?this.view[r++]:null}).bind(this),C=u(),this.noAssert),_=C(),s?(this.offset=r,_):{string:_,length:r-g}},t.METRICS_CHARS="c",t.METRICS_BYTES="b",n.writeUTF8String=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}var g,_=s;g=d.calculateUTF16asUTF8(l(r))[1],s+=g;var f=this.buffer.byteLength;return s>f&&this.resize((f*=2)>s?f:s),s-=g,d.encodeUTF16toUTF8(l(r),(function(C){this.view[s++]=C}).bind(this)),h?(this.offset=s,this):s-_},n.writeString=n.writeUTF8String,t.calculateUTF8Chars=function(r){return d.calculateUTF16asUTF8(l(r))[0]},t.calculateUTF8Bytes=function(r){return d.calculateUTF16asUTF8(l(r))[1]},t.calculateString=t.calculateUTF8Bytes,n.readUTF8String=function(r,s,h){typeof s=="number"&&(h=s,s=void 0);var g=typeof h>"u";if(g&&(h=this.offset),typeof s>"u"&&(s=t.METRICS_CHARS),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal length: "+r+" (not an integer)");if(r|=0,typeof h!="number"||h%1!==0)throw TypeError("Illegal offset: "+h+" (not an integer)");if(h>>>=0,h<0||h+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+h+" (+0) <= "+this.buffer.byteLength)}var _=0,f=h,C;if(s===t.METRICS_CHARS){if(C=u(),d.decodeUTF8((function(){return _<r&&h<this.limit?this.view[h++]:null}).bind(this),function(D){++_,d.UTF8toUTF16(D,C)}),_!==r)throw RangeError("Illegal range: Truncated data, "+_+" == "+r);return g?(this.offset=h,C()):{string:C(),length:h-f}}else if(s===t.METRICS_BYTES){if(!this.noAssert){if(typeof h!="number"||h%1!==0)throw TypeError("Illegal offset: "+h+" (not an integer)");if(h>>>=0,h<0||h+r>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+h+" (+"+r+") <= "+this.buffer.byteLength)}var S=h+r;if(d.decodeUTF8toUTF16((function(){return h<S?this.view[h++]:null}).bind(this),C=u(),this.noAssert),h!==S)throw RangeError("Illegal range: Truncated data, "+h+" == "+S);return g?(this.offset=h,C()):{string:C(),length:h-f}}else throw TypeError("Unsupported metrics: "+s)},n.readString=n.readUTF8String,n.writeVString=function(r,s){var h=typeof s>"u";if(h&&(s=this.offset),!this.noAssert){if(typeof r!="string")throw TypeError("Illegal str: Not a string");if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}var g=s,_,f;_=d.calculateUTF16asUTF8(l(r),this.noAssert)[1],f=t.calculateVarint32(_),s+=f+_;var C=this.buffer.byteLength;if(s>C&&this.resize((C*=2)>s?C:s),s-=f+_,s+=this.writeVarint32(_,s),d.encodeUTF16toUTF8(l(r),(function(S){this.view[s++]=S}).bind(this)),s!==g+_+f)throw RangeError("Illegal range: Truncated data, "+s+" == "+(s+_+f));return h?(this.offset=s,this):s-g},n.readVString=function(r){var s=typeof r>"u";if(s&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+1) <= "+this.buffer.byteLength)}var h=this.readVarint32(r),g=r,_;r+=h.length,h=h.value;var f=r+h,C=u();return d.decodeUTF8toUTF16((function(){return r<f?this.view[r++]:null}).bind(this),C,this.noAssert),_=C(),s?(this.offset=r,_):{string:_,length:r-g}},n.append=function(r,s,h){(typeof s=="number"||typeof s!="string")&&(h=s,s=void 0);var g=typeof h>"u";if(g&&(h=this.offset),!this.noAssert){if(typeof h!="number"||h%1!==0)throw TypeError("Illegal offset: "+h+" (not an integer)");if(h>>>=0,h<0||h+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+h+" (+0) <= "+this.buffer.byteLength)}r instanceof t||(r=t.wrap(r,s));var _=r.limit-r.offset;if(_<=0)return this;h+=_;var f=this.buffer.byteLength;return h>f&&this.resize((f*=2)>h?f:h),h-=_,this.view.set(r.view.subarray(r.offset,r.limit),h),r.offset+=_,g&&(this.offset+=_),this},n.appendTo=function(r,s){return r.append(this,s),this},n.assert=function(r){return this.noAssert=!r,this},n.capacity=function(){return this.buffer.byteLength},n.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},n.clone=function(r){var s=new t(0,this.littleEndian,this.noAssert);return r?(s.buffer=new ArrayBuffer(this.buffer.byteLength),s.view=new Uint8Array(s.buffer)):(s.buffer=this.buffer,s.view=this.view),s.offset=this.offset,s.markedOffset=this.markedOffset,s.limit=this.limit,s},n.compact=function(r,s){if(typeof r>"u"&&(r=this.offset),typeof s>"u"&&(s=this.limit),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal begin: Not an integer");if(r>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal end: Not an integer");if(s>>>=0,r<0||r>s||s>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+r+" <= "+s+" <= "+this.buffer.byteLength)}if(r===0&&s===this.buffer.byteLength)return this;var h=s-r;if(h===0)return this.buffer=i,this.view=null,this.markedOffset>=0&&(this.markedOffset-=r),this.offset=0,this.limit=0,this;var g=new ArrayBuffer(h),_=new Uint8Array(g);return _.set(this.view.subarray(r,s)),this.buffer=g,this.view=_,this.markedOffset>=0&&(this.markedOffset-=r),this.offset=0,this.limit=h,this},n.copy=function(r,s){if(typeof r>"u"&&(r=this.offset),typeof s>"u"&&(s=this.limit),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal begin: Not an integer");if(r>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal end: Not an integer");if(s>>>=0,r<0||r>s||s>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+r+" <= "+s+" <= "+this.buffer.byteLength)}if(r===s)return new t(0,this.littleEndian,this.noAssert);var h=s-r,g=new t(h,this.littleEndian,this.noAssert);return g.offset=0,g.limit=h,g.markedOffset>=0&&(g.markedOffset-=r),this.copyTo(g,0,r,s),g},n.copyTo=function(r,s,h,g){var _,f;if(!this.noAssert&&!t.isByteBuffer(r))throw TypeError("Illegal target: Not a ByteBuffer");if(s=(f=typeof s>"u")?r.offset:s|0,h=(_=typeof h>"u")?this.offset:h|0,g=typeof g>"u"?this.limit:g|0,s<0||s>r.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+s+" <= "+r.buffer.byteLength);if(h<0||g>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+h+" <= "+this.buffer.byteLength);var C=g-h;return C===0?r:(r.ensureCapacity(s+C),r.view.set(this.view.subarray(h,g),s),_&&(this.offset+=C),f&&(r.offset+=C),this)},n.ensureCapacity=function(r){var s=this.buffer.byteLength;return s<r?this.resize((s*=2)>r?s:r):this},n.fill=function(r,s,h){var g=typeof s>"u";if(g&&(s=this.offset),typeof r=="string"&&r.length>0&&(r=r.charCodeAt(0)),typeof s>"u"&&(s=this.offset),typeof h>"u"&&(h=this.limit),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal value: "+r+" (not an integer)");if(r|=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal begin: Not an integer");if(s>>>=0,typeof h!="number"||h%1!==0)throw TypeError("Illegal end: Not an integer");if(h>>>=0,s<0||s>h||h>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+s+" <= "+h+" <= "+this.buffer.byteLength)}if(s>=h)return this;for(;s<h;)this.view[s++]=r;return g&&(this.offset=s),this},n.flip=function(){return this.limit=this.offset,this.offset=0,this},n.mark=function(r){if(r=typeof r>"u"?this.offset:r,!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=r,this},n.order=function(r){if(!this.noAssert&&typeof r!="boolean")throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!r,this},n.LE=function(r){return this.littleEndian=typeof r<"u"?!!r:!0,this},n.BE=function(r){return this.littleEndian=typeof r<"u"?!r:!1,this},n.prepend=function(r,s,h){(typeof s=="number"||typeof s!="string")&&(h=s,s=void 0);var g=typeof h>"u";if(g&&(h=this.offset),!this.noAssert){if(typeof h!="number"||h%1!==0)throw TypeError("Illegal offset: "+h+" (not an integer)");if(h>>>=0,h<0||h+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+h+" (+0) <= "+this.buffer.byteLength)}r instanceof t||(r=t.wrap(r,s));var _=r.limit-r.offset;if(_<=0)return this;var f=_-h;if(f>0){var C=new ArrayBuffer(this.buffer.byteLength+f),S=new Uint8Array(C);S.set(this.view.subarray(h,this.buffer.byteLength),_),this.buffer=C,this.view=S,this.offset+=f,this.markedOffset>=0&&(this.markedOffset+=f),this.limit+=f,h+=f}else new Uint8Array(this.buffer);return this.view.set(r.view.subarray(r.offset,r.limit),h-_),r.offset=r.limit,g&&(this.offset-=_),this},n.prependTo=function(r,s){return r.prepend(this,s),this},n.printDebug=function(r){typeof r!="function"&&(r=console.log.bind(console)),r(this.toString()+`
-------------------------------------------------------------------
`+this.toDebug(!0))},n.remaining=function(){return this.limit-this.offset},n.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},n.resize=function(r){if(!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal capacity: "+r+" (not an integer)");if(r|=0,r<0)throw RangeError("Illegal capacity: 0 <= "+r)}if(this.buffer.byteLength<r){var s=new ArrayBuffer(r),h=new Uint8Array(s);h.set(this.view),this.buffer=s,this.view=h}return this},n.reverse=function(r,s){if(typeof r>"u"&&(r=this.offset),typeof s>"u"&&(s=this.limit),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal begin: Not an integer");if(r>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal end: Not an integer");if(s>>>=0,r<0||r>s||s>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+r+" <= "+s+" <= "+this.buffer.byteLength)}return r===s?this:(Array.prototype.reverse.call(this.view.subarray(r,s)),this)},n.skip=function(r){if(!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal length: "+r+" (not an integer)");r|=0}var s=this.offset+r;if(!this.noAssert&&(s<0||s>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+r+" <= "+this.buffer.byteLength);return this.offset=s,this},n.slice=function(r,s){if(typeof r>"u"&&(r=this.offset),typeof s>"u"&&(s=this.limit),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal begin: Not an integer");if(r>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal end: Not an integer");if(s>>>=0,r<0||r>s||s>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+r+" <= "+s+" <= "+this.buffer.byteLength)}var h=this.clone();return h.offset=r,h.limit=s,h},n.toBuffer=function(r){var s=this.offset,h=this.limit;if(!this.noAssert){if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: Not an integer");if(s>>>=0,typeof h!="number"||h%1!==0)throw TypeError("Illegal limit: Not an integer");if(h>>>=0,s<0||s>h||h>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+s+" <= "+h+" <= "+this.buffer.byteLength)}if(!r&&s===0&&h===this.buffer.byteLength)return this.buffer;if(s===h)return i;var g=new ArrayBuffer(h-s);return new Uint8Array(g).set(new Uint8Array(this.buffer).subarray(s,h),0),g},n.toArrayBuffer=n.toBuffer,n.toString=function(r,s,h){if(typeof r>"u")return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch(typeof r=="number"&&(r="utf8",s=r,h=s),r){case"utf8":return this.toUTF8(s,h);case"base64":return this.toBase64(s,h);case"hex":return this.toHex(s,h);case"binary":return this.toBinary(s,h);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+r)}};var m=(function(){for(var r={},s=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],h=[],g=0,_=s.length;g<_;++g)h[s[g]]=g;return r.encode=function(f,C){for(var S,D;(S=f())!==null;)C(s[S>>2&63]),D=(S&3)<<4,(S=f())!==null?(D|=S>>4&15,C(s[(D|S>>4&15)&63]),D=(S&15)<<2,(S=f())!==null?(C(s[(D|S>>6&3)&63]),C(s[S&63])):(C(s[D&63]),C(61))):(C(s[D&63]),C(61),C(61))},r.decode=function(f,C){var S,D,I;function U(F){throw Error("Illegal character code: "+F)}for(;(S=f())!==null;)if(D=h[S],typeof D>"u"&&U(S),(S=f())!==null&&(I=h[S],typeof I>"u"&&U(S),C(D<<2>>>0|(I&48)>>4),(S=f())!==null)){if(D=h[S],typeof D>"u"){if(S===61)break;U(S)}if(C((I&15)<<4>>>0|(D&60)>>2),(S=f())!==null){if(I=h[S],typeof I>"u"){if(S===61)break;U(S)}C((D&3)<<6>>>0|I)}}},r.test=function(f){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(f)},r})();n.toBase64=function(r,s){if(typeof r>"u"&&(r=this.offset),typeof s>"u"&&(s=this.limit),r=r|0,s=s|0,r<0||s>this.capacity||r>s)throw RangeError("begin, end");var h;return m.encode((function(){return r<s?this.view[r++]:null}).bind(this),h=u()),h()},t.fromBase64=function(r,s){if(typeof r!="string")throw TypeError("str");var h=new t(r.length/4*3,s),g=0;return m.decode(l(r),function(_){h.view[g++]=_}),h.limit=g,h},t.btoa=function(r){return t.fromBinary(r).toBase64()},t.atob=function(r){return t.fromBase64(r).toBinary()},n.toBinary=function(r,s){if(typeof r>"u"&&(r=this.offset),typeof s>"u"&&(s=this.limit),r|=0,s|=0,r<0||s>this.capacity()||r>s)throw RangeError("begin, end");if(r===s)return"";for(var h=[],g=[];r<s;)h.push(this.view[r++]),h.length>=1024&&(g.push(String.fromCharCode.apply(String,h)),h=[]);return g.join("")+String.fromCharCode.apply(String,h)},t.fromBinary=function(r,s){if(typeof r!="string")throw TypeError("str");for(var h=0,g=r.length,_,f=new t(g,s);h<g;){if(_=r.charCodeAt(h),_>255)throw RangeError("illegal char code: "+_);f.view[h++]=_}return f.limit=g,f},n.toDebug=function(r){for(var s=-1,h=this.buffer.byteLength,g,_="",f="",C="";s<h;){if(s!==-1&&(g=this.view[s],g<16?_+="0"+g.toString(16).toUpperCase():_+=g.toString(16).toUpperCase(),r&&(f+=g>32&&g<127?String.fromCharCode(g):".")),++s,r&&s>0&&s%16===0&&s!==h){for(;_.length<51;)_+=" ";C+=_+f+`
`,_=f=""}s===this.offset&&s===this.limit?_+=s===this.markedOffset?"!":"|":s===this.offset?_+=s===this.markedOffset?"[":"<":s===this.limit?_+=s===this.markedOffset?"]":">":_+=s===this.markedOffset?"'":r||s!==0&&s!==h?" ":""}if(r&&_!==" "){for(;_.length<51;)_+=" ";C+=_+f+`
`}return r?C:_},t.fromDebug=function(r,s,h){for(var g=r.length,_=new t((g+1)/3|0,s,h),f=0,C=0,S,D,I=!1,U=!1,F=!1,H=!1,R=!1;f<g;){switch(S=r.charAt(f++)){case"!":if(!h){if(U||F||H){R=!0;break}U=F=H=!0}_.offset=_.markedOffset=_.limit=C,I=!1;break;case"|":if(!h){if(U||H){R=!0;break}U=H=!0}_.offset=_.limit=C,I=!1;break;case"[":if(!h){if(U||F){R=!0;break}U=F=!0}_.offset=_.markedOffset=C,I=!1;break;case"<":if(!h){if(U){R=!0;break}U=!0}_.offset=C,I=!1;break;case"]":if(!h){if(H||F){R=!0;break}H=F=!0}_.limit=_.markedOffset=C,I=!1;break;case">":if(!h){if(H){R=!0;break}H=!0}_.limit=C,I=!1;break;case"'":if(!h){if(F){R=!0;break}F=!0}_.markedOffset=C,I=!1;break;case" ":I=!1;break;default:if(!h&&I){R=!0;break}if(D=parseInt(S+r.charAt(f++),16),!h&&(isNaN(D)||D<0||D>255))throw TypeError("Illegal str: Not a debug encoded string");_.view[C++]=D,I=!0}if(R)throw TypeError("Illegal str: Invalid symbol at "+f)}if(!h){if(!U||!H)throw TypeError("Illegal str: Missing offset or limit");if(C<_.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+C+" < "+g)}return _},n.toHex=function(r,s){if(r=typeof r>"u"?this.offset:r,s=typeof s>"u"?this.limit:s,!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal begin: Not an integer");if(r>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal end: Not an integer");if(s>>>=0,r<0||r>s||s>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+r+" <= "+s+" <= "+this.buffer.byteLength)}for(var h=new Array(s-r),g;r<s;)g=this.view[r++],g<16?h.push("0",g.toString(16)):h.push(g.toString(16));return h.join("")},t.fromHex=function(r,s,h){if(!h){if(typeof r!="string")throw TypeError("Illegal str: Not a string");if(r.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var g=r.length,_=new t(g/2|0,s),f,C=0,S=0;C<g;C+=2){if(f=parseInt(r.substring(C,C+2),16),!h&&(!isFinite(f)||f<0||f>255))throw TypeError("Illegal str: Contains non-hex characters");_.view[S++]=f}return _.limit=S,_};var d=(function(){var r={};return r.MAX_CODEPOINT=1114111,r.encodeUTF8=function(s,h){var g=null;for(typeof s=="number"&&(g=s,s=function(){return null});g!==null||(g=s())!==null;)g<128?h(g&127):g<2048?(h(g>>6&31|192),h(g&63|128)):g<65536?(h(g>>12&15|224),h(g>>6&63|128),h(g&63|128)):(h(g>>18&7|240),h(g>>12&63|128),h(g>>6&63|128),h(g&63|128)),g=null},r.decodeUTF8=function(s,h){for(var g,_,f,C,S=function(D){D=D.slice(0,D.indexOf(null));var I=Error(D.toString());throw I.name="TruncatedError",I.bytes=D,I};(g=s())!==null;)if((g&128)===0)h(g);else if((g&224)===192)(_=s())===null&&S([g,_]),h((g&31)<<6|_&63);else if((g&240)===224)((_=s())===null||(f=s())===null)&&S([g,_,f]),h((g&15)<<12|(_&63)<<6|f&63);else if((g&248)===240)((_=s())===null||(f=s())===null||(C=s())===null)&&S([g,_,f,C]),h((g&7)<<18|(_&63)<<12|(f&63)<<6|C&63);else throw RangeError("Illegal starting byte: "+g)},r.UTF16toUTF8=function(s,h){for(var g,_=null;(g=_!==null?_:s())!==null;){if(g>=55296&&g<=57343&&(_=s())!==null&&_>=56320&&_<=57343){h((g-55296)*1024+_-56320+65536),_=null;continue}h(g)}_!==null&&h(_)},r.UTF8toUTF16=function(s,h){var g=null;for(typeof s=="number"&&(g=s,s=function(){return null});g!==null||(g=s())!==null;)g<=65535?h(g):(g-=65536,h((g>>10)+55296),h(g%1024+56320)),g=null},r.encodeUTF16toUTF8=function(s,h){r.UTF16toUTF8(s,function(g){r.encodeUTF8(g,h)})},r.decodeUTF8toUTF16=function(s,h){r.decodeUTF8(s,function(g){r.UTF8toUTF16(g,h)})},r.calculateCodePoint=function(s){return s<128?1:s<2048?2:s<65536?3:4},r.calculateUTF8=function(s){for(var h,g=0;(h=s())!==null;)g+=h<128?1:h<2048?2:h<65536?3:4;return g},r.calculateUTF16asUTF8=function(s){var h=0,g=0;return r.UTF16toUTF8(s,function(_){++h,g+=_<128?1:_<2048?2:_<65536?3:4}),[h,g]},r})();return n.toUTF8=function(r,s){if(typeof r>"u"&&(r=this.offset),typeof s>"u"&&(s=this.limit),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal begin: Not an integer");if(r>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal end: Not an integer");if(s>>>=0,r<0||r>s||s>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+r+" <= "+s+" <= "+this.buffer.byteLength)}var h;try{d.decodeUTF8toUTF16((function(){return r<s?this.view[r++]:null}).bind(this),h=u())}catch{if(r!==s)throw RangeError("Illegal range: Truncated data, "+r+" != "+s)}return h()},t.fromUTF8=function(r,s,h){if(!h&&typeof r!="string")throw TypeError("Illegal str: Not a string");var g=new t(d.calculateUTF16asUTF8(l(r),!0)[1],s,h),_=0;return d.encodeUTF16toUTF8(l(r),function(f){g.view[_++]=f}),g.limit=_,g},t})})(Rr)),Rr.exports}const NE={},LE=Object.freeze(Object.defineProperty({__proto__:null,default:NE},Symbol.toStringTag,{value:"Module"})),Vi=ep(LE);var UE=xr.exports,zd;function GE(){return zd||(zd=1,(function(a){(function(e,t){typeof al=="function"&&a&&a.exports?a.exports=t(zu()):(e.dcodeIO=e.dcodeIO||{}).ProtoBuf=t(e.dcodeIO.ByteBuffer)})(UE,function(e){var t={};return t.ByteBuffer=e,t.Long=e.Long||null,t.VERSION="4.0.0",t.WIRE_TYPES={},t.WIRE_TYPES.VARINT=0,t.WIRE_TYPES.BITS64=1,t.WIRE_TYPES.LDELIM=2,t.WIRE_TYPES.STARTGROUP=3,t.WIRE_TYPES.ENDGROUP=4,t.WIRE_TYPES.BITS32=5,t.PACKABLE_WIRE_TYPES=[t.WIRE_TYPES.VARINT,t.WIRE_TYPES.BITS64,t.WIRE_TYPES.BITS32],t.TYPES={int32:{name:"int32",wireType:t.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:t.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:t.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:t.WIRE_TYPES.VARINT,defaultValue:t.Long?t.Long.ZERO:void 0},uint64:{name:"uint64",wireType:t.WIRE_TYPES.VARINT,defaultValue:t.Long?t.Long.UZERO:void 0},sint64:{name:"sint64",wireType:t.WIRE_TYPES.VARINT,defaultValue:t.Long?t.Long.ZERO:void 0},bool:{name:"bool",wireType:t.WIRE_TYPES.VARINT,defaultValue:!1},double:{name:"double",wireType:t.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:t.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:t.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:t.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:t.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:t.WIRE_TYPES.BITS64,defaultValue:t.Long?t.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:t.WIRE_TYPES.BITS64,defaultValue:t.Long?t.Long.ZERO:void 0},float:{name:"float",wireType:t.WIRE_TYPES.BITS32,defaultValue:0},enum:{name:"enum",wireType:t.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:t.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:t.WIRE_TYPES.STARTGROUP,defaultValue:null}},t.MAP_KEY_TYPES=[t.TYPES.int32,t.TYPES.sint32,t.TYPES.sfixed32,t.TYPES.uint32,t.TYPES.fixed32,t.TYPES.int64,t.TYPES.sint64,t.TYPES.sfixed64,t.TYPES.uint64,t.TYPES.fixed64,t.TYPES.bool,t.TYPES.string,t.TYPES.bytes],t.ID_MIN=1,t.ID_MAX=536870911,t.convertFieldsToCamelCase=!1,t.populateAccessors=!0,t.populateDefaults=!0,t.Util=(function(){var n={};return n.IS_NODE=typeof process=="object"&&process+""=="[object process]",n.XHR=function(){for(var i=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],o=null,l=0;l<i.length;l++){try{o=i[l]()}catch{continue}break}if(!o)throw Error("XMLHttpRequest is not supported");return o},n.fetch=function(i,o){if(o&&typeof o!="function"&&(o=null),n.IS_NODE)if(o)Vi.readFile(i,function(u,c){o(u?null:""+c)});else try{return Vi.readFileSync(i)}catch{return null}else{var l=n.XHR();if(l.open("GET",i,!!o),l.setRequestHeader("Accept","text/plain"),typeof l.overrideMimeType=="function"&&l.overrideMimeType("text/plain"),o){if(l.onreadystatechange=function(){l.readyState==4&&(l.status==200||l.status==0&&typeof l.responseText=="string"?o(l.responseText):o(null))},l.readyState==4)return;l.send(null)}else return l.send(null),l.status==200||l.status==0&&typeof l.responseText=="string"?l.responseText:null}},n.toCamelCase=function(i){return i.replace(/_([a-zA-Z])/g,function(o,l){return l.toUpperCase()})},n})(),t.Lang={OPEN:"{",CLOSE:"}",OPTOPEN:"[",OPTCLOSE:"]",OPTEND:",",EQUAL:"=",END:";",COMMA:",",STRINGOPEN:'"',STRINGCLOSE:'"',STRINGOPEN_SQ:"'",STRINGCLOSE_SQ:"'",COPTOPEN:"(",COPTCLOSE:")",LT:"<",GT:">",DELIM:/[\s\{\}=;\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,BOOL:/^(?:true|false)$/i},t.DotProto=(function(n,i){var o={},l=function(m){this.source=""+m,this.index=0,this.line=1,this.stack=[],this.readingString=!1,this.stringEndsWith=i.STRINGCLOSE},u=l.prototype;u._readString=function(){i.STRING.lastIndex=this.index-1;var m;if((m=i.STRING.exec(this.source))!==null){var d=typeof m[1]<"u"?m[1]:m[2];return this.index=i.STRING.lastIndex,this.stack.push(this.stringEndsWith),d}throw Error("Unterminated string at line "+this.line+", index "+this.index)},u.next=function(){if(this.stack.length>0)return this.stack.shift();if(this.index>=this.source.length)return null;if(this.readingString)return this.readingString=!1,this._readString();var m,d;do{for(m=!1;i.WHITESPACE.test(d=this.source.charAt(this.index));)if(this.index++,d===`
`&&this.line++,this.index===this.source.length)return null;if(this.source.charAt(this.index)==="/")if(this.source.charAt(++this.index)==="/"){for(;this.source.charAt(this.index)!==`
`;)if(this.index++,this.index==this.source.length)return null;this.index++,this.line++,m=!0}else if(this.source.charAt(this.index)==="*"){for(d="";d+(d=this.source.charAt(this.index))!=="*/";)if(this.index++,d===`
`&&this.line++,this.index===this.source.length)return null;this.index++,m=!0}else throw Error("Unterminated comment at line "+this.line+": /"+this.source.charAt(this.index))}while(m);if(this.index===this.source.length)return null;var r=this.index;i.DELIM.lastIndex=0;var s=i.DELIM.test(this.source.charAt(r));if(s)++r;else for(++r;r<this.source.length&&!i.DELIM.test(this.source.charAt(r));)r++;var h=this.source.substring(this.index,this.index=r);return h===i.STRINGOPEN?(this.readingString=!0,this.stringEndsWith=i.STRINGCLOSE):h===i.STRINGOPEN_SQ&&(this.readingString=!0,this.stringEndsWith=i.STRINGCLOSE_SQ),h},u.peek=function(){if(this.stack.length===0){var m=this.next();if(m===null)return null;this.stack.push(m)}return this.stack[0]},u.toString=function(){return"Tokenizer("+this.index+"/"+this.source.length+" at line "+this.line+")"},o.Tokenizer=l;var c=function(m){this.tn=new l(m)},p=c.prototype;return p.parse=function(){for(var m={name:"[ROOT]",package:null,messages:[],enums:[],imports:[],options:{},services:[]},d,r=!0;d=this.tn.next();)switch(d){case"package":if(!r||m.package!==null)throw Error("Unexpected package at line "+this.tn.line);m.package=this._parsePackage(d);break;case"import":if(!r)throw Error("Unexpected import at line "+this.tn.line);m.imports.push(this._parseImport(d));break;case"message":this._parseMessage(m,null,d),r=!1;break;case"enum":this._parseEnum(m,d),r=!1;break;case"option":this._parseOption(m,d);break;case"service":this._parseService(m,d);break;case"extend":this._parseExtend(m,d);break;case"syntax":m.syntax=this._parseSyntax(m);break;default:throw Error("Unexpected token at line "+this.tn.line+": "+d)}return delete m.name,m},p._parseNumber=function(m){var d=1;if(m.charAt(0)=="-"&&(d=-1,m=m.substring(1)),i.NUMBER_DEC.test(m))return d*parseInt(m,10);if(i.NUMBER_HEX.test(m))return d*parseInt(m.substring(2),16);if(i.NUMBER_OCT.test(m))return d*parseInt(m.substring(1),8);if(i.NUMBER_FLT.test(m))return m==="inf"?d*(1/0):m==="nan"?NaN:d*parseFloat(m);throw Error("Illegal number at line "+this.tn.line+": "+(d<0?"-":"")+m)},p._parseString=function(){var m="",d,r;do{if(r=this.tn.next(),m+=this.tn.next(),d=this.tn.next(),d!==r)throw Error("Illegal end of string at line "+this.tn.line+": "+d);d=this.tn.peek()}while(d===i.STRINGOPEN||d===i.STRINGOPEN_SQ);return m},p._parseId=function(m,d){var r=-1,s=1;if(m.charAt(0)=="-"&&(s=-1,m=m.substring(1)),i.NUMBER_DEC.test(m))r=parseInt(m);else if(i.NUMBER_HEX.test(m))r=parseInt(m.substring(2),16);else if(i.NUMBER_OCT.test(m))r=parseInt(m.substring(1),8);else throw Error("Illegal id at line "+this.tn.line+": "+(s<0?"-":"")+m);if(r=s*r|0,!d&&r<0)throw Error("Illegal id at line "+this.tn.line+": "+(s<0?"-":"")+m);return r},p._parsePackage=function(m){if(m=this.tn.next(),!i.TYPEREF.test(m))throw Error("Illegal package name at line "+this.tn.line+": "+m);var d=m;if(m=this.tn.next(),m!=i.END)throw Error("Illegal end of package at line "+this.tn.line+": "+m);return d},p._parseImport=function(m){if(m=this.tn.peek(),m==="public"&&(this.tn.next(),m=this.tn.peek()),m!==i.STRINGOPEN&&m!==i.STRINGOPEN_SQ)throw Error("Illegal start of import at line "+this.tn.line+": "+m);var d=this._parseString();if(m=this.tn.next(),m!==i.END)throw Error("Illegal end of import at line "+this.tn.line+": "+m);return d},p._parseOption=function(m,d){d=this.tn.next();var r=!1;if(d==i.COPTOPEN&&(r=!0,d=this.tn.next()),!i.TYPEREF.test(d)&&!/google\.protobuf\./.test(d))throw Error("Illegal option name in message "+m.name+" at line "+this.tn.line+": "+d);var s=d;if(d=this.tn.next(),r){if(d!==i.COPTCLOSE)throw Error("Illegal end in message "+m.name+", option "+s+" at line "+this.tn.line+": "+d);s="("+s+")",d=this.tn.next(),i.FQTYPEREF.test(d)&&(s+=d,d=this.tn.next())}if(d!==i.EQUAL)throw Error("Illegal operator in message "+m.name+", option "+s+" at line "+this.tn.line+": "+d);var h;if(d=this.tn.peek(),d===i.STRINGOPEN||d===i.STRINGOPEN_SQ)h=this._parseString();else if(this.tn.next(),i.NUMBER.test(d))h=this._parseNumber(d,!0);else if(i.BOOL.test(d))h=d==="true";else if(i.TYPEREF.test(d))h=d;else throw Error("Illegal option value in message "+m.name+", option "+s+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),d!==i.END)throw Error("Illegal end of option in message "+m.name+", option "+s+" at line "+this.tn.line+": "+d);m.options[s]=h},p._parseIgnoredStatement=function(m,d){var r;do{if(r=this.tn.next(),r===null)throw Error("Unexpected EOF in "+m.name+", "+d+" at line "+this.tn.line);if(r===i.END)break}while(!0)},p._parseService=function(m,d){if(d=this.tn.next(),!i.NAME.test(d))throw Error("Illegal service name at line "+this.tn.line+": "+d);var r=d,s={name:r,rpc:{},options:{}};if(d=this.tn.next(),d!==i.OPEN)throw Error("Illegal start of service "+r+" at line "+this.tn.line+": "+d);do if(d=this.tn.next(),d==="option")this._parseOption(s,d);else if(d==="rpc")this._parseServiceRPC(s,d);else if(d!==i.CLOSE)throw Error("Illegal type of service "+r+" at line "+this.tn.line+": "+d);while(d!==i.CLOSE);m.services.push(s)},p._parseServiceRPC=function(m,d){var r=d;if(d=this.tn.next(),!i.NAME.test(d))throw Error("Illegal method name in service "+m.name+" at line "+this.tn.line+": "+d);var s=d,h={request:null,response:null,request_stream:!1,response_stream:!1,options:{}};if(d=this.tn.next(),d!==i.COPTOPEN)throw Error("Illegal start of request type in service "+m.name+"#"+s+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),d.toLowerCase()==="stream"&&(h.request_stream=!0,d=this.tn.next()),!i.TYPEREF.test(d))throw Error("Illegal request type in service "+m.name+"#"+s+" at line "+this.tn.line+": "+d);if(h.request=d,d=this.tn.next(),d!=i.COPTCLOSE)throw Error("Illegal end of request type in service "+m.name+"#"+s+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),d.toLowerCase()!=="returns")throw Error("Illegal delimiter in service "+m.name+"#"+s+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),d!=i.COPTOPEN)throw Error("Illegal start of response type in service "+m.name+"#"+s+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),d.toLowerCase()==="stream"&&(h.response_stream=!0,d=this.tn.next()),h.response=d,d=this.tn.next(),d!==i.COPTCLOSE)throw Error("Illegal end of response type in service "+m.name+"#"+s+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),d===i.OPEN){do if(d=this.tn.next(),d==="option")this._parseOption(h,d);else if(d!==i.CLOSE)throw Error("Illegal start of option inservice "+m.name+"#"+s+" at line "+this.tn.line+": "+d);while(d!==i.CLOSE);this.tn.peek()===i.END&&this.tn.next()}else if(d!==i.END)throw Error("Illegal delimiter in service "+m.name+"#"+s+" at line "+this.tn.line+": "+d);typeof m[r]>"u"&&(m[r]={}),m[r][s]=h},p._parseMessage=function(m,d,r){var s={},h=r==="group";if(r=this.tn.next(),!i.NAME.test(r))throw Error("Illegal "+(h?"group":"message")+" name"+(m?" in message "+m.name:"")+" at line "+this.tn.line+": "+r);if(s.name=r,h){if(r=this.tn.next(),r!==i.EQUAL)throw Error("Illegal id assignment after group "+s.name+" at line "+this.tn.line+": "+r);r=this.tn.next();try{d.id=this._parseId(r)}catch{throw Error("Illegal field id value for group "+s.name+"#"+d.name+" at line "+this.tn.line+": "+r)}s.isGroup=!0}if(s.fields=[],s.enums=[],s.messages=[],s.options={},s.oneofs={},r=this.tn.next(),r===i.OPTOPEN&&d&&(this._parseFieldOptions(s,d,r),r=this.tn.next()),r!==i.OPEN)throw Error("Illegal start of "+(h?"group":"message")+" "+s.name+" at line "+this.tn.line+": "+r);do if(r=this.tn.next(),r===i.CLOSE){r=this.tn.peek(),r===i.END&&this.tn.next();break}else if(i.RULE.test(r))this._parseMessageField(s,r);else if(r==="oneof")this._parseMessageOneOf(s,r);else if(r==="enum")this._parseEnum(s,r);else if(r==="message")this._parseMessage(s,null,r);else if(r==="option")this._parseOption(s,r);else if(r==="extensions")s.extensions=this._parseExtensions(s,r);else if(r==="extend")this._parseExtend(s,r);else if(i.TYPEREF.test(r))this._parseMessageField(s,"optional",r);else throw Error("Illegal token in message "+s.name+" at line "+this.tn.line+": "+r);while(!0);return m.messages.push(s),s},p._parseMessageField=function(m,d,r){var s={},h=null;if(s.rule=d,s.options={},d=typeof r<"u"?r:this.tn.next(),s.rule==="map"){if(d!==i.LT)throw Error("Illegal token in message "+m.name+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),!i.TYPE.test(d)&&!i.TYPEREF.test(d))throw Error("Illegal token in message "+m.name+" at line "+this.tn.line+": "+d);if(s.keytype=d,d=this.tn.next(),d!==i.COMMA)throw Error("Illegal token in message "+m.name+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),!i.TYPE.test(d)&&!i.TYPEREF.test(d))throw Error("Illegal token in message "+m.name+" at line "+this.tn.line+": "+d);if(s.type=d,d=this.tn.next(),d!==i.GT)throw Error("Illegal token in message "+m.name+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),!i.NAME.test(d))throw Error("Illegal token in message "+m.name+" at line "+this.tn.line+": "+d);if(s.name=d,d=this.tn.next(),d!==i.EQUAL)throw Error("Illegal token in field "+m.name+"#"+s.name+" at line "+this.line+": "+d);d=this.tn.next();try{s.id=this._parseId(d)}catch{throw Error("Illegal field id in message "+m.name+"#"+s.name+" at line "+this.tn.line+": "+d)}if(d=this.tn.next(),d===i.OPTOPEN&&(this._parseFieldOptions(m,s,d),d=this.tn.next()),d!==i.END)throw Error("Illegal delimiter in message "+m.name+"#"+s.name+" at line "+this.tn.line+": "+d)}else if(d==="group"){if(h=this._parseMessage(m,s,d),!/^[A-Z]/.test(h.name))throw Error("Group names must start with a capital letter");s.type=h.name,s.name=h.name.toLowerCase(),d=this.tn.peek(),d===i.END&&this.tn.next()}else{if(!i.TYPE.test(d)&&!i.TYPEREF.test(d))throw Error("Illegal field type in message "+m.name+" at line "+this.tn.line+": "+d);if(s.type=d,d=this.tn.next(),!i.NAME.test(d))throw Error("Illegal field name in message "+m.name+" at line "+this.tn.line+": "+d);if(s.name=d,d=this.tn.next(),d!==i.EQUAL)throw Error("Illegal token in field "+m.name+"#"+s.name+" at line "+this.tn.line+": "+d);d=this.tn.next();try{s.id=this._parseId(d)}catch{throw Error("Illegal field id in message "+m.name+"#"+s.name+" at line "+this.tn.line+": "+d)}if(d=this.tn.next(),d===i.OPTOPEN&&(this._parseFieldOptions(m,s,d),d=this.tn.next()),d!==i.END)throw Error("Illegal delimiter in message "+m.name+"#"+s.name+" at line "+this.tn.line+": "+d)}return m.fields.push(s),s},p._parseMessageOneOf=function(m,d){if(d=this.tn.next(),!i.NAME.test(d))throw Error("Illegal oneof name in message "+m.name+" at line "+this.tn.line+": "+d);var r=d,s,h=[];if(d=this.tn.next(),d!==i.OPEN)throw Error("Illegal start of oneof "+r+" at line "+this.tn.line+": "+d);for(;this.tn.peek()!==i.CLOSE;)s=this._parseMessageField(m,"optional"),s.oneof=r,h.push(s.id);this.tn.next(),m.oneofs[r]=h},p._parseFieldOptions=function(m,d,r){var s=!0;do{if(r=this.tn.next(),r===i.OPTCLOSE)break;if(r===i.OPTEND){if(s)throw Error("Illegal start of options in message "+m.name+"#"+d.name+" at line "+this.tn.line+": "+r);r=this.tn.next()}this._parseFieldOption(m,d,r),s=!1}while(!0)},p._parseFieldOption=function(m,d,r){var s=!1;if(r===i.COPTOPEN&&(r=this.tn.next(),s=!0),!i.TYPEREF.test(r))throw Error("Illegal field option in "+m.name+"#"+d.name+" at line "+this.tn.line+": "+r);var h=r;if(r=this.tn.next(),s){if(r!==i.COPTCLOSE)throw Error("Illegal delimiter in "+m.name+"#"+d.name+" at line "+this.tn.line+": "+r);h="("+h+")",r=this.tn.next(),i.FQTYPEREF.test(r)&&(h+=r,r=this.tn.next())}if(r!==i.EQUAL)throw Error("Illegal token in "+m.name+"#"+d.name+" at line "+this.tn.line+": "+r);var g;if(r=this.tn.peek(),r===i.STRINGOPEN||r===i.STRINGOPEN_SQ)g=this._parseString();else if(i.NUMBER.test(r,!0))g=this._parseNumber(this.tn.next(),!0);else if(i.BOOL.test(r))g=this.tn.next().toLowerCase()==="true";else if(i.TYPEREF.test(r))g=this.tn.next();else throw Error("Illegal value in message "+m.name+"#"+d.name+", option "+h+" at line "+this.tn.line+": "+r);d.options[h]=g},p._parseEnum=function(m,d){var r={};if(d=this.tn.next(),!i.NAME.test(d))throw Error("Illegal enum name in message "+m.name+" at line "+this.tn.line+": "+d);if(r.name=d,d=this.tn.next(),d!==i.OPEN)throw Error("Illegal start of enum "+r.name+" at line "+this.tn.line+": "+d);r.values=[],r.options={};do{if(d=this.tn.next(),d===i.CLOSE){d=this.tn.peek(),d===i.END&&this.tn.next();break}if(d=="option")this._parseOption(r,d);else{if(!i.NAME.test(d))throw Error("Illegal name in enum "+r.name+" at line "+this.tn.line+": "+d);this._parseEnumValue(r,d)}}while(!0);m.enums.push(r)},p._parseEnumValue=function(m,d){var r={};if(r.name=d,d=this.tn.next(),d!==i.EQUAL)throw Error("Illegal token in enum "+m.name+" at line "+this.tn.line+": "+d);d=this.tn.next();try{r.id=this._parseId(d,!0)}catch{throw Error("Illegal id in enum "+m.name+" at line "+this.tn.line+": "+d)}if(m.values.push(r),d=this.tn.next(),d===i.OPTOPEN){var s={options:{}};this._parseFieldOptions(m,s,d),d=this.tn.next()}if(d!==i.END)throw Error("Illegal delimiter in enum "+m.name+" at line "+this.tn.line+": "+d)},p._parseExtensions=function(m,d){var r=[];if(d=this.tn.next(),d==="min"?r.push(n.ID_MIN):d==="max"?r.push(n.ID_MAX):r.push(this._parseNumber(d)),d=this.tn.next(),d!=="to")throw Error("Illegal extensions delimiter in message "+m.name+" at line "+this.tn.line+": "+d);if(d=this.tn.next(),d==="min"?r.push(n.ID_MIN):d==="max"?r.push(n.ID_MAX):r.push(this._parseNumber(d)),d=this.tn.next(),d!==i.END)throw Error("Illegal extensions delimiter in message "+m.name+" at line "+this.tn.line+": "+d);return r},p._parseExtend=function(m,d){if(d=this.tn.next(),!i.TYPEREF.test(d))throw Error("Illegal message name at line "+this.tn.line+": "+d);var r={};if(r.ref=d,r.fields=[],d=this.tn.next(),d!==i.OPEN)throw Error("Illegal start of extend "+r.name+" at line "+this.tn.line+": "+d);do if(d=this.tn.next(),d===i.CLOSE){d=this.tn.peek(),d==i.END&&this.tn.next();break}else if(i.RULE.test(d))this._parseMessageField(r,d);else if(i.TYPEREF.test(d))this._parseMessageField(r,"optional",d);else throw Error("Illegal token in extend "+r.name+" at line "+this.tn.line+": "+d);while(!0);return m.messages.push(r),r},p._parseSyntax=function(m){var d=this.tn.next();if(d!==i.EQUAL)throw Error("Illegal token at line "+this.tn.line+": "+d);if(d=this.tn.peek(),d!==i.STRINGOPEN&&d!==i.STRINGOPEN_SQ)throw Error("Illegal token at line "+this.tn.line+": "+d);var r=this._parseString();if(d=this.tn.next(),d!==i.END)throw Error("Illegal token at line "+this.tn.line+": "+d);return r},p.toString=function(){return"Parser"},o.Parser=c,o})(t,t.Lang),t.Reflect=(function(n){var i={},o=function(T,b,v){this.builder=T,this.parent=b,this.name=v,this.className},l=o.prototype;l.fqn=function(){var T=this.name,b=this;do{if(b=b.parent,b==null)break;T=b.name+"."+T}while(!0);return T},l.toString=function(T){return(T?this.className+" ":"")+this.fqn()},l.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},i.T=o;var u=function(T,b,v,P,O){o.call(this,T,b,v),this.className="Namespace",this.children=[],this.options=P||{},this.syntax=O||"proto2"},c=u.prototype=Object.create(o.prototype);c.getChildren=function(T){if(T=T||null,T==null)return this.children.slice();for(var b=[],v=0,P=this.children.length;v<P;++v)this.children[v]instanceof T&&b.push(this.children[v]);return b},c.addChild=function(T){var b;if(b=this.getChild(T.name))if(b instanceof s.Field&&b.name!==b.originalName&&this.getChild(b.originalName)===null)b.name=b.originalName;else if(T instanceof s.Field&&T.name!==T.originalName&&this.getChild(T.originalName)===null)T.name=T.originalName;else throw Error("Duplicate name in namespace "+this.toString(!0)+": "+T.name);this.children.push(T)},c.getChild=function(T){for(var b=typeof T=="number"?"id":"name",v=0,P=this.children.length;v<P;++v)if(this.children[v][b]===T)return this.children[v];return null},c.resolve=function(T,b){var v=typeof T=="string"?T.split("."):T,P=this,O=0;if(v[O]===""){for(;P.parent!==null;)P=P.parent;O++}var W;do{do{if(!(P instanceof i.Namespace)){P=null;break}if(W=P.getChild(v[O]),!W||!(W instanceof i.T)||b&&!(W instanceof i.Namespace)){P=null;break}P=W,O++}while(O<v.length);if(P!=null)break;if(this.parent!==null)return this.parent.resolve(T,b)}while(P!=null);return P},c.qn=function(T){var b=[],v=T;do b.unshift(v.name),v=v.parent;while(v!==null);for(var P=1;P<=b.length;P++){var O=b.slice(b.length-P);if(T===this.resolve(O,T instanceof i.Namespace))return O.join(".")}return T.fqn()},c.build=function(){for(var T={},b=this.children,v=0,P=b.length,O;v<P;++v)O=b[v],O instanceof u&&(T[O.name]=O.build());return Object.defineProperty&&Object.defineProperty(T,"$options",{value:this.buildOpt()}),T},c.buildOpt=function(){for(var T={},b=Object.keys(this.options),v=0,P=b.length;v<P;++v){var O=b[v],W=this.options[b[v]];T[O]=W}return T},c.getOption=function(T){return typeof T>"u"?this.options:typeof this.options[T]<"u"?this.options[T]:null},i.Namespace=u;var p=function(T,b,v,P){if(this.type=T,this.resolvedType=b,this.isMapKey=v,this.syntax=P,v&&n.MAP_KEY_TYPES.indexOf(T)<0)throw Error("Invalid map key type: "+T.name)},m=p.prototype;function d(T){if(typeof T=="string"&&(T=n.TYPES[T]),typeof T.defaultValue>"u")throw Error("default value for type "+T.name+" is not supported");return T==n.TYPES.bytes?new e(0):T.defaultValue}m.defaultFieldValue=d;function r(T,b){if(T&&typeof T.low=="number"&&typeof T.high=="number"&&typeof T.unsigned=="boolean"&&T.low===T.low&&T.high===T.high)return new n.Long(T.low,T.high,typeof b>"u"?T.unsigned:b);if(typeof T=="string")return n.Long.fromString(T,b||!1,10);if(typeof T=="number")return n.Long.fromNumber(T,b||!1);throw Error("not convertible to Long")}m.verifyValue=function(T){var b=(function(W,ie){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+W+" ("+ie+")")}).bind(this);switch(this.type){case n.TYPES.int32:case n.TYPES.sint32:case n.TYPES.sfixed32:return(typeof T!="number"||T===T&&T%1!==0)&&b(typeof T,"not an integer"),T>4294967295?T|0:T;case n.TYPES.uint32:case n.TYPES.fixed32:return(typeof T!="number"||T===T&&T%1!==0)&&b(typeof T,"not an integer"),T<0?T>>>0:T;case n.TYPES.int64:case n.TYPES.sint64:case n.TYPES.sfixed64:if(n.Long)try{return r(T,!1)}catch(W){b(typeof T,W.message)}else b(typeof T,"requires Long.js");case n.TYPES.uint64:case n.TYPES.fixed64:if(n.Long)try{return r(T,!0)}catch(W){b(typeof T,W.message)}else b(typeof T,"requires Long.js");case n.TYPES.bool:return typeof T!="boolean"&&b(typeof T,"not a boolean"),T;case n.TYPES.float:case n.TYPES.double:return typeof T!="number"&&b(typeof T,"not a number"),T;case n.TYPES.string:return typeof T!="string"&&!(T&&T instanceof String)&&b(typeof T,"not a string"),""+T;case n.TYPES.bytes:return e.isByteBuffer(T)?T:e.wrap(T,"base64");case n.TYPES.enum:{var v=this.resolvedType.getChildren(n.Reflect.Enum.Value);for(O=0;O<v.length;O++){if(v[O].name==T)return v[O].id;if(v[O].id==T)return v[O].id}if(this.syntax==="proto3")return(typeof T!="number"||T===T&&T%1!==0)&&b(typeof T,"not an integer"),(T>4294967295||T<0)&&b(typeof T,"not in range for uint32"),T;b(T,"not a valid enum value")}case n.TYPES.group:case n.TYPES.message:{if((!T||typeof T!="object")&&b(typeof T,"object expected"),T instanceof this.resolvedType.clazz)return T;if(T instanceof n.Builder.Message){var P={};for(var O in T)T.hasOwnProperty(O)&&(P[O]=T[O]);T=P}return new this.resolvedType.clazz(T)}}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+T+" (undefined type "+this.type+")")},m.calculateLength=function(T,b){if(b===null)return 0;var v;switch(this.type){case n.TYPES.int32:return b<0?e.calculateVarint64(b):e.calculateVarint32(b);case n.TYPES.uint32:return e.calculateVarint32(b);case n.TYPES.sint32:return e.calculateVarint32(e.zigZagEncode32(b));case n.TYPES.fixed32:case n.TYPES.sfixed32:case n.TYPES.float:return 4;case n.TYPES.int64:case n.TYPES.uint64:return e.calculateVarint64(b);case n.TYPES.sint64:return e.calculateVarint64(e.zigZagEncode64(b));case n.TYPES.fixed64:case n.TYPES.sfixed64:return 8;case n.TYPES.bool:return 1;case n.TYPES.enum:return e.calculateVarint32(b);case n.TYPES.double:return 8;case n.TYPES.string:return v=e.calculateUTF8Bytes(b),e.calculateVarint32(v)+v;case n.TYPES.bytes:if(b.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+b.remaining()+" bytes remaining");return e.calculateVarint32(b.remaining())+b.remaining();case n.TYPES.message:return v=this.resolvedType.calculate(b),e.calculateVarint32(v)+v;case n.TYPES.group:return v=this.resolvedType.calculate(b),v+e.calculateVarint32(T<<3|n.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+b+" (unknown type)")},m.encodeValue=function(T,b,v){if(b===null)return v;switch(this.type){case n.TYPES.int32:b<0?v.writeVarint64(b):v.writeVarint32(b);break;case n.TYPES.uint32:v.writeVarint32(b);break;case n.TYPES.sint32:v.writeVarint32ZigZag(b);break;case n.TYPES.fixed32:v.writeUint32(b);break;case n.TYPES.sfixed32:v.writeInt32(b);break;case n.TYPES.int64:case n.TYPES.uint64:v.writeVarint64(b);break;case n.TYPES.sint64:v.writeVarint64ZigZag(b);break;case n.TYPES.fixed64:v.writeUint64(b);break;case n.TYPES.sfixed64:v.writeInt64(b);break;case n.TYPES.bool:typeof b=="string"?v.writeVarint32(b.toLowerCase()==="false"?0:!!b):v.writeVarint32(b?1:0);break;case n.TYPES.enum:v.writeVarint32(b);break;case n.TYPES.float:v.writeFloat32(b);break;case n.TYPES.double:v.writeFloat64(b);break;case n.TYPES.string:v.writeVString(b);break;case n.TYPES.bytes:if(b.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+b.remaining()+" bytes remaining");var P=b.offset;v.writeVarint32(b.remaining()),v.append(b),b.offset=P;break;case n.TYPES.message:var O=new e().LE();this.resolvedType.encode(b,O),v.writeVarint32(O.offset),v.append(O.flip());break;case n.TYPES.group:this.resolvedType.encode(b,v),v.writeVarint32(T<<3|n.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+b+" (unknown type)")}return v},m.decode=function(T,b,v){if(b!=this.type.wireType)throw Error("Unexpected wire type for element");var P,O;switch(this.type){case n.TYPES.int32:return T.readVarint32()|0;case n.TYPES.uint32:return T.readVarint32()>>>0;case n.TYPES.sint32:return T.readVarint32ZigZag()|0;case n.TYPES.fixed32:return T.readUint32()>>>0;case n.TYPES.sfixed32:return T.readInt32()|0;case n.TYPES.int64:return T.readVarint64();case n.TYPES.uint64:return T.readVarint64().toUnsigned();case n.TYPES.sint64:return T.readVarint64ZigZag();case n.TYPES.fixed64:return T.readUint64();case n.TYPES.sfixed64:return T.readInt64();case n.TYPES.bool:return!!T.readVarint32();case n.TYPES.enum:return T.readVarint32();case n.TYPES.float:return T.readFloat();case n.TYPES.double:return T.readDouble();case n.TYPES.string:return T.readVString();case n.TYPES.bytes:{if(O=T.readVarint32(),T.remaining()<O)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+O+" required but got only "+T.remaining());return P=T.clone(),P.limit=P.offset+O,T.offset+=O,P}case n.TYPES.message:return O=T.readVarint32(),this.resolvedType.decode(T,O);case n.TYPES.group:return this.resolvedType.decode(T,-1,v)}throw Error("[INTERNAL] Illegal decode type")},m.valueFromString=function(T){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case n.TYPES.int32:case n.TYPES.sint32:case n.TYPES.sfixed32:case n.TYPES.uint32:case n.TYPES.fixed32:return this.verifyValue(parseInt(T));case n.TYPES.int64:case n.TYPES.sint64:case n.TYPES.sfixed64:case n.TYPES.uint64:case n.TYPES.fixed64:return this.verifyValue(T);case n.TYPES.bool:return T==="true";case n.TYPES.string:return this.verifyValue(T);case n.TYPES.bytes:return e.fromBinary(T)}},m.valueToString=function(T){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===n.TYPES.bytes?T.toString("binary"):T.toString()},i.Element=p;var s=function(T,b,v,P,O,W){u.call(this,T,b,v,P,W),this.className="Message",this.extensions=[n.ID_MIN,n.ID_MAX],this.clazz=null,this.isGroup=!!O,this._fields=null,this._fieldsById=null,this._fieldsByName=null},h=s.prototype=Object.create(u.prototype);h.build=function(T){if(this.clazz&&!T)return this.clazz;var b=(function(W,ie){var J=ie.getChildren(W.Reflect.Message.Field),ae=ie.getChildren(W.Reflect.Message.OneOf),he=function(A,k){W.Builder.Message.call(this);for(var Y=0,X=ae.length;Y<X;++Y)this[ae[Y].name]=null;for(Y=0,X=J.length;Y<X;++Y){var ee=J[Y];this[ee.name]=ee.repeated?[]:ee.map?new W.Map(ee):null,(ee.required||ie.syntax==="proto3")&&ee.defaultValue!==null&&(this[ee.name]=ee.defaultValue)}if(arguments.length>0){var oe;if(arguments.length===1&&A!==null&&typeof A=="object"&&(typeof A.encode!="function"||A instanceof he)&&!Array.isArray(A)&&!(A instanceof W.Map)&&!e.isByteBuffer(A)&&!(A instanceof ArrayBuffer)&&!(W.Long&&A instanceof W.Long))this.$set(A);else for(Y=0,X=arguments.length;Y<X;++Y)typeof(oe=arguments[Y])<"u"&&this.$set(J[Y].name,oe)}},ue=he.prototype=Object.create(W.Builder.Message.prototype);ue.add=function(A,k,Y){var X=ie._fieldsByName[A];if(!Y){if(!X)throw Error(this+"#"+A+" is undefined");if(!(X instanceof W.Reflect.Message.Field))throw Error(this+"#"+A+" is not a field: "+X.toString(!0));if(!X.repeated)throw Error(this+"#"+A+" is not a repeated field");k=X.verifyValue(k,!0)}return this[A]===null&&(this[A]=[]),this[A].push(k),this},ue.$add=ue.add,ue.set=function(A,k,Y){if(A&&typeof A=="object"){Y=k;for(var X in A)A.hasOwnProperty(X)&&typeof(k=A[X])<"u"&&this.$set(X,k,Y);return this}var ee=ie._fieldsByName[A];if(Y)this[A]=k;else{if(!ee)throw Error(this+"#"+A+" is not a field: undefined");if(!(ee instanceof W.Reflect.Message.Field))throw Error(this+"#"+A+" is not a field: "+ee.toString(!0));this[ee.name]=k=ee.verifyValue(k)}return ee&&ee.oneof&&(k!==null?(this[ee.oneof.name]!==null&&(this[this[ee.oneof.name]]=null),this[ee.oneof.name]=ee.name):ee.oneof.name===A&&(this[ee.oneof.name]=null)),this},ue.$set=ue.set,ue.get=function(A,k){if(k)return this[A];var Y=ie._fieldsByName[A];if(!Y||!(Y instanceof W.Reflect.Message.Field))throw Error(this+"#"+A+" is not a field: undefined");if(!(Y instanceof W.Reflect.Message.Field))throw Error(this+"#"+A+" is not a field: "+Y.toString(!0));return this[Y.name]},ue.$get=ue.get;for(var we=0;we<J.length;we++){var Ge=J[we];Ge instanceof W.Reflect.Message.ExtensionField||ie.builder.options.populateAccessors&&(function(A){var k=A.originalName.replace(/(_[a-zA-Z])/g,function(oe){return oe.toUpperCase().replace("_","")});k=k.substring(0,1).toUpperCase()+k.substring(1);var Y=A.originalName.replace(/([A-Z])/g,function(oe){return"_"+oe}),X=function(oe,de){return this[A.name]=de?oe:A.verifyValue(oe),this},ee=function(){return this[A.name]};ie.getChild("set"+k)===null&&(ue["set"+k]=X),ie.getChild("set_"+Y)===null&&(ue["set_"+Y]=X),ie.getChild("get"+k)===null&&(ue["get"+k]=ee),ie.getChild("get_"+Y)===null&&(ue["get_"+Y]=ee)})(Ge)}ue.encode=function(A,k){typeof A=="boolean"&&(k=A,A=void 0);var Y=!1;A||(A=new e,Y=!0);var X=A.littleEndian;try{return ie.encode(this,A.LE(),k),(Y?A.flip():A).LE(X)}catch(ee){throw A.LE(X),ee}},he.encode=function(A,k,Y){return new he(A).encode(k,Y)},ue.calculate=function(){return ie.calculate(this)},ue.encodeDelimited=function(A){var k=!1;A||(A=new e,k=!0);var Y=new e().LE();return ie.encode(this,Y).flip(),A.writeVarint32(Y.remaining()),A.append(Y),k?A.flip():A},ue.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(A){throw A.encoded&&(A.encoded=A.encoded.toArrayBuffer()),A}},ue.toArrayBuffer=ue.encodeAB,ue.encodeNB=function(){try{return this.encode().toBuffer()}catch(A){throw A.encoded&&(A.encoded=A.encoded.toBuffer()),A}},ue.toBuffer=ue.encodeNB,ue.encode64=function(){try{return this.encode().toBase64()}catch(A){throw A.encoded&&(A.encoded=A.encoded.toBase64()),A}},ue.toBase64=ue.encode64,ue.encodeHex=function(){try{return this.encode().toHex()}catch(A){throw A.encoded&&(A.encoded=A.encoded.toHex()),A}},ue.toHex=ue.encodeHex;function G(A,k,Y,X,ee){var oe=void 0;if(A===null||typeof A!="object"){if(X==W.TYPES.enum){for(var de=ee.getChildren(W.Reflect.Enum.Value),ce=0;ce<de.length;ce++)if(de[ce].id===A){A=de[ce].name;break}}oe=A}else if(e.isByteBuffer(A))k?oe=A.toBase64():oe=A.toBuffer();else if(Array.isArray(A)){var ye=A;oe=[];for(var xe=0;xe<ye.length;xe++)oe.push(G(ye[xe],k,Y,X,ee))}else if(A instanceof W.Map){var Ne=A.entries();oe={};for(var z=Ne.next();!z.done;z=Ne.next())oe[A.keyElem.valueToString(z.value[0])]=G(z.value[1],k,Y,A.valueElem.type,A.valueElem.resolvedType)}else if(A instanceof W.Long)Y?oe=A.toString():oe=new W.Long(A);else{oe={};var qe=A.$type,We=void 0;for(var ce in A)if(A.hasOwnProperty(ce)){var Xe=A[ce];qe&&(We=qe.getChild(ce)),oe[ce]=G(Xe,k,Y,We.type,We.resolvedType)}}return oe}return ue.toRaw=function(A,k){return G(this,!!A,!!k,W.TYPES.message,this.$type)},ue.encodeJSON=function(){return JSON.stringify(G(this,!0,!0,W.TYPES.message,this.$type))},he.decode=function(A,k){typeof A=="string"&&(A=e.wrap(A,k||"base64")),A=e.isByteBuffer(A)?A:e.wrap(A);var Y=A.littleEndian;try{var X=ie.decode(A.LE());return A.LE(Y),X}catch(ee){throw A.LE(Y),ee}},he.decodeDelimited=function(A,k){if(typeof A=="string"&&(A=e.wrap(A,k||"base64")),A=e.isByteBuffer(A)?A:e.wrap(A),A.remaining()<1)return null;var Y=A.offset,X=A.readVarint32();if(A.remaining()<X)return A.offset=Y,null;try{var ee=ie.decode(A.slice(A.offset,A.offset+X).LE());return A.offset+=X,ee}catch(oe){throw A.offset+=X,oe}},he.decode64=function(A){return he.decode(A,"base64")},he.decodeHex=function(A){return he.decode(A,"hex")},he.decodeJSON=function(A){return new he(JSON.parse(A))},ue.toString=function(){return ie.toString()},Object.defineProperty&&(Object.defineProperty(he,"$options",{value:ie.buildOpt()}),Object.defineProperty(ue,"$options",{value:he.$options}),Object.defineProperty(he,"$type",{value:ie}),Object.defineProperty(ue,"$type",{value:ie})),he})(n,this);this._fields=[],this._fieldsById={},this._fieldsByName={};for(var v=0,P=this.children.length,O;v<P;v++)if(O=this.children[v],O instanceof D||O instanceof s||O instanceof H){if(b.hasOwnProperty(O.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+O.toString(!0)+" cannot override static property '"+O.name+"'");b[O.name]=O.build()}else if(O instanceof s.Field)O.build(),this._fields.push(O),this._fieldsById[O.id]=O,this._fieldsByName[O.name]=O;else if(!(O instanceof s.OneOf)&&!(O instanceof F))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[v].toString(!0));return this.clazz=b},h.encode=function(T,b,v){for(var P=null,O,W=0,ie=this._fields.length,J;W<ie;++W)O=this._fields[W],J=T[O.name],O.required&&J===null?P===null&&(P=O):O.encode(v?J:O.verifyValue(J),b);if(P!==null){var ae=Error("Missing at least one required field for "+this.toString(!0)+": "+P);throw ae.encoded=b,ae}return b},h.calculate=function(T){for(var b=0,v=0,P=this._fields.length,O,W;v<P;++v){if(O=this._fields[v],W=T[O.name],O.required&&W===null)throw Error("Missing at least one required field for "+this.toString(!0)+": "+O);b+=O.calculate(W)}return b};function g(T,b){var v=b.readVarint32(),P=v&7,O=v>>>3;switch(P){case n.WIRE_TYPES.VARINT:do v=b.readUint8();while((v&128)===128);break;case n.WIRE_TYPES.BITS64:b.offset+=8;break;case n.WIRE_TYPES.LDELIM:v=b.readVarint32(),b.offset+=v;break;case n.WIRE_TYPES.STARTGROUP:g(O,b);break;case n.WIRE_TYPES.ENDGROUP:if(O===T)return!1;throw Error("Illegal GROUPEND after unknown group: "+O+" ("+T+" expected)");case n.WIRE_TYPES.BITS32:b.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+T+": "+P)}return!0}h.decode=function(T,b,v){b=typeof b=="number"?b:-1;for(var P=T.offset,O=new this.clazz,W,ie,J,ae;T.offset<P+b||b===-1&&T.remaining()>0;){if(W=T.readVarint32(),ie=W&7,J=W>>>3,ie===n.WIRE_TYPES.ENDGROUP){if(J!==v)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+J+" ("+(v?v+" expected":"not a group")+")");break}if(!(ae=this._fieldsById[J])){switch(ie){case n.WIRE_TYPES.VARINT:T.readVarint32();break;case n.WIRE_TYPES.BITS32:T.offset+=4;break;case n.WIRE_TYPES.BITS64:T.offset+=8;break;case n.WIRE_TYPES.LDELIM:var he=T.readVarint32();T.offset+=he;break;case n.WIRE_TYPES.STARTGROUP:for(;g(J,T););break;default:throw Error("Illegal wire type for unknown field "+J+" in "+this.toString(!0)+"#decode: "+ie)}continue}if(ae.repeated&&!ae.options.packed)O[ae.name].push(ae.decode(ie,T));else if(ae.map){var ue=ae.decode(ie,T);O[ae.name].set(ue[0],ue[1])}else O[ae.name]=ae.decode(ie,T),ae.oneof&&(this[ae.oneof.name]!==null&&(this[this[ae.oneof.name]]=null),O[ae.oneof.name]=ae.name)}for(var we=0,Ge=this._fields.length;we<Ge;++we)if(ae=this._fields[we],O[ae.name]===null)if(ae.required){var G=Error("Missing at least one required field for "+this.toString(!0)+": "+ae.name);throw G.decoded=O,G}else n.populateDefaults&&ae.defaultValue!==null&&(O[ae.name]=ae.defaultValue);return O},i.Message=s;var _=function(T,b,v,P,O,W,ie,J,ae,he){o.call(this,T,b,W),this.className="Message.Field",this.required=v==="required",this.repeated=v==="repeated",this.map=v==="map",this.keyType=P||null,this.type=O,this.resolvedType=null,this.id=ie,this.options=J||{},this.defaultValue=null,this.oneof=ae||null,this.syntax=he||"proto2",this.originalName=this.name,this.element=null,this.keyElement=null,this.builder.options.convertFieldsToCamelCase&&!(this instanceof s.ExtensionField)&&(this.name=n.Util.toCamelCase(this.name))},f=_.prototype=Object.create(o.prototype);f.build=function(){this.element=new p(this.type,this.resolvedType,!1,this.syntax),this.map&&(this.keyElement=new p(this.keyType,void 0,!0,this.syntax)),this.defaultValue=typeof this.options.default<"u"?this.verifyValue(this.options.default):null,this.syntax==="proto3"&&!this.repeated&&!this.map&&(this.defaultValue=this.element.defaultFieldValue(this.type))},f.verifyValue=function(T,b){b=b||!1;var v=(function(W,ie){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+W+" ("+ie+")")}).bind(this);if(T===null)return this.required&&v(typeof T,"required"),this.syntax==="proto3"&&this.type!==n.TYPES.message&&v(typeof T,"proto3 field without field presence cannot be null"),null;var P;if(this.repeated&&!b){Array.isArray(T)||(T=[T]);var O=[];for(P=0;P<T.length;P++)O.push(this.element.verifyValue(T[P]));return O}return this.map&&!b?T instanceof n.Map?T:(T instanceof Object||v(typeof T,"expected ProtoBuf.Map or raw object for map field"),new n.Map(this,T)):(!this.repeated&&Array.isArray(T)&&v(typeof T,"no array expected"),this.element.verifyValue(T))},f.hasWirePresence=function(T){if(this.syntax!=="proto3")return T!==null;switch(this.type){case n.TYPES.int32:case n.TYPES.sint32:case n.TYPES.sfixed32:case n.TYPES.uint32:case n.TYPES.fixed32:return T!==0;case n.TYPES.int64:case n.TYPES.sint64:case n.TYPES.sfixed64:case n.TYPES.uint64:case n.TYPES.fixed64:return T.low!==0||T.high!==0;case n.TYPES.bool:return T;case n.TYPES.float:case n.TYPES.double:return T!==0;case n.TYPES.string:return T.length>0;case n.TYPES.bytes:return T.remaining()>0;case n.TYPES.enum:return T!==0;case n.TYPES.message:return T!==null;default:return!0}},f.encode=function(T,b){if(this.type===null||typeof this.type!="object")throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(T===null||this.repeated&&T.length==0)return b;try{if(this.repeated){var v;if(this.options.packed&&n.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){b.writeVarint32(this.id<<3|n.WIRE_TYPES.LDELIM),b.ensureCapacity(b.offset+=1);var P=b.offset;for(v=0;v<T.length;v++)this.element.encodeValue(this.id,T[v],b);var O=b.offset-P,W=e.calculateVarint32(O);if(W>1){var ie=b.slice(P,b.offset);P+=W-1,b.offset=P,b.append(ie)}b.writeVarint32(O,P-W)}else for(v=0;v<T.length;v++)b.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,T[v],b)}else this.map?T.forEach(function(J,ae,he){var ue=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,ae)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,J);b.writeVarint32(this.id<<3|n.WIRE_TYPES.LDELIM),b.writeVarint32(ue),b.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,ae,b),b.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,J,b)},this):this.hasWirePresence(T)&&(b.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,T,b))}catch(J){throw Error("Illegal value for "+this.toString(!0)+": "+T+" ("+J+")")}return b},f.calculate=function(T){if(T=this.verifyValue(T),this.type===null||typeof this.type!="object")throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(T===null||this.repeated&&T.length==0)return 0;var b=0;try{if(this.repeated){var v,P;if(this.options.packed&&n.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(b+=e.calculateVarint32(this.id<<3|n.WIRE_TYPES.LDELIM),P=0,v=0;v<T.length;v++)P+=this.element.calculateLength(this.id,T[v]);b+=e.calculateVarint32(P),b+=P}else for(v=0;v<T.length;v++)b+=e.calculateVarint32(this.id<<3|this.type.wireType),b+=this.element.calculateLength(this.id,T[v])}else this.map?T.forEach(function(O,W,ie){var J=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,W)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,O);b+=e.calculateVarint32(this.id<<3|n.WIRE_TYPES.LDELIM),b+=e.calculateVarint32(J),b+=J},this):this.hasWirePresence(T)&&(b+=e.calculateVarint32(this.id<<3|this.type.wireType),b+=this.element.calculateLength(this.id,T))}catch(O){throw Error("Illegal value for "+this.toString(!0)+": "+T+" ("+O+")")}return b},f.decode=function(T,b,v){var P,O,W=!this.map&&T==this.type.wireType||!v&&this.repeated&&this.options.packed&&T==n.WIRE_TYPES.LDELIM||this.map&&T==n.WIRE_TYPES.LDELIM;if(!W)throw Error("Illegal wire type for field "+this.toString(!0)+": "+T+" ("+this.type.wireType+" expected)");if(T==n.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&n.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!v){O=b.readVarint32(),O=b.offset+O;for(var ie=[];b.offset<O;)ie.push(this.decode(this.type.wireType,b,!0));return ie}if(this.map){var J=this.keyElement.defaultFieldValue(this.keyType);if(P=this.element.defaultFieldValue(this.type),O=b.readVarint32(),b.remaining()<O)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+O+" required but got only "+b.remaining());var ae=b.clone();for(ae.limit=ae.offset+O,b.offset+=O;ae.remaining()>0;){var he=ae.readVarint32();T=he&7;var ue=he>>>3;if(ue===1)J=this.keyElement.decode(ae,T,ue);else if(ue===2)P=this.element.decode(ae,T,ue);else throw Error("Unexpected tag in map field key/value submessage")}return[J,P]}return this.element.decode(b,T,this.id)},i.Message.Field=_;var C=function(T,b,v,P,O,W,ie){_.call(this,T,b,v,null,P,O,W,ie),this.extension};C.prototype=Object.create(_.prototype),i.Message.ExtensionField=C;var S=function(T,b,v){o.call(this,T,b,v),this.fields=[]};i.Message.OneOf=S;var D=function(T,b,v,P,O){u.call(this,T,b,v,P,O),this.className="Enum",this.object=null},I=D.prototype=Object.create(u.prototype);I.build=function(){for(var T={},b=this.getChildren(D.Value),v=0,P=b.length;v<P;++v)T[b[v].name]=b[v].id;return Object.defineProperty&&Object.defineProperty(T,"$options",{value:this.buildOpt()}),this.object=T},i.Enum=D;var U=function(T,b,v,P){o.call(this,T,b,v),this.className="Enum.Value",this.id=P};U.prototype=Object.create(o.prototype),i.Enum.Value=U;var F=function(T,b,v,P){o.call(this,T,b,v),this.field=P};F.prototype=Object.create(o.prototype),i.Extension=F;var H=function(T,b,v,P){u.call(this,T,b,v,P),this.className="Service",this.clazz=null},R=H.prototype=Object.create(u.prototype);R.build=function(T){return this.clazz&&!T?this.clazz:this.clazz=(function(b,v){for(var P=function(J){b.Builder.Service.call(this),this.rpcImpl=J||function(ae,he,ue){setTimeout(ue.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},O=P.prototype=Object.create(b.Builder.Service.prototype),W=v.getChildren(b.Reflect.Service.RPCMethod),ie=0;ie<W.length;ie++)(function(J){O[J.name]=function(ae,he){try{try{ae=J.resolvedRequestType.clazz.decode(e.wrap(ae))}catch(ue){if(!(ue instanceof TypeError))throw ue}if(!ae||!(ae instanceof J.resolvedRequestType.clazz)){setTimeout(he.bind(this,Error("Illegal request type provided to service method "+v.name+"#"+J.name)),0);return}this.rpcImpl(J.fqn(),ae,function(ue,we){if(ue){he(ue);return}try{we=J.resolvedResponseType.clazz.decode(we)}catch{}if(!we||!(we instanceof J.resolvedResponseType.clazz)){he(Error("Illegal response type received in service method "+v.name+"#"+J.name));return}he(null,we)})}catch(ue){setTimeout(he.bind(this,ue),0)}},P[J.name]=function(ae,he,ue){new P(ae)[J.name](he,ue)},Object.defineProperty&&(Object.defineProperty(P[J.name],"$options",{value:J.buildOpt()}),Object.defineProperty(O[J.name],"$options",{value:P[J.name].$options}))})(W[ie]);return Object.defineProperty&&(Object.defineProperty(P,"$options",{value:v.buildOpt()}),Object.defineProperty(O,"$options",{value:P.$options}),Object.defineProperty(P,"$type",{value:v}),Object.defineProperty(O,"$type",{value:v})),P})(n,this)},i.Service=H;var N=function(T,b,v,P){o.call(this,T,b,v),this.className="Service.Method",this.options=P||{}},q=N.prototype=Object.create(o.prototype);q.buildOpt=c.buildOpt,i.Service.Method=N;var Q=function(T,b,v,P,O,W,ie,J){N.call(this,T,b,v,J),this.className="Service.RPCMethod",this.requestName=P,this.responseName=O,this.requestStream=W,this.responseStream=ie,this.resolvedRequestType=null,this.resolvedResponseType=null};return Q.prototype=Object.create(N.prototype),i.Service.RPCMethod=Q,i})(t),t.Builder=(function(n,i,o){function l(p,m){m.syntax=p,m.messages&&m.messages.forEach(function(d){l(p,d)}),m.enums&&m.enums.forEach(function(d){l(p,d)})}var u=function(p){this.ns=new o.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=p||{}},c=u.prototype;return c.reset=function(){this.ptr=this.ns},c.define=function(p){if(typeof p!="string"||!i.TYPEREF.test(p))throw Error("Illegal package: "+p);var m=p.split("."),d,r;for(d=0;d<m.length;d++)if(!i.NAME.test(m[d]))throw Error("Illegal package: "+m[d]);for(d=0;d<m.length;d++)r=this.ptr.getChild(m[d]),r===null&&this.ptr.addChild(r=new o.Namespace(this,this.ptr,m[d])),this.ptr=r;return this},u.isValidMessage=function(p){if(typeof p.name!="string"||!i.NAME.test(p.name)||typeof p.values<"u"||typeof p.rpc<"u")return!1;var m;if(typeof p.fields<"u"){if(!Array.isArray(p.fields))return!1;var d=[],r;for(m=0;m<p.fields.length;m++){if(!u.isValidMessageField(p.fields[m])||(r=parseInt(p.fields[m].id,10),d.indexOf(r)>=0))return!1;d.push(r)}d=null}if(typeof p.enums<"u"){if(!Array.isArray(p.enums))return!1;for(m=0;m<p.enums.length;m++)if(!u.isValidEnum(p.enums[m]))return!1}if(typeof p.messages<"u"){if(!Array.isArray(p.messages))return!1;for(m=0;m<p.messages.length;m++)if(!u.isValidMessage(p.messages[m])&&!u.isValidExtend(p.messages[m]))return!1}if(typeof p.extensions<"u"&&(!Array.isArray(p.extensions)||p.extensions.length!==2||typeof p.extensions[0]!="number"||typeof p.extensions[1]!="number"))return!1;if(p.syntax==="proto3"){for(m=0;m<p.fields.length;m++){var s=p.fields[m];if(s.rule==="required"||s.default)return!1;if(s.options){for(var h=Object.keys(s.options),g=0;g<h.length;g++)if(h[g]==="default")return!1}}if(p.extensions)return!1}return!0},u.isValidMessageField=function(p){if(typeof p.rule!="string"||typeof p.name!="string"||typeof p.type!="string"||typeof p.id>"u"||!i.RULE.test(p.rule)||!i.NAME.test(p.name)||!i.TYPEREF.test(p.type)||!i.ID.test(""+p.id))return!1;if(typeof p.options<"u"){if(typeof p.options!="object")return!1;for(var m=Object.keys(p.options),d=0,r;d<m.length;d++)if(typeof(r=m[d])!="string"||typeof p.options[r]!="string"&&typeof p.options[r]!="number"&&typeof p.options[r]!="boolean")return!1}return!0},u.isValidEnum=function(p){if(typeof p.name!="string"||!i.NAME.test(p.name)||typeof p.values>"u"||!Array.isArray(p.values)||p.values.length==0)return!1;for(var m=0;m<p.values.length;m++)if(typeof p.values[m]!="object"||typeof p.values[m].name!="string"||typeof p.values[m].id>"u"||!i.NAME.test(p.values[m].name)||!i.NEGID.test(""+p.values[m].id))return!1;return!(p.syntax==="proto3"&&p.values[0].id!==0)},c.create=function(p){if(!p)return this;if(!Array.isArray(p))p=[p];else{if(p.length===0)return this;p=p.slice()}var m=[];for(m.push(p);m.length>0;){if(p=m.pop(),Array.isArray(p))for(;p.length>0;){var d=p.shift();if(u.isValidMessage(d)){var r=new o.Message(this,this.ptr,d.name,d.options,d.isGroup,d.syntax),s={};if(d.oneofs)for(var h=Object.keys(d.oneofs),g=0,_=h.length;g<_;++g)r.addChild(s[h[g]]=new o.Message.OneOf(this,r,h[g]));if(d.fields&&d.fields.length>0)for(g=0,_=d.fields.length;g<_;++g){var f=d.fields[g];if(r.getChild(f.id)!==null)throw Error("Duplicate field id in message "+r.name+": "+f.id);if(f.options)for(var C=Object.keys(f.options),S=0,D=C.length;S<D;++S){if(typeof C[S]!="string")throw Error("Illegal field option name in message "+r.name+"#"+f.name+": "+C[S]);if(typeof f.options[C[S]]!="string"&&typeof f.options[C[S]]!="number"&&typeof f.options[C[S]]!="boolean")throw Error("Illegal field option value in message "+r.name+"#"+f.name+"#"+C[S]+": "+f.options[C[S]])}var I=null;if(typeof f.oneof=="string"&&(I=s[f.oneof],typeof I>"u"))throw Error("Illegal oneof in message "+r.name+"#"+f.name+": "+f.oneof);f=new o.Message.Field(this,r,f.rule,f.keytype,f.type,f.name,f.id,f.options,I,d.syntax),I&&I.fields.push(f),r.addChild(f)}var U=[];if(typeof d.enums<"u"&&d.enums.length>0)for(g=0;g<d.enums.length;g++)U.push(d.enums[g]);if(d.messages&&d.messages.length>0)for(g=0;g<d.messages.length;g++)U.push(d.messages[g]);if(d.services&&d.services.length>0)for(g=0;g<d.services.length;g++)U.push(d.services[g]);if(d.extensions&&(r.extensions=d.extensions,r.extensions[0]<n.ID_MIN&&(r.extensions[0]=n.ID_MIN),r.extensions[1]>n.ID_MAX&&(r.extensions[1]=n.ID_MAX)),this.ptr.addChild(r),U.length>0){m.push(p),p=U,U=null,this.ptr=r,r=null;continue}U=null,r=null}else if(u.isValidEnum(d)){for(r=new o.Enum(this,this.ptr,d.name,d.options,d.syntax),g=0;g<d.values.length;g++)r.addChild(new o.Enum.Value(this,r,d.values[g].name,d.values[g].id));this.ptr.addChild(r),r=null}else if(u.isValidService(d)){r=new o.Service(this,this.ptr,d.name,d.options);for(g in d.rpc)d.rpc.hasOwnProperty(g)&&r.addChild(new o.Service.RPCMethod(this,r,g,d.rpc[g].request,d.rpc[g].response,!!d.rpc[g].request_stream,!!d.rpc[g].response_stream,d.rpc[g].options));this.ptr.addChild(r),r=null}else if(u.isValidExtend(d)){if(r=this.ptr.resolve(d.ref,!0),r)for(g=0;g<d.fields.length;g++){if(r.getChild(d.fields[g].id)!==null)throw Error("Duplicate extended field id in message "+r.name+": "+d.fields[g].id);if(d.fields[g].id<r.extensions[0]||d.fields[g].id>r.extensions[1])throw Error("Illegal extended field id in message "+r.name+": "+d.fields[g].id+" ("+r.extensions.join(" to ")+" expected)");var F=d.fields[g].name;this.options.convertFieldsToCamelCase&&(F=n.Util.toCamelCase(d.fields[g].name)),f=new o.Message.ExtensionField(this,r,d.fields[g].rule,d.fields[g].type,this.ptr.fqn()+"."+F,d.fields[g].id,d.fields[g].options);var H=new o.Extension(this,this.ptr,d.fields[g].name,f);f.extension=H,this.ptr.addChild(H),r.addChild(f)}else if(!/\.?google\.protobuf\./.test(d.ref))throw Error("Extended message "+d.ref+" is not defined")}else throw Error("Not a valid definition: "+JSON.stringify(d));d=null}else throw Error("Not a valid namespace: "+JSON.stringify(p));p=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},c.import=function(p,m){if(typeof m=="string"){if(n.Util.IS_NODE&&(m=Vi.resolve(m)),this.files[m]===!0)return this.reset(),this;this.files[m]=!0}else if(typeof m=="object"){var d=m.root;n.Util.IS_NODE&&(d=Vi.resolve(d));var r=[d,m.file].join("/");if(this.files[r]===!0)return this.reset(),this;this.files[r]=!0}if(p.imports&&p.imports.length>0){var s,h="/",g=!1;typeof m=="object"?(this.importRoot=m.root,g=!0,s=this.importRoot,m=m.file,(s.indexOf("\\")>=0||m.indexOf("\\")>=0)&&(h="\\")):typeof m=="string"?this.importRoot?s=this.importRoot:m.indexOf("/")>=0?(s=m.replace(/\/[^\/]*$/,""),s===""&&(s="/")):m.indexOf("\\")>=0?(s=m.replace(/\\[^\\]*$/,""),h="\\"):s=".":s=null;for(var _=0;_<p.imports.length;_++)if(typeof p.imports[_]=="string"){if(!s)throw Error("Cannot determine import root: File name is unknown");var f=p.imports[_];if(f==="google/protobuf/descriptor.proto"||(f=s+h+f,this.files[f]===!0))continue;/\.proto$/i.test(f)&&!n.DotProto&&(f=f.replace(/\.proto$/,".json"));var C=n.Util.fetch(f);if(C===null)throw Error("Failed to import '"+f+"' in '"+m+"': File not found");/\.json$/i.test(f)?this.import(JSON.parse(C+""),f):this.import(new n.DotProto.Parser(C+"").parse(),f)}else m?/\.(\w+)$/.test(m)?this.import(p.imports[_],m.replace(/^(.+)\.(\w+)$/,function(D,I,U){return I+"_import"+_+"."+U})):this.import(p.imports[_],m+"_import"+_):this.import(p.imports[_]);g&&(this.importRoot=null)}p.package&&this.define(p.package),p.syntax&&l(p.syntax,p);var S=this.ptr;return p.options&&Object.keys(p.options).forEach(function(D){S.options[D]=p.options[D]}),p.messages&&(this.create(p.messages),this.ptr=S),p.enums&&(this.create(p.enums),this.ptr=S),p.services&&(this.create(p.services),this.ptr=S),p.extends&&this.create(p.extends),this.reset(),this},u.isValidService=function(p){return!(typeof p.name!="string"||!i.NAME.test(p.name)||typeof p.rpc!="object")},u.isValidExtend=function(p){if(typeof p.ref!="string"||!i.TYPEREF.test(p.ref))return!1;var m;if(typeof p.fields<"u"){if(!Array.isArray(p.fields))return!1;var d=[],r;for(m=0;m<p.fields.length;m++){if(!u.isValidMessageField(p.fields[m])||(r=parseInt(p.id,10),d.indexOf(r)>=0))return!1;d.push(r)}d=null}return!0},c.resolveAll=function(){var p;if(!(this.ptr==null||typeof this.ptr.type=="object")){if(this.ptr instanceof o.Namespace)for(var m=this.ptr.children,d=0,r=m.length;d<r;++d)this.ptr=m[d],this.resolveAll();else if(this.ptr instanceof o.Message.Field){if(i.TYPE.test(this.ptr.type))this.ptr.type=n.TYPES[this.ptr.type];else{if(!i.TYPEREF.test(this.ptr.type))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(p=(this.ptr instanceof o.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0),!p)throw Error("Unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=p,p instanceof o.Enum){if(this.ptr.type=n.TYPES.enum,this.ptr.syntax==="proto3"&&p.syntax!=="proto3")throw Error("Proto3 message refers to proto2 enum; this is not allowed due to differing enum semantics in proto3")}else if(p instanceof o.Message)this.ptr.type=p.isGroup?n.TYPES.group:n.TYPES.message;else throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type)}if(this.ptr.map){if(!i.TYPE.test(this.ptr.keyType))throw Error("Illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.keyType=n.TYPES[this.ptr.keyType]}}else if(!(this.ptr instanceof n.Reflect.Enum.Value)){if(this.ptr instanceof n.Reflect.Service.Method)if(this.ptr instanceof n.Reflect.Service.RPCMethod){if(p=this.ptr.parent.resolve(this.ptr.requestName,!0),!p||!(p instanceof n.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=p,p=this.ptr.parent.resolve(this.ptr.responseName,!0),!p||!(p instanceof n.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=p}else throw Error("Illegal service type in "+this.ptr.toString(!0));else if(!(this.ptr instanceof n.Reflect.Message.OneOf)&&!(this.ptr instanceof n.Reflect.Extension))throw Error("Illegal object in namespace: "+typeof this.ptr+":"+this.ptr)}this.reset()}},c.build=function(p){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),this.result===null&&(this.result=this.ns.build()),p){for(var m=typeof p=="string"?p.split("."):p,d=this.result,r=0;r<m.length;r++)if(d[m[r]])d=d[m[r]];else{d=null;break}return d}else return this.result},c.lookup=function(p,m){return p?this.ns.resolve(p,m):this.ns},c.toString=function(){return"Builder"},u.Message=function(){},u.Service=function(){},u})(t,t.Lang,t.Reflect),t.Map=(function(n,i){var o=function(c,p){if(!c.map)throw Error("field is not a map");if(this.field=c,this.keyElem=new i.Element(c.keyType,null,!0,c.syntax),this.valueElem=new i.Element(c.type,c.resolvedType,!1,c.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),p)for(var m=Object.keys(p),d=0;d<m.length;d++){var r=this.keyElem.valueFromString(m[d]),s=this.valueElem.verifyValue(p[m[d]]);this.map[this.keyElem.valueToString(r)]={key:r,value:s}}},l=o.prototype;function u(c){var p=0;return{next:function(){return p<c.length?{done:!1,value:c[p++]}:{done:!0}}}}return l.clear=function(){this.map={}},l.delete=function(c){var p=this.keyElem.valueToString(this.keyElem.verifyValue(c)),m=p in this.map;return delete this.map[p],m},l.entries=function(){for(var c=[],p=Object.keys(this.map),m=0,d;m<p.length;m++)c.push([(d=this.map[p[m]]).key,d.value]);return u(c)},l.keys=function(){for(var c=[],p=Object.keys(this.map),m=0;m<p.length;m++)c.push(this.map[p[m]].key);return u(c)},l.values=function(){for(var c=[],p=Object.keys(this.map),m=0;m<p.length;m++)c.push(this.map[p[m]].value);return u(c)},l.forEach=function(c,p){for(var m=Object.keys(this.map),d=0,r;d<m.length;d++)c.call(p,(r=this.map[m[d]]).value,r.key,this)},l.set=function(c,p){var m=this.keyElem.verifyValue(c),d=this.valueElem.verifyValue(p);return this.map[this.keyElem.valueToString(m)]={key:m,value:d},this},l.get=function(c){var p=this.keyElem.valueToString(this.keyElem.verifyValue(c));if(p in this.map)return this.map[p].value},l.has=function(c){var p=this.keyElem.valueToString(this.keyElem.verifyValue(c));return p in this.map},o})(t,t.Reflect),t.loadProto=function(n,i,o){return(typeof i=="string"||i&&typeof i.file=="string"&&typeof i.root=="string")&&(o=i,i=void 0),t.loadJson(new t.DotProto.Parser(n).parse(),i,o)},t.protoFromString=t.loadProto,t.loadProtoFile=function(n,i,o){if(i&&typeof i=="object"?(o=i,i=null):(!i||typeof i!="function")&&(i=null),i)return t.Util.fetch(typeof n=="string"?n:n.root+"/"+n.file,function(u){if(u===null){i(Error("Failed to fetch file"));return}try{i(null,t.loadProto(u,o,n))}catch(c){i(c)}});var l=t.Util.fetch(typeof n=="object"?n.root+"/"+n.file:n);return l===null?null:t.loadProto(l,o,n)},t.protoFromFile=t.loadProtoFile,t.newBuilder=function(n){return n=n||{},typeof n.convertFieldsToCamelCase>"u"&&(n.convertFieldsToCamelCase=t.convertFieldsToCamelCase),typeof n.populateAccessors>"u"&&(n.populateAccessors=t.populateAccessors),new t.Builder(n)},t.loadJson=function(n,i,o){return(typeof i=="string"||i&&typeof i.file=="string"&&typeof i.root=="string")&&(o=i,i=null),(!i||typeof i!="object")&&(i=t.newBuilder()),typeof n=="string"&&(n=JSON.parse(n)),i.import(n,o),i.resolveAll(),i},t.loadJsonFile=function(n,i,o){if(i&&typeof i=="object"?(o=i,i=null):(!i||typeof i!="function")&&(i=null),i)return t.Util.fetch(typeof n=="string"?n:n.root+"/"+n.file,function(u){if(u===null){i(Error("Failed to fetch file"));return}try{i(null,t.loadJson(JSON.parse(u),o,n))}catch(c){i(c)}});var l=t.Util.fetch(typeof n=="object"?n.root+"/"+n.file:n);return l===null?null:t.loadJson(JSON.parse(l),o,n)},t})})(xr)),xr.exports}var Oo,Wd;function FE(){if(Wd)return Oo;Wd=1;var a=zu();return Oo={uncompressSync:function(e){var t=a.wrap(e),n=t.readVarint32(),i=new a(n);i.offset=0,i.length=n,t.littleEndian=!0;for(var o=function(d,r,s){for(var h=d.offset-s,g=0;g<r;++g)d.writeByte(d.readByte(h+g))};t.remaining();){var l=t.readUint8();switch(l&3){case 0:var p=(l>>2)+1;if(p>=61){var u=p-60;p=0;for(var c=0;c<u;++c)p|=t.readUint8()<<8*c;p++}for(var c=0;c<p;++c)i.writeByte(t.readByte());break;case 1:var p=(l>>2&7)+4,m=l>>5<<8|t.readUint8();o(i,p,m);break;case 2:var p=(l>>2)+1,m=t.readUint16();o(i,p,m);break;case 3:var p=(l>>2)+1,m=t.readUint32();o(i,p,m);break}}return i.offset=0,i.toBuffer()}},Oo}var Io,qd;function kE(){if(qd)return Io;qd=1;var a=Hu(),e=function(t){this.offset=0,this.limit=t.length*8,this.bytes=t};return e.prototype.readBits=function(t){if(t>this.limit-this.offset)throw"not enough bits left in stream to read!";var n=this.offset%8,i=n+t,o=~~(i/8);i%8&&(o+=1);var l=null;if(!n&&t===8)l=this.bytes.readUInt8(this.offset/8);else if(i<=31){l=0;for(var u=0;u<o;u++){var c=this.bytes[~~(this.offset/8)+u];l+=c<<u*8}l>>=n,l&=(1<<t)-1}else{console.error(i),l=new a;for(var u=0;u<o;u++){var p=this.bytes[~~(this.offset/8)+u];p=new a.fromNumber(p),l=l.add(p.shiftLeft(u*8))}l=l.shiftRight(n),l=l.and((1<<t)-1),l=l.toInt()}return this.offset+=t,l},e.prototype.readBuffer=function(t){var n=Math.ceil(t/8),i=new Buffer(n),o=0;for(i.length=n;t>0;){var l=Math.min(t,8);i.writeUInt8(this.readBits(l),o),o+=1,t-=l}return i},e.prototype.readBoolean=function(){return this.readBits(1)},e.prototype.readNullTerminatedString=function(){for(var t="";;){var n=this.readBits(8);if(!n)break;var i=new Buffer(1);i.writeUInt8(n),t+=i.toString()}return t},e.prototype.readVarUInt=function(){for(var t=32,n=(t+6)/7*7,i=0,o=0;;){var l=this.readBits(8);if(i|=(l&127)<<o,o+=7,(l&128)===0||o==n)return i}},e.prototype.readUBitVar=function(){var t=this.readBits(6);switch(t&48){case 16:t=t&15|this.readBits(4)<<4;break;case 32:t=t&15|this.readBits(8)<<4;break;case 48:t=t&15|this.readBits(28)<<4;break}return t},Io=e,Io}var wo={exports:{}};var Yd;function BE(){return Yd||(Yd=1,(function(a){(function(){var e={};function t(){}function n(G){return G}function i(G){return!!G}function o(G){return!G}var l,u=typeof self=="object"&&self.self===self&&self||typeof ya=="object"&&ya.global===ya&&ya||this;u!=null&&(l=u.async),e.noConflict=function(){return u.async=l,e};function c(G){return function(){if(G===null)throw new Error("Callback was already called.");G.apply(this,arguments),G=null}}function p(G){return function(){G!==null&&(G.apply(this,arguments),G=null)}}var m=Object.prototype.toString,d=Array.isArray||function(G){return m.call(G)==="[object Array]"},r=function(G){var A=typeof G;return A==="function"||A==="object"&&!!G};function s(G){return d(G)||typeof G.length=="number"&&G.length>=0&&G.length%1===0}function h(G,A){for(var k=-1,Y=G.length;++k<Y;)A(G[k],k,G)}function g(G,A){for(var k=-1,Y=G.length,X=Array(Y);++k<Y;)X[k]=A(G[k],k,G);return X}function _(G){return g(Array(G),function(A,k){return k})}function f(G,A,k){return h(G,function(Y,X,ee){k=A(k,Y,X,ee)}),k}function C(G,A){h(D(G),function(k){A(G[k],k)})}function S(G,A){for(var k=0;k<G.length;k++)if(G[k]===A)return k;return-1}var D=Object.keys||function(G){var A=[];for(var k in G)G.hasOwnProperty(k)&&A.push(k);return A};function I(G){var A=-1,k,Y;return s(G)?(k=G.length,function(){return A++,A<k?A:null}):(Y=D(G),k=Y.length,function(){return A++,A<k?Y[A]:null})}function U(G,A){return A=A==null?G.length-1:+A,function(){for(var k=Math.max(arguments.length-A,0),Y=Array(k),X=0;X<k;X++)Y[X]=arguments[X+A];switch(A){case 0:return G.call(this,Y);case 1:return G.call(this,arguments[0],Y)}}}function F(G){return function(A,k,Y){return G(A,Y)}}var H=typeof setImmediate=="function"&&setImmediate,R=H?function(G){H(G)}:function(G){setTimeout(G,0)};typeof process=="object"&&typeof process.nextTick=="function"?e.nextTick=process.nextTick:e.nextTick=R,e.setImmediate=H?R:e.nextTick,e.forEach=e.each=function(G,A,k){return e.eachOf(G,F(A),k)},e.forEachSeries=e.eachSeries=function(G,A,k){return e.eachOfSeries(G,F(A),k)},e.forEachLimit=e.eachLimit=function(G,A,k,Y){return N(A)(G,F(k),Y)},e.forEachOf=e.eachOf=function(G,A,k){k=p(k||t),G=G||[];for(var Y=I(G),X,ee=0;(X=Y())!=null;)ee+=1,A(G[X],X,c(oe));ee===0&&k(null);function oe(de){ee--,de?k(de):X===null&&ee<=0&&k(null)}},e.forEachOfSeries=e.eachOfSeries=function(G,A,k){k=p(k||t),G=G||[];var Y=I(G),X=Y();function ee(){var oe=!0;if(X===null)return k(null);A(G[X],X,c(function(de){if(de)k(de);else{if(X=Y(),X===null)return k(null);oe?e.setImmediate(ee):ee()}})),oe=!1}ee()},e.forEachOfLimit=e.eachOfLimit=function(G,A,k,Y){N(A)(G,k,Y)};function N(G){return function(A,k,Y){Y=p(Y||t),A=A||[];var X=I(A);if(G<=0)return Y(null);var ee=!1,oe=0,de=!1;(function ce(){if(ee&&oe<=0)return Y(null);for(;oe<G&&!de;){var ye=X();if(ye===null){ee=!0,oe<=0&&Y(null);return}oe+=1,k(A[ye],ye,c(function(xe){oe-=1,xe?(Y(xe),de=!0):ce()}))}})()}}function q(G){return function(A,k,Y){return G(e.eachOf,A,k,Y)}}function Q(G){return function(A,k,Y,X){return G(N(k),A,Y,X)}}function T(G){return function(A,k,Y){return G(e.eachOfSeries,A,k,Y)}}function b(G,A,k,Y){Y=p(Y||t),A=A||[];var X=s(A)?[]:{};G(A,function(ee,oe,de){k(ee,function(ce,ye){X[oe]=ye,de(ce)})},function(ee){Y(ee,X)})}e.map=q(b),e.mapSeries=T(b),e.mapLimit=Q(b),e.inject=e.foldl=e.reduce=function(G,A,k,Y){e.eachOfSeries(G,function(X,ee,oe){k(A,X,function(de,ce){A=ce,oe(de)})},function(X){Y(X,A)})},e.foldr=e.reduceRight=function(G,A,k,Y){var X=g(G,n).reverse();e.reduce(X,A,k,Y)},e.transform=function(G,A,k,Y){arguments.length===3&&(Y=k,k=A,A=d(G)?[]:{}),e.eachOf(G,function(X,ee,oe){k(A,X,ee,oe)},function(X){Y(X,A)})};function v(G,A,k,Y){var X=[];G(A,function(ee,oe,de){k(ee,function(ce){ce&&X.push({index:oe,value:ee}),de()})},function(){Y(g(X.sort(function(ee,oe){return ee.index-oe.index}),function(ee){return ee.value}))})}e.select=e.filter=q(v),e.selectLimit=e.filterLimit=Q(v),e.selectSeries=e.filterSeries=T(v);function P(G,A,k,Y){v(G,A,function(X,ee){k(X,function(oe){ee(!oe)})},Y)}e.reject=q(P),e.rejectLimit=Q(P),e.rejectSeries=T(P);function O(G,A,k){return function(Y,X,ee,oe){function de(){oe&&oe(k(!1,void 0))}function ce(ye,xe,Ne){if(!oe)return Ne();ee(ye,function(z){oe&&A(z)&&(oe(k(!0,ye)),oe=ee=!1),Ne()})}arguments.length>3?G(Y,X,ce,de):(oe=ee,ee=X,G(Y,ce,de))}}e.any=e.some=O(e.eachOf,i,n),e.someLimit=O(e.eachOfLimit,i,n),e.all=e.every=O(e.eachOf,o,o),e.everyLimit=O(e.eachOfLimit,o,o);function W(G,A){return A}e.detect=O(e.eachOf,n,W),e.detectSeries=O(e.eachOfSeries,n,W),e.detectLimit=O(e.eachOfLimit,n,W),e.sortBy=function(G,A,k){e.map(G,function(X,ee){A(X,function(oe,de){oe?ee(oe):ee(null,{value:X,criteria:de})})},function(X,ee){if(X)return k(X);k(null,g(ee.sort(Y),function(oe){return oe.value}))});function Y(X,ee){var oe=X.criteria,de=ee.criteria;return oe<de?-1:oe>de?1:0}},e.auto=function(G,A,k){typeof arguments[1]=="function"&&(k=A,A=null),k=p(k||t);var Y=D(G),X=Y.length;if(!X)return k(null);A||(A=X);var ee={},oe=0,de=!1,ce=[];function ye(z){ce.unshift(z)}function xe(z){var qe=S(ce,z);qe>=0&&ce.splice(qe,1)}function Ne(){X--,h(ce.slice(0),function(z){z()})}ye(function(){X||k(null,ee)}),h(Y,function(z){if(de)return;for(var qe=d(G[z])?G[z]:[G[z]],We=U(function(pe,M){if(oe--,M.length<=1&&(M=M[0]),pe){var y={};C(ee,function(E,w){y[w]=E}),y[z]=M,de=!0,k(pe,y)}else ee[z]=M,e.setImmediate(Ne)}),Xe=qe.slice(0,qe.length-1),Me=Xe.length,B;Me--;){if(!(B=G[Xe[Me]]))throw new Error("Has nonexistent dependency in "+Xe.join(", "));if(d(B)&&S(B,z)>=0)throw new Error("Has cyclic dependencies")}function x(){return oe<A&&f(Xe,function(pe,M){return pe&&ee.hasOwnProperty(M)},!0)&&!ee.hasOwnProperty(z)}x()?(oe++,qe[qe.length-1](We,ee)):ye(j);function j(){x()&&(oe++,xe(j),qe[qe.length-1](We,ee))}})},e.retry=function(G,A,k){var Y=5,X=0,ee=[],oe={times:Y,interval:X};function de(xe,Ne){if(typeof Ne=="number")xe.times=parseInt(Ne,10)||Y;else if(typeof Ne=="object")xe.times=parseInt(Ne.times,10)||Y,xe.interval=parseInt(Ne.interval,10)||X;else throw new Error("Unsupported argument type for 'times': "+typeof Ne)}var ce=arguments.length;if(ce<1||ce>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");ce<=2&&typeof G=="function"&&(k=A,A=G),typeof G!="function"&&de(oe,G),oe.callback=k,oe.task=A;function ye(xe,Ne){function z(Xe,Me){return function(B){Xe(function(x,j){B(!x||Me,{err:x,result:j})},Ne)}}function qe(Xe){return function(Me){setTimeout(function(){Me(null)},Xe)}}for(;oe.times;){var We=!(oe.times-=1);ee.push(z(oe.task,We)),!We&&oe.interval>0&&ee.push(qe(oe.interval))}e.series(ee,function(Xe,Me){Me=Me[Me.length-1],(xe||oe.callback)(Me.err,Me.result)})}return oe.callback?ye():ye},e.waterfall=function(G,A){if(A=p(A||t),!d(G)){var k=new Error("First argument to waterfall must be an array of functions");return A(k)}if(!G.length)return A();function Y(X){return U(function(ee,oe){if(ee)A.apply(null,[ee].concat(oe));else{var de=X.next();de?oe.push(Y(de)):oe.push(A),Ge(X).apply(null,oe)}})}Y(e.iterator(G))()};function ie(G,A,k){k=k||t;var Y=s(A)?[]:{};G(A,function(X,ee,oe){X(U(function(de,ce){ce.length<=1&&(ce=ce[0]),Y[ee]=ce,oe(de)}))},function(X){k(X,Y)})}e.parallel=function(G,A){ie(e.eachOf,G,A)},e.parallelLimit=function(G,A,k){ie(N(A),G,k)},e.series=function(G,A){ie(e.eachOfSeries,G,A)},e.iterator=function(G){function A(k){function Y(){return G.length&&G[k].apply(null,arguments),Y.next()}return Y.next=function(){return k<G.length-1?A(k+1):null},Y}return A(0)},e.apply=U(function(G,A){return U(function(k){return G.apply(null,A.concat(k))})});function J(G,A,k,Y){var X=[];G(A,function(ee,oe,de){k(ee,function(ce,ye){X=X.concat(ye||[]),de(ce)})},function(ee){Y(ee,X)})}e.concat=q(J),e.concatSeries=T(J),e.whilst=function(G,A,k){if(k=k||t,G()){var Y=U(function(X,ee){X?k(X):G.apply(this,ee)?A(Y):k.apply(null,[null].concat(ee))});A(Y)}else k(null)},e.doWhilst=function(G,A,k){var Y=0;return e.whilst(function(){return++Y<=1||A.apply(this,arguments)},G,k)},e.until=function(G,A,k){return e.whilst(function(){return!G.apply(this,arguments)},A,k)},e.doUntil=function(G,A,k){return e.doWhilst(G,function(){return!A.apply(this,arguments)},k)},e.during=function(G,A,k){k=k||t;var Y=U(function(ee,oe){ee?k(ee):(oe.push(X),G.apply(this,oe))}),X=function(ee,oe){ee?k(ee):oe?A(Y):k(null)};G(X)},e.doDuring=function(G,A,k){var Y=0;e.during(function(X){Y++<1?X(null,!0):A.apply(this,arguments)},G,k)};function ae(G,A,k){if(A==null)A=1;else if(A===0)throw new Error("Concurrency must not be zero");function Y(ce,ye,xe,Ne){if(Ne!=null&&typeof Ne!="function")throw new Error("task callback must be a function");if(ce.started=!0,d(ye)||(ye=[ye]),ye.length===0&&ce.idle())return e.setImmediate(function(){ce.drain()});h(ye,function(z){var qe={data:z,callback:Ne||t};xe?ce.tasks.unshift(qe):ce.tasks.push(qe),ce.tasks.length===ce.concurrency&&ce.saturated()}),e.setImmediate(ce.process)}function X(ce,ye){return function(){ee-=1;var xe=!1,Ne=arguments;h(ye,function(z){h(oe,function(qe,We){qe===z&&!xe&&(oe.splice(We,1),xe=!0)}),z.callback.apply(z,Ne)}),ce.tasks.length+ee===0&&ce.drain(),ce.process()}}var ee=0,oe=[],de={tasks:[],concurrency:A,payload:k,saturated:t,empty:t,drain:t,started:!1,paused:!1,push:function(ce,ye){Y(de,ce,!1,ye)},kill:function(){de.drain=t,de.tasks=[]},unshift:function(ce,ye){Y(de,ce,!0,ye)},process:function(){for(;!de.paused&&ee<de.concurrency&&de.tasks.length;){var ce=de.payload?de.tasks.splice(0,de.payload):de.tasks.splice(0,de.tasks.length),ye=g(ce,function(Ne){return Ne.data});de.tasks.length===0&&de.empty(),ee+=1,oe.push(ce[0]);var xe=c(X(de,ce));G(ye,xe)}},length:function(){return de.tasks.length},running:function(){return ee},workersList:function(){return oe},idle:function(){return de.tasks.length+ee===0},pause:function(){de.paused=!0},resume:function(){if(de.paused!==!1){de.paused=!1;for(var ce=Math.min(de.concurrency,de.tasks.length),ye=1;ye<=ce;ye++)e.setImmediate(de.process)}}};return de}e.queue=function(G,A){var k=ae(function(Y,X){G(Y[0],X)},A,1);return k},e.priorityQueue=function(G,A){function k(oe,de){return oe.priority-de.priority}function Y(oe,de,ce){for(var ye=-1,xe=oe.length-1;ye<xe;){var Ne=ye+(xe-ye+1>>>1);ce(de,oe[Ne])>=0?ye=Ne:xe=Ne-1}return ye}function X(oe,de,ce,ye){if(ye!=null&&typeof ye!="function")throw new Error("task callback must be a function");if(oe.started=!0,d(de)||(de=[de]),de.length===0)return e.setImmediate(function(){oe.drain()});h(de,function(xe){var Ne={data:xe,priority:ce,callback:typeof ye=="function"?ye:t};oe.tasks.splice(Y(oe.tasks,Ne,k)+1,0,Ne),oe.tasks.length===oe.concurrency&&oe.saturated(),e.setImmediate(oe.process)})}var ee=e.queue(G,A);return ee.push=function(oe,de,ce){X(ee,oe,de,ce)},delete ee.unshift,ee},e.cargo=function(G,A){return ae(G,1,A)};function he(G){return U(function(A,k){A.apply(null,k.concat([U(function(Y,X){typeof console=="object"&&(Y?console.error&&console.error(Y):console[G]&&h(X,function(ee){console[G](ee)}))})]))})}e.log=he("log"),e.dir=he("dir"),e.memoize=function(G,A){var k={},Y={},X=Object.prototype.hasOwnProperty;A=A||n;var ee=U(function(de){var ce=de.pop(),ye=A.apply(null,de);X.call(k,ye)?e.setImmediate(function(){ce.apply(null,k[ye])}):X.call(Y,ye)?Y[ye].push(ce):(Y[ye]=[ce],G.apply(null,de.concat([U(function(xe){k[ye]=xe;var Ne=Y[ye];delete Y[ye];for(var z=0,qe=Ne.length;z<qe;z++)Ne[z].apply(null,xe)})])))});return ee.memo=k,ee.unmemoized=G,ee},e.unmemoize=function(G){return function(){return(G.unmemoized||G).apply(null,arguments)}};function ue(G){return function(A,k,Y){G(_(A),k,Y)}}e.times=ue(e.map),e.timesSeries=ue(e.mapSeries),e.timesLimit=function(G,A,k,Y){return e.mapLimit(_(G),A,k,Y)},e.seq=function(){var G=arguments;return U(function(A){var k=this,Y=A[A.length-1];typeof Y=="function"?A.pop():Y=t,e.reduce(G,A,function(X,ee,oe){ee.apply(k,X.concat([U(function(de,ce){oe(de,ce)})]))},function(X,ee){Y.apply(k,[X].concat(ee))})})},e.compose=function(){return e.seq.apply(null,Array.prototype.reverse.call(arguments))};function we(G){return U(function(A,k){var Y=U(function(X){var ee=this,oe=X.pop();return G(A,function(de,ce,ye){de.apply(ee,X.concat([ye]))},oe)});return k.length?Y.apply(this,k):Y})}e.applyEach=we(e.eachOf),e.applyEachSeries=we(e.eachOfSeries),e.forever=function(G,A){var k=c(A||t),Y=Ge(G);function X(ee){if(ee)return k(ee);Y(X)}X()};function Ge(G){return U(function(A){var k=A.pop();A.push(function(){var X=arguments;Y?e.setImmediate(function(){k.apply(null,X)}):k.apply(null,X)});var Y=!0;G.apply(this,A),Y=!1})}e.ensureAsync=Ge,e.constant=U(function(G){var A=[null].concat(G);return function(k){return k.apply(this,A)}}),e.wrapSync=e.asyncify=function(A){return U(function(k){var Y=k.pop(),X;try{X=A.apply(this,k)}catch(ee){return Y(ee)}r(X)&&typeof X.then=="function"?X.then(function(ee){Y(null,ee)}).catch(function(ee){Y(ee.message?ee:new Error(ee))}):Y(null,X)})},a.exports?a.exports=e:u.async=e})()})(wo)),wo.exports}const VE={0:"CNETMsg_NOP",1:"CNETMsg_Disconnect",3:"CNETMsg_SplitScreenUser",4:"CNETMsg_Tick",5:"CNETMsg_StringCmd",6:"CNETMsg_SetConVar",7:"CNETMsg_SignonState",8:"CNETMsg_SpawnGroup_Load",9:"CNETMsg_SpawnGroup_ManifestUpdate",11:"CNETMsg_SpawnGroup_SetCreationTick",12:"CNETMsg_SpawnGroup_Unload",13:"CNETMsg_SpawnGroup_LoadCompleted",40:"CSVCMsg_ServerInfo",41:"CSVCMsg_FlattenedSerializer",42:"CSVCMsg_ClassInfo",43:"CSVCMsg_SetPause",44:"CSVCMsg_CreateStringTable",45:"CSVCMsg_UpdateStringTable",46:"CSVCMsg_VoiceInit",47:"CSVCMsg_VoiceData",48:"CSVCMsg_Print",49:"CSVCMsg_Sounds",50:"CSVCMsg_SetView",51:"CSVCMsg_ClearAllStringTables",52:"CSVCMsg_CmdKeyValues",53:"CSVCMsg_BSPDecal",54:"CSVCMsg_SplitScreen",55:"CSVCMsg_PacketEntities",56:"CSVCMsg_Prefetch",57:"CSVCMsg_Menu",58:"CSVCMsg_GetCvarValue",59:"CSVCMsg_StopSound",60:"CSVCMsg_PeerList",61:"CSVCMsg_PacketReliable",62:"CSVCMsg_UserMessage",63:"CSVCMsg_SendTable",67:"CSVCMsg_GameEvent",68:"CSVCMsg_TempEntities",69:"CSVCMsg_GameEventList",70:"CSVCMsg_FullFrameSplit",101:"CUserMessageAchievementEvent",102:"CUserMessageCloseCaption",103:"CUserMessageCloseCaptionDirect",104:"CUserMessageCurrentTimescale",105:"CUserMessageDesiredTimescale",106:"CUserMessageFade",107:"CUserMessageGameTitle",109:"CUserMessageHintText",110:"CUserMessageHudMsg",111:"CUserMessageHudText",112:"CUserMessageKeyHintText",113:"CUserMessageColoredText",114:"CUserMessageRequestState",115:"CUserMessageResetHUD",116:"CUserMessageRumble",117:"CUserMessageSayText",118:"CUserMessageSayText2",119:"CUserMessageSayTextChannel",120:"CUserMessageShake",121:"CUserMessageShakeDir",124:"CUserMessageTextMsg",125:"CUserMessageScreenTilt",126:"CUserMessageTrain",127:"CUserMessageVGUIMenu",128:"CUserMessageVoiceMask",129:"CUserMessageVoiceSubtitle",130:"CUserMessageSendAudio",131:"CUserMessageItemPickup",132:"CUserMessageAmmoDenied",133:"CUserMessageCrosshairAngle",134:"CUserMessageShowMenu",135:"CUserMessageCreditsMsg",136:"CEntityMessagePlayJingle",137:"CEntityMessageScreenOverlay",138:"CEntityMessageRemoveAllDecals",139:"CEntityMessagePropagateForce",140:"CEntityMessageDoSpark",141:"CEntityMessageFixAngle",142:"CUserMessageCloseCaptionPlaceholder",143:"CUserMessageCameraTransition",144:"CUserMessageAudioParameter",145:"CUserMessageParticleManager",146:"CUserMessageHudError",147:"CUserMessageCustomGameEvent_ClientToServer",148:"CUserMessageCustomGameEvent_ServerToClient",149:"CUserMessageTrackedControllerInput_ClientToServer",200:"CMsgVDebugGameSessionIDEvent",201:"CMsgPlaceDecalEvent",202:"CMsgClearWorldDecalsEvent",203:"CMsgClearEntityDecalsEvent",204:"CMsgClearDecalsForSkeletonInstanceEvent",205:"CMsgSource1LegacyGameEventList",206:"CMsgSource1LegacyListenEvents",207:"CMsgSource1LegacyGameEvent",208:"CMsgSosStartSoundEvent",209:"CMsgSosStopSoundEvent",210:"CMsgSosSetSoundEventParams",211:"CMsgSosSetLibraryStackFields",212:"CMsgSosStopSoundEventHash",464:"CDOTAUserMsg_AddUnitToSelection",465:"CDOTAUserMsg_AIDebugLine",466:"CDOTAUserMsg_ChatEvent",467:"CDOTAUserMsg_CombatHeroPositions",468:"CDOTAUserMsg_CombatLogData",470:"CDOTAUserMsg_CombatLogShowDeath",471:"CDOTAUserMsg_CreateLinearProjectile",472:"CDOTAUserMsg_DestroyLinearProjectile",473:"CDOTAUserMsg_DodgeTrackingProjectiles",474:"CDOTAUserMsg_GlobalLightColor",475:"CDOTAUserMsg_GlobalLightDirection",476:"CDOTAUserMsg_InvalidCommand",477:"CDOTAUserMsg_LocationPing",478:"CDOTAUserMsg_MapLine",479:"CDOTAUserMsg_MiniKillCamInfo",480:"CDOTAUserMsg_MinimapDebugPoint",481:"CDOTAUserMsg_MinimapEvent",482:"CDOTAUserMsg_NevermoreRequiem",483:"CDOTAUserMsg_OverheadEvent",484:"CDOTAUserMsg_SetNextAutobuyItem",485:"CDOTAUserMsg_SharedCooldown",486:"CDOTAUserMsg_SpectatorPlayerClick",487:"CDOTAUserMsg_TutorialTipInfo",488:"CDOTAUserMsg_UnitEvent",489:"CDOTAUserMsg_ParticleManager",490:"CDOTAUserMsg_BotChat",491:"CDOTAUserMsg_HudError",492:"CDOTAUserMsg_ItemPurchased",493:"CDOTAUserMsg_Ping",494:"CDOTAUserMsg_ItemFound",495:"CDOTAUserMsg_CharacterSpeakConcept",496:"CDOTAUserMsg_SwapVerify",497:"CDOTAUserMsg_WorldLine",498:"CDOTAUserMsg_TournamentDrop",499:"CDOTAUserMsg_ItemAlert",500:"CDOTAUserMsg_HalloweenDrops",501:"CDOTAUserMsg_ChatWheel",502:"CDOTAUserMsg_ReceivedXmasGift",503:"CDOTAUserMsg_UpdateSharedContent",504:"CDOTAUserMsg_TutorialRequestExp",505:"CDOTAUserMsg_TutorialPingMinimap",506:"CDOTAUserMsg_GamerulesStateChanged",507:"CDOTAUserMsg_ShowSurvey",508:"CDOTAUserMsg_TutorialFade",509:"CDOTAUserMsg_AddQuestLogEntry",510:"CDOTAUserMsg_SendStatPopup",511:"CDOTAUserMsg_TutorialFinish",512:"CDOTAUserMsg_SendRoshanPopup",513:"CDOTAUserMsg_SendGenericToolTip",514:"CDOTAUserMsg_SendFinalGold",515:"CDOTAUserMsg_CustomMsg",516:"CDOTAUserMsg_CoachHUDPing",517:"CDOTAUserMsg_ClientLoadGridNav",518:"CDOTAUserMsg_TE_Projectile",519:"CDOTAUserMsg_TE_ProjectileLoc",520:"CDOTAUserMsg_TE_DotaBloodImpact",521:"CDOTAUserMsg_TE_UnitAnimation",522:"CDOTAUserMsg_TE_UnitAnimationEnd",523:"CDOTAUserMsg_AbilityPing",524:"CDOTAUserMsg_ShowGenericPopup",525:"CDOTAUserMsg_VoteStart",526:"CDOTAUserMsg_VoteUpdate",527:"CDOTAUserMsg_VoteEnd",528:"CDOTAUserMsg_BoosterState",529:"CDOTAUserMsg_WillPurchaseAlert",530:"CDOTAUserMsg_TutorialMinimapPosition",531:"CDOTAUserMsg_PlayerMMR",532:"CDOTAUserMsg_AbilitySteal",533:"CDOTAUserMsg_CourierKilledAlert",534:"CDOTAUserMsg_EnemyItemAlert",535:"CDOTAUserMsg_StatsMatchDetails",536:"CDOTAUserMsg_MiniTaunt",537:"CDOTAUserMsg_BuyBackStateAlert",538:"CDOTAUserMsg_SpeechBubble",539:"CDOTAUserMsg_CustomHeaderMessage",540:"CDOTAUserMsg_QuickBuyAlert",541:"CDOTAUserMsg_StatsHeroDetails",542:"CDOTAUserMsg_PredictionResult",543:"CDOTAUserMsg_ModifierAlert",544:"CDOTAUserMsg_HPManaAlert",545:"CDOTAUserMsg_GlyphAlert",546:"CDOTAUserMsg_BeastChat",547:"CDOTAUserMsg_SpectatorPlayerUnitOrders",548:"CDOTAUserMsg_CustomHudElement_Create",549:"CDOTAUserMsg_CustomHudElement_Modify",550:"CDOTAUserMsg_CustomHudElement_Destroy",551:"CDOTAUserMsg_CompendiumState",552:"CDOTAUserMsg_ProjectionAbility"},HE={0:"CDemoStop",1:"CDemoFileHeader",2:"CDemoFileInfo",3:"CDemoSyncTick",4:"CDemoSendTables",5:"CDemoClassInfo",6:"CDemoStringTables",7:"CDemoPacket",8:"CDemoSignonPacket",9:"CDemoConsoleCmd",10:"CDemoCustomData",11:"CDemoCustomDataCallbacks",12:"CDemoUserCmd",13:"CDemoFullPacket",14:"CDemoSaveGame",15:"CDemoSpawnGroups",16:"CDemoMax",64:"CDemoIsCompressed","-1":"CDemoError"},zE={0:"CHAT_MESSAGE_HERO_KILL",1:"CHAT_MESSAGE_HERO_DENY",2:"CHAT_MESSAGE_BARRACKS_KILL",3:"CHAT_MESSAGE_TOWER_KILL",4:"CHAT_MESSAGE_TOWER_DENY",5:"CHAT_MESSAGE_FIRSTBLOOD",6:"CHAT_MESSAGE_STREAK_KILL",7:"CHAT_MESSAGE_BUYBACK",8:"CHAT_MESSAGE_AEGIS",9:"CHAT_MESSAGE_ROSHAN_KILL",10:"CHAT_MESSAGE_COURIER_LOST",11:"CHAT_MESSAGE_COURIER_RESPAWNED",12:"CHAT_MESSAGE_GLYPH_USED",13:"CHAT_MESSAGE_ITEM_PURCHASE",14:"CHAT_MESSAGE_CONNECT",15:"CHAT_MESSAGE_DISCONNECT",16:"CHAT_MESSAGE_DISCONNECT_WAIT_FOR_RECONNECT",17:"CHAT_MESSAGE_DISCONNECT_TIME_REMAINING",18:"CHAT_MESSAGE_DISCONNECT_TIME_REMAINING_PLURAL",19:"CHAT_MESSAGE_RECONNECT",20:"CHAT_MESSAGE_PLAYER_LEFT",21:"CHAT_MESSAGE_SAFE_TO_LEAVE",22:"CHAT_MESSAGE_RUNE_PICKUP",23:"CHAT_MESSAGE_RUNE_BOTTLE",24:"CHAT_MESSAGE_INTHEBAG",25:"CHAT_MESSAGE_SECRETSHOP",26:"CHAT_MESSAGE_ITEM_AUTOPURCHASED",27:"CHAT_MESSAGE_ITEMS_COMBINED",28:"CHAT_MESSAGE_SUPER_CREEPS",29:"CHAT_MESSAGE_CANT_USE_ACTION_ITEM",30:"CHAT_MESSAGE_CHARGES_EXHAUSTED",31:"CHAT_MESSAGE_CANTPAUSE",32:"CHAT_MESSAGE_NOPAUSESLEFT",33:"CHAT_MESSAGE_CANTPAUSEYET",34:"CHAT_MESSAGE_PAUSED",35:"CHAT_MESSAGE_UNPAUSE_COUNTDOWN",36:"CHAT_MESSAGE_UNPAUSED",37:"CHAT_MESSAGE_AUTO_UNPAUSED",38:"CHAT_MESSAGE_YOUPAUSED",39:"CHAT_MESSAGE_CANTUNPAUSETEAM",41:"CHAT_MESSAGE_VOICE_TEXT_BANNED",42:"CHAT_MESSAGE_SPECTATORS_WATCHING_THIS_GAME",43:"CHAT_MESSAGE_REPORT_REMINDER",44:"CHAT_MESSAGE_ECON_ITEM",45:"CHAT_MESSAGE_TAUNT",46:"CHAT_MESSAGE_RANDOM",47:"CHAT_MESSAGE_RD_TURN",49:"CHAT_MESSAGE_DROP_RATE_BONUS",50:"CHAT_MESSAGE_NO_BATTLE_POINTS",51:"CHAT_MESSAGE_DENIED_AEGIS",52:"CHAT_MESSAGE_INFORMATIONAL",53:"CHAT_MESSAGE_AEGIS_STOLEN",54:"CHAT_MESSAGE_ROSHAN_CANDY",55:"CHAT_MESSAGE_ITEM_GIFTED",56:"CHAT_MESSAGE_HERO_KILL_WITH_GREEVIL",57:"CHAT_MESSAGE_HOLDOUT_TOWER_DESTROYED",58:"CHAT_MESSAGE_HOLDOUT_WALL_DESTROYED",59:"CHAT_MESSAGE_HOLDOUT_WALL_FINISHED",62:"CHAT_MESSAGE_PLAYER_LEFT_LIMITED_HERO",63:"CHAT_MESSAGE_ABANDON_LIMITED_HERO_EXPLANATION",64:"CHAT_MESSAGE_DISCONNECT_LIMITED_HERO",65:"CHAT_MESSAGE_LOW_PRIORITY_COMPLETED_EXPLANATION",66:"CHAT_MESSAGE_RECRUITMENT_DROP_RATE_BONUS",67:"CHAT_MESSAGE_FROSTIVUS_SHINING_BOOSTER_ACTIVE",73:"CHAT_MESSAGE_PLAYER_LEFT_AFK",74:"CHAT_MESSAGE_PLAYER_LEFT_DISCONNECTED_TOO_LONG",75:"CHAT_MESSAGE_PLAYER_ABANDONED",76:"CHAT_MESSAGE_PLAYER_ABANDONED_AFK",77:"CHAT_MESSAGE_PLAYER_ABANDONED_DISCONNECTED_TOO_LONG",78:"CHAT_MESSAGE_WILL_NOT_BE_SCORED",79:"CHAT_MESSAGE_WILL_NOT_BE_SCORED_RANKED",80:"CHAT_MESSAGE_WILL_NOT_BE_SCORED_NETWORK",81:"CHAT_MESSAGE_WILL_NOT_BE_SCORED_NETWORK_RANKED",82:"CHAT_MESSAGE_CAN_QUIT_WITHOUT_ABANDON",83:"CHAT_MESSAGE_RANKED_GAME_STILL_SCORED_LEAVERS_GET_LOSS",84:"CHAT_MESSAGE_ABANDON_RANKED_BEFORE_FIRST_BLOOD_PARTY",85:"CHAT_MESSAGE_COMPENDIUM_LEVEL",86:"CHAT_MESSAGE_VICTORY_PREDICTION_STREAK",87:"CHAT_MESSAGE_ASSASSIN_ANNOUNCE",88:"CHAT_MESSAGE_ASSASSIN_SUCCESS",89:"CHAT_MESSAGE_ASSASSIN_DENIED",90:"CHAT_MESSAGE_VICTORY_PREDICTION_SINGLE_USER_CONFIRM",91:"CHAT_MESSAGE_EFFIGY_KILL",92:"CHAT_MESSAGE_VOICE_TEXT_BANNED_OVERFLOW",93:"CHAT_MESSAGE_YEAR_BEAST_KILLED",94:"CHAT_MESSAGE_PAUSE_COUNTDOWN","-1":"CHAT_MESSAGE_INVALID"},WE={0:"DOTA_COMBATLOG_DAMAGE",1:"DOTA_COMBATLOG_HEAL",2:"DOTA_COMBATLOG_MODIFIER_ADD",3:"DOTA_COMBATLOG_MODIFIER_REMOVE",4:"DOTA_COMBATLOG_DEATH",5:"DOTA_COMBATLOG_ABILITY",6:"DOTA_COMBATLOG_ITEM",7:"DOTA_COMBATLOG_LOCATION",8:"DOTA_COMBATLOG_GOLD",9:"DOTA_COMBATLOG_GAME_STATE",10:"DOTA_COMBATLOG_XP",11:"DOTA_COMBATLOG_PURCHASE",12:"DOTA_COMBATLOG_BUYBACK",13:"DOTA_COMBATLOG_ABILITY_TRIGGER",14:"DOTA_COMBATLOG_PLAYERSTATS",15:"DOTA_COMBATLOG_MULTIKILL",16:"DOTA_COMBATLOG_KILLSTREAK",17:"DOTA_COMBATLOG_TEAM_BUILDING_KILL",18:"DOTA_COMBATLOG_FIRST_BLOOD",19:"DOTA_COMBATLOG_MODIFIER_REFRESH"},qE={packets:VE,dems:HE,DOTA_CHAT_MESSAGE:zE,DOTA_COMBATLOG_TYPES:WE},YE={optimize_for:"SPEED",cc_generic_services:!1},XE=JSON.parse('[{"name":"CMsgProtoBufHeader","options":{"(msgpool_soft_limit)":256,"(msgpool_hard_limit)":1024},"fields":[{"rule":"optional","type":"fixed64","name":"client_steam_id","id":1},{"rule":"optional","type":"int32","name":"client_session_id","id":2},{"rule":"optional","type":"uint32","name":"source_app_id","id":3},{"rule":"optional","type":"fixed64","name":"job_id_source","id":10,"options":{"default":18446744073709552000}},{"rule":"optional","type":"fixed64","name":"job_id_target","id":11,"options":{"default":18446744073709552000}},{"rule":"optional","type":"string","name":"target_job_name","id":12},{"rule":"optional","type":"int32","name":"eresult","id":13,"options":{"default":2}},{"rule":"optional","type":"string","name":"error_message","id":14},{"rule":"optional","type":"GCProtoBufMsgSrc","name":"gc_msg_src","id":200,"options":{"default":"GCProtoBufMsgSrc_Unspecified"}},{"rule":"optional","type":"uint32","name":"gc_dir_index_source","id":201}]},{"name":"CMsgWebAPIKey","fields":[{"rule":"optional","type":"uint32","name":"status","id":1,"options":{"default":255}},{"rule":"optional","type":"uint32","name":"account_id","id":2,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"publisher_group_id","id":3,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"key_id","id":4},{"rule":"optional","type":"string","name":"domain","id":5}]},{"name":"CMsgHttpRequest","fields":[{"rule":"optional","type":"uint32","name":"request_method","id":1},{"rule":"optional","type":"string","name":"hostname","id":2},{"rule":"optional","type":"string","name":"url","id":3},{"rule":"repeated","type":"RequestHeader","name":"headers","id":4},{"rule":"repeated","type":"QueryParam","name":"get_params","id":5},{"rule":"repeated","type":"QueryParam","name":"post_params","id":6},{"rule":"optional","type":"bytes","name":"body","id":7},{"rule":"optional","type":"uint32","name":"absolute_timeout","id":8}],"messages":[{"name":"RequestHeader","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"value","id":2}]},{"name":"QueryParam","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"bytes","name":"value","id":2}]}]},{"name":"CMsgWebAPIRequest","fields":[{"rule":"optional","type":"string","name":"UNUSED_job_name","id":1},{"rule":"optional","type":"string","name":"interface_name","id":2},{"rule":"optional","type":"string","name":"method_name","id":3},{"rule":"optional","type":"uint32","name":"version","id":4},{"rule":"optional","type":"CMsgWebAPIKey","name":"api_key","id":5},{"rule":"optional","type":"CMsgHttpRequest","name":"request","id":6},{"rule":"optional","type":"uint32","name":"routing_app_id","id":7}]},{"name":"CMsgHttpResponse","fields":[{"rule":"optional","type":"uint32","name":"status_code","id":1},{"rule":"repeated","type":"ResponseHeader","name":"headers","id":2},{"rule":"optional","type":"bytes","name":"body","id":3}],"messages":[{"name":"ResponseHeader","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"value","id":2}]}]},{"name":"CMsgAMFindAccounts","fields":[{"rule":"optional","type":"uint32","name":"search_type","id":1},{"rule":"optional","type":"string","name":"search_string","id":2}]},{"name":"CMsgAMFindAccountsResponse","fields":[{"rule":"repeated","type":"fixed64","name":"steam_id","id":1}]},{"name":"CMsgNotifyWatchdog","fields":[{"rule":"optional","type":"uint32","name":"source","id":1},{"rule":"optional","type":"uint32","name":"alert_type","id":2},{"rule":"optional","type":"uint32","name":"alert_destination","id":3},{"rule":"optional","type":"bool","name":"critical","id":4},{"rule":"optional","type":"uint32","name":"time","id":5},{"rule":"optional","type":"uint32","name":"appid","id":6},{"rule":"optional","type":"string","name":"text","id":7}]},{"name":"CMsgAMGetLicenses","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1}]},{"name":"CMsgPackageLicense","fields":[{"rule":"optional","type":"uint32","name":"package_id","id":1},{"rule":"optional","type":"uint32","name":"time_created","id":2},{"rule":"optional","type":"uint32","name":"owner_id","id":3}]},{"name":"CMsgAMGetLicensesResponse","fields":[{"rule":"repeated","type":"CMsgPackageLicense","name":"license","id":1},{"rule":"optional","type":"uint32","name":"result","id":2}]},{"name":"CMsgAMGetUserGameStats","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"fixed64","name":"game_id","id":2},{"rule":"repeated","type":"uint32","name":"stats","id":3}]},{"name":"CMsgAMGetUserGameStatsResponse","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"fixed64","name":"game_id","id":2},{"rule":"optional","type":"int32","name":"eresult","id":3,"options":{"default":2}},{"rule":"repeated","type":"Stats","name":"stats","id":4},{"rule":"repeated","type":"Achievement_Blocks","name":"achievement_blocks","id":5}],"messages":[{"name":"Stats","fields":[{"rule":"optional","type":"uint32","name":"stat_id","id":1},{"rule":"optional","type":"uint32","name":"stat_value","id":2}]},{"name":"Achievement_Blocks","fields":[{"rule":"optional","type":"uint32","name":"achievement_id","id":1},{"rule":"optional","type":"uint32","name":"achievement_bit_id","id":2},{"rule":"optional","type":"fixed32","name":"unlock_time","id":3}]}]},{"name":"CMsgGCGetCommandList","fields":[{"rule":"optional","type":"uint32","name":"app_id","id":1},{"rule":"optional","type":"string","name":"command_prefix","id":2}]},{"name":"CMsgGCGetCommandListResponse","fields":[{"rule":"repeated","type":"string","name":"command_name","id":1}]},{"name":"CGCMsgMemCachedGet","fields":[{"rule":"repeated","type":"string","name":"keys","id":1}]},{"name":"CGCMsgMemCachedGetResponse","fields":[{"rule":"repeated","type":"ValueTag","name":"values","id":1}],"messages":[{"name":"ValueTag","fields":[{"rule":"optional","type":"bool","name":"found","id":1},{"rule":"optional","type":"bytes","name":"value","id":2}]}]},{"name":"CGCMsgMemCachedSet","fields":[{"rule":"repeated","type":"KeyPair","name":"keys","id":1}],"messages":[{"name":"KeyPair","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"bytes","name":"value","id":2}]}]},{"name":"CGCMsgMemCachedDelete","fields":[{"rule":"repeated","type":"string","name":"keys","id":1}]},{"name":"CGCMsgMemCachedStats","fields":[]},{"name":"CGCMsgMemCachedStatsResponse","fields":[{"rule":"optional","type":"uint64","name":"curr_connections","id":1},{"rule":"optional","type":"uint64","name":"cmd_get","id":2},{"rule":"optional","type":"uint64","name":"cmd_set","id":3},{"rule":"optional","type":"uint64","name":"cmd_flush","id":4},{"rule":"optional","type":"uint64","name":"get_hits","id":5},{"rule":"optional","type":"uint64","name":"get_misses","id":6},{"rule":"optional","type":"uint64","name":"delete_hits","id":7},{"rule":"optional","type":"uint64","name":"delete_misses","id":8},{"rule":"optional","type":"uint64","name":"bytes_read","id":9},{"rule":"optional","type":"uint64","name":"bytes_written","id":10},{"rule":"optional","type":"uint64","name":"limit_maxbytes","id":11},{"rule":"optional","type":"uint64","name":"curr_items","id":12},{"rule":"optional","type":"uint64","name":"evictions","id":13},{"rule":"optional","type":"uint64","name":"bytes","id":14}]},{"name":"CGCMsgSQLStats","fields":[{"rule":"optional","type":"uint32","name":"schema_catalog","id":1}]},{"name":"CGCMsgSQLStatsResponse","fields":[{"rule":"optional","type":"uint32","name":"threads","id":1},{"rule":"optional","type":"uint32","name":"threads_connected","id":2},{"rule":"optional","type":"uint32","name":"threads_active","id":3},{"rule":"optional","type":"uint32","name":"operations_submitted","id":4},{"rule":"optional","type":"uint32","name":"prepared_statements_executed","id":5},{"rule":"optional","type":"uint32","name":"non_prepared_statements_executed","id":6},{"rule":"optional","type":"uint32","name":"deadlock_retries","id":7},{"rule":"optional","type":"uint32","name":"operations_timed_out_in_queue","id":8},{"rule":"optional","type":"uint32","name":"errors","id":9}]},{"name":"CMsgAMAddFreeLicense","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1},{"rule":"optional","type":"uint32","name":"ip_public","id":2},{"rule":"optional","type":"uint32","name":"packageid","id":3},{"rule":"optional","type":"string","name":"store_country_code","id":4}]},{"name":"CMsgAMAddFreeLicenseResponse","fields":[{"rule":"optional","type":"int32","name":"eresult","id":1,"options":{"default":2}},{"rule":"optional","type":"int32","name":"purchase_result_detail","id":2},{"rule":"optional","type":"fixed64","name":"transid","id":3}]},{"name":"CGCMsgGetIPLocation","fields":[{"rule":"repeated","type":"fixed32","name":"ips","id":1}]},{"name":"CIPLocationInfo","fields":[{"rule":"optional","type":"uint32","name":"ip","id":1},{"rule":"optional","type":"float","name":"latitude","id":2},{"rule":"optional","type":"float","name":"longitude","id":3},{"rule":"optional","type":"string","name":"country","id":4},{"rule":"optional","type":"string","name":"state","id":5},{"rule":"optional","type":"string","name":"city","id":6}]},{"name":"CGCMsgGetIPLocationResponse","fields":[{"rule":"repeated","type":"CIPLocationInfo","name":"infos","id":1}]},{"name":"CGCMsgGetIPASN","fields":[{"rule":"repeated","type":"fixed32","name":"ips","id":1}]},{"name":"CIPASNInfo","fields":[{"rule":"optional","type":"fixed32","name":"ip","id":1},{"rule":"optional","type":"uint32","name":"asn","id":2}]},{"name":"CGCMsgGetIPASNResponse","fields":[{"rule":"repeated","type":"CIPASNInfo","name":"infos","id":1}]},{"name":"CGCMsgSystemStatsSchema","fields":[{"rule":"optional","type":"uint32","name":"gc_app_id","id":1},{"rule":"optional","type":"bytes","name":"schema_kv","id":2}]},{"name":"CGCMsgGetSystemStats","fields":[]},{"name":"CGCMsgGetSystemStatsResponse","fields":[{"rule":"optional","type":"uint32","name":"gc_app_id","id":1},{"rule":"optional","type":"bytes","name":"stats_kv","id":2},{"rule":"optional","type":"uint32","name":"active_jobs","id":3},{"rule":"optional","type":"uint32","name":"yielding_jobs","id":4},{"rule":"optional","type":"uint32","name":"user_sessions","id":5},{"rule":"optional","type":"uint32","name":"game_server_sessions","id":6},{"rule":"optional","type":"uint32","name":"socaches","id":7},{"rule":"optional","type":"uint32","name":"socaches_to_unload","id":8},{"rule":"optional","type":"uint32","name":"socaches_loading","id":9},{"rule":"optional","type":"uint32","name":"writeback_queue","id":10},{"rule":"optional","type":"uint32","name":"steamid_locks","id":11},{"rule":"optional","type":"uint32","name":"logon_queue","id":12},{"rule":"optional","type":"uint32","name":"logon_jobs","id":13}]},{"name":"CMsgAMSendEmail","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1},{"rule":"optional","type":"uint32","name":"email_msg_type","id":2},{"rule":"optional","type":"uint32","name":"email_format","id":3},{"rule":"repeated","type":"PersonaNameReplacementToken","name":"persona_name_tokens","id":5},{"rule":"optional","type":"uint32","name":"source_gc","id":6},{"rule":"repeated","type":"ReplacementToken","name":"tokens","id":7}],"messages":[{"name":"ReplacementToken","fields":[{"rule":"optional","type":"string","name":"token_name","id":1},{"rule":"optional","type":"string","name":"token_value","id":2}]},{"name":"PersonaNameReplacementToken","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1},{"rule":"optional","type":"string","name":"token_name","id":2}]}]},{"name":"CMsgAMSendEmailResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgGCGetEmailTemplate","fields":[{"rule":"optional","type":"uint32","name":"app_id","id":1},{"rule":"optional","type":"uint32","name":"email_msg_type","id":2},{"rule":"optional","type":"int32","name":"email_lang","id":3},{"rule":"optional","type":"int32","name":"email_format","id":4}]},{"name":"CMsgGCGetEmailTemplateResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}},{"rule":"optional","type":"bool","name":"template_exists","id":2},{"rule":"optional","type":"string","name":"template","id":3}]},{"name":"CMsgAMGrantGuestPasses2","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"package_id","id":2},{"rule":"optional","type":"int32","name":"passes_to_grant","id":3},{"rule":"optional","type":"int32","name":"days_to_expiration","id":4},{"rule":"optional","type":"int32","name":"action","id":5}]},{"name":"CMsgAMGrantGuestPasses2Response","fields":[{"rule":"optional","type":"int32","name":"eresult","id":1,"options":{"default":2}},{"rule":"optional","type":"int32","name":"passes_granted","id":2,"options":{"default":0}}]},{"name":"CGCSystemMsg_GetAccountDetails","options":{"(msgpool_soft_limit)":128,"(msgpool_hard_limit)":512},"fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1},{"rule":"optional","type":"uint32","name":"appid","id":2}]},{"name":"CGCSystemMsg_GetAccountDetails_Response","options":{"(msgpool_soft_limit)":128,"(msgpool_hard_limit)":512},"fields":[{"rule":"optional","type":"uint32","name":"eresult_deprecated","id":1,"options":{"default":2}},{"rule":"optional","type":"string","name":"account_name","id":2},{"rule":"optional","type":"string","name":"persona_name","id":3},{"rule":"optional","type":"bool","name":"is_profile_created","id":26},{"rule":"optional","type":"bool","name":"is_profile_public","id":4},{"rule":"optional","type":"bool","name":"is_inventory_public","id":5},{"rule":"optional","type":"bool","name":"is_vac_banned","id":7},{"rule":"optional","type":"bool","name":"is_cyber_cafe","id":8},{"rule":"optional","type":"bool","name":"is_school_account","id":9},{"rule":"optional","type":"bool","name":"is_limited","id":10},{"rule":"optional","type":"bool","name":"is_subscribed","id":11},{"rule":"optional","type":"uint32","name":"package","id":12},{"rule":"optional","type":"bool","name":"is_free_trial_account","id":13},{"rule":"optional","type":"uint32","name":"free_trial_expiration","id":14},{"rule":"optional","type":"bool","name":"is_low_violence","id":15},{"rule":"optional","type":"bool","name":"is_account_locked_down","id":16},{"rule":"optional","type":"bool","name":"is_community_banned","id":17},{"rule":"optional","type":"bool","name":"is_trade_banned","id":18},{"rule":"optional","type":"uint32","name":"trade_ban_expiration","id":19},{"rule":"optional","type":"uint32","name":"accountid","id":20},{"rule":"optional","type":"uint32","name":"suspension_end_time","id":21},{"rule":"optional","type":"string","name":"currency","id":22},{"rule":"optional","type":"uint32","name":"steam_level","id":23},{"rule":"optional","type":"uint32","name":"friend_count","id":24},{"rule":"optional","type":"uint32","name":"account_creation_time","id":25}]},{"name":"CMsgGCGetPersonaNames","fields":[{"rule":"repeated","type":"fixed64","name":"steamids","id":1}]},{"name":"CMsgGCGetPersonaNames_Response","fields":[{"rule":"repeated","type":"PersonaName","name":"succeeded_lookups","id":1},{"rule":"repeated","type":"fixed64","name":"failed_lookup_steamids","id":2}],"messages":[{"name":"PersonaName","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1},{"rule":"optional","type":"string","name":"persona_name","id":2}]}]},{"name":"CMsgGCCheckFriendship","fields":[{"rule":"optional","type":"fixed64","name":"steamid_left","id":1},{"rule":"optional","type":"fixed64","name":"steamid_right","id":2}]},{"name":"CMsgGCCheckFriendship_Response","fields":[{"rule":"optional","type":"bool","name":"success","id":1},{"rule":"optional","type":"bool","name":"found_friendship","id":2}]},{"name":"CMsgGCGetAppFriendsList","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1}]},{"name":"CMsgGCGetAppFriendsList_Response","fields":[{"rule":"optional","type":"bool","name":"success","id":1},{"rule":"repeated","type":"fixed64","name":"steamids","id":2}]},{"name":"CMsgGCMsgMasterSetDirectory","fields":[{"rule":"optional","type":"uint32","name":"master_dir_index","id":1},{"rule":"repeated","type":"SubGC","name":"dir","id":2}],"messages":[{"name":"SubGC","fields":[{"rule":"optional","type":"uint32","name":"dir_index","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"string","name":"box","id":3},{"rule":"optional","type":"string","name":"command_line","id":4},{"rule":"optional","type":"string","name":"gc_binary","id":5}]}]},{"name":"CMsgGCMsgMasterSetDirectory_Response","fields":[{"rule":"optional","type":"int32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgGCMsgWebAPIJobRequestForwardResponse","fields":[{"rule":"optional","type":"uint32","name":"dir_index","id":1}]},{"name":"CGCSystemMsg_GetPurchaseTrust_Request","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1}]},{"name":"CGCSystemMsg_GetPurchaseTrust_Response","fields":[{"rule":"optional","type":"bool","name":"has_prior_purchase_history","id":1},{"rule":"optional","type":"bool","name":"has_no_recent_password_resets","id":2},{"rule":"optional","type":"bool","name":"is_wallet_cash_trusted","id":3},{"rule":"optional","type":"uint32","name":"time_all_trusted","id":4}]},{"name":"CMsgGCHAccountVacStatusChange","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"app_id","id":2},{"rule":"optional","type":"uint32","name":"rtime_vacban_starts","id":3},{"rule":"optional","type":"bool","name":"is_banned_now","id":4},{"rule":"optional","type":"bool","name":"is_banned_future","id":5}]},{"name":"CMsgGCGetPartnerAccountLink","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1}]},{"name":"CMsgGCGetPartnerAccountLink_Response","fields":[{"rule":"optional","type":"uint32","name":"pwid","id":1},{"rule":"optional","type":"uint32","name":"nexonid","id":2}]},{"name":"CMsgGCRoutingInfo","fields":[{"rule":"repeated","type":"uint32","name":"dir_index","id":1},{"rule":"optional","type":"RoutingMethod","name":"method","id":2,"options":{"default":"RANDOM"}},{"rule":"optional","type":"RoutingMethod","name":"fallback","id":3,"options":{"default":"DISCARD"}},{"rule":"optional","type":"uint32","name":"protobuf_field","id":4},{"rule":"optional","type":"string","name":"webapi_param","id":5}],"enums":[{"name":"RoutingMethod","values":[{"name":"RANDOM","id":0},{"name":"DISCARD","id":1},{"name":"CLIENT_STEAMID","id":2},{"name":"PROTOBUF_FIELD_UINT64","id":3},{"name":"WEBAPI_PARAM_UINT64","id":4}]}]},{"name":"CMsgGCMsgMasterSetWebAPIRouting","fields":[{"rule":"repeated","type":"Entry","name":"entries","id":1}],"messages":[{"name":"Entry","fields":[{"rule":"optional","type":"string","name":"interface_name","id":1},{"rule":"optional","type":"string","name":"method_name","id":2},{"rule":"optional","type":"CMsgGCRoutingInfo","name":"routing","id":3}]}]},{"name":"CMsgGCMsgMasterSetClientMsgRouting","fields":[{"rule":"repeated","type":"Entry","name":"entries","id":1}],"messages":[{"name":"Entry","fields":[{"rule":"optional","type":"uint32","name":"msg_type","id":1},{"rule":"optional","type":"CMsgGCRoutingInfo","name":"routing","id":2}]}]},{"name":"CMsgGCMsgMasterSetWebAPIRouting_Response","fields":[{"rule":"optional","type":"int32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgGCMsgMasterSetClientMsgRouting_Response","fields":[{"rule":"optional","type":"int32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgGCMsgSetOptions","fields":[{"rule":"repeated","type":"Option","name":"options","id":1},{"rule":"repeated","type":"MessageRange","name":"client_msg_ranges","id":2},{"rule":"optional","type":"GCSQLVersion","name":"gcsql_version","id":3,"options":{"default":"GCSQL_VERSION_BASELINE"}}],"messages":[{"name":"MessageRange","fields":[{"rule":"required","type":"uint32","name":"low","id":1},{"rule":"required","type":"uint32","name":"high","id":2}]}],"enums":[{"name":"Option","values":[{"name":"NOTIFY_USER_SESSIONS","id":0},{"name":"NOTIFY_SERVER_SESSIONS","id":1},{"name":"NOTIFY_ACHIEVEMENTS","id":2},{"name":"NOTIFY_VAC_ACTION","id":3}]},{"name":"GCSQLVersion","values":[{"name":"GCSQL_VERSION_BASELINE","id":1},{"name":"GCSQL_VERSION_BOOLTYPE","id":2}]}]},{"name":"CMsgGCHUpdateSession","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"app_id","id":2},{"rule":"optional","type":"bool","name":"online","id":3},{"rule":"optional","type":"fixed64","name":"server_steam_id","id":4},{"rule":"optional","type":"uint32","name":"server_addr","id":5},{"rule":"optional","type":"uint32","name":"server_port","id":6},{"rule":"optional","type":"uint32","name":"os_type","id":7},{"rule":"optional","type":"uint32","name":"client_addr","id":8},{"rule":"repeated","type":"ExtraField","name":"extra_fields","id":9}],"messages":[{"name":"ExtraField","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"value","id":2}]}]},{"name":"CMsgNotificationOfSuspiciousActivity","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1},{"rule":"optional","type":"uint32","name":"appid","id":2},{"rule":"optional","type":"MultipleGameInstances","name":"multiple_instances","id":3}],"messages":[{"name":"MultipleGameInstances","fields":[{"rule":"optional","type":"uint32","name":"app_instance_count","id":1},{"rule":"repeated","type":"fixed64","name":"other_steamids","id":2}]}]},{"name":"CMsgDPPartnerMicroTxns","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1},{"rule":"optional","type":"string","name":"gc_name","id":2},{"rule":"optional","type":"PartnerInfo","name":"partner","id":3},{"rule":"repeated","type":"PartnerMicroTxn","name":"transactions","id":4}],"messages":[{"name":"PartnerMicroTxn","fields":[{"rule":"optional","type":"uint32","name":"init_time","id":1},{"rule":"optional","type":"uint32","name":"last_update_time","id":2},{"rule":"optional","type":"uint64","name":"txn_id","id":3},{"rule":"optional","type":"uint32","name":"account_id","id":4},{"rule":"optional","type":"uint32","name":"line_item","id":5},{"rule":"optional","type":"uint64","name":"item_id","id":6},{"rule":"optional","type":"uint32","name":"def_index","id":7},{"rule":"optional","type":"uint32","name":"price","id":8},{"rule":"optional","type":"uint32","name":"tax","id":9},{"rule":"optional","type":"uint32","name":"price_usd","id":10},{"rule":"optional","type":"uint32","name":"tax_usd","id":11},{"rule":"optional","type":"uint32","name":"purchase_type","id":12},{"rule":"optional","type":"uint32","name":"steam_txn_type","id":13},{"rule":"optional","type":"string","name":"country_code","id":14},{"rule":"optional","type":"string","name":"region_code","id":15},{"rule":"optional","type":"int32","name":"quantity","id":16},{"rule":"optional","type":"uint64","name":"ref_trans_id","id":17}]},{"name":"PartnerInfo","fields":[{"rule":"optional","type":"uint32","name":"partner_id","id":1},{"rule":"optional","type":"string","name":"partner_name","id":2},{"rule":"optional","type":"string","name":"currency_code","id":3},{"rule":"optional","type":"string","name":"currency_name","id":4}]}]},{"name":"CMsgDPPartnerMicroTxnsResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}},{"rule":"optional","type":"EErrorCode","name":"eerrorcode","id":2,"options":{"default":"k_MsgValid"}}],"enums":[{"name":"EErrorCode","values":[{"name":"k_MsgValid","id":0},{"name":"k_MsgInvalidAppID","id":1},{"name":"k_MsgInvalidPartnerInfo","id":2},{"name":"k_MsgNoTransactions","id":3},{"name":"k_MsgSQLFailure","id":4},{"name":"k_MsgPartnerInfoDiscrepancy","id":5},{"name":"k_MsgTransactionInsertFailed","id":7},{"name":"k_MsgAlreadyRunning","id":8},{"name":"k_MsgInvalidTransactionData","id":9}]}]},{"name":"CGCStorePurchaseInit_LineItem","fields":[{"rule":"optional","type":"uint32","name":"item_def_id","id":1},{"rule":"optional","type":"uint32","name":"quantity","id":2},{"rule":"optional","type":"uint32","name":"cost_in_local_currency","id":3},{"rule":"optional","type":"uint32","name":"purchase_type","id":4},{"rule":"optional","type":"uint64","name":"source_reference_id","id":5}]},{"name":"CMsgGCStorePurchaseInit","fields":[{"rule":"optional","type":"string","name":"country","id":1},{"rule":"optional","type":"int32","name":"language","id":2},{"rule":"optional","type":"int32","name":"currency","id":3},{"rule":"repeated","type":"CGCStorePurchaseInit_LineItem","name":"line_items","id":4}]},{"name":"CMsgGCStorePurchaseInitResponse","fields":[{"rule":"optional","type":"int32","name":"result","id":1},{"rule":"optional","type":"uint64","name":"txn_id","id":2}]},{"name":"CMsgSystemBroadcast","fields":[{"rule":"optional","type":"string","name":"message","id":1}]},{"name":"CMsgInviteToParty","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"client_version","id":2},{"rule":"optional","type":"uint32","name":"team_id","id":3},{"rule":"optional","type":"bool","name":"as_coach","id":4}]},{"name":"CMsgInviteToLobby","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"client_version","id":2}]},{"name":"CMsgInvitationCreated","fields":[{"rule":"optional","type":"uint64","name":"group_id","id":1},{"rule":"optional","type":"fixed64","name":"steam_id","id":2}]},{"name":"CMsgPartyInviteResponse","fields":[{"rule":"optional","type":"uint64","name":"party_id","id":1},{"rule":"optional","type":"bool","name":"accept","id":2},{"rule":"optional","type":"uint32","name":"client_version","id":3},{"rule":"optional","type":"uint32","name":"team_id","id":4},{"rule":"optional","type":"bool","name":"as_coach","id":5},{"rule":"optional","type":"uint32","name":"game_language_enum","id":6},{"rule":"optional","type":"string","name":"game_language_name","id":7}]},{"name":"CMsgLobbyInviteResponse","fields":[{"rule":"optional","type":"fixed64","name":"lobby_id","id":1},{"rule":"optional","type":"bool","name":"accept","id":2},{"rule":"optional","type":"uint32","name":"client_version","id":3},{"rule":"optional","type":"uint32","name":"game_language_enum","id":4},{"rule":"optional","type":"string","name":"game_language_name","id":5},{"rule":"optional","type":"fixed64","name":"custom_game_crc","id":6},{"rule":"optional","type":"fixed32","name":"custom_game_timestamp","id":7}]},{"name":"CMsgKickFromParty","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1}]},{"name":"CMsgLeaveParty","fields":[]},{"name":"CMsgCustomGameInstallStatus","fields":[{"rule":"optional","type":"ECustomGameInstallStatus","name":"status","id":1,"options":{"default":"k_ECustomGameInstallStatus_Unknown"}},{"rule":"optional","type":"string","name":"message","id":2},{"rule":"optional","type":"fixed32","name":"latest_timestamp_from_steam","id":3}]},{"name":"CMsgServerAvailable","fields":[{"rule":"optional","type":"CMsgCustomGameInstallStatus","name":"custom_game_install_status","id":1}]},{"name":"CMsgLANServerAvailable","fields":[{"rule":"optional","type":"fixed64","name":"lobby_id","id":1}]},{"name":"CSOEconGameAccountClient","fields":[{"rule":"optional","type":"uint32","name":"additional_backpack_slots","id":1,"options":{"default":0}},{"rule":"optional","type":"bool","name":"trial_account","id":2,"options":{"default":false}},{"rule":"optional","type":"bool","name":"eligible_for_online_play","id":3,"options":{"default":true}},{"rule":"optional","type":"bool","name":"need_to_choose_most_helpful_friend","id":4},{"rule":"optional","type":"bool","name":"in_coaches_list","id":5},{"rule":"optional","type":"fixed32","name":"trade_ban_expiration","id":6},{"rule":"optional","type":"fixed32","name":"duel_ban_expiration","id":7},{"rule":"optional","type":"uint32","name":"preview_item_def","id":8,"options":{"default":0}},{"rule":"optional","type":"bool","name":"made_first_purchase","id":9,"options":{"default":false}}]},{"name":"CSOItemCriteriaCondition","fields":[{"rule":"optional","type":"int32","name":"op","id":1},{"rule":"optional","type":"string","name":"field","id":2},{"rule":"optional","type":"bool","name":"required","id":3},{"rule":"optional","type":"float","name":"float_value","id":4},{"rule":"optional","type":"string","name":"string_value","id":5}]},{"name":"CSOItemCriteria","fields":[{"rule":"optional","type":"uint32","name":"item_level","id":1},{"rule":"optional","type":"int32","name":"item_quality","id":2},{"rule":"optional","type":"bool","name":"item_level_set","id":3},{"rule":"optional","type":"bool","name":"item_quality_set","id":4},{"rule":"optional","type":"uint32","name":"initial_inventory","id":5},{"rule":"optional","type":"uint32","name":"initial_quantity","id":6},{"rule":"optional","type":"bool","name":"ignore_enabled_flag","id":8},{"rule":"repeated","type":"CSOItemCriteriaCondition","name":"conditions","id":9},{"rule":"optional","type":"bool","name":"recent_only","id":10}]},{"name":"CSOItemRecipe","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"string","name":"n_a","id":3},{"rule":"optional","type":"string","name":"desc_inputs","id":4},{"rule":"optional","type":"string","name":"desc_outputs","id":5},{"rule":"optional","type":"string","name":"di_a","id":6},{"rule":"optional","type":"string","name":"di_b","id":7},{"rule":"optional","type":"string","name":"di_c","id":8},{"rule":"optional","type":"string","name":"do_a","id":9},{"rule":"optional","type":"string","name":"do_b","id":10},{"rule":"optional","type":"string","name":"do_c","id":11},{"rule":"optional","type":"bool","name":"requires_all_same_class","id":12},{"rule":"optional","type":"bool","name":"requires_all_same_slot","id":13},{"rule":"optional","type":"int32","name":"class_usage_for_output","id":14},{"rule":"optional","type":"int32","name":"slot_usage_for_output","id":15},{"rule":"optional","type":"int32","name":"set_for_output","id":16},{"rule":"repeated","type":"CSOItemCriteria","name":"input_items_criteria","id":20},{"rule":"repeated","type":"CSOItemCriteria","name":"output_items_criteria","id":21},{"rule":"repeated","type":"uint32","name":"input_item_dupe_counts","id":22}]},{"name":"CMsgApplyStrangePart","fields":[{"rule":"optional","type":"uint64","name":"strange_part_item_id","id":1},{"rule":"optional","type":"uint64","name":"item_item_id","id":2}]},{"name":"CMsgApplyPennantUpgrade","fields":[{"rule":"optional","type":"uint64","name":"upgrade_item_id","id":1},{"rule":"optional","type":"uint64","name":"pennant_item_id","id":2}]},{"name":"CMsgApplyEggEssence","fields":[{"rule":"optional","type":"uint64","name":"essence_item_id","id":1},{"rule":"optional","type":"uint64","name":"egg_item_id","id":2}]},{"name":"CSOEconItemAttribute","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"uint32","name":"value","id":2},{"rule":"optional","type":"bytes","name":"value_bytes","id":3}]},{"name":"CSOEconItemEquipped","fields":[{"rule":"optional","type":"uint32","name":"new_class","id":1},{"rule":"optional","type":"uint32","name":"new_slot","id":2}]},{"name":"CSOEconItem","fields":[{"rule":"optional","type":"uint64","name":"id","id":1},{"rule":"optional","type":"uint32","name":"account_id","id":2},{"rule":"optional","type":"uint32","name":"inventory","id":3},{"rule":"optional","type":"uint32","name":"def_index","id":4},{"rule":"optional","type":"uint32","name":"quantity","id":5,"options":{"default":1}},{"rule":"optional","type":"uint32","name":"level","id":6,"options":{"default":1}},{"rule":"optional","type":"uint32","name":"quality","id":7,"options":{"default":4}},{"rule":"optional","type":"uint32","name":"flags","id":8,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"origin","id":9,"options":{"default":0}},{"rule":"repeated","type":"CSOEconItemAttribute","name":"attribute","id":12},{"rule":"optional","type":"CSOEconItem","name":"interior_item","id":13},{"rule":"optional","type":"bool","name":"in_use","id":14,"options":{"default":false}},{"rule":"optional","type":"uint32","name":"style","id":15,"options":{"default":0}},{"rule":"optional","type":"uint64","name":"original_id","id":16,"options":{"default":0}},{"rule":"repeated","type":"CSOEconItemEquipped","name":"equipped_state","id":18}]},{"name":"CMsgSortItems","fields":[{"rule":"optional","type":"uint32","name":"sort_type","id":1}]},{"name":"CSOEconClaimCode","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"code_type","id":2},{"rule":"optional","type":"uint32","name":"time_acquired","id":3},{"rule":"optional","type":"string","name":"code","id":4}]},{"name":"CMsgStoreGetUserData","fields":[{"rule":"optional","type":"fixed32","name":"price_sheet_version","id":1}]},{"name":"CMsgStoreGetUserDataResponse","fields":[{"rule":"optional","type":"int32","name":"result","id":1},{"rule":"optional","type":"int32","name":"currency","id":2},{"rule":"optional","type":"string","name":"country","id":3},{"rule":"optional","type":"fixed32","name":"price_sheet_version","id":4},{"rule":"optional","type":"uint64","name":"experiment_data","id":5,"options":{"default":0}},{"rule":"optional","type":"int32","name":"featured_item_idx","id":6},{"rule":"optional","type":"bool","name":"show_hat_descriptions","id":7,"options":{"default":true}},{"rule":"optional","type":"bytes","name":"price_sheet","id":8},{"rule":"optional","type":"int32","name":"default_item_sort","id":9,"options":{"default":0}},{"rule":"repeated","type":"uint32","name":"popular_items","id":10}]},{"name":"CMsgUpdateItemSchema","fields":[{"rule":"optional","type":"bytes","name":"items_game","id":1},{"rule":"optional","type":"fixed32","name":"item_schema_version","id":2},{"rule":"optional","type":"string","name":"items_game_url","id":3}]},{"name":"CMsgGCError","fields":[{"rule":"optional","type":"string","name":"error_text","id":1}]},{"name":"CMsgRequestInventoryRefresh","fields":[]},{"name":"CMsgConVarValue","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"value","id":2}]},{"name":"CMsgReplicateConVars","fields":[{"rule":"repeated","type":"CMsgConVarValue","name":"convars","id":1}]},{"name":"CMsgReplayUploadedToYouTube","fields":[{"rule":"optional","type":"string","name":"youtube_url","id":1},{"rule":"optional","type":"string","name":"youtube_account_name","id":2},{"rule":"optional","type":"uint64","name":"session_id","id":3}]},{"name":"CMsgConsumableExhausted","fields":[{"rule":"optional","type":"int32","name":"item_def_id","id":1}]},{"name":"CMsgItemAcknowledged","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"inventory","id":2},{"rule":"optional","type":"uint32","name":"def_index","id":3},{"rule":"optional","type":"uint32","name":"quality","id":4},{"rule":"optional","type":"uint32","name":"rarity","id":5},{"rule":"optional","type":"uint32","name":"origin","id":6}]},{"name":"CMsgSetPresetItemPosition","fields":[{"rule":"optional","type":"uint32","name":"class_id","id":1},{"rule":"optional","type":"uint32","name":"preset_id","id":2},{"rule":"optional","type":"uint32","name":"slot_id","id":3},{"rule":"optional","type":"uint64","name":"item_id","id":4}]},{"name":"CMsgSetItemPositions","fields":[{"rule":"repeated","type":"ItemPosition","name":"item_positions","id":1}],"messages":[{"name":"ItemPosition","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1},{"rule":"optional","type":"uint32","name":"position","id":2}]}]},{"name":"CSOEconItemPresetInstance","fields":[{"rule":"optional","type":"uint32","name":"class_id","id":2,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"preset_id","id":3,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"slot_id","id":4,"options":{"(key_field)":true}},{"rule":"optional","type":"uint64","name":"item_id","id":5}]},{"name":"CMsgSelectItemPresetForClass","fields":[{"rule":"optional","type":"uint32","name":"class_id","id":1},{"rule":"optional","type":"uint32","name":"preset_id","id":2}]},{"name":"CMsgSelectItemPresetForClassReply","fields":[{"rule":"optional","type":"bool","name":"success","id":1}]},{"name":"CSOSelectedItemPreset","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"class_id","id":2,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"preset_id","id":3}]},{"name":"CMsgGCReportAbuse","fields":[{"rule":"optional","type":"fixed64","name":"target_steam_id","id":1},{"rule":"optional","type":"string","name":"description","id":4},{"rule":"optional","type":"uint64","name":"gid","id":5},{"rule":"optional","type":"uint32","name":"abuse_type","id":2},{"rule":"optional","type":"uint32","name":"content_type","id":3},{"rule":"optional","type":"fixed32","name":"target_game_server_ip","id":6},{"rule":"optional","type":"uint32","name":"target_game_server_port","id":7}]},{"name":"CMsgGCReportAbuseResponse","fields":[{"rule":"optional","type":"fixed64","name":"target_steam_id","id":1},{"rule":"optional","type":"uint32","name":"result","id":2},{"rule":"optional","type":"string","name":"error_message","id":3}]},{"name":"CMsgGCNameItemNotification","fields":[{"rule":"optional","type":"fixed64","name":"player_steamid","id":1},{"rule":"optional","type":"uint32","name":"item_def_index","id":2},{"rule":"optional","type":"string","name":"item_name_custom","id":3}]},{"name":"CMsgGCClientDisplayNotification","fields":[{"rule":"optional","type":"string","name":"notification_title_localization_key","id":1},{"rule":"optional","type":"string","name":"notification_body_localization_key","id":2},{"rule":"repeated","type":"string","name":"body_substring_keys","id":3},{"rule":"repeated","type":"string","name":"body_substring_values","id":4}]},{"name":"CMsgGCShowItemsPickedUp","fields":[{"rule":"optional","type":"fixed64","name":"player_steamid","id":1}]},{"name":"CMsgGCIncrementKillCountResponse","fields":[{"rule":"optional","type":"uint32","name":"killer_account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"num_kills","id":2},{"rule":"optional","type":"uint32","name":"item_def","id":3},{"rule":"optional","type":"uint32","name":"level_type","id":4}]},{"name":"CSOEconItemDropRateBonus","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"fixed32","name":"expiration_date","id":2},{"rule":"optional","type":"float","name":"bonus","id":3,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"bonus_count","id":4},{"rule":"optional","type":"uint64","name":"item_id","id":5},{"rule":"optional","type":"uint32","name":"def_index","id":6},{"rule":"optional","type":"uint32","name":"seconds_left","id":7},{"rule":"optional","type":"uint32","name":"booster_type","id":8,"options":{"(key_field)":true}}]},{"name":"CSOEconItemLeagueViewPass","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"league_id","id":2,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"itemindex","id":4},{"rule":"optional","type":"uint32","name":"grant_reason","id":5}]},{"name":"CSOEconItemEventTicket","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"event_id","id":2},{"rule":"optional","type":"uint64","name":"item_id","id":3}]},{"name":"CSOEconItemTournamentPassport","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2},{"rule":"optional","type":"uint64","name":"item_id","id":3},{"rule":"optional","type":"uint32","name":"original_purchaser_id","id":4},{"rule":"optional","type":"uint32","name":"passports_bought","id":5},{"rule":"optional","type":"uint32","name":"version","id":6},{"rule":"optional","type":"uint32","name":"def_index","id":7},{"rule":"optional","type":"uint32","name":"reward_flags","id":8}]},{"name":"CMsgGCItemPreviewItemBoughtNotification","fields":[{"rule":"optional","type":"uint32","name":"item_def_index","id":1}]},{"name":"CMsgGCStorePurchaseCancel","fields":[{"rule":"optional","type":"uint64","name":"txn_id","id":1}]},{"name":"CMsgGCStorePurchaseCancelResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1}]},{"name":"CMsgGCStorePurchaseFinalize","fields":[{"rule":"optional","type":"uint64","name":"txn_id","id":1}]},{"name":"CMsgGCStorePurchaseFinalizeResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1},{"rule":"repeated","type":"uint64","name":"item_ids","id":2}]},{"name":"CMsgGCBannedWordListRequest","fields":[{"rule":"optional","type":"uint32","name":"ban_list_group_id","id":1},{"rule":"optional","type":"uint32","name":"word_id","id":2}]},{"name":"CMsgGCBannedWord","fields":[{"rule":"optional","type":"uint32","name":"word_id","id":1},{"rule":"optional","type":"GC_BannedWordType","name":"word_type","id":2,"options":{"default":"GC_BANNED_WORD_DISABLE_WORD"}},{"rule":"optional","type":"string","name":"word","id":3}]},{"name":"CMsgGCBannedWordListResponse","fields":[{"rule":"optional","type":"uint32","name":"ban_list_group_id","id":1},{"rule":"repeated","type":"CMsgGCBannedWord","name":"word_list","id":2}]},{"name":"CMsgGCToGCBannedWordListBroadcast","fields":[{"rule":"optional","type":"CMsgGCBannedWordListResponse","name":"broadcast","id":1}]},{"name":"CMsgGCToGCBannedWordListUpdated","fields":[{"rule":"optional","type":"uint32","name":"group_id","id":1}]},{"name":"CMsgGCToGCDirtySDOCache","fields":[{"rule":"optional","type":"uint32","name":"sdo_type","id":1},{"rule":"optional","type":"uint64","name":"key_uint64","id":2}]},{"name":"CMsgGCToGCDirtyMultipleSDOCache","fields":[{"rule":"optional","type":"uint32","name":"sdo_type","id":1},{"rule":"repeated","type":"uint64","name":"key_uint64","id":2}]},{"name":"CMsgGCToGCApplyLocalizationDiff","fields":[{"rule":"optional","type":"uint32","name":"language","id":1},{"rule":"optional","type":"string","name":"packed_diff","id":2}]},{"name":"CMsgGCToGCApplyLocalizationDiffResponse","fields":[{"rule":"optional","type":"bool","name":"success","id":1}]},{"name":"CMsgGCCollectItem","fields":[{"rule":"optional","type":"uint64","name":"collection_item_id","id":1},{"rule":"optional","type":"uint64","name":"subject_item_id","id":2}]},{"name":"CMsgSDONoMemcached","fields":[]},{"name":"CMsgGCToGCUpdateSQLKeyValue","fields":[{"rule":"optional","type":"string","name":"key_name","id":1}]},{"name":"CMsgGCToGCBroadcastConsoleCommand","fields":[{"rule":"optional","type":"string","name":"con_command","id":1}]},{"name":"CMsgGCServerVersionUpdated","fields":[{"rule":"optional","type":"uint32","name":"server_version","id":1}]},{"name":"CMsgGCClientVersionUpdated","fields":[{"rule":"optional","type":"uint32","name":"client_version","id":1}]},{"name":"CMsgGCToGCWebAPIAccountChanged","fields":[]},{"name":"CMsgRecipeComponent","fields":[{"rule":"optional","type":"uint64","name":"subject_item_id","id":1},{"rule":"optional","type":"uint64","name":"attribute_index","id":2}]},{"name":"CMsgFulfillDynamicRecipeComponent","fields":[{"rule":"optional","type":"uint64","name":"tool_item_id","id":1},{"rule":"repeated","type":"CMsgRecipeComponent","name":"consumption_components","id":2}]},{"name":"CMsgGCClientMarketDataRequest","fields":[{"rule":"optional","type":"uint32","name":"user_currency","id":1}]},{"name":"CMsgGCClientMarketDataEntry","fields":[{"rule":"optional","type":"uint32","name":"item_def_index","id":1},{"rule":"optional","type":"uint32","name":"item_quality","id":2},{"rule":"optional","type":"uint32","name":"item_sell_listings","id":3},{"rule":"optional","type":"uint32","name":"price_in_local_currency","id":4}]},{"name":"CMsgGCClientMarketData","fields":[{"rule":"repeated","type":"CMsgGCClientMarketDataEntry","name":"entries","id":1}]},{"name":"CMsgExtractGems","fields":[{"rule":"optional","type":"uint64","name":"tool_item_id","id":1},{"rule":"optional","type":"uint64","name":"item_item_id","id":2}]},{"name":"CMsgAddSocket","fields":[{"rule":"optional","type":"uint64","name":"tool_item_id","id":1},{"rule":"optional","type":"uint64","name":"item_item_id","id":2},{"rule":"optional","type":"bool","name":"unusual","id":3}]},{"name":"CMsgAddSocketResponse","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1},{"rule":"repeated","type":"uint32","name":"updated_socket_index","id":2}]},{"name":"CMsgAddItemToSocketData","fields":[{"rule":"optional","type":"uint64","name":"gem_item_id","id":1},{"rule":"optional","type":"uint32","name":"socket_index","id":2}]},{"name":"CMsgAddItemToSocket","fields":[{"rule":"optional","type":"uint64","name":"item_item_id","id":1},{"rule":"repeated","type":"CMsgAddItemToSocketData","name":"gems_to_socket","id":2}]},{"name":"CMsgAddItemToSocketResponse","fields":[{"rule":"optional","type":"uint64","name":"item_item_id","id":1},{"rule":"repeated","type":"uint32","name":"updated_socket_index","id":2}]},{"name":"CMsgResetStrangeGemCount","fields":[{"rule":"optional","type":"uint64","name":"item_item_id","id":1},{"rule":"optional","type":"uint32","name":"socket_index","id":2}]},{"name":"CMsgVector","fields":[{"rule":"optional","type":"float","name":"x","id":1},{"rule":"optional","type":"float","name":"y","id":2},{"rule":"optional","type":"float","name":"z","id":3}]},{"name":"CMsgVector2D","fields":[{"rule":"optional","type":"float","name":"x","id":1},{"rule":"optional","type":"float","name":"y","id":2}]},{"name":"CMsgQAngle","fields":[{"rule":"optional","type":"float","name":"x","id":1},{"rule":"optional","type":"float","name":"y","id":2},{"rule":"optional","type":"float","name":"z","id":3}]},{"name":"CMsgPlayerInfo","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"fixed64","name":"xuid","id":2},{"rule":"optional","type":"int32","name":"userid","id":3},{"rule":"optional","type":"fixed64","name":"steamid","id":4},{"rule":"optional","type":"bool","name":"fakeplayer","id":5},{"rule":"optional","type":"bool","name":"ishltv","id":6}]},{"name":"CMsg_CVars","fields":[{"rule":"repeated","type":"CVar","name":"cvars","id":1}],"messages":[{"name":"CVar","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"value","id":2}]}]},{"name":"CNETMsg_NOP","fields":[]},{"name":"CNETMsg_SplitScreenUser","fields":[{"rule":"optional","type":"int32","name":"slot","id":1}]},{"name":"CNETMsg_Disconnect","fields":[{"rule":"optional","type":"ENetworkDisconnectionReason","name":"reason","id":2,"options":{"default":"NETWORK_DISCONNECT_INVALID"}}]},{"name":"CNETMsg_Tick","fields":[{"rule":"optional","type":"uint32","name":"tick","id":1},{"rule":"optional","type":"uint32","name":"host_frametime","id":2},{"rule":"optional","type":"uint32","name":"host_frametime_std_deviation","id":3},{"rule":"optional","type":"uint32","name":"host_computationtime","id":4},{"rule":"optional","type":"uint32","name":"host_computationtime_std_deviation","id":5},{"rule":"optional","type":"uint32","name":"host_framestarttime_std_deviation","id":6}]},{"name":"CNETMsg_StringCmd","fields":[{"rule":"optional","type":"string","name":"command","id":1}]},{"name":"CNETMsg_SetConVar","fields":[{"rule":"optional","type":"CMsg_CVars","name":"convars","id":1}]},{"name":"CNETMsg_SignonState","fields":[{"rule":"optional","type":"uint32","name":"signon_state","id":1},{"rule":"optional","type":"uint32","name":"spawn_count","id":2},{"rule":"optional","type":"uint32","name":"num_server_players","id":3},{"rule":"repeated","type":"string","name":"players_networkids","id":4},{"rule":"optional","type":"string","name":"map_name","id":5}]},{"name":"CSVCMsg_GameEvent","fields":[{"rule":"optional","type":"string","name":"event_name","id":1},{"rule":"optional","type":"int32","name":"eventid","id":2},{"rule":"repeated","type":"key_t","name":"keys","id":3}],"messages":[{"name":"key_t","fields":[{"rule":"optional","type":"int32","name":"type","id":1},{"rule":"optional","type":"string","name":"val_string","id":2},{"rule":"optional","type":"float","name":"val_float","id":3},{"rule":"optional","type":"int32","name":"val_long","id":4},{"rule":"optional","type":"int32","name":"val_short","id":5},{"rule":"optional","type":"int32","name":"val_byte","id":6},{"rule":"optional","type":"bool","name":"val_bool","id":7},{"rule":"optional","type":"uint64","name":"val_uint64","id":8}]}]},{"name":"CSVCMsgList_GameEvents","fields":[{"rule":"repeated","type":"event_t","name":"events","id":1}],"messages":[{"name":"event_t","fields":[{"rule":"optional","type":"int32","name":"tick","id":1},{"rule":"optional","type":"CSVCMsg_GameEvent","name":"event","id":2}]}]},{"name":"CSVCMsg_UserMessage","fields":[{"rule":"optional","type":"int32","name":"msg_type","id":1},{"rule":"optional","type":"bytes","name":"msg_data","id":2}]},{"name":"CSVCMsgList_UserMessages","fields":[{"rule":"repeated","type":"usermsg_t","name":"usermsgs","id":1}],"messages":[{"name":"usermsg_t","fields":[{"rule":"optional","type":"int32","name":"tick","id":1},{"rule":"optional","type":"CSVCMsg_UserMessage","name":"msg","id":2}]}]},{"name":"CNETMsg_SpawnGroup_Load","fields":[{"rule":"optional","type":"string","name":"worldname","id":1},{"rule":"optional","type":"string","name":"entitylumpname","id":2},{"rule":"optional","type":"string","name":"entityfiltername","id":3},{"rule":"optional","type":"uint32","name":"spawngrouphandle","id":4},{"rule":"optional","type":"uint32","name":"spawngroupownerhandle","id":5},{"rule":"optional","type":"CMsgVector","name":"world_offset_pos","id":6},{"rule":"optional","type":"CMsgQAngle","name":"world_offset_angle","id":7},{"rule":"optional","type":"bytes","name":"spawngroupmanifest","id":8},{"rule":"optional","type":"uint32","name":"flags","id":9},{"rule":"optional","type":"int32","name":"tickcount","id":10},{"rule":"optional","type":"bool","name":"manifestincomplete","id":11},{"rule":"optional","type":"string","name":"localnamefixup","id":12},{"rule":"optional","type":"string","name":"parentnamefixup","id":13},{"rule":"optional","type":"int32","name":"manifestloadpriority","id":14},{"rule":"optional","type":"uint32","name":"worldgroupid","id":15},{"rule":"optional","type":"uint32","name":"creationsequence","id":16}]},{"name":"CNETMsg_SpawnGroup_ManifestUpdate","fields":[{"rule":"optional","type":"uint32","name":"spawngrouphandle","id":1},{"rule":"optional","type":"bytes","name":"spawngroupmanifest","id":2},{"rule":"optional","type":"bool","name":"manifestincomplete","id":3}]},{"name":"CNETMsg_SpawnGroup_SetCreationTick","fields":[{"rule":"optional","type":"uint32","name":"spawngrouphandle","id":1},{"rule":"optional","type":"int32","name":"tickcount","id":2},{"rule":"optional","type":"uint32","name":"creationsequence","id":3}]},{"name":"CNETMsg_SpawnGroup_Unload","fields":[{"rule":"optional","type":"uint32","name":"spawngrouphandle","id":1},{"rule":"optional","type":"uint32","name":"flags","id":2},{"rule":"optional","type":"int32","name":"tickcount","id":3}]},{"name":"CNETMsg_SpawnGroup_LoadCompleted","fields":[{"rule":"optional","type":"uint32","name":"spawngrouphandle","id":1}]},{"name":"CSVCMsg_GameSessionConfiguration","fields":[{"rule":"optional","type":"bool","name":"is_multiplayer","id":1},{"rule":"optional","type":"bool","name":"is_loadsavegame","id":2},{"rule":"optional","type":"bool","name":"is_background_map","id":3},{"rule":"optional","type":"bool","name":"is_headless","id":4},{"rule":"optional","type":"uint32","name":"min_client_limit","id":5},{"rule":"optional","type":"uint32","name":"max_client_limit","id":6},{"rule":"optional","type":"uint32","name":"max_clients","id":7},{"rule":"optional","type":"fixed32","name":"tick_interval","id":8},{"rule":"optional","type":"string","name":"hostname","id":9},{"rule":"optional","type":"string","name":"savegamename","id":10},{"rule":"optional","type":"string","name":"s1_mapname","id":11},{"rule":"optional","type":"string","name":"gamemode","id":12},{"rule":"optional","type":"string","name":"server_ip_address","id":13},{"rule":"optional","type":"bytes","name":"data","id":14},{"rule":"optional","type":"bool","name":"is_localonly","id":15}]},{"name":"CCLCMsg_ClientInfo","fields":[{"rule":"optional","type":"fixed32","name":"send_table_crc","id":1},{"rule":"optional","type":"uint32","name":"server_count","id":2},{"rule":"optional","type":"bool","name":"is_hltv","id":3},{"rule":"optional","type":"bool","name":"is_replay","id":4},{"rule":"optional","type":"uint32","name":"friends_id","id":5},{"rule":"optional","type":"string","name":"friends_name","id":6}]},{"name":"CCLCMsg_Move","fields":[{"rule":"optional","type":"uint32","name":"num_backup_commands","id":1},{"rule":"optional","type":"uint32","name":"num_new_commands","id":2},{"rule":"optional","type":"bytes","name":"data","id":3}]},{"name":"CMsgVoiceAudio","fields":[{"rule":"optional","type":"VoiceDataFormat_t","name":"format","id":1,"options":{"default":"VOICEDATA_FORMAT_STEAM"}},{"rule":"optional","type":"bytes","name":"voice_data","id":2},{"rule":"optional","type":"int32","name":"sequence_bytes","id":3},{"rule":"optional","type":"uint32","name":"section_number","id":4},{"rule":"optional","type":"uint32","name":"sample_rate","id":5},{"rule":"optional","type":"uint32","name":"uncompressed_sample_offset","id":6}]},{"name":"CCLCMsg_VoiceData","fields":[{"rule":"optional","type":"CMsgVoiceAudio","name":"audio","id":1},{"rule":"optional","type":"fixed64","name":"xuid","id":2},{"rule":"optional","type":"uint32","name":"tick","id":3}]},{"name":"CCLCMsg_BaselineAck","fields":[{"rule":"optional","type":"int32","name":"baseline_tick","id":1},{"rule":"optional","type":"int32","name":"baseline_nr","id":2}]},{"name":"CCLCMsg_ListenEvents","fields":[{"rule":"repeated","type":"fixed32","name":"event_mask","id":1}]},{"name":"CCLCMsg_RespondCvarValue","fields":[{"rule":"optional","type":"int32","name":"cookie","id":1},{"rule":"optional","type":"int32","name":"status_code","id":2},{"rule":"optional","type":"string","name":"name","id":3},{"rule":"optional","type":"string","name":"value","id":4}]},{"name":"CCLCMsg_FileCRCCheck","fields":[{"rule":"optional","type":"int32","name":"code_path","id":1},{"rule":"optional","type":"string","name":"path","id":2},{"rule":"optional","type":"int32","name":"code_filename","id":3},{"rule":"optional","type":"string","name":"filename","id":4},{"rule":"optional","type":"fixed32","name":"crc","id":5}]},{"name":"CCLCMsg_LoadingProgress","fields":[{"rule":"optional","type":"int32","name":"progress","id":1}]},{"name":"CCLCMsg_SplitPlayerConnect","fields":[{"rule":"optional","type":"string","name":"playername","id":1}]},{"name":"CCLCMsg_ClientMessage","fields":[{"rule":"optional","type":"int32","name":"msg_type","id":1},{"rule":"optional","type":"bytes","name":"data","id":2}]},{"name":"CCLCMsg_SplitPlayerDisconnect","fields":[{"rule":"optional","type":"int32","name":"slot","id":1}]},{"name":"CCLCMsg_ServerStatus","fields":[{"rule":"optional","type":"bool","name":"simplified","id":1}]},{"name":"CCLCMsg_ServerPing","fields":[]},{"name":"CCLCMsg_RequestPause","fields":[{"rule":"optional","type":"RequestPause_t","name":"pause_type","id":1,"options":{"default":"RP_PAUSE"}},{"rule":"optional","type":"int32","name":"pause_group","id":2}]},{"name":"CCLCMsg_CmdKeyValues","fields":[{"rule":"optional","type":"bytes","name":"data","id":1}]},{"name":"CSVCMsg_ServerInfo","fields":[{"rule":"optional","type":"int32","name":"protocol","id":1},{"rule":"optional","type":"int32","name":"server_count","id":2},{"rule":"optional","type":"bool","name":"is_dedicated","id":3},{"rule":"optional","type":"bool","name":"is_hltv","id":4},{"rule":"optional","type":"bool","name":"is_replay","id":5},{"rule":"optional","type":"int32","name":"c_os","id":6},{"rule":"optional","type":"fixed32","name":"map_crc","id":7},{"rule":"optional","type":"fixed32","name":"client_crc","id":8},{"rule":"optional","type":"fixed32","name":"string_table_crc","id":9},{"rule":"optional","type":"int32","name":"max_clients","id":10},{"rule":"optional","type":"int32","name":"max_classes","id":11},{"rule":"optional","type":"int32","name":"player_slot","id":12},{"rule":"optional","type":"float","name":"tick_interval","id":13},{"rule":"optional","type":"string","name":"game_dir","id":14},{"rule":"optional","type":"string","name":"map_name","id":15},{"rule":"optional","type":"string","name":"sky_name","id":16},{"rule":"optional","type":"string","name":"host_name","id":17},{"rule":"optional","type":"string","name":"addon_name","id":18},{"rule":"optional","type":"CSVCMsg_GameSessionConfiguration","name":"game_session_config","id":19},{"rule":"optional","type":"bytes","name":"game_session_manifest","id":20}]},{"name":"CSVCMsg_ClassInfo","fields":[{"rule":"optional","type":"bool","name":"create_on_client","id":1},{"rule":"repeated","type":"class_t","name":"classes","id":2}],"messages":[{"name":"class_t","fields":[{"rule":"optional","type":"int32","name":"class_id","id":1},{"rule":"optional","type":"string","name":"data_table_name","id":2},{"rule":"optional","type":"string","name":"class_name","id":3}]}]},{"name":"CSVCMsg_SetPause","fields":[{"rule":"optional","type":"bool","name":"paused","id":1}]},{"name":"CSVCMsg_VoiceInit","fields":[{"rule":"optional","type":"int32","name":"quality","id":1},{"rule":"optional","type":"string","name":"codec","id":2},{"rule":"optional","type":"int32","name":"version","id":3,"options":{"default":0}}]},{"name":"CSVCMsg_Print","fields":[{"rule":"optional","type":"string","name":"text","id":1}]},{"name":"CSVCMsg_Sounds","fields":[{"rule":"optional","type":"bool","name":"reliable_sound","id":1},{"rule":"repeated","type":"sounddata_t","name":"sounds","id":2}],"messages":[{"name":"sounddata_t","fields":[{"rule":"optional","type":"sint32","name":"origin_x","id":1},{"rule":"optional","type":"sint32","name":"origin_y","id":2},{"rule":"optional","type":"sint32","name":"origin_z","id":3},{"rule":"optional","type":"uint32","name":"volume","id":4},{"rule":"optional","type":"float","name":"delay_value","id":5},{"rule":"optional","type":"int32","name":"sequence_number","id":6},{"rule":"optional","type":"int32","name":"entity_index","id":7},{"rule":"optional","type":"int32","name":"channel","id":8},{"rule":"optional","type":"int32","name":"pitch","id":9},{"rule":"optional","type":"int32","name":"flags","id":10},{"rule":"optional","type":"uint32","name":"sound_num","id":11},{"rule":"optional","type":"fixed32","name":"sound_num_handle","id":12},{"rule":"optional","type":"int32","name":"speaker_entity","id":13},{"rule":"optional","type":"int32","name":"random_seed","id":14},{"rule":"optional","type":"int32","name":"sound_level","id":15},{"rule":"optional","type":"bool","name":"is_sentence","id":16},{"rule":"optional","type":"bool","name":"is_ambient","id":17},{"rule":"optional","type":"uint32","name":"guid","id":18},{"rule":"optional","type":"fixed64","name":"sound_resource_id","id":19}]}]},{"name":"CSVCMsg_Prefetch","fields":[{"rule":"optional","type":"int32","name":"sound_index","id":1},{"rule":"optional","type":"PrefetchType","name":"resource_type","id":2,"options":{"default":"PFT_SOUND"}}]},{"name":"CSVCMsg_SetView","fields":[{"rule":"optional","type":"int32","name":"entity_index","id":1},{"rule":"optional","type":"int32","name":"slot","id":2}]},{"name":"CSVCMsg_FixAngle","fields":[{"rule":"optional","type":"bool","name":"relative","id":1},{"rule":"optional","type":"CMsgQAngle","name":"angle","id":2}]},{"name":"CSVCMsg_CrosshairAngle","fields":[{"rule":"optional","type":"CMsgQAngle","name":"angle","id":1}]},{"name":"CSVCMsg_BSPDecal","fields":[{"rule":"optional","type":"CMsgVector","name":"pos","id":1},{"rule":"optional","type":"int32","name":"decal_texture_index","id":2},{"rule":"optional","type":"int32","name":"entity_index","id":3},{"rule":"optional","type":"int32","name":"model_index","id":4},{"rule":"optional","type":"bool","name":"low_priority","id":5}]},{"name":"CSVCMsg_SplitScreen","fields":[{"rule":"optional","type":"ESplitScreenMessageType","name":"type","id":1,"options":{"default":"MSG_SPLITSCREEN_ADDUSER"}},{"rule":"optional","type":"int32","name":"slot","id":2},{"rule":"optional","type":"int32","name":"player_index","id":3}]},{"name":"CSVCMsg_GetCvarValue","fields":[{"rule":"optional","type":"int32","name":"cookie","id":1},{"rule":"optional","type":"string","name":"cvar_name","id":2}]},{"name":"CSVCMsg_Menu","fields":[{"rule":"optional","type":"int32","name":"dialog_type","id":1},{"rule":"optional","type":"bytes","name":"menu_key_values","id":2}]},{"name":"CSVCMsg_SendTable","fields":[{"rule":"optional","type":"bool","name":"is_end","id":1},{"rule":"optional","type":"string","name":"net_table_name","id":2},{"rule":"optional","type":"bool","name":"needs_decoder","id":3},{"rule":"repeated","type":"sendprop_t","name":"props","id":4}],"messages":[{"name":"sendprop_t","fields":[{"rule":"optional","type":"int32","name":"type","id":1},{"rule":"optional","type":"string","name":"var_name","id":2},{"rule":"optional","type":"int32","name":"flags","id":3},{"rule":"optional","type":"int32","name":"priority","id":4},{"rule":"optional","type":"string","name":"dt_name","id":5},{"rule":"optional","type":"int32","name":"num_elements","id":6},{"rule":"optional","type":"float","name":"low_value","id":7},{"rule":"optional","type":"float","name":"high_value","id":8},{"rule":"optional","type":"int32","name":"num_bits","id":9}]}]},{"name":"CSVCMsg_GameEventList","fields":[{"rule":"repeated","type":"descriptor_t","name":"descriptors","id":1}],"messages":[{"name":"key_t","fields":[{"rule":"optional","type":"int32","name":"type","id":1},{"rule":"optional","type":"string","name":"name","id":2}]},{"name":"descriptor_t","fields":[{"rule":"optional","type":"int32","name":"eventid","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"repeated","type":"key_t","name":"keys","id":3}]}]},{"name":"CSVCMsg_PacketEntities","fields":[{"rule":"optional","type":"int32","name":"max_entries","id":1},{"rule":"optional","type":"int32","name":"updated_entries","id":2},{"rule":"optional","type":"bool","name":"is_delta","id":3},{"rule":"optional","type":"bool","name":"update_baseline","id":4},{"rule":"optional","type":"int32","name":"baseline","id":5},{"rule":"optional","type":"int32","name":"delta_from","id":6},{"rule":"optional","type":"bytes","name":"entity_data","id":7},{"rule":"optional","type":"bool","name":"pending_full_frame","id":8},{"rule":"optional","type":"uint32","name":"active_spawngroup_handle","id":9},{"rule":"optional","type":"uint32","name":"max_spawngroup_creationsequence","id":10}]},{"name":"CSVCMsg_TempEntities","fields":[{"rule":"optional","type":"bool","name":"reliable","id":1},{"rule":"optional","type":"int32","name":"num_entries","id":2},{"rule":"optional","type":"bytes","name":"entity_data","id":3}]},{"name":"CSVCMsg_CreateStringTable","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"int32","name":"num_entries","id":2},{"rule":"optional","type":"bool","name":"user_data_fixed_size","id":3},{"rule":"optional","type":"int32","name":"user_data_size","id":4},{"rule":"optional","type":"int32","name":"user_data_size_bits","id":5},{"rule":"optional","type":"int32","name":"flags","id":6},{"rule":"optional","type":"bytes","name":"string_data","id":7},{"rule":"optional","type":"int32","name":"uncompressed_size","id":8},{"rule":"optional","type":"bool","name":"data_compressed","id":9}]},{"name":"CSVCMsg_UpdateStringTable","fields":[{"rule":"optional","type":"int32","name":"table_id","id":1},{"rule":"optional","type":"int32","name":"num_changed_entries","id":2},{"rule":"optional","type":"bytes","name":"string_data","id":3}]},{"name":"CSVCMsg_VoiceData","fields":[{"rule":"optional","type":"CMsgVoiceAudio","name":"audio","id":1},{"rule":"optional","type":"int32","name":"client","id":2},{"rule":"optional","type":"bool","name":"proximity","id":3},{"rule":"optional","type":"fixed64","name":"xuid","id":4},{"rule":"optional","type":"int32","name":"audible_mask","id":5},{"rule":"optional","type":"uint32","name":"tick","id":6}]},{"name":"CSVCMsg_PacketReliable","fields":[{"rule":"optional","type":"int32","name":"tick","id":1},{"rule":"optional","type":"int32","name":"messagessize","id":2},{"rule":"optional","type":"bool","name":"state","id":3}]},{"name":"CSVCMsg_FullFrameSplit","fields":[{"rule":"optional","type":"int32","name":"tick","id":1},{"rule":"optional","type":"int32","name":"section","id":2},{"rule":"optional","type":"int32","name":"total","id":3},{"rule":"optional","type":"bytes","name":"data","id":4}]},{"name":"CSVCMsg_CmdKeyValues","fields":[{"rule":"optional","type":"bytes","name":"data","id":1}]},{"name":"CMsgIPCAddress","fields":[{"rule":"optional","type":"fixed64","name":"computer_guid","id":1},{"rule":"optional","type":"uint32","name":"process_id","id":2}]},{"name":"CMsgServerPeer","fields":[{"rule":"optional","type":"int32","name":"player_slot","id":1},{"rule":"optional","type":"fixed64","name":"steamid","id":2},{"rule":"optional","type":"CMsgIPCAddress","name":"ipc","id":3},{"rule":"optional","type":"bool","name":"they_hear_you","id":4},{"rule":"optional","type":"bool","name":"you_hear_them","id":5},{"rule":"optional","type":"bool","name":"is_listenserver_host","id":6}]},{"name":"CSVCMsg_PeerList","fields":[{"rule":"repeated","type":"CMsgServerPeer","name":"peer","id":1}]},{"name":"CSVCMsg_ClearAllStringTables","fields":[{"rule":"optional","type":"string","name":"mapname","id":1},{"rule":"optional","type":"uint32","name":"map_crc","id":2}]},{"name":"ProtoFlattenedSerializerField_t","fields":[{"rule":"optional","type":"int32","name":"var_type_sym","id":1},{"rule":"optional","type":"int32","name":"var_name_sym","id":2},{"rule":"optional","type":"int32","name":"bit_count","id":3},{"rule":"optional","type":"float","name":"low_value","id":4},{"rule":"optional","type":"float","name":"high_value","id":5},{"rule":"optional","type":"int32","name":"encode_flags","id":6},{"rule":"optional","type":"int32","name":"field_serializer_name_sym","id":7},{"rule":"optional","type":"int32","name":"field_serializer_version","id":8},{"rule":"optional","type":"int32","name":"send_node_sym","id":9},{"rule":"optional","type":"int32","name":"var_encoder_sym","id":10}]},{"name":"ProtoFlattenedSerializer_t","fields":[{"rule":"optional","type":"int32","name":"serializer_name_sym","id":1},{"rule":"optional","type":"int32","name":"serializer_version","id":2},{"rule":"repeated","type":"int32","name":"fields_index","id":3}]},{"name":"CSVCMsg_FlattenedSerializer","fields":[{"rule":"repeated","type":"ProtoFlattenedSerializer_t","name":"serializers","id":1},{"rule":"repeated","type":"string","name":"symbols","id":2},{"rule":"repeated","type":"ProtoFlattenedSerializerField_t","name":"fields","id":3}]},{"name":"CSVCMsg_StopSound","fields":[{"rule":"optional","type":"fixed32","name":"guid","id":1}]},{"name":"CBidirMsg_RebroadcastGameEvent","fields":[{"rule":"optional","type":"bool","name":"posttoserver","id":1},{"rule":"optional","type":"int32","name":"buftype","id":2},{"rule":"optional","type":"uint32","name":"clientbitcount","id":3},{"rule":"optional","type":"uint64","name":"receivingclients","id":4}]},{"name":"CBidirMsg_RebroadcastSource","fields":[{"rule":"optional","type":"int32","name":"eventsource","id":1}]},{"name":"SerializedNetAddress_t","fields":[{"rule":"required","type":"bytes","name":"serializedAddress","id":1}]},{"name":"CBidirMsg_RelayInfo","fields":[{"rule":"required","type":"Operation_t","name":"operation","id":1,"options":{"default":"RIO_REQUEST_RELAY"}},{"rule":"optional","type":"SerializedNetAddress_t","name":"serializedTargetAddress","id":2},{"rule":"optional","type":"uint32","name":"additionalHops","id":3}],"enums":[{"name":"Operation_t","values":[{"name":"RIO_REQUEST_RELAY","id":0},{"name":"RIO_WILL_RELAY","id":1},{"name":"RIO_NO_ROUTE","id":2},{"name":"RIO_REJECT_RELAY","id":3},{"name":"RIO_ESTABLISH_CONNECTION","id":4}]}]},{"name":"SignedPayload_t","fields":[{"rule":"required","type":"bytes","name":"payloadData","id":1},{"rule":"required","type":"uint32","name":"signature","id":2},{"rule":"required","type":"bool","name":"bPayloadEncrypted","id":3}]},{"name":"CBidirMsg_RelayPacket","fields":[{"rule":"required","type":"uint32","name":"prevhopcount","id":1},{"rule":"required","type":"SerializedNetAddress_t","name":"originalSender","id":2},{"rule":"required","type":"SignedPayload_t","name":"signedPayload","id":3},{"rule":"repeated","type":"SignedDestinationAddress_t","name":"recipientList","id":4}],"messages":[{"name":"SignedDestinationAddress_t","fields":[{"rule":"required","type":"SerializedNetAddress_t","name":"serializedAddr","id":1},{"rule":"required","type":"uint32","name":"signature","id":2},{"rule":"optional","type":"bytes","name":"encryptedPayloadKey","id":3}]}]},{"name":"CP2P_TextMessage","fields":[{"rule":"optional","type":"bytes","name":"text","id":1}]},{"name":"CSteam_Voice_Encoding","fields":[{"rule":"optional","type":"bytes","name":"voice_data","id":1}]},{"name":"CP2P_Voice","fields":[{"rule":"optional","type":"CMsgVoiceAudio","name":"audio","id":1},{"rule":"optional","type":"uint32","name":"broadcast_group","id":2}],"enums":[{"name":"Handler_Flags","values":[{"name":"Played_Audio","id":1}]}]},{"name":"CP2P_Ping","fields":[{"rule":"required","type":"uint64","name":"send_time","id":1},{"rule":"required","type":"bool","name":"is_reply","id":2}]},{"name":"C2S_CONNECT_Message","fields":[{"rule":"optional","type":"uint32","name":"host_version","id":1},{"rule":"optional","type":"uint32","name":"auth_protocol","id":2},{"rule":"optional","type":"uint32","name":"challenge_number","id":3},{"rule":"optional","type":"fixed64","name":"reservation_cookie","id":4},{"rule":"optional","type":"bool","name":"low_violence","id":5},{"rule":"optional","type":"bytes","name":"encrypted_password","id":6},{"rule":"repeated","type":"CCLCMsg_SplitPlayerConnect","name":"splitplayers","id":7},{"rule":"optional","type":"bytes","name":"auth_steam","id":8}]},{"name":"C2S_CONNECTION_Message","fields":[{"rule":"optional","type":"string","name":"addon_name","id":1}]},{"name":"CDemoFileHeader","fields":[{"rule":"required","type":"string","name":"demo_file_stamp","id":1},{"rule":"optional","type":"int32","name":"network_protocol","id":2},{"rule":"optional","type":"string","name":"server_name","id":3},{"rule":"optional","type":"string","name":"client_name","id":4},{"rule":"optional","type":"string","name":"map_name","id":5},{"rule":"optional","type":"string","name":"game_directory","id":6},{"rule":"optional","type":"int32","name":"fullpackets_version","id":7},{"rule":"optional","type":"bool","name":"allow_clientside_entities","id":8},{"rule":"optional","type":"bool","name":"allow_clientside_particles","id":9},{"rule":"optional","type":"string","name":"addons","id":10}]},{"name":"CGameInfo","fields":[{"rule":"optional","type":"CDotaGameInfo","name":"dota","id":4}],"messages":[{"name":"CDotaGameInfo","fields":[{"rule":"optional","type":"uint32","name":"match_id","id":1},{"rule":"optional","type":"int32","name":"game_mode","id":2},{"rule":"optional","type":"int32","name":"game_winner","id":3},{"rule":"repeated","type":"CPlayerInfo","name":"player_info","id":4},{"rule":"optional","type":"uint32","name":"leagueid","id":5},{"rule":"repeated","type":"CHeroSelectEvent","name":"picks_bans","id":6},{"rule":"optional","type":"uint32","name":"radiant_team_id","id":7},{"rule":"optional","type":"uint32","name":"dire_team_id","id":8},{"rule":"optional","type":"string","name":"radiant_team_tag","id":9},{"rule":"optional","type":"string","name":"dire_team_tag","id":10},{"rule":"optional","type":"uint32","name":"end_time","id":11}],"messages":[{"name":"CPlayerInfo","fields":[{"rule":"optional","type":"string","name":"hero_name","id":1},{"rule":"optional","type":"string","name":"player_name","id":2},{"rule":"optional","type":"bool","name":"is_fake_client","id":3},{"rule":"optional","type":"uint64","name":"steamid","id":4},{"rule":"optional","type":"int32","name":"game_team","id":5}]},{"name":"CHeroSelectEvent","fields":[{"rule":"optional","type":"bool","name":"is_pick","id":1},{"rule":"optional","type":"uint32","name":"team","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3}]}]}]},{"name":"CDemoFileInfo","fields":[{"rule":"optional","type":"float","name":"playback_time","id":1},{"rule":"optional","type":"int32","name":"playback_ticks","id":2},{"rule":"optional","type":"int32","name":"playback_frames","id":3},{"rule":"optional","type":"CGameInfo","name":"game_info","id":4}]},{"name":"CDemoPacket","fields":[{"rule":"optional","type":"int32","name":"sequence_in","id":1},{"rule":"optional","type":"int32","name":"sequence_out_ack","id":2},{"rule":"optional","type":"bytes","name":"data","id":3}]},{"name":"CDemoFullPacket","fields":[{"rule":"optional","type":"CDemoStringTables","name":"string_table","id":1},{"rule":"optional","type":"CDemoPacket","name":"packet","id":2}]},{"name":"CDemoSaveGame","fields":[{"rule":"optional","type":"bytes","name":"data","id":1},{"rule":"optional","type":"fixed64","name":"steam_id","id":2},{"rule":"optional","type":"fixed64","name":"signature","id":3},{"rule":"optional","type":"int32","name":"version","id":4}]},{"name":"CDemoSyncTick","fields":[]},{"name":"CDemoConsoleCmd","fields":[{"rule":"optional","type":"string","name":"cmdstring","id":1}]},{"name":"CDemoSendTables","fields":[{"rule":"optional","type":"bytes","name":"data","id":1}]},{"name":"CDemoClassInfo","fields":[{"rule":"repeated","type":"class_t","name":"classes","id":1}],"messages":[{"name":"class_t","fields":[{"rule":"optional","type":"int32","name":"class_id","id":1},{"rule":"optional","type":"string","name":"network_name","id":2},{"rule":"optional","type":"string","name":"table_name","id":3}]}]},{"name":"CDemoCustomData","fields":[{"rule":"optional","type":"int32","name":"callback_index","id":1},{"rule":"optional","type":"bytes","name":"data","id":2}]},{"name":"CDemoCustomDataCallbacks","fields":[{"rule":"repeated","type":"string","name":"save_id","id":1}]},{"name":"CDemoStringTables","fields":[{"rule":"repeated","type":"table_t","name":"tables","id":1}],"messages":[{"name":"items_t","fields":[{"rule":"optional","type":"string","name":"str","id":1},{"rule":"optional","type":"bytes","name":"data","id":2}]},{"name":"table_t","fields":[{"rule":"optional","type":"string","name":"table_name","id":1},{"rule":"repeated","type":"items_t","name":"items","id":2},{"rule":"repeated","type":"items_t","name":"items_clientside","id":3},{"rule":"optional","type":"int32","name":"table_flags","id":4}]}]},{"name":"CDemoStop","fields":[]},{"name":"CDemoUserCmd","fields":[{"rule":"optional","type":"int32","name":"cmd_number","id":1},{"rule":"optional","type":"bytes","name":"data","id":2}]},{"name":"CDemoSpawnGroups","fields":[{"rule":"repeated","type":"bytes","name":"msgs","id":3}]},{"name":"CDOTABroadcastMsg","fields":[{"rule":"required","type":"EDotaBroadcastMessages","name":"type","id":1,"options":{"default":"DOTA_BM_LANLobbyRequest"}},{"rule":"optional","type":"bytes","name":"msg","id":2}]},{"name":"CDOTABroadcastMsg_LANLobbyRequest","fields":[]},{"name":"CDOTABroadcastMsg_LANLobbyReply","fields":[{"rule":"optional","type":"uint64","name":"id","id":1},{"rule":"optional","type":"uint32","name":"tournament_id","id":2},{"rule":"optional","type":"uint32","name":"tournament_game_id","id":3},{"rule":"repeated","type":"CLobbyMember","name":"members","id":4},{"rule":"optional","type":"bool","name":"requires_pass_key","id":5},{"rule":"optional","type":"uint32","name":"leader_account_id","id":6},{"rule":"optional","type":"uint32","name":"game_mode","id":7},{"rule":"optional","type":"string","name":"name","id":8},{"rule":"optional","type":"uint32","name":"players","id":9}],"messages":[{"name":"CLobbyMember","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"string","name":"player_name","id":2}]}]},{"name":"CDOTAMsg_LocationPing","fields":[{"rule":"optional","type":"int32","name":"x","id":1},{"rule":"optional","type":"int32","name":"y","id":2},{"rule":"optional","type":"int32","name":"target","id":3},{"rule":"optional","type":"bool","name":"direct_ping","id":4},{"rule":"optional","type":"int32","name":"type","id":5}]},{"name":"CDOTAMsg_ItemAlert","fields":[{"rule":"optional","type":"int32","name":"x","id":1},{"rule":"optional","type":"int32","name":"y","id":2},{"rule":"optional","type":"int32","name":"itemid","id":3}]},{"name":"CDOTAMsg_MapLine","fields":[{"rule":"optional","type":"int32","name":"x","id":1},{"rule":"optional","type":"int32","name":"y","id":2},{"rule":"optional","type":"bool","name":"initial","id":3}]},{"name":"CDOTAMsg_WorldLine","fields":[{"rule":"optional","type":"int32","name":"x","id":1},{"rule":"optional","type":"int32","name":"y","id":2},{"rule":"optional","type":"int32","name":"z","id":3},{"rule":"optional","type":"bool","name":"initial","id":4},{"rule":"optional","type":"bool","name":"end","id":5}]},{"name":"CDOTAMsg_SendStatPopup","fields":[{"rule":"optional","type":"EDOTAStatPopupTypes","name":"style","id":1,"options":{"default":"k_EDOTA_SPT_Textline"}},{"rule":"repeated","type":"string","name":"stat_strings","id":2},{"rule":"repeated","type":"int32","name":"stat_images","id":3}]},{"name":"CDOTAMsg_CoachHUDPing","fields":[{"rule":"optional","type":"uint32","name":"x","id":1},{"rule":"optional","type":"uint32","name":"y","id":2},{"rule":"optional","type":"string","name":"tgtpath","id":3}]},{"name":"CDOTAClientMsg_MapPing","fields":[{"rule":"optional","type":"CDOTAMsg_LocationPing","name":"location_ping","id":1}]},{"name":"CDOTAClientMsg_ItemAlert","fields":[{"rule":"optional","type":"CDOTAMsg_ItemAlert","name":"item_alert","id":1}]},{"name":"CDOTAClientMsg_EnemyItemAlert","fields":[{"rule":"optional","type":"uint32","name":"item_entindex","id":1}]},{"name":"CDOTAClientMsg_ModifierAlert","fields":[{"rule":"optional","type":"int32","name":"buff_internal_index","id":1},{"rule":"optional","type":"uint32","name":"target_entindex","id":2}]},{"name":"CDOTAClientMsg_ClickedBuff","fields":[{"rule":"optional","type":"int32","name":"buff_internal_index","id":1},{"rule":"optional","type":"uint32","name":"target_entindex","id":2}]},{"name":"CDOTAClientMsg_HPManaAlert","fields":[{"rule":"optional","type":"uint32","name":"target_entindex","id":1}]},{"name":"CDOTAClientMsg_GlyphAlert","fields":[{"rule":"optional","type":"bool","name":"negative","id":1}]},{"name":"CDOTAClientMsg_MapLine","fields":[{"rule":"optional","type":"CDOTAMsg_MapLine","name":"mapline","id":1}]},{"name":"CDOTAClientMsg_AspectRatio","fields":[{"rule":"optional","type":"float","name":"ratio","id":1}]},{"name":"CDOTAClientMsg_UnitsAutoAttack","fields":[{"rule":"optional","type":"bool","name":"enabled","id":1}]},{"name":"CDOTAClientMsg_UnitsAutoAttackAfterSpell","fields":[{"rule":"optional","type":"bool","name":"enabled","id":1}]},{"name":"CDOTAClientMsg_TeleportRequiresHalt","fields":[{"rule":"optional","type":"bool","name":"enabled","id":1}]},{"name":"CDOTAClientMsg_AutoPurchaseItems","fields":[{"rule":"optional","type":"bool","name":"enabled","id":1}]},{"name":"CDOTAClientMsg_TestItems","fields":[{"rule":"optional","type":"string","name":"key_values","id":1}]},{"name":"CDOTAClientMsg_SearchString","fields":[{"rule":"optional","type":"string","name":"search","id":1}]},{"name":"CDOTAClientMsg_Pause","fields":[]},{"name":"CDOTAClientMsg_ShopViewMode","fields":[{"rule":"optional","type":"uint32","name":"mode","id":1}]},{"name":"CDOTAClientMsg_SetUnitShareFlag","fields":[{"rule":"optional","type":"uint32","name":"playerID","id":1},{"rule":"optional","type":"uint32","name":"flag","id":2},{"rule":"optional","type":"bool","name":"state","id":3}]},{"name":"CDOTAClientMsg_SwapRequest","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1}]},{"name":"CDOTAClientMsg_SwapAccept","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1}]},{"name":"CDOTAClientMsg_WorldLine","fields":[{"rule":"optional","type":"CDOTAMsg_WorldLine","name":"worldline","id":1}]},{"name":"CDOTAClientMsg_RequestGraphUpdate","fields":[]},{"name":"CDOTAClientMsg_ChatWheel","fields":[{"rule":"optional","type":"EDOTAChatWheelMessage","name":"chat_message","id":1,"options":{"default":"k_EDOTA_CW_Ok"}},{"rule":"optional","type":"uint32","name":"param_hero_id","id":2}]},{"name":"CDOTAClientMsg_SendStatPopup","fields":[{"rule":"optional","type":"CDOTAMsg_SendStatPopup","name":"statpopup","id":1}]},{"name":"CDOTAClientMsg_BeginLastHitChallenge","fields":[{"rule":"optional","type":"uint32","name":"chosen_lane","id":1},{"rule":"optional","type":"bool","name":"helper_enabled","id":2}]},{"name":"CDOTAClientMsg_UpdateQuickBuyItem","fields":[{"rule":"optional","type":"int32","name":"item_type","id":1},{"rule":"optional","type":"bool","name":"purchasable","id":2}]},{"name":"CDOTAClientMsg_UpdateQuickBuy","fields":[{"rule":"repeated","type":"CDOTAClientMsg_UpdateQuickBuyItem","name":"items","id":1}]},{"name":"CDOTAClientMsg_UpdateCoachListen","fields":[{"rule":"optional","type":"uint32","name":"player_mask","id":1}]},{"name":"CDOTAClientMsg_CoachHUDPing","fields":[{"rule":"optional","type":"CDOTAMsg_CoachHUDPing","name":"hud_ping","id":1}]},{"name":"CDOTAClientMsg_RecordVote","fields":[{"rule":"optional","type":"int32","name":"choice_index","id":1}]},{"name":"CDOTAClientMsg_WillPurchaseAlert","fields":[{"rule":"optional","type":"int32","name":"itemid","id":1},{"rule":"optional","type":"uint32","name":"gold_remaining","id":2}]},{"name":"CDOTAClientMsg_BuyBackStateAlert","fields":[]},{"name":"CDOTAClientMsg_QuickBuyAlert","fields":[{"rule":"optional","type":"int32","name":"itemid","id":1},{"rule":"optional","type":"int32","name":"gold_required","id":2}]},{"name":"CDOTAClientMsg_PlayerShowCase","fields":[{"rule":"optional","type":"bool","name":"showcase","id":1}]},{"name":"CDOTAClientMsg_CameraZoomAmount","fields":[{"rule":"optional","type":"float","name":"zoom_amount","id":1}]},{"name":"CDOTAClientMsg_BroadcasterUsingCameraman","fields":[{"rule":"optional","type":"bool","name":"cameraman","id":1}]},{"name":"CDOTAClientMsg_BroadcasterUsingAssistedCameraOperator","fields":[{"rule":"optional","type":"bool","name":"enabled","id":1}]},{"name":"CAdditionalEquipSlotClientMsg","fields":[{"rule":"optional","type":"uint32","name":"class_id","id":1},{"rule":"optional","type":"uint32","name":"slot_id","id":2},{"rule":"optional","type":"uint32","name":"def_index","id":3}]},{"name":"CDOTAClientMsg_FreeInventory","fields":[{"rule":"repeated","type":"CAdditionalEquipSlotClientMsg","name":"equips","id":1}]},{"name":"CDOTAClientMsg_FillEmptySlotsWithBots","fields":[{"rule":"optional","type":"bool","name":"fillwithbots","id":1}]},{"name":"CDOTAClientMsg_HeroStatueLike","fields":[{"rule":"optional","type":"uint32","name":"owner_player_id","id":1}]},{"name":"CDOTAClientMsg_TeamShowcaseEditor","fields":[{"rule":"optional","type":"bytes","name":"data","id":1}]},{"name":"CDOTAClientMsg_TeamShowcaseClientData","fields":[{"rule":"optional","type":"bytes","name":"data","id":1}]},{"name":"CDOTAClientMsg_PlayTeamShowcase","fields":[]},{"name":"CDOTAClientMsg_EventCNY2015Cmd","fields":[{"rule":"optional","type":"bytes","name":"data","id":1}]},{"name":"CDOTAClientMsg_DemoHero","fields":[{"rule":"optional","type":"int32","name":"hero_id","id":1},{"rule":"optional","type":"int32","name":"hero_id_to_spawn","id":2},{"rule":"repeated","type":"uint32","name":"item_defs","id":3},{"rule":"repeated","type":"uint64","name":"item_ids","id":4},{"rule":"optional","type":"uint32","name":"style_index","id":5}]},{"name":"CDOTAClientMsg_ChallengeSelect","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"optional","type":"uint32","name":"slot_id","id":2},{"rule":"optional","type":"uint32","name":"sequence_id","id":3}]},{"name":"CDOTAClientMsg_ChallengeReroll","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"optional","type":"uint32","name":"slot_id","id":2},{"rule":"optional","type":"uint32","name":"sequence_id","id":3}]},{"name":"CMsgSHA1Digest","fields":[{"rule":"required","type":"fixed64","name":"block1","id":1},{"rule":"required","type":"fixed64","name":"block2","id":2},{"rule":"required","type":"fixed32","name":"block3","id":3}]},{"name":"CMsgSOIDOwner","fields":[{"rule":"optional","type":"uint32","name":"type","id":1},{"rule":"optional","type":"uint64","name":"id","id":2}]},{"name":"CMsgSOSingleObject","fields":[{"rule":"optional","type":"int32","name":"type_id","id":2},{"rule":"optional","type":"bytes","name":"object_data","id":3},{"rule":"optional","type":"fixed64","name":"version","id":4},{"rule":"optional","type":"CMsgSOIDOwner","name":"owner_soid","id":5},{"rule":"optional","type":"uint32","name":"service_id","id":6}]},{"name":"CMsgSOMultipleObjects","fields":[{"rule":"repeated","type":"SingleObject","name":"objects_modified","id":2},{"rule":"optional","type":"fixed64","name":"version","id":3},{"rule":"repeated","type":"SingleObject","name":"objects_added","id":4},{"rule":"repeated","type":"SingleObject","name":"objects_removed","id":5},{"rule":"optional","type":"CMsgSOIDOwner","name":"owner_soid","id":6},{"rule":"optional","type":"uint32","name":"service_id","id":7}],"messages":[{"name":"SingleObject","options":{"(msgpool_soft_limit)":256,"(msgpool_hard_limit)":1024},"fields":[{"rule":"optional","type":"int32","name":"type_id","id":1},{"rule":"optional","type":"bytes","name":"object_data","id":2}]}]},{"name":"CMsgSOCacheSubscribed","fields":[{"rule":"repeated","type":"SubscribedType","name":"objects","id":2},{"rule":"optional","type":"fixed64","name":"version","id":3},{"rule":"optional","type":"CMsgSOIDOwner","name":"owner_soid","id":4},{"rule":"optional","type":"uint32","name":"service_id","id":5},{"rule":"repeated","type":"uint32","name":"service_list","id":6},{"rule":"optional","type":"fixed64","name":"sync_version","id":7}],"messages":[{"name":"SubscribedType","fields":[{"rule":"optional","type":"int32","name":"type_id","id":1},{"rule":"repeated","type":"bytes","name":"object_data","id":2}]}]},{"name":"CMsgSOCacheSubscribedUpToDate","fields":[{"rule":"optional","type":"fixed64","name":"version","id":1},{"rule":"optional","type":"CMsgSOIDOwner","name":"owner_soid","id":2},{"rule":"optional","type":"uint32","name":"service_id","id":3},{"rule":"repeated","type":"uint32","name":"service_list","id":4},{"rule":"optional","type":"fixed64","name":"sync_version","id":5}]},{"name":"CMsgSOCacheUnsubscribed","fields":[{"rule":"optional","type":"CMsgSOIDOwner","name":"owner_soid","id":2}]},{"name":"CMsgSOCacheSubscriptionCheck","fields":[{"rule":"optional","type":"fixed64","name":"version","id":2},{"rule":"optional","type":"CMsgSOIDOwner","name":"owner_soid","id":3},{"rule":"optional","type":"uint32","name":"service_id","id":4},{"rule":"repeated","type":"uint32","name":"service_list","id":5},{"rule":"optional","type":"fixed64","name":"sync_version","id":6}]},{"name":"CMsgSOCacheSubscriptionRefresh","fields":[{"rule":"optional","type":"CMsgSOIDOwner","name":"owner_soid","id":2}]},{"name":"CMsgSOCacheVersion","fields":[{"rule":"optional","type":"fixed64","name":"version","id":1}]},{"name":"CMsgGCMultiplexMessage","fields":[{"rule":"optional","type":"uint32","name":"msgtype","id":1},{"rule":"optional","type":"bytes","name":"payload","id":2},{"rule":"repeated","type":"fixed64","name":"steamids","id":3}]},{"name":"CGCToGCMsgMasterAck","fields":[{"rule":"optional","type":"uint32","name":"dir_index","id":1},{"rule":"optional","type":"string","name":"machine_name","id":3},{"rule":"optional","type":"string","name":"process_name","id":4},{"rule":"repeated","type":"Process","name":"directory","id":6}],"messages":[{"name":"Process","fields":[{"rule":"optional","type":"uint32","name":"dir_index","id":1},{"rule":"repeated","type":"uint32","name":"type_instances","id":2}]}]},{"name":"CGCToGCMsgMasterAck_Response","fields":[{"rule":"optional","type":"int32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CGCToGCMsgMasterStartupComplete","fields":[{"rule":"repeated","type":"GCInfo","name":"gc_info","id":1}],"messages":[{"name":"GCInfo","fields":[{"rule":"optional","type":"uint32","name":"dir_index","id":1},{"rule":"optional","type":"string","name":"machine_name","id":2}]}]},{"name":"CGCToGCMsgRouted","fields":[{"rule":"optional","type":"uint32","name":"msg_type","id":1},{"rule":"optional","type":"fixed64","name":"sender_id","id":2},{"rule":"optional","type":"bytes","name":"net_message","id":3}]},{"name":"CGCToGCMsgRoutedReply","fields":[{"rule":"optional","type":"uint32","name":"msg_type","id":1},{"rule":"optional","type":"bytes","name":"net_message","id":2}]},{"name":"CMsgGCUpdateSubGCSessionInfo","fields":[{"rule":"repeated","type":"CMsgUpdate","name":"updates","id":1}],"messages":[{"name":"CMsgUpdate","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1},{"rule":"optional","type":"fixed32","name":"ip","id":2},{"rule":"optional","type":"bool","name":"trusted","id":3}]}]},{"name":"CMsgGCRequestSubGCSessionInfo","fields":[{"rule":"optional","type":"fixed64","name":"steamid","id":1}]},{"name":"CMsgGCRequestSubGCSessionInfoResponse","fields":[{"rule":"optional","type":"fixed32","name":"ip","id":1},{"rule":"optional","type":"bool","name":"trusted","id":2}]},{"name":"CMsgSOCacheHaveVersion","fields":[{"rule":"optional","type":"CMsgSOIDOwner","name":"soid","id":1},{"rule":"optional","type":"fixed64","name":"version","id":2},{"rule":"optional","type":"uint32","name":"service_id","id":3},{"rule":"optional","type":"uint32","name":"cached_file_version","id":4}]},{"name":"CMsgClientHello","fields":[{"rule":"optional","type":"uint32","name":"version","id":1},{"rule":"repeated","type":"CMsgSOCacheHaveVersion","name":"socache_have_versions","id":2},{"rule":"optional","type":"uint32","name":"client_session_need","id":3},{"rule":"optional","type":"PartnerAccountType","name":"client_launcher","id":4,"options":{"default":"PARTNER_NONE"}},{"rule":"optional","type":"string","name":"secret_key","id":5},{"rule":"optional","type":"uint32","name":"client_language","id":6},{"rule":"optional","type":"ESourceEngine","name":"engine","id":7,"options":{"default":"k_ESE_Source1"}}]},{"name":"CMsgClientWelcome","fields":[{"rule":"optional","type":"uint32","name":"version","id":1},{"rule":"optional","type":"bytes","name":"game_data","id":2},{"rule":"repeated","type":"CMsgSOCacheSubscribed","name":"outofdate_subscribed_caches","id":3},{"rule":"repeated","type":"CMsgSOCacheSubscriptionCheck","name":"uptodate_subscribed_caches","id":4},{"rule":"optional","type":"Location","name":"location","id":5},{"rule":"optional","type":"bytes","name":"save_game_key","id":6}],"messages":[{"name":"Location","fields":[{"rule":"optional","type":"float","name":"latitude","id":1},{"rule":"optional","type":"float","name":"longitude","id":2},{"rule":"optional","type":"string","name":"country","id":3}]}]},{"name":"CMsgConnectionStatus","fields":[{"rule":"optional","type":"GCConnectionStatus","name":"status","id":1,"options":{"default":"GCConnectionStatus_HAVE_SESSION"}},{"rule":"optional","type":"uint32","name":"client_session_need","id":2},{"rule":"optional","type":"int32","name":"queue_position","id":3},{"rule":"optional","type":"int32","name":"queue_size","id":4},{"rule":"optional","type":"int32","name":"wait_seconds","id":5},{"rule":"optional","type":"int32","name":"estimated_wait_seconds_remaining","id":6}]},{"name":"CMsgGCToGCSOCacheSubscribe","fields":[{"rule":"optional","type":"fixed64","name":"subscriber","id":1},{"rule":"optional","type":"fixed64","name":"subscribe_to","id":2},{"rule":"optional","type":"fixed64","name":"sync_version","id":3},{"rule":"repeated","type":"CMsgHaveVersions","name":"have_versions","id":4}],"messages":[{"name":"CMsgHaveVersions","fields":[{"rule":"optional","type":"uint32","name":"service_id","id":1},{"rule":"optional","type":"uint64","name":"version","id":2}]}]},{"name":"CMsgGCToGCSOCacheUnsubscribe","fields":[{"rule":"optional","type":"fixed64","name":"subscriber","id":1},{"rule":"optional","type":"fixed64","name":"unsubscribe_from","id":2}]},{"name":"CMsgGCClientPing","fields":[]},{"name":"CMsgGCToGCLoadSessionSOCache","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgGCToGCLoadSessionSOCacheResponse","fields":[]},{"name":"CMsgGCToGCUpdateSessionStats","fields":[{"rule":"optional","type":"uint32","name":"user_sessions","id":1},{"rule":"optional","type":"uint32","name":"server_sessions","id":2},{"rule":"optional","type":"bool","name":"in_logon_surge","id":3}]},{"name":"CWorkshop_PopulateItemDescriptions_Request","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1},{"rule":"repeated","type":"ItemDescriptionsLanguageBlock","name":"languages","id":2}],"messages":[{"name":"SingleItemDescription","fields":[{"rule":"optional","type":"uint32","name":"gameitemid","id":1},{"rule":"optional","type":"string","name":"item_description","id":2}]},{"name":"ItemDescriptionsLanguageBlock","fields":[{"rule":"optional","type":"string","name":"language","id":1},{"rule":"repeated","type":"SingleItemDescription","name":"descriptions","id":2}]}]},{"name":"CWorkshop_GetContributors_Request","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1},{"rule":"optional","type":"uint32","name":"gameitemid","id":2}]},{"name":"CWorkshop_GetContributors_Response","fields":[{"rule":"repeated","type":"fixed64","name":"contributors","id":1}]},{"name":"CWorkshop_SetItemPaymentRules_Request","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1},{"rule":"optional","type":"uint32","name":"gameitemid","id":2},{"rule":"repeated","type":"WorkshopItemPaymentRule","name":"associated_workshop_files","id":3},{"rule":"repeated","type":"PartnerItemPaymentRule","name":"partner_accounts","id":4}],"messages":[{"name":"WorkshopItemPaymentRule","fields":[{"rule":"optional","type":"uint64","name":"workshop_file_id","id":1},{"rule":"optional","type":"float","name":"revenue_percentage","id":2},{"rule":"optional","type":"string","name":"rule_description","id":3}]},{"name":"PartnerItemPaymentRule","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"float","name":"revenue_percentage","id":2},{"rule":"optional","type":"string","name":"rule_description","id":3}]}]},{"name":"CWorkshop_SetItemPaymentRules_Response","fields":[]},{"name":"CBroadcast_PostGameDataFrame_Request","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1},{"rule":"optional","type":"fixed64","name":"steamid","id":2},{"rule":"optional","type":"fixed64","name":"broadcast_id","id":3},{"rule":"optional","type":"bytes","name":"frame_data","id":4}]},{"name":"CSODOTAGameAccountClient","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"wins","id":3},{"rule":"optional","type":"uint32","name":"losses","id":4},{"rule":"optional","type":"uint32","name":"xp","id":12},{"rule":"optional","type":"uint32","name":"level","id":13},{"rule":"optional","type":"uint32","name":"initial_skill","id":14},{"rule":"optional","type":"uint32","name":"leaver_count","id":15},{"rule":"optional","type":"uint32","name":"secondary_leaver_count","id":58},{"rule":"optional","type":"uint32","name":"low_priority_until_date","id":18},{"rule":"optional","type":"uint32","name":"prevent_text_chat_until_date","id":20},{"rule":"optional","type":"uint32","name":"prevent_voice_until_date","id":21},{"rule":"optional","type":"uint32","name":"last_abandoned_game_date","id":22},{"rule":"optional","type":"uint32","name":"last_secondary_abandoned_game_date","id":59},{"rule":"optional","type":"uint32","name":"leaver_penalty_count","id":23},{"rule":"optional","type":"uint32","name":"completed_game_streak","id":24},{"rule":"optional","type":"uint32","name":"teaching","id":28},{"rule":"optional","type":"uint32","name":"leadership","id":29},{"rule":"optional","type":"uint32","name":"friendly","id":30},{"rule":"optional","type":"uint32","name":"forgiving","id":31},{"rule":"optional","type":"uint32","name":"account_disabled_until_date","id":38},{"rule":"optional","type":"uint32","name":"account_disabled_count","id":39},{"rule":"optional","type":"uint32","name":"showcase_hero_id","id":40},{"rule":"optional","type":"uint32","name":"match_disabled_until_date","id":41},{"rule":"optional","type":"uint32","name":"match_disabled_count","id":42},{"rule":"optional","type":"PartnerAccountType","name":"partner_account_type","id":44,"options":{"default":"PARTNER_NONE"}},{"rule":"optional","type":"uint32","name":"partner_account_state","id":45},{"rule":"optional","type":"uint32","name":"shutdownlawterminatetimestamp","id":47},{"rule":"optional","type":"uint32","name":"low_priority_games_remaining","id":48},{"rule":"optional","type":"uint32","name":"competitive_rank","id":49},{"rule":"optional","type":"uint32","name":"calibration_games_remaining","id":51},{"rule":"optional","type":"uint32","name":"solo_competitive_rank","id":52},{"rule":"optional","type":"uint32","name":"solo_calibration_games_remaining","id":54},{"rule":"optional","type":"uint32","name":"competitive_1v1_rank","id":63},{"rule":"optional","type":"uint32","name":"competitive_1v1_calibration_games_remaining","id":64},{"rule":"optional","type":"uint32","name":"recruitment_level","id":55},{"rule":"optional","type":"bool","name":"has_new_notifications","id":56},{"rule":"optional","type":"bool","name":"is_league_admin","id":57},{"rule":"optional","type":"uint32","name":"casual_games_played","id":60},{"rule":"optional","type":"uint32","name":"solo_competitive_games_played","id":61},{"rule":"optional","type":"uint32","name":"party_competitive_games_played","id":62},{"rule":"optional","type":"uint32","name":"casual_1v1_games_played","id":65},{"rule":"optional","type":"uint32","name":"competitive_team_games_played","id":66},{"rule":"optional","type":"uint32","name":"curr_all_hero_challenge_id","id":67}]},{"name":"CSODOTAPartyMember","fields":[{"rule":"optional","type":"PartnerAccountType","name":"partner_type","id":1,"options":{"default":"PARTNER_NONE"}},{"rule":"optional","type":"bool","name":"is_coach","id":2}]},{"name":"CSODOTAParty","fields":[{"rule":"optional","type":"uint64","name":"party_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"fixed64","name":"leader_id","id":2},{"rule":"repeated","type":"fixed64","name":"member_ids","id":3},{"rule":"optional","type":"uint32","name":"game_modes","id":4},{"rule":"optional","type":"State","name":"state","id":6,"options":{"default":"UI"}},{"rule":"optional","type":"uint32","name":"effective_started_matchmaking_time","id":7},{"rule":"optional","type":"uint32","name":"raw_started_matchmaking_time","id":32},{"rule":"optional","type":"uint32","name":"attempt_start_time","id":33},{"rule":"optional","type":"uint32","name":"attempt_num","id":34},{"rule":"optional","type":"uint32","name":"matchgroups","id":11},{"rule":"optional","type":"uint32","name":"low_priority_account_id","id":19},{"rule":"optional","type":"MatchType","name":"match_type","id":21,"options":{"default":"MATCH_TYPE_CASUAL"}},{"rule":"optional","type":"DOTABotDifficulty","name":"bot_difficulty","id":22,"options":{"default":"BOT_DIFFICULTY_PASSIVE"}},{"rule":"optional","type":"uint32","name":"team_id","id":23},{"rule":"optional","type":"uint32","name":"match_disabled_until_date","id":24},{"rule":"optional","type":"uint32","name":"match_disabled_account_id","id":25},{"rule":"optional","type":"uint32","name":"matchmaking_max_range_minutes","id":26},{"rule":"optional","type":"uint32","name":"matchlanguages","id":27},{"rule":"optional","type":"uint32","name":"map_preference","id":38},{"rule":"repeated","type":"CSODOTAPartyMember","name":"members","id":29},{"rule":"optional","type":"uint32","name":"open_guild_id","id":30},{"rule":"repeated","type":"uint32","name":"common_guilds","id":31},{"rule":"optional","type":"uint32","name":"low_priority_games_remaining","id":35},{"rule":"optional","type":"uint32","name":"min_level","id":36},{"rule":"optional","type":"uint32","name":"max_level","id":37},{"rule":"repeated","type":"EIngameEvent","name":"active_ingame_events","id":39},{"rule":"optional","type":"bool","name":"open_for_join_requests","id":40},{"rule":"repeated","type":"CSODOTAPartyInvite","name":"sent_invites","id":41},{"rule":"repeated","type":"CSODOTAPartyInvite","name":"recv_invites","id":42}],"enums":[{"name":"State","values":[{"name":"UI","id":0},{"name":"FINDING_MATCH","id":1},{"name":"IN_MATCH","id":2}]}]},{"name":"CSODOTAPartyInvite","fields":[{"rule":"optional","type":"uint64","name":"group_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"fixed64","name":"sender_id","id":2},{"rule":"optional","type":"string","name":"sender_name","id":3},{"rule":"repeated","type":"PartyMember","name":"members","id":4},{"rule":"optional","type":"uint32","name":"team_id","id":5},{"rule":"optional","type":"bool","name":"low_priority_status","id":6},{"rule":"optional","type":"bool","name":"as_coach","id":7},{"rule":"optional","type":"fixed64","name":"invite_gid","id":8},{"rule":"optional","type":"uint32","name":"engine","id":9}],"messages":[{"name":"PartyMember","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"fixed64","name":"steam_id","id":2},{"rule":"optional","type":"bool","name":"is_coach","id":4}]}]},{"name":"CSODOTALobbyInvite","fields":[{"rule":"optional","type":"uint64","name":"group_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"fixed64","name":"sender_id","id":2},{"rule":"optional","type":"string","name":"sender_name","id":3},{"rule":"repeated","type":"LobbyMember","name":"members","id":4},{"rule":"optional","type":"uint64","name":"custom_game_id","id":5},{"rule":"optional","type":"fixed64","name":"invite_gid","id":6},{"rule":"optional","type":"fixed64","name":"custom_game_crc","id":7},{"rule":"optional","type":"fixed32","name":"custom_game_timestamp","id":8}],"messages":[{"name":"LobbyMember","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"fixed64","name":"steam_id","id":2}]}]},{"name":"CDOTAClientHardwareSpecs","fields":[{"rule":"optional","type":"uint32","name":"logical_processors","id":1},{"rule":"optional","type":"fixed64","name":"cpu_cycles_per_second","id":2},{"rule":"optional","type":"fixed64","name":"total_physical_memory","id":3},{"rule":"optional","type":"bool","name":"is_64_bit_os","id":4},{"rule":"optional","type":"uint64","name":"upload_measurement","id":5},{"rule":"optional","type":"bool","name":"prefer_not_host","id":6}]},{"name":"CDOTASaveGame","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":5},{"rule":"optional","type":"uint32","name":"save_time","id":2},{"rule":"repeated","type":"Player","name":"players","id":3},{"rule":"repeated","type":"SaveInstance","name":"save_instances","id":4}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"DOTA_GC_TEAM","name":"team","id":1,"options":{"default":"DOTA_GC_TEAM_GOOD_GUYS"}},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"string","name":"hero","id":3}]},{"name":"SaveInstance","fields":[{"rule":"optional","type":"uint32","name":"game_time","id":2},{"rule":"optional","type":"uint32","name":"team1_score","id":3},{"rule":"optional","type":"uint32","name":"team2_score","id":4},{"rule":"repeated","type":"PlayerPositions","name":"player_positions","id":5},{"rule":"optional","type":"uint32","name":"save_id","id":6},{"rule":"optional","type":"uint32","name":"save_time","id":7}],"messages":[{"name":"PlayerPositions","fields":[{"rule":"optional","type":"float","name":"x","id":1},{"rule":"optional","type":"float","name":"y","id":2}]}]}]},{"name":"CMsgLeaverState","fields":[{"rule":"optional","type":"uint32","name":"lobby_state","id":1},{"rule":"optional","type":"DOTA_GameState","name":"game_state","id":2,"options":{"default":"DOTA_GAMERULES_STATE_INIT"}},{"rule":"optional","type":"bool","name":"leaver_detected","id":3},{"rule":"optional","type":"bool","name":"first_blood_happened","id":4},{"rule":"optional","type":"bool","name":"discard_match_results","id":5},{"rule":"optional","type":"bool","name":"mass_disconnect","id":6}]},{"name":"CDOTALobbyMember","fields":[{"rule":"optional","type":"fixed64","name":"id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"hero_id","id":2},{"rule":"optional","type":"DOTA_GC_TEAM","name":"team","id":3,"options":{"default":"DOTA_GC_TEAM_GOOD_GUYS"}},{"rule":"optional","type":"string","name":"name","id":6},{"rule":"optional","type":"uint32","name":"slot","id":7},{"rule":"optional","type":"uint64","name":"party_id","id":12},{"rule":"optional","type":"uint32","name":"meta_level","id":13},{"rule":"optional","type":"uint32","name":"meta_xp","id":14},{"rule":"optional","type":"uint32","name":"meta_xp_awarded","id":15},{"rule":"optional","type":"DOTALeaverStatus_t","name":"leaver_status","id":16,"options":{"default":"DOTA_LEAVER_NONE"}},{"rule":"optional","type":"uint32","name":"leaver_actions","id":28},{"rule":"optional","type":"uint32","name":"channel","id":17},{"rule":"optional","type":"uint32","name":"prize_def_index","id":18},{"rule":"repeated","type":"uint32","name":"disabled_hero_id","id":20},{"rule":"optional","type":"PartnerAccountType","name":"partner_account_type","id":21,"options":{"default":"PARTNER_NONE"}},{"rule":"repeated","type":"uint32","name":"enabled_hero_id","id":22},{"rule":"optional","type":"DOTA_GC_TEAM","name":"coach_team","id":23,"options":{"default":"DOTA_GC_TEAM_GOOD_GUYS"}},{"rule":"optional","type":"uint32","name":"nexon_pc_bang_no","id":24},{"rule":"optional","type":"string","name":"nexon_pc_bang_name","id":25},{"rule":"repeated","type":"CDOTALobbyMemberXPBonus","name":"xp_bonuses","id":27},{"rule":"optional","type":"sint32","name":"rank_change","id":29},{"rule":"optional","type":"bool","name":"cameraman","id":30},{"rule":"repeated","type":"uint32","name":"custom_game_product_ids","id":31}],"messages":[{"name":"CDOTALobbyMemberXPBonus","fields":[{"rule":"optional","type":"uint32","name":"type","id":1},{"rule":"optional","type":"float","name":"xp_bonus","id":2},{"rule":"optional","type":"uint64","name":"source_key","id":3}]}]},{"name":"CLobbyTeamDetails","fields":[{"rule":"optional","type":"string","name":"team_name","id":1},{"rule":"optional","type":"string","name":"team_tag","id":3},{"rule":"optional","type":"uint32","name":"team_id","id":4},{"rule":"optional","type":"uint64","name":"team_logo","id":5},{"rule":"optional","type":"uint64","name":"team_base_logo","id":6},{"rule":"optional","type":"uint64","name":"team_banner_logo","id":7},{"rule":"optional","type":"bool","name":"team_complete","id":8},{"rule":"optional","type":"string","name":"guild_name","id":9},{"rule":"optional","type":"string","name":"guild_tag","id":10},{"rule":"optional","type":"uint32","name":"guild_id","id":11},{"rule":"optional","type":"uint64","name":"guild_logo","id":12},{"rule":"optional","type":"uint64","name":"guild_base_logo","id":13},{"rule":"optional","type":"uint64","name":"guild_banner_logo","id":14},{"rule":"optional","type":"uint32","name":"rank","id":15},{"rule":"optional","type":"sint32","name":"rank_change","id":16}]},{"name":"CLobbyTimedRewardDetails","fields":[{"rule":"optional","type":"uint32","name":"item_def_index","id":2},{"rule":"optional","type":"bool","name":"is_supply_crate","id":3},{"rule":"optional","type":"bool","name":"is_timed_drop","id":4},{"rule":"optional","type":"uint32","name":"account_id","id":5},{"rule":"optional","type":"uint32","name":"origin","id":6}]},{"name":"CLobbyBroadcastChannelInfo","fields":[{"rule":"optional","type":"uint32","name":"channel_id","id":1},{"rule":"optional","type":"string","name":"country_code","id":2},{"rule":"optional","type":"string","name":"description","id":3},{"rule":"optional","type":"string","name":"language_code","id":4}]},{"name":"CSODOTALobby","fields":[{"rule":"optional","type":"uint64","name":"lobby_id","id":1,"options":{"(key_field)":true}},{"rule":"repeated","type":"CDOTALobbyMember","name":"members","id":2},{"rule":"repeated","type":"CDOTALobbyMember","name":"left_members","id":7},{"rule":"optional","type":"fixed64","name":"leader_id","id":11},{"rule":"optional","type":"fixed64","name":"server_id","id":6,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"game_mode","id":3},{"rule":"repeated","type":"fixed64","name":"pending_invites","id":10},{"rule":"optional","type":"State","name":"state","id":4,"options":{"default":"UI"}},{"rule":"optional","type":"string","name":"connect","id":5},{"rule":"optional","type":"LobbyType","name":"lobby_type","id":12,"options":{"default":"INVALID"}},{"rule":"optional","type":"bool","name":"allow_cheats","id":13},{"rule":"optional","type":"bool","name":"fill_with_bots","id":14},{"rule":"optional","type":"bool","name":"intro_mode","id":15},{"rule":"optional","type":"string","name":"game_name","id":16},{"rule":"repeated","type":"CLobbyTeamDetails","name":"team_details","id":17},{"rule":"optional","type":"uint32","name":"tutorial_lesson","id":18},{"rule":"optional","type":"uint32","name":"tournament_id","id":19},{"rule":"optional","type":"uint32","name":"tournament_game_id","id":20},{"rule":"optional","type":"uint32","name":"server_region","id":21,"options":{"default":0}},{"rule":"optional","type":"DOTA_GameState","name":"game_state","id":22,"options":{"default":"DOTA_GAMERULES_STATE_INIT"}},{"rule":"optional","type":"uint32","name":"num_spectators","id":23},{"rule":"optional","type":"uint32","name":"matchgroup","id":25},{"rule":"optional","type":"DOTA_CM_PICK","name":"cm_pick","id":28,"options":{"default":"DOTA_CM_RANDOM"}},{"rule":"optional","type":"uint64","name":"match_id","id":30},{"rule":"optional","type":"bool","name":"allow_spectating","id":31,"options":{"default":true}},{"rule":"optional","type":"DOTABotDifficulty","name":"bot_difficulty","id":36,"options":{"default":"BOT_DIFFICULTY_HARD"}},{"rule":"optional","type":"DOTAGameVersion","name":"game_version","id":37,"options":{"default":"GAME_VERSION_CURRENT"}},{"rule":"repeated","type":"CLobbyTimedRewardDetails","name":"timed_reward_details","id":38},{"rule":"optional","type":"string","name":"pass_key","id":39},{"rule":"repeated","type":"DOTABotDifficulty","name":"bot_slot_difficulty","id":41},{"rule":"optional","type":"uint32","name":"leagueid","id":42},{"rule":"optional","type":"uint32","name":"penalty_level_radiant","id":43,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"penalty_level_dire","id":44,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"load_game_id","id":45},{"rule":"optional","type":"uint32","name":"series_type","id":46},{"rule":"optional","type":"uint32","name":"radiant_series_wins","id":47},{"rule":"optional","type":"uint32","name":"dire_series_wins","id":48},{"rule":"optional","type":"uint32","name":"loot_generated","id":49},{"rule":"optional","type":"uint32","name":"loot_awarded","id":50},{"rule":"optional","type":"bool","name":"allchat","id":51,"options":{"default":false}},{"rule":"optional","type":"LobbyDotaTVDelay","name":"dota_tv_delay","id":53,"options":{"default":"LobbyDotaTV_10"}},{"rule":"optional","type":"string","name":"custom_game_mode","id":54},{"rule":"optional","type":"string","name":"custom_map_name","id":55},{"rule":"optional","type":"uint32","name":"custom_difficulty","id":56},{"rule":"optional","type":"bool","name":"lan","id":57},{"rule":"repeated","type":"CLobbyBroadcastChannelInfo","name":"broadcast_channel_info","id":58},{"rule":"optional","type":"uint32","name":"first_leaver_accountid","id":59},{"rule":"optional","type":"uint32","name":"series_id","id":60},{"rule":"optional","type":"bool","name":"low_priority","id":61},{"rule":"repeated","type":"CExtraMsg","name":"extra_messages","id":62},{"rule":"optional","type":"CDOTASaveGame","name":"save_game","id":63},{"rule":"optional","type":"bool","name":"first_blood_happened","id":65},{"rule":"optional","type":"EMatchOutcome","name":"match_outcome","id":70,"options":{"default":"k_EMatchOutcome_Unknown"}},{"rule":"optional","type":"bool","name":"mass_disconnect","id":67},{"rule":"optional","type":"uint64","name":"custom_game_id","id":68},{"rule":"repeated","type":"EIngameEvent","name":"active_ingame_events","id":69},{"rule":"optional","type":"uint32","name":"custom_min_players","id":71},{"rule":"optional","type":"uint32","name":"custom_max_players","id":72},{"rule":"optional","type":"PartnerAccountType","name":"partner_type","id":73,"options":{"default":"PARTNER_NONE"}},{"rule":"optional","type":"uint32","name":"lan_host_ping_to_server_region","id":74},{"rule":"optional","type":"DOTALobbyVisibility","name":"visibility","id":75,"options":{"default":"DOTALobbyVisibility_Public"}},{"rule":"optional","type":"fixed64","name":"custom_game_crc","id":76},{"rule":"optional","type":"bool","name":"custom_game_auto_created_lobby","id":77},{"rule":"optional","type":"fixed32","name":"custom_game_timestamp","id":80}],"messages":[{"name":"CExtraMsg","fields":[{"rule":"optional","type":"uint32","name":"id","id":1},{"rule":"optional","type":"bytes","name":"contents","id":2}]}],"enums":[{"name":"State","values":[{"name":"UI","id":0},{"name":"READYUP","id":4},{"name":"SERVERSETUP","id":1},{"name":"RUN","id":2},{"name":"POSTGAME","id":3},{"name":"NOTREADY","id":5},{"name":"SERVERASSIGN","id":6}]},{"name":"LobbyType","values":[{"name":"INVALID","id":-1},{"name":"CASUAL_MATCH","id":0},{"name":"PRACTICE","id":1},{"name":"TOURNAMENT","id":2},{"name":"COOP_BOT_MATCH","id":4},{"name":"LEGACY_TEAM_MATCH","id":5},{"name":"LEGACY_SOLO_QUEUE_MATCH","id":6},{"name":"COMPETITIVE_MATCH","id":7},{"name":"CASUAL_1V1_MATCH","id":8},{"name":"WEEKEND_TOURNEY","id":9},{"name":"LOCAL_BOT_MATCH","id":10}]}]},{"name":"CMsgLobbyEventPoints","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"repeated","type":"AccountPoints","name":"account_points","id":2}],"messages":[{"name":"AccountPoints","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"normal_points","id":2},{"rule":"optional","type":"uint32","name":"premium_points","id":3},{"rule":"optional","type":"bool","name":"owned","id":4},{"rule":"optional","type":"uint32","name":"favorite_team","id":5},{"rule":"optional","type":"uint32","name":"favorite_team_level","id":6},{"rule":"optional","type":"uint32","name":"points_held","id":7},{"rule":"optional","type":"uint32","name":"premium_points_held","id":8},{"rule":"optional","type":"uint32","name":"favorite_team_foil_level","id":9}]}]},{"name":"CMsgDOTAGenericResult","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgDOTABroadcastNotification","fields":[{"rule":"optional","type":"string","name":"message","id":1}]},{"name":"CMsgDOTAPCBangTimedReward","fields":[{"rule":"optional","type":"string","name":"persona","id":1},{"rule":"optional","type":"uint32","name":"itemdef","id":2},{"rule":"optional","type":"string","name":"pcbangname","id":3}]},{"name":"CAttribute_String","fields":[{"rule":"optional","type":"string","name":"value","id":1}]},{"name":"CAttribute_ItemDynamicRecipeComponent","fields":[{"rule":"optional","type":"uint32","name":"item_def","id":1},{"rule":"optional","type":"uint32","name":"item_quality","id":2},{"rule":"optional","type":"uint32","name":"item_flags","id":3},{"rule":"optional","type":"string","name":"attributes_string","id":4},{"rule":"optional","type":"uint32","name":"item_count","id":5},{"rule":"optional","type":"uint32","name":"items_fulfilled","id":6},{"rule":"optional","type":"uint32","name":"item_rarity","id":7},{"rule":"optional","type":"string","name":"lootlist","id":8},{"rule":"optional","type":"uint64","name":"fulfilled_item_id","id":9}]},{"name":"CProtoItemHeroStatue","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"optional","type":"uint32","name":"status_effect_index","id":2},{"rule":"optional","type":"string","name":"sequence_name","id":3},{"rule":"optional","type":"float","name":"cycle","id":4},{"rule":"repeated","type":"uint32","name":"wearable","id":5},{"rule":"optional","type":"string","name":"inscription","id":6},{"rule":"repeated","type":"uint32","name":"style","id":7},{"rule":"optional","type":"bool","name":"tournament_drop","id":8}]},{"name":"CProtoItemTeamShowcase","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"optional","type":"uint32","name":"status_effect_index","id":2},{"rule":"optional","type":"string","name":"sequence_name","id":3},{"rule":"optional","type":"float","name":"cycle","id":4},{"rule":"repeated","type":"uint32","name":"wearable","id":5},{"rule":"optional","type":"string","name":"inscription","id":6},{"rule":"repeated","type":"uint32","name":"style","id":7}]},{"name":"CProtoItemSocket","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1},{"rule":"optional","type":"uint32","name":"attr_def_index","id":2},{"rule":"optional","type":"uint32","name":"required_type","id":3},{"rule":"optional","type":"string","name":"required_hero","id":4},{"rule":"optional","type":"uint32","name":"gem_def_index","id":5},{"rule":"optional","type":"bool","name":"not_tradable","id":6},{"rule":"optional","type":"string","name":"required_item_slot","id":7}]},{"name":"CProtoItemSocket_Empty","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1}]},{"name":"CProtoItemSocket_Effect","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1},{"rule":"optional","type":"uint32","name":"effect","id":2}]},{"name":"CProtoItemSocket_Color","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1},{"rule":"optional","type":"uint32","name":"red","id":2},{"rule":"optional","type":"uint32","name":"green","id":3},{"rule":"optional","type":"uint32","name":"blue","id":4}]},{"name":"CProtoItemSocket_Strange","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1},{"rule":"optional","type":"uint32","name":"strange_type","id":2},{"rule":"optional","type":"uint32","name":"strange_value","id":3}]},{"name":"CProtoItemSocket_Spectator","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1},{"rule":"optional","type":"uint32","name":"games_viewed","id":2},{"rule":"optional","type":"uint32","name":"corporation_id","id":3},{"rule":"optional","type":"uint32","name":"league_id","id":4},{"rule":"optional","type":"uint32","name":"team_id","id":5}]},{"name":"CProtoItemSocket_AssetModifier","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1},{"rule":"optional","type":"uint32","name":"asset_modifier","id":2}]},{"name":"CProtoItemSocket_AssetModifier_DESERIALIZE_FROM_STRING_ONLY","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1},{"rule":"optional","type":"uint32","name":"asset_modifier","id":2},{"rule":"optional","type":"uint32","name":"anim_modifier","id":3},{"rule":"optional","type":"uint32","name":"ability_effect","id":4}]},{"name":"CProtoItemSocket_Autograph","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1},{"rule":"optional","type":"string","name":"autograph","id":2},{"rule":"optional","type":"uint32","name":"autograph_id","id":3}]},{"name":"CProtoItemSocket_StaticVisuals","fields":[{"rule":"optional","type":"CProtoItemSocket","name":"socket","id":1}]},{"name":"CMatchPlayerAbilityUpgrade","fields":[{"rule":"optional","type":"uint32","name":"ability","id":1},{"rule":"optional","type":"uint32","name":"time","id":2}]},{"name":"CMatchAdditionalUnitInventory","fields":[{"rule":"optional","type":"string","name":"unit_name","id":1},{"rule":"repeated","type":"uint32","name":"items","id":2}]},{"name":"CMatchHeroSelectEvent","fields":[{"rule":"optional","type":"bool","name":"is_pick","id":1},{"rule":"optional","type":"uint32","name":"team","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3}]},{"name":"CMsgDOTAProcessFantasyScheduledEvent","fields":[{"rule":"optional","type":"uint32","name":"event","id":1},{"rule":"optional","type":"uint32","name":"timestamp","id":2},{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":3},{"rule":"optional","type":"uint32","name":"season","id":4},{"rule":"optional","type":"uint32","name":"reference_data","id":5}]},{"name":"CMsgDOTAHasItemQuery","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2}]},{"name":"CMsgDOTAHasItemResponse","fields":[{"rule":"optional","type":"bool","name":"has_item","id":1}]},{"name":"CMsgDOTAHasItemDefsQuery","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"uint32","name":"itemdef_ids","id":2}]},{"name":"CMsgDOTAHasItemDefsResponse","fields":[{"rule":"optional","type":"bool","name":"has_items","id":1}]},{"name":"CMsgDOTAConsumeFantasyTicket","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2},{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":3}]},{"name":"CMsgDOTAConsumeFantasyTicketFailure","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2},{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":3}]},{"name":"CMsgGCToGCFantasySetMatchLeague","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2}]},{"name":"CSODOTAMapLocationState","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"int32","name":"location_id","id":2,"options":{"(key_field)":true}},{"rule":"optional","type":"bool","name":"completed","id":3}]},{"name":"CMsgNexonPartnerUpdate","fields":[{"rule":"optional","type":"uint32","name":"messagetype","id":1},{"rule":"optional","type":"uint32","name":"timeremaining","id":2},{"rule":"optional","type":"bool","name":"terminate","id":3}]},{"name":"CMsgMakeOffering","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1}]},{"name":"CMsgRequestOfferings","fields":[]},{"name":"CMsgRequestOfferingsResponse","fields":[{"rule":"repeated","type":"NewYearsOffering","name":"offerings","id":1},{"rule":"optional","type":"bool","name":"completed","id":2}],"messages":[{"name":"NewYearsOffering","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2}]}]},{"name":"CMsgLeagueAdminList","fields":[{"rule":"repeated","type":"uint32","name":"account_ids","id":1}]},{"name":"CMsgPerfectWorldUserLookupRequest","fields":[{"rule":"optional","type":"string","name":"user_name","id":1}]},{"name":"CMsgPerfectWorldUserLookupResponse","fields":[{"rule":"optional","type":"EResultCode","name":"result_code","id":1,"options":{"default":"SUCCESS_ACCOUNT_FOUND"}},{"rule":"optional","type":"uint32","name":"account_id","id":2}],"enums":[{"name":"EResultCode","values":[{"name":"SUCCESS_ACCOUNT_FOUND","id":0},{"name":"ERROR_UNKNOWN","id":1},{"name":"ERROR_USER_NAME_WRONG_FORMAT","id":2},{"name":"ERROR_NO_PERFECT_WORLD_ACCOUNT_FOUND","id":3},{"name":"ERROR_NO_LINKED_STEAM_ACCOUNT_FOUND","id":4}]}]},{"name":"CCompendiumTimestampedData","fields":[{"rule":"optional","type":"uint32","name":"game_time","id":1},{"rule":"optional","type":"uint32","name":"gpm","id":2},{"rule":"optional","type":"uint32","name":"xpm","id":3},{"rule":"optional","type":"uint32","name":"kills","id":4},{"rule":"optional","type":"uint32","name":"deaths","id":5},{"rule":"repeated","type":"uint32","name":"item_purchases","id":6}]},{"name":"CCompendiumGameTimeline","fields":[{"rule":"repeated","type":"CCompendiumTimestampedData","name":"data","id":1},{"rule":"repeated","type":"string","name":"tags","id":2}]},{"name":"CCompendiumGameList","fields":[{"rule":"repeated","type":"CCompendiumGameTimeline","name":"games","id":1}]},{"name":"CAdditionalEquipSlot","fields":[{"rule":"optional","type":"uint32","name":"class_id","id":1},{"rule":"optional","type":"uint32","name":"slot_id","id":2},{"rule":"optional","type":"uint32","name":"def_index","id":3}]},{"name":"CMsgDOTARedeemItem","fields":[{"rule":"optional","type":"uint64","name":"currency_id","id":1},{"rule":"optional","type":"uint32","name":"purchase_def","id":2}]},{"name":"CMsgDOTARedeemItemResponse","fields":[]},{"name":"CMsgDOTACombatLogEntry","fields":[{"rule":"optional","type":"DOTA_COMBATLOG_TYPES","name":"type","id":1,"options":{"default":"DOTA_COMBATLOG_DAMAGE"}},{"rule":"optional","type":"uint32","name":"target_name","id":2},{"rule":"optional","type":"uint32","name":"target_source_name","id":3},{"rule":"optional","type":"uint32","name":"attacker_name","id":4},{"rule":"optional","type":"uint32","name":"damage_source_name","id":5},{"rule":"optional","type":"uint32","name":"inflictor_name","id":6},{"rule":"optional","type":"bool","name":"is_attacker_illusion","id":7},{"rule":"optional","type":"bool","name":"is_attacker_hero","id":8},{"rule":"optional","type":"bool","name":"is_target_illusion","id":9},{"rule":"optional","type":"bool","name":"is_target_hero","id":10},{"rule":"optional","type":"bool","name":"is_visible_radiant","id":11},{"rule":"optional","type":"bool","name":"is_visible_dire","id":12},{"rule":"optional","type":"uint32","name":"value","id":13},{"rule":"optional","type":"int32","name":"health","id":14},{"rule":"optional","type":"float","name":"timestamp","id":15},{"rule":"optional","type":"float","name":"stun_duration","id":16},{"rule":"optional","type":"float","name":"slow_duration","id":17},{"rule":"optional","type":"bool","name":"is_ability_toggle_on","id":18},{"rule":"optional","type":"bool","name":"is_ability_toggle_off","id":19},{"rule":"optional","type":"uint32","name":"ability_level","id":20},{"rule":"optional","type":"float","name":"location_x","id":21},{"rule":"optional","type":"float","name":"location_y","id":22},{"rule":"optional","type":"uint32","name":"gold_reason","id":23},{"rule":"optional","type":"float","name":"timestamp_raw","id":24},{"rule":"optional","type":"float","name":"modifier_duration","id":25},{"rule":"optional","type":"uint32","name":"xp_reason","id":26},{"rule":"optional","type":"uint32","name":"last_hits","id":27},{"rule":"optional","type":"uint32","name":"attacker_team","id":28},{"rule":"optional","type":"uint32","name":"target_team","id":29},{"rule":"optional","type":"uint32","name":"obs_wards_placed","id":30},{"rule":"optional","type":"uint32","name":"assist_player0","id":31},{"rule":"optional","type":"uint32","name":"assist_player1","id":32},{"rule":"optional","type":"uint32","name":"assist_player2","id":33},{"rule":"optional","type":"uint32","name":"assist_player3","id":34},{"rule":"optional","type":"uint32","name":"stack_count","id":35},{"rule":"optional","type":"bool","name":"hidden_modifier","id":36}]},{"name":"CMsgDOTAProfileCard","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"background_def_index","id":2},{"rule":"repeated","type":"Slot","name":"slots","id":3}],"messages":[{"name":"Slot","fields":[{"rule":"optional","type":"uint32","name":"slot_id","id":1},{"rule":"optional","type":"Trophy","name":"trophy","id":2},{"rule":"optional","type":"Stat","name":"stat","id":3},{"rule":"optional","type":"Item","name":"item","id":4},{"rule":"optional","type":"Hero","name":"hero","id":5},{"rule":"optional","type":"Emoticon","name":"emoticon","id":6}],"messages":[{"name":"Trophy","fields":[{"rule":"optional","type":"uint32","name":"trophy_id","id":1},{"rule":"optional","type":"uint32","name":"trophy_score","id":2}]},{"name":"Stat","fields":[{"rule":"optional","type":"EStatID","name":"stat_id","id":1,"options":{"default":"k_eStat_SoloRank"}},{"rule":"optional","type":"uint32","name":"stat_score","id":2}]},{"name":"Item","fields":[{"rule":"optional","type":"bytes","name":"serialized_item","id":1}]},{"name":"Hero","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"optional","type":"uint32","name":"hero_wins","id":2},{"rule":"optional","type":"uint32","name":"hero_losses","id":3}]},{"name":"Emoticon","fields":[{"rule":"optional","type":"uint32","name":"emoticon_id","id":1}]}]}],"enums":[{"name":"EStatID","values":[{"name":"k_eStat_SoloRank","id":1},{"name":"k_eStat_PartyRank","id":2},{"name":"k_eStat_Wins","id":3},{"name":"k_eStat_Commends","id":4},{"name":"k_eStat_GamesPlayed","id":5},{"name":"k_eStat_FirstMatchDate","id":6}]}]},{"name":"CMsgGCToClientNewBloomTimingUpdated","fields":[{"rule":"optional","type":"bool","name":"is_active","id":1},{"rule":"optional","type":"uint32","name":"next_transition_time","id":2},{"rule":"optional","type":"uint32","name":"bonus_amount","id":3},{"rule":"optional","type":"uint32","name":"standby_duration","id":4},{"rule":"optional","type":"uint32","name":"transition_time","id":5}]},{"name":"CSODOTAPlayerChallenge","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"event_id","id":2,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"slot_id","id":3,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"challenge_type","id":4},{"rule":"optional","type":"uint32","name":"int_param_0","id":5},{"rule":"optional","type":"uint32","name":"int_param_1","id":6},{"rule":"optional","type":"uint32","name":"created_time","id":7},{"rule":"optional","type":"uint32","name":"completed","id":8},{"rule":"optional","type":"uint32","name":"sequence_id","id":9},{"rule":"optional","type":"uint32","name":"challenge_tier","id":10},{"rule":"optional","type":"uint32","name":"flags","id":11}],"enums":[{"name":"EFlags","values":[{"name":"eFlag_InstantRerollUncompleted","id":1}]}]},{"name":"CMsgClientToGCRerollPlayerChallenge","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"optional","type":"uint32","name":"sequence_id","id":3}]},{"name":"CMsgGCRerollPlayerChallengeResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"eResult_Success"}}],"enums":[{"name":"EResult","values":[{"name":"eResult_Success","id":0},{"name":"eResult_Dropped","id":1},{"name":"eResult_NotFound","id":2},{"name":"eResult_CantReroll","id":3},{"name":"eResult_ServerError","id":4}]}]},{"name":"CMsgGCTopCustomGamesList","fields":[{"rule":"repeated","type":"uint64","name":"top_custom_games","id":1}]},{"name":"CMsgDOTARealtimeGameStats","fields":[{"rule":"optional","type":"MatchDetails","name":"match","id":1},{"rule":"repeated","type":"TeamDetails","name":"teams","id":2},{"rule":"repeated","type":"BuildingDetails","name":"buildings","id":3},{"rule":"optional","type":"GraphData","name":"graph_data","id":4},{"rule":"optional","type":"bool","name":"delta_frame","id":5}],"messages":[{"name":"TeamDetails","fields":[{"rule":"optional","type":"uint32","name":"team_number","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2},{"rule":"optional","type":"string","name":"team_name","id":3},{"rule":"optional","type":"fixed64","name":"team_logo","id":4},{"rule":"optional","type":"uint32","name":"score","id":5},{"rule":"repeated","type":"PlayerDetails","name":"players","id":6},{"rule":"optional","type":"bool","name":"only_team","id":7},{"rule":"optional","type":"uint32","name":"cheers","id":8}]},{"name":"ItemDetails","fields":[{"rule":"optional","type":"uint32","name":"id","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"int32","name":"time","id":3},{"rule":"optional","type":"bool","name":"sold","id":4},{"rule":"optional","type":"uint32","name":"stackcount","id":5}]},{"name":"AbilityDetails","fields":[{"rule":"optional","type":"uint32","name":"id","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"uint32","name":"level","id":3}]},{"name":"HeroToHeroStats","fields":[{"rule":"optional","type":"uint32","name":"victimid","id":1},{"rule":"optional","type":"uint32","name":"kills","id":2},{"rule":"optional","type":"uint32","name":"assists","id":3}]},{"name":"AbilityList","fields":[{"rule":"repeated","type":"uint32","name":"id","id":1}]},{"name":"PlayerDetails","fields":[{"rule":"optional","type":"uint32","name":"accountid","id":1},{"rule":"optional","type":"uint32","name":"playerid","id":2},{"rule":"optional","type":"string","name":"name","id":3},{"rule":"optional","type":"uint32","name":"team","id":4},{"rule":"optional","type":"uint32","name":"heroid","id":5},{"rule":"optional","type":"uint32","name":"healthpoints","id":6},{"rule":"optional","type":"uint32","name":"maxhealthpoints","id":7},{"rule":"optional","type":"float","name":"healthregenrate","id":8},{"rule":"optional","type":"uint32","name":"manapoints","id":9},{"rule":"optional","type":"uint32","name":"maxmanapoints","id":10},{"rule":"optional","type":"float","name":"manaregenrate","id":11},{"rule":"optional","type":"uint32","name":"base_strength","id":12},{"rule":"optional","type":"uint32","name":"base_agility","id":13},{"rule":"optional","type":"uint32","name":"base_intelligence","id":14},{"rule":"optional","type":"int32","name":"base_armor","id":15},{"rule":"optional","type":"uint32","name":"base_movespeed","id":16},{"rule":"optional","type":"uint32","name":"base_damage","id":17},{"rule":"optional","type":"uint32","name":"strength","id":18},{"rule":"optional","type":"uint32","name":"agility","id":19},{"rule":"optional","type":"uint32","name":"intelligence","id":20},{"rule":"optional","type":"int32","name":"armor","id":21},{"rule":"optional","type":"uint32","name":"movespeed","id":22},{"rule":"optional","type":"uint32","name":"damage","id":23},{"rule":"optional","type":"uint32","name":"hero_damage","id":24},{"rule":"optional","type":"uint32","name":"tower_damage","id":25},{"rule":"repeated","type":"AbilityDetails","name":"abilities","id":26},{"rule":"optional","type":"uint32","name":"level","id":27},{"rule":"optional","type":"uint32","name":"kill_count","id":28},{"rule":"optional","type":"uint32","name":"death_count","id":29},{"rule":"optional","type":"uint32","name":"assists_count","id":30},{"rule":"optional","type":"uint32","name":"denies_count","id":31},{"rule":"optional","type":"uint32","name":"lh_count","id":32},{"rule":"optional","type":"uint32","name":"hero_healing","id":33},{"rule":"optional","type":"uint32","name":"gold_per_min","id":34},{"rule":"optional","type":"uint32","name":"xp_per_min","id":35},{"rule":"optional","type":"uint32","name":"net_gold","id":36},{"rule":"optional","type":"uint32","name":"gold","id":37},{"rule":"optional","type":"float","name":"x","id":38},{"rule":"optional","type":"float","name":"y","id":39},{"rule":"optional","type":"int32","name":"respawn_time","id":40},{"rule":"optional","type":"uint32","name":"ultimate_cooldown","id":41},{"rule":"optional","type":"bool","name":"has_buyback","id":42},{"rule":"repeated","type":"ItemDetails","name":"items","id":43},{"rule":"repeated","type":"ItemDetails","name":"stashitems","id":44},{"rule":"repeated","type":"ItemDetails","name":"itemshoppinglist","id":45},{"rule":"repeated","type":"AbilityList","name":"levelpoints","id":46},{"rule":"repeated","type":"HeroToHeroStats","name":"hero_to_hero_stats","id":47},{"rule":"optional","type":"bool","name":"has_ultimate","id":48},{"rule":"optional","type":"bool","name":"has_ultimate_mana","id":49}]},{"name":"BuildingDetails","fields":[{"rule":"optional","type":"uint32","name":"team","id":2},{"rule":"optional","type":"float","name":"heading","id":3},{"rule":"optional","type":"uint32","name":"lane","id":4},{"rule":"optional","type":"uint32","name":"tier","id":5},{"rule":"optional","type":"uint32","name":"type","id":6},{"rule":"optional","type":"float","name":"x","id":7},{"rule":"optional","type":"float","name":"y","id":8}]},{"name":"KillDetails","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"int32","name":"death_time","id":2},{"rule":"optional","type":"uint32","name":"killer_player_id","id":3}]},{"name":"BroadcasterDetails","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"uint32","name":"selected_hero","id":2},{"rule":"optional","type":"uint32","name":"selected_graph","id":3}]},{"name":"PickBanDetails","fields":[{"rule":"optional","type":"uint32","name":"hero","id":1},{"rule":"optional","type":"uint32","name":"team","id":2}]},{"name":"MatchDetails","fields":[{"rule":"optional","type":"fixed64","name":"server_steam_id","id":1},{"rule":"optional","type":"uint64","name":"matchid","id":2},{"rule":"optional","type":"uint32","name":"timestamp","id":3},{"rule":"optional","type":"float","name":"time_of_day","id":4},{"rule":"optional","type":"bool","name":"is_nightstalker_night","id":5},{"rule":"optional","type":"int32","name":"game_time","id":6},{"rule":"optional","type":"uint32","name":"teamid_radiant","id":8},{"rule":"optional","type":"uint32","name":"teamid_dire","id":9},{"rule":"repeated","type":"PickBanDetails","name":"picks","id":10},{"rule":"repeated","type":"PickBanDetails","name":"bans","id":11},{"rule":"repeated","type":"KillDetails","name":"kills","id":12},{"rule":"repeated","type":"BroadcasterDetails","name":"broadcasters","id":13},{"rule":"optional","type":"uint32","name":"game_mode","id":14},{"rule":"optional","type":"uint32","name":"league_id","id":15},{"rule":"optional","type":"bool","name":"single_team","id":16},{"rule":"optional","type":"uint32","name":"cheers_peak","id":17}]},{"name":"GraphData","fields":[{"rule":"repeated","type":"int32","name":"graph_gold","id":1},{"rule":"repeated","type":"int32","name":"graph_xp","id":2},{"rule":"repeated","type":"int32","name":"graph_kill","id":3},{"rule":"repeated","type":"int32","name":"graph_tower","id":4},{"rule":"repeated","type":"int32","name":"graph_rax","id":5},{"rule":"repeated","type":"TeamLocationStats","name":"team_loc_stats","id":6}],"messages":[{"name":"LocationStats","fields":[{"rule":"repeated","type":"int32","name":"stats","id":1}]},{"name":"TeamLocationStats","fields":[{"rule":"repeated","type":"LocationStats","name":"loc_stats","id":1}]}],"enums":[{"name":"eStat","values":[{"name":"CreepGoldEarned","id":0},{"name":"KillGoldEarned","id":1},{"name":"DeathAndBuybackGoldLost","id":2},{"name":"XPEarned","id":3}]},{"name":"eLocation","values":[{"name":"BotLane","id":0},{"name":"MidLane","id":1},{"name":"TopLane","id":2},{"name":"Jungle","id":3},{"name":"Ancients","id":4},{"name":"Other","id":5}]}]}]},{"name":"CMsgDOTARealtimeGameStatsTerse","fields":[{"rule":"optional","type":"MatchDetails","name":"match","id":1},{"rule":"repeated","type":"TeamDetails","name":"teams","id":2},{"rule":"repeated","type":"BuildingDetails","name":"buildings","id":3},{"rule":"optional","type":"GraphData","name":"graph_data","id":4},{"rule":"optional","type":"bool","name":"delta_frame","id":5}],"messages":[{"name":"TeamDetails","fields":[{"rule":"optional","type":"uint32","name":"team_number","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2},{"rule":"optional","type":"string","name":"team_name","id":3},{"rule":"optional","type":"fixed64","name":"team_logo","id":4},{"rule":"optional","type":"uint32","name":"score","id":5},{"rule":"repeated","type":"PlayerDetails","name":"players","id":6}]},{"name":"PlayerDetails","fields":[{"rule":"optional","type":"uint32","name":"accountid","id":1},{"rule":"optional","type":"uint32","name":"playerid","id":2},{"rule":"optional","type":"string","name":"name","id":3},{"rule":"optional","type":"uint32","name":"team","id":4},{"rule":"optional","type":"uint32","name":"heroid","id":5},{"rule":"optional","type":"uint32","name":"level","id":6},{"rule":"optional","type":"uint32","name":"kill_count","id":7},{"rule":"optional","type":"uint32","name":"death_count","id":8},{"rule":"optional","type":"uint32","name":"assists_count","id":9},{"rule":"optional","type":"uint32","name":"denies_count","id":10},{"rule":"optional","type":"uint32","name":"lh_count","id":11},{"rule":"optional","type":"uint32","name":"gold","id":12},{"rule":"optional","type":"float","name":"x","id":13},{"rule":"optional","type":"float","name":"y","id":14}]},{"name":"BuildingDetails","fields":[{"rule":"optional","type":"uint32","name":"team","id":1},{"rule":"optional","type":"float","name":"heading","id":2},{"rule":"optional","type":"uint32","name":"type","id":3},{"rule":"optional","type":"uint32","name":"lane","id":4},{"rule":"optional","type":"uint32","name":"tier","id":5},{"rule":"optional","type":"float","name":"x","id":6},{"rule":"optional","type":"float","name":"y","id":7}]},{"name":"MatchDetails","fields":[{"rule":"optional","type":"fixed64","name":"server_steam_id","id":1},{"rule":"optional","type":"uint64","name":"matchid","id":2},{"rule":"optional","type":"uint32","name":"timestamp","id":3},{"rule":"optional","type":"int32","name":"game_time","id":4},{"rule":"repeated","type":"uint32","name":"steam_broadcaster_account_ids","id":6},{"rule":"optional","type":"uint32","name":"game_mode","id":7},{"rule":"optional","type":"uint32","name":"league_id","id":8}]},{"name":"GraphData","fields":[{"rule":"repeated","type":"int32","name":"graph_gold","id":1}]}]},{"name":"CMsgStartFindingMatch","fields":[{"rule":"optional","type":"string","name":"key","id":1},{"rule":"optional","type":"uint32","name":"matchgroups","id":2,"options":{"default":4294967295}},{"rule":"optional","type":"uint32","name":"client_version","id":3},{"rule":"optional","type":"uint32","name":"game_modes","id":4,"options":{"default":4294967295}},{"rule":"optional","type":"DOTABotDifficulty","name":"bot_difficulty","id":5,"options":{"default":"BOT_DIFFICULTY_HARD"}},{"rule":"optional","type":"MatchType","name":"match_type","id":6,"options":{"default":"MATCH_TYPE_CASUAL"}},{"rule":"optional","type":"uint32","name":"matchlanguages","id":7,"options":{"default":4294967295}},{"rule":"optional","type":"uint32","name":"map_preference","id":9},{"rule":"optional","type":"uint32","name":"team_id","id":8},{"rule":"optional","type":"MatchLanguages","name":"game_language_enum","id":10,"options":{"default":"MATCH_LANGUAGE_INVALID"}},{"rule":"optional","type":"string","name":"game_language_name","id":11}]},{"name":"CMsgStopFindingMatch","fields":[]},{"name":"CMsgReadyUp","fields":[{"rule":"optional","type":"DOTALobbyReadyState","name":"state","id":1,"options":{"default":"DOTALobbyReadyState_UNDECLARED"}},{"rule":"optional","type":"fixed64","name":"ready_up_key","id":2},{"rule":"optional","type":"CDOTAClientHardwareSpecs","name":"hardware_specs","id":3}]},{"name":"CMsgReadyUpStatus","fields":[{"rule":"optional","type":"fixed64","name":"lobby_id","id":1},{"rule":"repeated","type":"uint32","name":"accepted_ids","id":2},{"rule":"repeated","type":"uint32","name":"declined_ids","id":3}]},{"name":"CSourceTVGame","fields":[{"rule":"optional","type":"uint32","name":"source_tv_public_addr","id":1},{"rule":"optional","type":"uint32","name":"source_tv_private_addr","id":2},{"rule":"optional","type":"uint32","name":"source_tv_port","id":3},{"rule":"repeated","type":"Player","name":"good_players","id":14},{"rule":"repeated","type":"Player","name":"bad_players","id":15},{"rule":"repeated","type":"Player","name":"other_players","id":16},{"rule":"optional","type":"string","name":"game_name","id":7},{"rule":"repeated","type":"CLobbyTeamDetails","name":"team_details","id":9},{"rule":"optional","type":"uint32","name":"num_spectators","id":10},{"rule":"optional","type":"uint32","name":"tournament_id","id":11},{"rule":"optional","type":"uint32","name":"tournament_game_id","id":12},{"rule":"optional","type":"uint32","name":"tower_state","id":13},{"rule":"optional","type":"float","name":"tv_broadcast_time","id":17},{"rule":"optional","type":"float","name":"game_time","id":18},{"rule":"optional","type":"fixed64","name":"server_steamid","id":19},{"rule":"optional","type":"uint32","name":"leagueid","id":20},{"rule":"optional","type":"DOTA_GameMode","name":"game_mode","id":21,"options":{"default":"DOTA_GAMEMODE_NONE"}},{"rule":"optional","type":"uint32","name":"lobby_type","id":22},{"rule":"optional","type":"uint64","name":"custom_game_id","id":24},{"rule":"optional","type":"uint32","name":"average_rank","id":25},{"rule":"optional","type":"uint32","name":"radiant_kills","id":26},{"rule":"optional","type":"uint32","name":"dire_kills","id":27},{"rule":"optional","type":"uint32","name":"barracks_state","id":28},{"rule":"optional","type":"uint64","name":"group_id","id":29},{"rule":"optional","type":"uint32","name":"engine","id":31},{"rule":"optional","type":"uint32","name":"broadcast_delay","id":32}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3}]}]},{"name":"CSourceTVGameSmall","fields":[{"rule":"optional","type":"uint32","name":"activate_time","id":1},{"rule":"optional","type":"uint32","name":"deactivate_time","id":2},{"rule":"optional","type":"uint64","name":"server_steam_id","id":3},{"rule":"optional","type":"uint64","name":"lobby_id","id":4},{"rule":"optional","type":"uint32","name":"league_id","id":5},{"rule":"optional","type":"uint32","name":"lobby_type","id":6},{"rule":"optional","type":"int32","name":"game_time","id":7},{"rule":"optional","type":"uint32","name":"delay","id":8},{"rule":"optional","type":"uint32","name":"spectators","id":9},{"rule":"optional","type":"uint32","name":"game_mode","id":10},{"rule":"optional","type":"uint32","name":"average_mmr","id":11},{"rule":"optional","type":"uint32","name":"engine","id":12},{"rule":"repeated","type":"uint32","name":"hero_ids","id":13},{"rule":"repeated","type":"fixed64","name":"steam_ids","id":14},{"rule":"optional","type":"string","name":"team_name_radiant","id":15},{"rule":"optional","type":"string","name":"team_name_dire","id":16},{"rule":"optional","type":"uint32","name":"sort_score","id":17},{"rule":"optional","type":"float","name":"last_update_time","id":18}]},{"name":"CMsgSourceTVGamesResponse","fields":[{"rule":"repeated","type":"CSourceTVGame","name":"games","id":1},{"rule":"optional","type":"uint32","name":"num_total_games","id":2}]},{"name":"CMsgFindSourceTVGames","fields":[{"rule":"optional","type":"string","name":"search_key","id":1},{"rule":"optional","type":"uint32","name":"start","id":2},{"rule":"optional","type":"uint32","name":"num_games","id":3},{"rule":"optional","type":"uint32","name":"leagueid","id":4},{"rule":"optional","type":"uint32","name":"heroid","id":5},{"rule":"optional","type":"bool","name":"team_game","id":6},{"rule":"optional","type":"uint64","name":"custom_game_id","id":10}]},{"name":"CMsgClientToGCFindTopSourceTVGames","fields":[{"rule":"optional","type":"string","name":"search_key","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"uint32","name":"start_game","id":4},{"rule":"optional","type":"uint32","name":"game_list_index","id":5},{"rule":"repeated","type":"uint64","name":"lobby_ids","id":6}]},{"name":"CMsgGCToClientFindTopSourceTVGamesResponse","fields":[{"rule":"optional","type":"string","name":"search_key","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"uint32","name":"start_game","id":4},{"rule":"optional","type":"uint32","name":"num_games","id":5},{"rule":"optional","type":"uint32","name":"game_list_index","id":6},{"rule":"repeated","type":"CSourceTVGameSmall","name":"game_list","id":7},{"rule":"optional","type":"bool","name":"specific_games","id":8}]},{"name":"CMsgClientToGCTopLeagueMatchesRequest","fields":[]},{"name":"CMsgClientToGCTopFriendMatchesRequest","fields":[]},{"name":"CMsgClientToGCTopPubMatchesRequest","fields":[]},{"name":"CMsgGCToClientTopMatchesResponse","fields":[{"rule":"optional","type":"Type","name":"type","id":1,"options":{"default":"LEAGUES"}},{"rule":"repeated","type":"CMsgDOTAMatch","name":"matches","id":2}],"enums":[{"name":"Type","values":[{"name":"LEAGUES","id":1},{"name":"FRIENDS","id":2},{"name":"PUBS","id":3}]}]},{"name":"CMsgClientToGCFindTopMatches","fields":[{"rule":"optional","type":"uint32","name":"start_game","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"uint32","name":"friend_id","id":4},{"rule":"optional","type":"bool","name":"friend_list","id":5},{"rule":"optional","type":"bool","name":"league_list","id":6}]},{"name":"CMsgGCToClientFindTopLeagueMatchesResponse","fields":[{"rule":"optional","type":"uint32","name":"start_game","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"repeated","type":"uint32","name":"match_ids","id":4},{"rule":"repeated","type":"CMsgDOTAMatch","name":"matches","id":5}]},{"name":"CMsgSpectateFriendGame","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1}]},{"name":"CMsgSpectateFriendGameResponse","fields":[{"rule":"optional","type":"fixed64","name":"server_steamid","id":4}]},{"name":"CMsgAbandonCurrentGame","fields":[]},{"name":"CMsgClientSuspended","fields":[{"rule":"optional","type":"uint32","name":"time_end","id":1}]},{"name":"CMsgPracticeLobbySetDetails","fields":[{"rule":"optional","type":"uint64","name":"lobby_id","id":1},{"rule":"optional","type":"string","name":"game_name","id":2},{"rule":"repeated","type":"CLobbyTeamDetails","name":"team_details","id":3},{"rule":"optional","type":"uint32","name":"server_region","id":4},{"rule":"optional","type":"uint32","name":"game_mode","id":5},{"rule":"optional","type":"DOTA_CM_PICK","name":"cm_pick","id":6,"options":{"default":"DOTA_CM_RANDOM"}},{"rule":"optional","type":"DOTABotDifficulty","name":"bot_difficulty","id":9,"options":{"default":"BOT_DIFFICULTY_MEDIUM"}},{"rule":"optional","type":"bool","name":"allow_cheats","id":10},{"rule":"optional","type":"bool","name":"fill_with_bots","id":11},{"rule":"optional","type":"bool","name":"intro_mode","id":12},{"rule":"optional","type":"bool","name":"allow_spectating","id":13},{"rule":"optional","type":"DOTAGameVersion","name":"game_version","id":14,"options":{"default":"GAME_VERSION_CURRENT"}},{"rule":"optional","type":"string","name":"pass_key","id":15},{"rule":"optional","type":"uint32","name":"leagueid","id":16},{"rule":"optional","type":"uint32","name":"penalty_level_radiant","id":17},{"rule":"optional","type":"uint32","name":"penalty_level_dire","id":18},{"rule":"optional","type":"uint32","name":"load_game_id","id":19},{"rule":"optional","type":"uint32","name":"series_type","id":20},{"rule":"optional","type":"uint32","name":"radiant_series_wins","id":21},{"rule":"optional","type":"uint32","name":"dire_series_wins","id":22},{"rule":"optional","type":"bool","name":"allchat","id":23,"options":{"default":false}},{"rule":"optional","type":"LobbyDotaTVDelay","name":"dota_tv_delay","id":24,"options":{"default":"LobbyDotaTV_120"}},{"rule":"optional","type":"bool","name":"lan","id":25},{"rule":"optional","type":"string","name":"custom_game_mode","id":26},{"rule":"optional","type":"string","name":"custom_map_name","id":27},{"rule":"optional","type":"uint32","name":"custom_difficulty","id":28},{"rule":"optional","type":"uint64","name":"custom_game_id","id":29},{"rule":"optional","type":"uint32","name":"custom_min_players","id":30},{"rule":"optional","type":"uint32","name":"custom_max_players","id":31},{"rule":"optional","type":"uint32","name":"lan_host_ping_to_server_region","id":32},{"rule":"optional","type":"DOTALobbyVisibility","name":"visibility","id":33,"options":{"default":"DOTALobbyVisibility_Public"}},{"rule":"optional","type":"fixed64","name":"custom_game_crc","id":34},{"rule":"optional","type":"fixed32","name":"custom_game_timestamp","id":37}]},{"name":"CMsgPracticeLobbyCreate","fields":[{"rule":"optional","type":"string","name":"search_key","id":1},{"rule":"optional","type":"bool","name":"tournament_game","id":2},{"rule":"optional","type":"uint32","name":"tournament_game_id","id":3},{"rule":"optional","type":"uint32","name":"tournament_id","id":4},{"rule":"optional","type":"string","name":"pass_key","id":5},{"rule":"optional","type":"uint32","name":"client_version","id":6},{"rule":"optional","type":"CMsgPracticeLobbySetDetails","name":"lobby_details","id":7},{"rule":"optional","type":"SaveGame","name":"save_game","id":8}],"messages":[{"name":"SaveGame","fields":[{"rule":"optional","type":"bytes","name":"data","id":1},{"rule":"optional","type":"int32","name":"version","id":2},{"rule":"optional","type":"fixed64","name":"steam_id","id":3},{"rule":"optional","type":"fixed64","name":"signature","id":4}]}]},{"name":"CMsgPracticeLobbySetTeamSlot","fields":[{"rule":"optional","type":"DOTA_GC_TEAM","name":"team","id":1,"options":{"default":"DOTA_GC_TEAM_GOOD_GUYS"}},{"rule":"optional","type":"uint32","name":"slot","id":2},{"rule":"optional","type":"DOTABotDifficulty","name":"bot_difficulty","id":3,"options":{"default":"BOT_DIFFICULTY_PASSIVE"}}]},{"name":"CMsgPracticeLobbySetCoach","fields":[{"rule":"optional","type":"DOTA_GC_TEAM","name":"team","id":1,"options":{"default":"DOTA_GC_TEAM_GOOD_GUYS"}}]},{"name":"CMsgPracticeLobbyJoinBroadcastChannel","fields":[{"rule":"optional","type":"uint32","name":"channel","id":1},{"rule":"optional","type":"string","name":"preferred_description","id":2},{"rule":"optional","type":"string","name":"preferred_country_code","id":3},{"rule":"optional","type":"string","name":"preferred_language_code","id":4}]},{"name":"CMsgPracticeLobbyCloseBroadcastChannel","fields":[{"rule":"optional","type":"uint32","name":"channel","id":1}]},{"name":"CMsgPracticeLobbyToggleBroadcastChannelCameramanStatus","fields":[]},{"name":"CMsgPracticeLobbyKick","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":3}]},{"name":"CMsgPracticeLobbyKickFromTeam","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgPracticeLobbyLeave","fields":[]},{"name":"CMsgPracticeLobbyLaunch","fields":[{"rule":"optional","type":"uint32","name":"client_version","id":5}]},{"name":"CMsgApplyTeamToPracticeLobby","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1}]},{"name":"CMsgClearPracticeLobbyTeam","fields":[]},{"name":"CMsgPracticeLobbyList","fields":[{"rule":"optional","type":"bool","name":"tournament_games","id":1},{"rule":"optional","type":"string","name":"pass_key","id":2},{"rule":"optional","type":"uint32","name":"region","id":3},{"rule":"optional","type":"DOTA_GameMode","name":"game_mode","id":4,"options":{"default":"DOTA_GAMEMODE_NONE"}}]},{"name":"CMsgPracticeLobbyListResponseEntry","fields":[{"rule":"optional","type":"uint64","name":"id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"tournament_id","id":3},{"rule":"optional","type":"uint32","name":"tournament_game_id","id":4},{"rule":"repeated","type":"CLobbyMember","name":"members","id":5},{"rule":"optional","type":"bool","name":"requires_pass_key","id":6},{"rule":"optional","type":"uint32","name":"leader_account_id","id":7},{"rule":"optional","type":"uint32","name":"guild_id","id":8},{"rule":"optional","type":"uint64","name":"guild_logo","id":9},{"rule":"optional","type":"string","name":"name","id":10},{"rule":"optional","type":"string","name":"custom_game_mode","id":11},{"rule":"optional","type":"DOTA_GameMode","name":"game_mode","id":12,"options":{"default":"DOTA_GAMEMODE_NONE"}},{"rule":"optional","type":"bool","name":"friend_present","id":13},{"rule":"optional","type":"uint32","name":"players","id":14},{"rule":"optional","type":"string","name":"custom_map_name","id":15},{"rule":"optional","type":"uint32","name":"max_player_count","id":16},{"rule":"optional","type":"uint32","name":"server_region","id":17},{"rule":"optional","type":"uint32","name":"lan_host_ping_to_server_region","id":18}],"messages":[{"name":"CLobbyMember","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"string","name":"player_name","id":2}]}]},{"name":"CMsgPracticeLobbyListResponse","fields":[{"rule":"optional","type":"bool","name":"tournament_games","id":1},{"rule":"repeated","type":"CMsgPracticeLobbyListResponseEntry","name":"lobbies","id":2}]},{"name":"CMsgLobbyList","fields":[{"rule":"optional","type":"uint32","name":"server_region","id":1,"options":{"default":0}},{"rule":"optional","type":"DOTA_GameMode","name":"game_mode","id":2,"options":{"default":"DOTA_GAMEMODE_NONE"}}]},{"name":"CMsgLobbyListResponse","fields":[{"rule":"repeated","type":"CMsgPracticeLobbyListResponseEntry","name":"lobbies","id":1}]},{"name":"CMsgPracticeLobbyJoin","fields":[{"rule":"optional","type":"uint64","name":"lobby_id","id":1},{"rule":"optional","type":"uint32","name":"client_version","id":2},{"rule":"optional","type":"string","name":"pass_key","id":3},{"rule":"optional","type":"fixed64","name":"custom_game_crc","id":4},{"rule":"optional","type":"fixed32","name":"custom_game_timestamp","id":5}]},{"name":"CMsgPracticeLobbyJoinResponse","fields":[{"rule":"optional","type":"DOTAJoinLobbyResult","name":"result","id":1,"options":{"default":"DOTA_JOIN_RESULT_SUCCESS"}}]},{"name":"CMsgFriendPracticeLobbyListRequest","fields":[{"rule":"repeated","type":"uint32","name":"friends","id":1}]},{"name":"CMsgFriendPracticeLobbyListResponse","fields":[{"rule":"repeated","type":"CMsgPracticeLobbyListResponseEntry","name":"lobbies","id":1}]},{"name":"CMsgGuildmatePracticeLobbyListRequest","fields":[{"rule":"repeated","type":"uint32","name":"guilds","id":1}]},{"name":"CMsgGuildmatePracticeLobbyListResponse","fields":[{"rule":"repeated","type":"CMsgPracticeLobbyListResponseEntry","name":"lobbies","id":1}]},{"name":"CMsgJoinableCustomGameModesRequest","fields":[{"rule":"optional","type":"uint32","name":"server_region","id":1}]},{"name":"CMsgJoinableCustomGameModesResponseEntry","fields":[{"rule":"optional","type":"uint64","name":"custom_game_id","id":1},{"rule":"optional","type":"uint32","name":"lobby_count","id":2},{"rule":"optional","type":"uint32","name":"player_count","id":3}]},{"name":"CMsgJoinableCustomGameModesResponse","fields":[{"rule":"repeated","type":"CMsgJoinableCustomGameModesResponseEntry","name":"game_modes","id":1}]},{"name":"CMsgJoinableCustomLobbiesRequest","fields":[{"rule":"optional","type":"uint32","name":"server_region","id":1},{"rule":"optional","type":"uint64","name":"custom_game_id","id":2}]},{"name":"CMsgJoinableCustomLobbiesResponseEntry","fields":[{"rule":"optional","type":"fixed64","name":"lobby_id","id":1},{"rule":"optional","type":"uint64","name":"custom_game_id","id":2},{"rule":"optional","type":"string","name":"lobby_name","id":3},{"rule":"optional","type":"uint32","name":"member_count","id":4},{"rule":"optional","type":"uint32","name":"leader_account_id","id":5},{"rule":"optional","type":"string","name":"leader_name","id":6},{"rule":"optional","type":"string","name":"custom_map_name","id":7},{"rule":"optional","type":"uint32","name":"max_player_count","id":8},{"rule":"optional","type":"uint32","name":"server_region","id":9},{"rule":"optional","type":"uint32","name":"lan_host_ping_to_server_region","id":10},{"rule":"optional","type":"bool","name":"has_pass_key","id":11}]},{"name":"CMsgJoinableCustomLobbiesResponse","fields":[{"rule":"repeated","type":"CMsgJoinableCustomLobbiesResponseEntry","name":"lobbies","id":1}]},{"name":"CMsgQuickJoinCustomLobby","fields":[{"rule":"optional","type":"uint32","name":"server_region","id":1},{"rule":"optional","type":"uint64","name":"custom_game_id","id":2},{"rule":"optional","type":"uint32","name":"client_version","id":3},{"rule":"optional","type":"CMsgPracticeLobbySetDetails","name":"create_lobby_details","id":4},{"rule":"optional","type":"bool","name":"allow_any_map","id":5},{"rule":"repeated","type":"RegionPing","name":"region_pings","id":6}],"messages":[{"name":"RegionPing","fields":[{"rule":"optional","type":"uint32","name":"server_region","id":1},{"rule":"optional","type":"uint32","name":"ping","id":2},{"rule":"optional","type":"fixed32","name":"region_code","id":3}]}]},{"name":"CMsgQuickJoinCustomLobbyResponse","fields":[{"rule":"optional","type":"DOTAJoinLobbyResult","name":"result","id":1,"options":{"default":"DOTA_JOIN_RESULT_SUCCESS"}}]},{"name":"CMsgBotGameCreate","fields":[{"rule":"optional","type":"string","name":"search_key","id":1},{"rule":"optional","type":"uint32","name":"client_version","id":2},{"rule":"optional","type":"DOTABotDifficulty","name":"difficulty","id":3,"options":{"default":"BOT_DIFFICULTY_PASSIVE"}},{"rule":"optional","type":"DOTA_GC_TEAM","name":"team","id":4,"options":{"default":"DOTA_GC_TEAM_GOOD_GUYS"}},{"rule":"optional","type":"uint32","name":"game_mode","id":5}]},{"name":"CMsgCustomGameCreate","fields":[{"rule":"optional","type":"string","name":"search_key","id":1},{"rule":"optional","type":"uint32","name":"client_version","id":2},{"rule":"optional","type":"uint32","name":"difficulty","id":3},{"rule":"optional","type":"string","name":"game_mode","id":4},{"rule":"optional","type":"string","name":"map","id":5},{"rule":"optional","type":"uint64","name":"custom_game_id","id":7}]},{"name":"CMsgEventGameCreate","fields":[{"rule":"optional","type":"string","name":"search_key","id":1},{"rule":"optional","type":"uint32","name":"client_version","id":2},{"rule":"optional","type":"uint32","name":"difficulty","id":3},{"rule":"optional","type":"string","name":"game_mode","id":4},{"rule":"optional","type":"string","name":"map","id":5},{"rule":"optional","type":"uint64","name":"custom_game_id","id":7}]},{"name":"CMsgRequestInternationalTicket","fields":[]},{"name":"CMsgBalancedShuffleLobby","fields":[]},{"name":"CMsgInitialQuestionnaireResponse","fields":[{"rule":"optional","type":"uint32","name":"initial_skill","id":1}]},{"name":"CMsgDOTATournament","fields":[{"rule":"repeated","type":"Team","name":"teams","id":1},{"rule":"repeated","type":"Game","name":"games","id":2},{"rule":"optional","type":"uint64","name":"gid","id":3},{"rule":"optional","type":"uint32","name":"tournament_id","id":4},{"rule":"optional","type":"ETournamentType","name":"tournament_type","id":5,"options":{"default":"k_ETournamentType_Unknown"}},{"rule":"optional","type":"ETournamentTemplate","name":"tournament_template","id":6,"options":{"default":"k_ETournamentTemplate_None"}},{"rule":"optional","type":"uint32","name":"league_id","id":7},{"rule":"optional","type":"uint32","name":"start_time","id":8},{"rule":"optional","type":"ETournamentState","name":"state","id":9,"options":{"default":"k_ETournamentState_Unknown"}},{"rule":"repeated","type":"Node","name":"nodes","id":10}],"messages":[{"name":"Team","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1},{"rule":"optional","type":"string","name":"team_name","id":2},{"rule":"optional","type":"string","name":"team_abbrev","id":3},{"rule":"repeated","type":"uint32","name":"players","id":4,"options":{"packed":true}},{"rule":"optional","type":"uint32","name":"seed","id":5},{"rule":"optional","type":"uint64","name":"team_logo","id":6},{"rule":"optional","type":"string","name":"country_code","id":7},{"rule":"optional","type":"uint32","name":"node_or_state","id":8}]},{"name":"Game","fields":[{"rule":"optional","type":"uint32","name":"game_id","id":1},{"rule":"optional","type":"uint32","name":"good_team_id","id":2},{"rule":"optional","type":"uint32","name":"bad_team_id","id":3},{"rule":"optional","type":"uint32","name":"good_team_seed","id":12},{"rule":"optional","type":"uint32","name":"bad_team_seed","id":13},{"rule":"optional","type":"fixed64","name":"lobby_id","id":4},{"rule":"optional","type":"uint64","name":"match_id","id":5},{"rule":"optional","type":"string","name":"game_name","id":6},{"rule":"optional","type":"bool","name":"live_stream","id":7},{"rule":"optional","type":"string","name":"message","id":9},{"rule":"optional","type":"bool","name":"results_final","id":10},{"rule":"optional","type":"ETournamentGameState","name":"state","id":14,"options":{"default":"k_ETournamentGameState_Unknown"}},{"rule":"optional","type":"uint32","name":"node_id","id":15},{"rule":"optional","type":"uint32","name":"start_time","id":16}]},{"name":"Node","fields":[{"rule":"optional","type":"uint32","name":"node_id","id":1},{"rule":"optional","type":"uint32","name":"team_seed_a","id":2},{"rule":"optional","type":"uint32","name":"team_seed_b","id":3},{"rule":"optional","type":"uint32","name":"winner_node","id":4},{"rule":"optional","type":"uint32","name":"loser_node","id":5},{"rule":"optional","type":"uint32","name":"series_type","id":7},{"rule":"optional","type":"ETournamentNodeState","name":"node_state","id":8,"options":{"default":"k_ETournamentNodeState_Unknown"}},{"rule":"optional","type":"uint32","name":"series_id","id":9},{"rule":"optional","type":"uint32","name":"start_time","id":16}]}]},{"name":"CMsgDOTATournamentRequest","fields":[{"rule":"optional","type":"uint32","name":"tournament_id","id":1},{"rule":"optional","type":"uint64","name":"client_tournament_gid","id":2}]},{"name":"CMsgDOTATournamentResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1,"options":{"default":2}},{"rule":"optional","type":"CMsgDOTATournament","name":"tournament","id":2}]},{"name":"CMsgDOTAClearTournamentGame","fields":[{"rule":"optional","type":"uint32","name":"tournament_id","id":1},{"rule":"optional","type":"uint32","name":"game_id","id":2}]},{"name":"CMsgDOTAMatch","fields":[{"rule":"optional","type":"bool","name":"good_guys_win","id":2},{"rule":"optional","type":"uint32","name":"duration","id":3},{"rule":"optional","type":"fixed32","name":"startTime","id":4},{"rule":"repeated","type":"Player","name":"players","id":5},{"rule":"optional","type":"uint64","name":"match_id","id":6},{"rule":"repeated","type":"uint32","name":"tower_status","id":8},{"rule":"repeated","type":"uint32","name":"barracks_status","id":9},{"rule":"optional","type":"uint32","name":"cluster","id":10},{"rule":"optional","type":"uint32","name":"first_blood_time","id":12},{"rule":"optional","type":"fixed32","name":"replay_salt","id":13},{"rule":"optional","type":"fixed32","name":"server_ip","id":14},{"rule":"optional","type":"uint32","name":"server_port","id":15},{"rule":"optional","type":"uint32","name":"lobby_type","id":16},{"rule":"optional","type":"uint32","name":"human_players","id":17},{"rule":"optional","type":"uint32","name":"average_skill","id":18},{"rule":"optional","type":"float","name":"game_balance","id":19},{"rule":"optional","type":"uint32","name":"radiant_team_id","id":20},{"rule":"optional","type":"uint32","name":"dire_team_id","id":21},{"rule":"optional","type":"uint32","name":"leagueid","id":22},{"rule":"optional","type":"string","name":"radiant_team_name","id":23},{"rule":"optional","type":"string","name":"dire_team_name","id":24},{"rule":"optional","type":"uint64","name":"radiant_team_logo","id":25},{"rule":"optional","type":"uint64","name":"dire_team_logo","id":26},{"rule":"optional","type":"uint32","name":"radiant_team_complete","id":27},{"rule":"optional","type":"uint32","name":"dire_team_complete","id":28},{"rule":"optional","type":"uint32","name":"positive_votes","id":29},{"rule":"optional","type":"uint32","name":"negative_votes","id":30},{"rule":"optional","type":"DOTA_GameMode","name":"game_mode","id":31,"options":{"default":"DOTA_GAMEMODE_NONE"}},{"rule":"repeated","type":"CMatchHeroSelectEvent","name":"picks_bans","id":32},{"rule":"optional","type":"uint64","name":"match_seq_num","id":33},{"rule":"optional","type":"ReplayState","name":"replay_state","id":34,"options":{"default":"REPLAY_AVAILABLE"}},{"rule":"optional","type":"uint32","name":"radiant_guild_id","id":35},{"rule":"optional","type":"uint32","name":"dire_guild_id","id":36},{"rule":"optional","type":"string","name":"radiant_team_tag","id":37},{"rule":"optional","type":"string","name":"dire_team_tag","id":38},{"rule":"optional","type":"uint32","name":"series_id","id":39},{"rule":"optional","type":"uint32","name":"series_type","id":40},{"rule":"repeated","type":"BroadcasterChannel","name":"broadcaster_channels","id":43},{"rule":"optional","type":"uint32","name":"engine","id":44},{"rule":"optional","type":"CustomGameData","name":"custom_game_data","id":45}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"player_slot","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"uint32","name":"item_0","id":4},{"rule":"optional","type":"uint32","name":"item_1","id":5},{"rule":"optional","type":"uint32","name":"item_2","id":6},{"rule":"optional","type":"uint32","name":"item_3","id":7},{"rule":"optional","type":"uint32","name":"item_4","id":8},{"rule":"optional","type":"uint32","name":"item_5","id":9},{"rule":"optional","type":"float","name":"expected_team_contribution","id":10},{"rule":"optional","type":"float","name":"scaled_metric","id":11},{"rule":"optional","type":"uint32","name":"previous_rank","id":12},{"rule":"optional","type":"uint32","name":"rank_change","id":13},{"rule":"optional","type":"bool","name":"solo_rank","id":49},{"rule":"optional","type":"uint32","name":"kills","id":14},{"rule":"optional","type":"uint32","name":"deaths","id":15},{"rule":"optional","type":"uint32","name":"assists","id":16},{"rule":"optional","type":"uint32","name":"leaver_status","id":17},{"rule":"optional","type":"uint32","name":"gold","id":18},{"rule":"optional","type":"uint32","name":"last_hits","id":19},{"rule":"optional","type":"uint32","name":"denies","id":20},{"rule":"optional","type":"uint32","name":"gold_per_min","id":21},{"rule":"optional","type":"uint32","name":"XP_per_min","id":22},{"rule":"optional","type":"uint32","name":"gold_spent","id":23},{"rule":"optional","type":"uint32","name":"hero_damage","id":24},{"rule":"optional","type":"uint32","name":"tower_damage","id":25},{"rule":"optional","type":"uint32","name":"hero_healing","id":26},{"rule":"optional","type":"uint32","name":"level","id":27},{"rule":"optional","type":"uint32","name":"time_last_seen","id":28},{"rule":"optional","type":"string","name":"player_name","id":29},{"rule":"optional","type":"uint32","name":"support_ability_value","id":30},{"rule":"optional","type":"bool","name":"feeding_detected","id":32},{"rule":"optional","type":"uint32","name":"search_rank","id":34},{"rule":"optional","type":"uint32","name":"search_rank_uncertainty","id":35},{"rule":"optional","type":"int32","name":"rank_uncertainty_change","id":36},{"rule":"optional","type":"uint32","name":"hero_play_count","id":37},{"rule":"optional","type":"fixed64","name":"party_id","id":38},{"rule":"optional","type":"float","name":"scaled_kills","id":39},{"rule":"optional","type":"float","name":"scaled_deaths","id":40},{"rule":"optional","type":"float","name":"scaled_assists","id":41},{"rule":"optional","type":"uint32","name":"claimed_farm_gold","id":42},{"rule":"optional","type":"uint32","name":"support_gold","id":43},{"rule":"optional","type":"uint32","name":"claimed_denies","id":44},{"rule":"optional","type":"uint32","name":"claimed_misses","id":45},{"rule":"optional","type":"uint32","name":"misses","id":46},{"rule":"repeated","type":"CMatchPlayerAbilityUpgrade","name":"ability_upgrades","id":47},{"rule":"repeated","type":"CMatchAdditionalUnitInventory","name":"additional_units_inventory","id":48},{"rule":"optional","type":"CustomGameData","name":"custom_game_data","id":50}],"messages":[{"name":"CustomGameData","fields":[{"rule":"optional","type":"uint32","name":"dota_team","id":1},{"rule":"optional","type":"bool","name":"winner","id":2}]}]},{"name":"BroadcasterInfo","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"string","name":"name","id":2}]},{"name":"BroadcasterChannel","fields":[{"rule":"optional","type":"string","name":"country_code","id":1},{"rule":"optional","type":"string","name":"description","id":2},{"rule":"repeated","type":"BroadcasterInfo","name":"broadcaster_infos","id":3},{"rule":"optional","type":"string","name":"language_code","id":4}]},{"name":"CustomGameData","fields":[{"rule":"optional","type":"uint64","name":"custom_game_id","id":1},{"rule":"optional","type":"string","name":"map_name","id":2}]}],"enums":[{"name":"ReplayState","values":[{"name":"REPLAY_AVAILABLE","id":0},{"name":"REPLAY_NOT_RECORDED","id":1},{"name":"REPLAY_EXPIRED","id":2}]}]},{"name":"CMsgDOTAPlayerMatchHistory","fields":[{"rule":"repeated","type":"uint64","name":"match_ids","id":1}]},{"name":"CMsgDOTAMatchHistoryFilter","fields":[{"rule":"repeated","type":"uint64","name":"match_ids","id":1},{"rule":"optional","type":"uint64","name":"newest_match_id_at_last_query","id":2},{"rule":"optional","type":"uint32","name":"time_last_query","id":3}]},{"name":"CMsgDOTARequestMatches","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":2},{"rule":"optional","type":"uint32","name":"game_mode","id":3},{"rule":"optional","type":"fixed32","name":"date_min","id":6},{"rule":"optional","type":"fixed32","name":"date_max","id":7},{"rule":"optional","type":"uint32","name":"matches_requested","id":10},{"rule":"optional","type":"uint64","name":"start_at_match_id","id":11},{"rule":"optional","type":"fixed32","name":"min_players","id":12},{"rule":"optional","type":"uint32","name":"request_id","id":13},{"rule":"optional","type":"bool","name":"tournament_games_only","id":14},{"rule":"optional","type":"uint32","name":"account_id","id":15},{"rule":"optional","type":"uint32","name":"league_id","id":16},{"rule":"optional","type":"SkillLevel","name":"skill","id":17,"options":{"default":"Any"}},{"rule":"optional","type":"uint32","name":"team_id","id":18},{"rule":"optional","type":"uint64","name":"custom_game_id","id":20}],"enums":[{"name":"SkillLevel","values":[{"name":"Any","id":0},{"name":"Normal","id":1},{"name":"High","id":2},{"name":"VeryHigh","id":3}]}]},{"name":"CMsgDOTARequestMatchesResponse","fields":[{"rule":"repeated","type":"CMsgDOTAMatch","name":"matches","id":1},{"rule":"repeated","type":"Series","name":"series","id":2},{"rule":"optional","type":"uint32","name":"request_id","id":3},{"rule":"optional","type":"uint32","name":"total_results","id":4},{"rule":"optional","type":"uint32","name":"results_remaining","id":5}],"messages":[{"name":"Series","fields":[{"rule":"repeated","type":"CMsgDOTAMatch","name":"matches","id":1},{"rule":"optional","type":"uint32","name":"series_id","id":2},{"rule":"optional","type":"uint32","name":"series_type","id":3}]}]},{"name":"CMsgDOTAPopup","fields":[{"rule":"optional","type":"PopupID","name":"id","id":1,"options":{"default":"KICKED_FROM_LOBBY"}},{"rule":"optional","type":"string","name":"custom_text","id":2},{"rule":"optional","type":"sint32","name":"int_data","id":3},{"rule":"optional","type":"bytes","name":"popup_data","id":4}],"enums":[{"name":"PopupID","values":[{"name":"KICKED_FROM_LOBBY","id":0},{"name":"KICKED_FROM_PARTY","id":1},{"name":"KICKED_FROM_TEAM","id":2},{"name":"TEAM_WAS_DISBANDED","id":3},{"name":"TEAM_MATCHMAKE_ALREADY_MATCH","id":4},{"name":"TEAM_MATCHMAKE_ALREADY_FINDING","id":5},{"name":"TEAM_MATCHMAKE_FULL","id":6},{"name":"TEAM_MATCHMAKE_FAIL_ADD","id":7},{"name":"TEAM_MATCHMAKE_FAIL_ADD_CURRENT","id":8},{"name":"TEAM_MATCHMAKE_FAILED_TEAM_MEMBER","id":9},{"name":"TEAM_MATCHMAKE_ALREADY_GAME","id":10},{"name":"TEAM_MATCHMAKE_FAIL_GET_PARTY","id":11},{"name":"MATCHMAKING_DISABLED","id":12},{"name":"INVITE_DENIED","id":13},{"name":"PARTY_FULL","id":14},{"name":"MADE_ADMIN","id":15},{"name":"NEED_TO_PURCHASE","id":16},{"name":"SIGNON_MESSAGE","id":17},{"name":"GUILD_KICKED","id":18},{"name":"MATCHMAKING_REGION_OFFLINE","id":19},{"name":"TOO_MANY_MATCHGROUPS","id":20},{"name":"TOURNAMENT_GAME_NOT_FOUND","id":21},{"name":"TOURNAMENT_GAME_HAS_LOBBY_ID","id":22},{"name":"TOURNAMENT_GAME_HAS_MATCH_ID","id":23},{"name":"TOURNAMENT_GAME_HAS_NO_RADIANT_TEAM","id":24},{"name":"TOURNAMENT_GAME_HAS_NO_DIRE_TEAM","id":25},{"name":"TOURNAMENT_GAME_SQL_UPDATE_FAILED","id":26},{"name":"NOT_LEAGUE_ADMIN","id":27},{"name":"PARTY_NOT_VALID_TO_MM","id":28},{"name":"PARTY_NOT_VALID_TO_MM_COACHCOUNT","id":29},{"name":"PARTY_MEMBER_IN_ANOTHER_GAME","id":30},{"name":"PARTY_MEMBER_IN_LOW_PRIORITY","id":31},{"name":"CLIENT_OUT_OF_DATE","id":32},{"name":"COMPETITIVE_MM_NO_COACHES","id":33},{"name":"COMPETITIVE_MM_NO_LOW_PRIORITY","id":34},{"name":"COMPETITIVE_MM_NOT_UNLOCKED","id":35},{"name":"COMPETITIVE_MM_GAME_MODE_NOT_ALLOWED","id":36},{"name":"GAME_MODE_NOT_UNLOCKED","id":37},{"name":"SAVE_GAME_CORRUPT","id":38},{"name":"INSUFFICIENT_INGOTS","id":39},{"name":"COMPETITIVE_MM_NO_4STACKS","id":40},{"name":"COMPETITIVE_MM_PARTY_MMR_SPREAD_TOO_LARGE","id":41},{"name":"COMPETITIVE_MM_NOT_ENOUGH_SKILL_DATA_PLAY_MORE_CASUAL","id":42},{"name":"COMPETITIVE_MM_NOT_ENOUGH_SKILL_DATA_IN_PARTY","id":43},{"name":"PARTY_LEADER_JOINED_LOBBY","id":44},{"name":"MM_1V1_NO_PARTIES","id":45},{"name":"MM_1V1_NO_LOW_PRIORITY","id":46},{"name":"WEEKEND_TOURNEY_REGISTRATION_NOT_OPEN","id":47},{"name":"WEEKEND_TOURNEY_UNMATCHED","id":48},{"name":"POST_MATCH_SURVEY","id":49},{"name":"TROPHY_AWARDED","id":50},{"name":"TROPHY_LEVEL_UP","id":51},{"name":"ALL_HERO_CHALLENGE_PROGRESS","id":52},{"name":"NEED_INITIAL_SKILL","id":53},{"name":"NEED_INITIAL_SKILL_IN_PARTY","id":54},{"name":"TARGET_ENGINE_MISMATCH","id":55},{"name":"VAC_NOT_VERIFIED","id":56},{"name":"KICKED_FROM_QUEUE_EVENT_STARTING","id":57},{"name":"KICKED_FROM_QUEUE_EVENT_ENDING","id":58},{"name":"EVENT_NO_LOW_PRIORITY","id":59},{"name":"MM_LOW_PRI_ONLY_CASUAL_AR","id":60},{"name":"CNY2015_ONCE_PER_ROUND","id":61},{"name":"LOBBY_FULL","id":62},{"name":"TI2015_POINTS_EARNED","id":63},{"name":"CUSTOM_GAME_INCORRECT_VERSION","id":64},{"name":"COMPETITIVE_MM_MMR_TOO_HIGH_S2","id":65}]}]},{"name":"CMsgDOTATeamMemberSDO","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"uint32","name":"team_ids","id":2},{"rule":"optional","type":"uint32","name":"profile_team_id","id":3}]},{"name":"CMsgDOTATeamAdminSDO","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"uint32","name":"team_ids","id":2}]},{"name":"CMsgDOTATeamMember","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"time_joined","id":4}]},{"name":"CMsgDOTATeam","fields":[{"rule":"repeated","type":"CMsgDOTATeamMember","name":"members","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2},{"rule":"optional","type":"string","name":"name","id":3},{"rule":"optional","type":"string","name":"tag","id":4},{"rule":"optional","type":"uint32","name":"admin_id","id":5},{"rule":"optional","type":"uint32","name":"time_created","id":6},{"rule":"optional","type":"bool","name":"disbanded","id":7},{"rule":"optional","type":"uint32","name":"wins","id":8},{"rule":"optional","type":"uint32","name":"losses","id":9},{"rule":"optional","type":"uint32","name":"rank","id":10},{"rule":"optional","type":"uint32","name":"calibration_games_remaining","id":24},{"rule":"optional","type":"uint64","name":"logo","id":11},{"rule":"optional","type":"uint64","name":"base_logo","id":12},{"rule":"optional","type":"uint64","name":"banner_logo","id":13},{"rule":"optional","type":"uint64","name":"sponsor_logo","id":14},{"rule":"optional","type":"string","name":"country_code","id":15},{"rule":"optional","type":"string","name":"url","id":16},{"rule":"optional","type":"uint32","name":"fullgamesplayed","id":17},{"rule":"repeated","type":"uint32","name":"leagues","id":18},{"rule":"optional","type":"uint32","name":"gamesplayed","id":19},{"rule":"optional","type":"uint32","name":"gamesplayedwithcurrentroster","id":20},{"rule":"optional","type":"uint32","name":"teammatchmakinggamesplayed","id":21},{"rule":"optional","type":"uint32","name":"lastplayedgametime","id":22},{"rule":"optional","type":"uint32","name":"lastrenametime","id":23}]},{"name":"CMsgDOTACreateTeam","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"tag","id":2},{"rule":"optional","type":"uint64","name":"logo","id":3},{"rule":"optional","type":"uint64","name":"base_logo","id":4},{"rule":"optional","type":"uint64","name":"banner_logo","id":5},{"rule":"optional","type":"uint64","name":"sponsor_logo","id":6},{"rule":"optional","type":"string","name":"country_code","id":7},{"rule":"optional","type":"string","name":"url","id":8}]},{"name":"CMsgDOTACreateTeamResponse","fields":[{"rule":"repeated","type":"Result","name":"results","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2},{"rule":"optional","type":"uint32","name":"seconds_remaining","id":3},{"rule":"optional","type":"uint32","name":"required_level","id":4}],"enums":[{"name":"Result","values":[{"name":"INVALID","id":-1},{"name":"SUCCESS","id":0},{"name":"NAME_EMPTY","id":1},{"name":"NAME_BAD_CHARACTERS","id":2},{"name":"NAME_TAKEN","id":3},{"name":"NAME_TOO_LONG","id":4},{"name":"TAG_EMPTY","id":5},{"name":"TAG_BAD_CHARACTERS","id":6},{"name":"TAG_TAKEN","id":7},{"name":"TAG_TOO_LONG","id":8},{"name":"CREATOR_BUSY","id":9},{"name":"UNSPECIFIED_ERROR","id":10},{"name":"CREATOR_TEAM_LIMIT_REACHED","id":11},{"name":"NO_LOGO","id":12},{"name":"CREATOR_TEAM_CREATION_COOLDOWN","id":13},{"name":"LOGO_UPLOAD_FAILED","id":14},{"name":"NAME_CHANGED_TOO_RECENTLY","id":15},{"name":"CREATOR_INSUFFICIENT_LEVEL","id":16}]}]},{"name":"CMsgDOTAEditTeam","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"tag","id":2},{"rule":"optional","type":"uint64","name":"logo","id":3},{"rule":"optional","type":"uint64","name":"base_logo","id":4},{"rule":"optional","type":"uint64","name":"banner_logo","id":5},{"rule":"optional","type":"uint64","name":"sponsor_logo","id":6},{"rule":"optional","type":"string","name":"country_code","id":7},{"rule":"optional","type":"string","name":"url","id":8},{"rule":"optional","type":"uint32","name":"team_id","id":9}]},{"name":"CMsgDOTAEditTeamLogo","fields":[{"rule":"optional","type":"uint64","name":"logo","id":1},{"rule":"optional","type":"uint64","name":"base_logo","id":2},{"rule":"optional","type":"uint64","name":"banner_logo","id":3},{"rule":"optional","type":"uint64","name":"sponsor_logo","id":4},{"rule":"optional","type":"uint32","name":"team_id","id":5}]},{"name":"CMsgDOTAEditTeamLogoResponse","fields":[{"rule":"repeated","type":"Result","name":"results","id":1}],"enums":[{"name":"Result","values":[{"name":"INVALID","id":-1},{"name":"SUCCESS","id":0},{"name":"CREATOR_BUSY","id":9},{"name":"UNSPECIFIED_ERROR","id":10},{"name":"NO_LOGO","id":12}]}]},{"name":"CMsgDOTAEditTeamDetails","fields":[{"rule":"optional","type":"string","name":"country_code","id":1},{"rule":"optional","type":"string","name":"url","id":2},{"rule":"optional","type":"uint32","name":"team_id","id":3}]},{"name":"CMsgDOTAEditTeamDetailsResponse","fields":[{"rule":"repeated","type":"Result","name":"results","id":1}],"enums":[{"name":"Result","values":[{"name":"INVALID","id":-1},{"name":"SUCCESS","id":0},{"name":"CREATOR_BUSY","id":9},{"name":"UNSPECIFIED_ERROR","id":10}]}]},{"name":"CMsgDOTADisbandTeam","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1}]},{"name":"CMsgDOTADisbandTeamResponse","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"string","name":"team_name","id":2}],"enums":[{"name":"Result","values":[{"name":"SUCCESS","id":0},{"name":"FAILURE","id":1},{"name":"FAILURE_NOT_EMPTY","id":2}]}]},{"name":"CMsgDOTARequestTeamData","fields":[]},{"name":"CMsgDOTARequestTeamDataResponse","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"CMsgDOTATeamData","name":"data","id":2}],"enums":[{"name":"Result","values":[{"name":"SUCCESS","id":0},{"name":"FAILURE","id":1}]}]},{"name":"CMsgDOTATeamData","fields":[{"rule":"optional","type":"bool","name":"on_team","id":1},{"rule":"optional","type":"bool","name":"profile_team","id":2},{"rule":"optional","type":"CMsgDOTATeam","name":"team","id":3}]},{"name":"CMsgDOTATeamProfileRequest","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1}]},{"name":"CMsgDOTATeamMemberProfileRequest","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1}]},{"name":"CMsgDOTATeamIDByNameRequest","fields":[{"rule":"optional","type":"string","name":"name","id":1}]},{"name":"CMsgDOTATeamIDByNameResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2}]},{"name":"CMsgDOTATeamProfileResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1},{"rule":"optional","type":"CMsgDOTATeam","name":"team","id":2}]},{"name":"CMsgDOTAProTeamListRequest","fields":[]},{"name":"CMsgDOTAProTeamListResponse","fields":[{"rule":"repeated","type":"TeamEntry","name":"teams","id":1},{"rule":"optional","type":"uint32","name":"eresult","id":2}],"messages":[{"name":"TeamEntry","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1},{"rule":"optional","type":"string","name":"tag","id":2},{"rule":"optional","type":"uint32","name":"time_created","id":3},{"rule":"optional","type":"uint64","name":"logo","id":4},{"rule":"optional","type":"string","name":"country_code","id":5},{"rule":"optional","type":"uint32","name":"member_count","id":6}]}]},{"name":"CMsgDOTATeamInvite_InviterToGC","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2}]},{"name":"CMsgDOTATeamInvite_GCImmediateResponseToInviter","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"string","name":"invitee_name","id":2},{"rule":"optional","type":"uint32","name":"required_level","id":3}],"enums":[{"name":"Result","values":[{"name":"SUCCESS","id":0},{"name":"MEMBER_LIMIT","id":1},{"name":"INVITEE_NOT_AVAILABLE","id":2},{"name":"INVITEE_BUSY","id":3},{"name":"INVITEE_ALREADY_ON_THE_TEAM","id":4},{"name":"INVITEE_ALREADY_ON_TOO_MANY_TEAMS","id":5},{"name":"UNSPECIFIED_ERROR","id":6},{"name":"INVITEE_INSUFFICIENT_LEVEL","id":7}]}]},{"name":"CMsgDOTATeamInvite_GCRequestToInvitee","fields":[{"rule":"optional","type":"uint32","name":"inviter_account_id","id":1},{"rule":"optional","type":"string","name":"team_name","id":2},{"rule":"optional","type":"string","name":"team_tag","id":3},{"rule":"optional","type":"uint64","name":"logo","id":4}]},{"name":"CMsgDOTATeamInvite_InviteeResponseToGC","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"JOIN"}}],"enums":[{"name":"Result","values":[{"name":"JOIN","id":0},{"name":"REJECT","id":1},{"name":"TIMEOUT","id":2}]}]},{"name":"CMsgDOTATeamInvite_GCResponseToInviter","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"JOINED"}},{"rule":"optional","type":"string","name":"invitee_name","id":2}],"enums":[{"name":"Result","values":[{"name":"JOINED","id":0},{"name":"REJECTION","id":1},{"name":"TIMEOUT","id":2},{"name":"UNSPECIFIED_ERROR","id":3}]}]},{"name":"CMsgDOTATeamInvite_GCResponseToInvitee","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"string","name":"team_name","id":2}],"enums":[{"name":"Result","values":[{"name":"SUCCESS","id":0},{"name":"FAILURE","id":1}]}]},{"name":"CMsgDOTATeamOnProfile","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1},{"rule":"optional","type":"bool","name":"enabled","id":2}]},{"name":"CMsgDOTAKickTeamMember","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2}]},{"name":"CMsgDOTAKickTeamMemberResponse","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"Result","values":[{"name":"SUCCESS","id":0},{"name":"FAILURE","id":1}]}]},{"name":"CMsgDOTATransferTeamAdmin","fields":[{"rule":"optional","type":"uint32","name":"new_admin_account_id","id":1},{"rule":"optional","type":"uint32","name":"team_id","id":2}]},{"name":"CMsgDOTATransferTeamAdminResponse","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"string","name":"invitee_name","id":2}],"enums":[{"name":"Result","values":[{"name":"SUCCESS","id":0},{"name":"NOT_ADMIN","id":1},{"name":"ON_OTHER_TEAM","id":2},{"name":"ADMIN_OF_OTHER_TEAM","id":3},{"name":"UNSPECIFIED_ERROR","id":4}]}]},{"name":"CMsgDOTALeaveTeam","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1}]},{"name":"CMsgDOTALeaveTeamResponse","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"string","name":"team_name","id":2}],"enums":[{"name":"Result","values":[{"name":"SUCCESS","id":0},{"name":"FAILURE","id":1}]}]},{"name":"CMsgDOTABetaParticipation","fields":[{"rule":"optional","type":"uint32","name":"access_rights","id":1}]},{"name":"CMsgDOTAJoinChatChannel","fields":[{"rule":"optional","type":"string","name":"channel_name","id":2},{"rule":"optional","type":"DOTAChatChannelType_t","name":"channel_type","id":4,"options":{"default":"DOTAChannelType_Regional"}}]},{"name":"CMsgDOTALeaveChatChannel","fields":[{"rule":"optional","type":"uint64","name":"channel_id","id":1}]},{"name":"CMsgDOTAClientIgnoredUser","fields":[{"rule":"optional","type":"uint32","name":"ignored_account_id","id":1}]},{"name":"CMsgDOTAChatMessage","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"channel_id","id":2},{"rule":"optional","type":"string","name":"persona_name","id":3},{"rule":"optional","type":"string","name":"text","id":4},{"rule":"optional","type":"uint32","name":"timestamp","id":5},{"rule":"optional","type":"uint32","name":"suggest_invite_account_id","id":6},{"rule":"optional","type":"string","name":"suggest_invite_name","id":7},{"rule":"optional","type":"uint32","name":"fantasy_draft_owner_account_id","id":8},{"rule":"optional","type":"uint32","name":"fantasy_draft_player_account_id","id":9},{"rule":"optional","type":"uint32","name":"event_id","id":10},{"rule":"optional","type":"bool","name":"suggest_invite_to_lobby","id":11},{"rule":"optional","type":"uint32","name":"event_points","id":12},{"rule":"optional","type":"int32","name":"player_id","id":13,"options":{"default":-1}}]},{"name":"CMsgDOTAChatMember","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"string","name":"persona_name","id":2}]},{"name":"CMsgDOTAJoinChatChannelResponse","fields":[{"rule":"optional","type":"uint32","name":"response","id":1},{"rule":"optional","type":"string","name":"channel_name","id":2},{"rule":"optional","type":"fixed64","name":"channel_id","id":3},{"rule":"optional","type":"uint32","name":"max_members","id":4},{"rule":"repeated","type":"CMsgDOTAChatMember","name":"members","id":5}]},{"name":"CMsgDOTAChatChannelFullUpdate","fields":[{"rule":"optional","type":"fixed64","name":"channel_id","id":1},{"rule":"repeated","type":"CMsgDOTAChatMember","name":"members","id":2}]},{"name":"CMsgDOTAOtherJoinedChatChannel","fields":[{"rule":"optional","type":"fixed64","name":"channel_id","id":1},{"rule":"optional","type":"string","name":"persona_name","id":2},{"rule":"optional","type":"fixed64","name":"steam_id","id":3}]},{"name":"CMsgDOTAOtherLeftChatChannel","fields":[{"rule":"optional","type":"fixed64","name":"channel_id","id":1},{"rule":"optional","type":"fixed64","name":"steam_id","id":2}]},{"name":"CMsgDOTAChatChannelMemberUpdate","fields":[{"rule":"optional","type":"fixed64","name":"channel_id","id":1},{"rule":"repeated","type":"fixed64","name":"left_steam_ids","id":2},{"rule":"repeated","type":"JoinedMember","name":"joined_members","id":3}],"messages":[{"name":"JoinedMember","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"string","name":"persona_name","id":2}]}]},{"name":"CMsgDOTARequestChatChannelList","fields":[]},{"name":"CMsgDOTARequestChatChannelListResponse","fields":[{"rule":"repeated","type":"ChatChannel","name":"channels","id":1}],"messages":[{"name":"ChatChannel","fields":[{"rule":"optional","type":"string","name":"channel_name","id":1},{"rule":"optional","type":"uint32","name":"num_members","id":2},{"rule":"optional","type":"DOTAChatChannelType_t","name":"channel_type","id":3,"options":{"default":"DOTAChannelType_Regional"}}]}]},{"name":"CMsgDOTAChatGetUserList","fields":[{"rule":"optional","type":"fixed64","name":"channel_id","id":1}]},{"name":"CMsgDOTAChatGetUserListResponse","fields":[{"rule":"optional","type":"fixed64","name":"channel_id","id":1},{"rule":"repeated","type":"Member","name":"members","id":2}],"messages":[{"name":"Member","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"string","name":"persona_name","id":2}]}]},{"name":"CMsgDOTAChatGetMemberCount","fields":[{"rule":"optional","type":"string","name":"channel_name","id":1},{"rule":"optional","type":"DOTAChatChannelType_t","name":"channel_type","id":2,"options":{"default":"DOTAChannelType_Regional"}}]},{"name":"CMsgDOTAChatGetMemberCountResponse","fields":[{"rule":"optional","type":"string","name":"channel_name","id":1},{"rule":"optional","type":"DOTAChatChannelType_t","name":"channel_type","id":2,"options":{"default":"DOTAChannelType_Regional"}},{"rule":"optional","type":"uint32","name":"member_count","id":3}]},{"name":"CMsgDOTAGuildSDO","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"string","name":"tag","id":3},{"rule":"optional","type":"uint32","name":"time_created","id":4},{"rule":"optional","type":"uint32","name":"time_disbanded","id":5},{"rule":"optional","type":"uint64","name":"logo","id":6},{"rule":"optional","type":"uint64","name":"base_logo","id":7},{"rule":"optional","type":"uint64","name":"banner_logo","id":8},{"rule":"repeated","type":"Member","name":"members","id":9},{"rule":"repeated","type":"Invitation","name":"invitations","id":10},{"rule":"optional","type":"string","name":"message","id":11},{"rule":"optional","type":"bool","name":"incremental","id":12}],"messages":[{"name":"Member","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"time_joined","id":2},{"rule":"optional","type":"uint32","name":"role","id":3}]},{"name":"Invitation","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"time_sent","id":2},{"rule":"optional","type":"uint32","name":"account_id_sender","id":3}]}]},{"name":"CMsgDOTAGuildAuditSDO","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"repeated","type":"Entry","name":"entries","id":2}],"messages":[{"name":"Entry","fields":[{"rule":"optional","type":"uint32","name":"event_index","id":1},{"rule":"optional","type":"uint32","name":"timestamp","id":2},{"rule":"optional","type":"uint32","name":"action","id":3},{"rule":"optional","type":"uint32","name":"account_id_requestor","id":4},{"rule":"optional","type":"uint32","name":"account_id_target","id":5},{"rule":"optional","type":"uint32","name":"reference_data_a","id":6},{"rule":"optional","type":"uint32","name":"reference_data_b","id":7}]}]},{"name":"CMsgDOTAAccountGuildMembershipsSDO","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"Membership","name":"memberships","id":2},{"rule":"repeated","type":"Invitation","name":"invitations","id":3}],"messages":[{"name":"Membership","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"uint32","name":"role","id":2}]},{"name":"Invitation","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"uint32","name":"time_sent","id":2},{"rule":"optional","type":"uint32","name":"account_id_sender","id":3}]}]},{"name":"CMsgDOTAGuildCreateRequest","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"tag","id":2},{"rule":"optional","type":"uint64","name":"logo","id":3},{"rule":"optional","type":"uint64","name":"base_logo","id":4},{"rule":"optional","type":"uint64","name":"banner_logo","id":5}]},{"name":"CMsgDOTAGuildCreateResponse","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"repeated","type":"EError","name":"errors","id":2}],"enums":[{"name":"EError","values":[{"name":"UNSPECIFIED","id":0},{"name":"NAME_EMPTY","id":1},{"name":"NAME_BAD_CHARACTERS","id":2},{"name":"NAME_TOO_LONG","id":3},{"name":"NAME_TAKEN","id":4},{"name":"TAG_EMPTY","id":5},{"name":"TAG_BAD_CHARACTERS","id":6},{"name":"TAG_TOO_LONG","id":7},{"name":"ACCOUNT_TOO_MANY_GUILDS","id":8},{"name":"LOGO_UPLOAD_FAILED","id":9}]}]},{"name":"CMsgDOTAGuildSetAccountRoleRequest","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"uint32","name":"target_account_id","id":2},{"rule":"optional","type":"uint32","name":"target_role","id":3}]},{"name":"CMsgDOTAGuildSetAccountRoleResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2},{"name":"ERROR_NO_OTHER_LEADER","id":3},{"name":"ERROR_ACCOUNT_TOO_MANY_GUILDS","id":4},{"name":"ERROR_GUILD_TOO_MANY_MEMBERS","id":5}]}]},{"name":"CMsgDOTAGuildInviteAccountRequest","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"uint32","name":"target_account_id","id":2}]},{"name":"CMsgDOTAGuildInviteAccountResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2},{"name":"ERROR_ACCOUNT_ALREADY_INVITED","id":3},{"name":"ERROR_ACCOUNT_ALREADY_IN_GUILD","id":4},{"name":"ERROR_ACCOUNT_TOO_MANY_INVITES","id":5},{"name":"ERROR_GUILD_TOO_MANY_INVITES","id":6},{"name":"ERROR_ACCOUNT_TOO_MANY_GUILDS","id":7}]}]},{"name":"CMsgDOTAGuildCancelInviteRequest","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"uint32","name":"target_account_id","id":2}]},{"name":"CMsgDOTAGuildCancelInviteResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAGuildUpdateDetailsRequest","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"uint64","name":"logo","id":2},{"rule":"optional","type":"uint64","name":"base_logo","id":3},{"rule":"optional","type":"uint64","name":"banner_logo","id":4}]},{"name":"CMsgDOTAGuildUpdateDetailsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAGCToGCUpdateOpenGuildPartyRequest","fields":[{"rule":"optional","type":"uint64","name":"party_id","id":1},{"rule":"optional","type":"uint32","name":"guild_id","id":2},{"rule":"repeated","type":"uint32","name":"member_account_ids","id":3},{"rule":"optional","type":"string","name":"description","id":4}]},{"name":"CMsgDOTAGCToGCUpdateOpenGuildPartyResponse","fields":[{"rule":"optional","type":"bool","name":"maintain_association","id":1}]},{"name":"CMsgDOTAGCToGCDestroyOpenGuildPartyRequest","fields":[{"rule":"optional","type":"uint64","name":"party_id","id":1},{"rule":"optional","type":"uint32","name":"guild_id","id":2}]},{"name":"CMsgDOTAGCToGCDestroyOpenGuildPartyResponse","fields":[]},{"name":"CMsgDOTAPartySetOpenGuildRequest","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"string","name":"description","id":2}]},{"name":"CMsgDOTAPartySetOpenGuildResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1}]}]},{"name":"CMsgDOTAJoinOpenGuildPartyRequest","fields":[{"rule":"optional","type":"uint64","name":"party_id","id":1}]},{"name":"CMsgDOTAJoinOpenGuildPartyResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1}]}]},{"name":"CMsgDOTAGuildOpenPartyRefresh","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"repeated","type":"OpenParty","name":"open_parties","id":2}],"messages":[{"name":"OpenParty","fields":[{"rule":"optional","type":"uint64","name":"party_id","id":1},{"rule":"repeated","type":"uint32","name":"member_account_ids","id":2},{"rule":"optional","type":"uint32","name":"time_created","id":3},{"rule":"optional","type":"string","name":"description","id":4}]}]},{"name":"CMsgDOTARequestGuildData","fields":[]},{"name":"CMsgDOTAGuildInviteData","fields":[{"rule":"optional","type":"bool","name":"invited_to_guild","id":1},{"rule":"optional","type":"uint32","name":"guild_id","id":2},{"rule":"optional","type":"string","name":"guild_name","id":3},{"rule":"optional","type":"string","name":"guild_tag","id":4},{"rule":"optional","type":"uint64","name":"logo","id":5},{"rule":"optional","type":"uint32","name":"inviter","id":6},{"rule":"optional","type":"string","name":"inviter_name","id":7},{"rule":"optional","type":"uint32","name":"member_count","id":8}]},{"name":"CMsgDOTAGuildUpdateMessage","fields":[{"rule":"optional","type":"string","name":"message","id":1},{"rule":"optional","type":"uint32","name":"guild_id","id":2}]},{"name":"CMsgDOTAGuildEditLogoRequest","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"uint64","name":"logo","id":2}]},{"name":"CMsgDOTAGuildEditLogoResponse","fields":[{"rule":"optional","type":"uint32","name":"guild_id","id":1},{"rule":"optional","type":"EResult","name":"result","id":2,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"NO_PERMISSION","id":1},{"name":"LOGO_UPLOAD_FAILED","id":2},{"name":"UNSPECIFIED_ERROR","id":3}]}]},{"name":"CMsgDOTAReportsRemainingRequest","fields":[]},{"name":"CMsgDOTAReportsRemainingResponse","fields":[{"rule":"optional","type":"uint32","name":"num_positive_reports_remaining","id":1},{"rule":"optional","type":"uint32","name":"num_negative_reports_remaining","id":2},{"rule":"optional","type":"uint32","name":"num_positive_reports_total","id":3},{"rule":"optional","type":"uint32","name":"num_negative_reports_total","id":4}]},{"name":"CMsgDOTASubmitPlayerReport","fields":[{"rule":"optional","type":"uint32","name":"target_account_id","id":1},{"rule":"optional","type":"uint32","name":"report_flags","id":2},{"rule":"optional","type":"string","name":"comment","id":5}]},{"name":"CMsgDOTASubmitPlayerReportResponse","fields":[{"rule":"optional","type":"uint32","name":"target_account_id","id":1},{"rule":"optional","type":"uint32","name":"report_flags","id":2},{"rule":"optional","type":"uint32","name":"result","id":3}]},{"name":"CMsgDOTAReportCountsRequest","fields":[{"rule":"optional","type":"uint32","name":"target_account_id","id":1}]},{"name":"CMsgDOTAReportCountsResponse","fields":[{"rule":"optional","type":"uint32","name":"target_account_id","id":1},{"rule":"optional","type":"uint32","name":"leadership_count","id":2},{"rule":"optional","type":"uint32","name":"teaching_count","id":3},{"rule":"optional","type":"uint32","name":"friendly_count","id":4},{"rule":"optional","type":"uint32","name":"forgiving_count","id":5}]},{"name":"CMsgDOTAKickedFromMatchmakingQueue","fields":[{"rule":"optional","type":"MatchType","name":"match_type","id":1,"options":{"default":"MATCH_TYPE_CASUAL"}}]},{"name":"CMsgDOTARequestSaveGames","fields":[{"rule":"optional","type":"uint32","name":"server_region","id":1}]},{"name":"CMsgDOTARequestSaveGamesResponse","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"repeated","type":"CDOTASaveGame","name":"save_games","id":2}]},{"name":"CMsgWatchGame","fields":[{"rule":"optional","type":"fixed64","name":"server_steamid","id":1},{"rule":"optional","type":"uint32","name":"client_version","id":2},{"rule":"optional","type":"fixed64","name":"watch_server_steamid","id":3},{"rule":"optional","type":"uint64","name":"lobby_id","id":4}]},{"name":"CMsgCancelWatchGame","fields":[]},{"name":"CMsgWatchGameResponse","fields":[{"rule":"optional","type":"WatchGameResult","name":"watch_game_result","id":1,"options":{"default":"PENDING"}},{"rule":"optional","type":"uint32","name":"source_tv_public_addr","id":2},{"rule":"optional","type":"uint32","name":"source_tv_private_addr","id":3},{"rule":"optional","type":"uint32","name":"source_tv_port","id":4},{"rule":"optional","type":"fixed64","name":"game_server_steamid","id":5},{"rule":"optional","type":"fixed64","name":"watch_server_steamid","id":6},{"rule":"optional","type":"fixed64","name":"watch_tv_unique_secret_code","id":7}],"enums":[{"name":"WatchGameResult","values":[{"name":"PENDING","id":0},{"name":"READY","id":1},{"name":"GAMESERVERNOTFOUND","id":2},{"name":"UNAVAILABLE","id":3},{"name":"CANCELLED","id":4},{"name":"INCOMPATIBLEVERSION","id":5},{"name":"MISSINGLEAGUESUBSCRIPTION","id":6},{"name":"LOBBYNOTFOUND","id":7}]}]},{"name":"CMsgPartyLeaderWatchGamePrompt","fields":[{"rule":"optional","type":"fixed64","name":"game_server_steamid","id":5}]},{"name":"CMsgGCMatchDetailsRequest","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1}]},{"name":"CMsgGCMatchDetailsResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1},{"rule":"optional","type":"CMsgDOTAMatch","name":"match","id":2},{"rule":"optional","type":"DOTAMatchVote","name":"vote","id":3,"options":{"default":"DOTAMatchVote_INVALID"}}]},{"name":"CMsgDOTAProfileRequest","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"bool","name":"request_name","id":2},{"rule":"optional","type":"ESourceEngine","name":"engine","id":3,"options":{"default":"k_ESE_Source1"}}]},{"name":"CMsgDOTAProfileResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1},{"rule":"optional","type":"CSODOTAGameAccountClient","name":"game_account_client","id":2},{"rule":"repeated","type":"CMsgDOTAMatch","name":"latest_matches","id":3},{"rule":"repeated","type":"PlayedHero","name":"heroes","id":4},{"rule":"optional","type":"string","name":"player_name","id":5},{"rule":"optional","type":"string","name":"team_name","id":6},{"rule":"optional","type":"string","name":"team_tag","id":7},{"rule":"optional","type":"uint64","name":"team_logo","id":8},{"rule":"optional","type":"ShowcaseHero","name":"showcase_hero","id":9},{"rule":"repeated","type":"LeaguePass","name":"league_passes","id":10},{"rule":"repeated","type":"EventTicket","name":"event_tickets","id":11},{"rule":"optional","type":"uint32","name":"team_id","id":12},{"rule":"optional","type":"bool","name":"has_passport","id":13},{"rule":"repeated","type":"FeaturedItem","name":"featured_items","id":14},{"rule":"optional","type":"uint32","name":"abandon_percent","id":15}],"messages":[{"name":"PlayedHero","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"optional","type":"uint32","name":"wins","id":2}]},{"name":"ShowcaseHero","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"repeated","type":"bytes","name":"object_data","id":2}]},{"name":"LeaguePass","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1},{"rule":"optional","type":"uint32","name":"item_def","id":2}]},{"name":"EventTicket","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1}]},{"name":"FeaturedItem","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1},{"rule":"optional","type":"bytes","name":"object_data","id":2},{"rule":"optional","type":"uint32","name":"slot_index","id":3}]}]},{"name":"CMsgGCSteamProfileRequest","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgGCSteamProfileRequestResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1}]},{"name":"CMsgDOTAClearNotifySuccessfulReport","fields":[]},{"name":"CMsgDOTAWelcome","fields":[{"rule":"optional","type":"bool","name":"tournament_admin","id":3},{"rule":"optional","type":"bool","name":"tournament_broadcaster","id":4},{"rule":"optional","type":"uint32","name":"store_item_hash","id":5},{"rule":"optional","type":"uint32","name":"timeplayedconsecutively","id":6},{"rule":"optional","type":"bool","name":"allow_3rd_party_match_history","id":7},{"rule":"optional","type":"PartnerAccountType","name":"partner_account_type","id":8,"options":{"default":"PARTNER_NONE"}},{"rule":"optional","type":"uint32","name":"banned_word_list_word_id","id":9},{"rule":"optional","type":"uint32","name":"partner_account_state","id":11},{"rule":"optional","type":"uint32","name":"last_time_played","id":12},{"rule":"optional","type":"uint32","name":"last_ip_address","id":13},{"rule":"optional","type":"uint32","name":"shutdownlawterminateminutes","id":15},{"rule":"optional","type":"uint32","name":"banned_word_list_version","id":16},{"rule":"optional","type":"bool","name":"profile_private","id":17},{"rule":"optional","type":"uint32","name":"currency","id":18},{"rule":"optional","type":"uint32","name":"bang_no","id":19},{"rule":"optional","type":"bool","name":"should_request_player_origin","id":20},{"rule":"optional","type":"uint64","name":"compendium_unlocks","id":21},{"rule":"optional","type":"uint32","name":"gc_socache_file_version","id":22},{"rule":"repeated","type":"LocalizationDigest","name":"localization_digests","id":23},{"rule":"optional","type":"bool","name":"is_perfect_world_test_account","id":24},{"rule":"repeated","type":"EIngameEvent","name":"active_events","id":25},{"rule":"repeated","type":"CExtraMsg","name":"extra_messages","id":26}],"messages":[{"name":"LocalizationDigest","fields":[{"rule":"optional","type":"string","name":"context","id":1},{"rule":"optional","type":"CMsgSHA1Digest","name":"english_language_file_sha1","id":2},{"rule":"optional","type":"CMsgSHA1Digest","name":"client_language_file_sha1","id":3}]},{"name":"CExtraMsg","fields":[{"rule":"optional","type":"uint32","name":"id","id":1},{"rule":"optional","type":"bytes","name":"contents","id":2}]}]},{"name":"CSODOTAGameHeroFavorites","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"hero_id","id":2,"options":{"(key_field)":true}}]},{"name":"CMsgDOTAHeroFavoritesAdd","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1}]},{"name":"CMsgDOTAHeroFavoritesRemove","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1}]},{"name":"CMsgSetShowcaseHero","fields":[{"rule":"optional","type":"uint32","name":"showcase_hero_id","id":1}]},{"name":"CMsgSetFeaturedItems","fields":[{"rule":"repeated","type":"uint64","name":"featured_item_id","id":1}]},{"name":"CMsgDOTAFeaturedItems","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"uint64","name":"featured_item_id","id":2},{"rule":"repeated","type":"bytes","name":"object_data","id":3}]},{"name":"CMsgRequestLeagueInfo","fields":[]},{"name":"CLeague","fields":[{"rule":"optional","type":"uint32","name":"leagueid","id":1},{"rule":"optional","type":"bool","name":"live","id":2},{"rule":"optional","type":"fixed32","name":"lastgametime","id":4},{"rule":"optional","type":"uint32","name":"prize_pool_usd","id":5},{"rule":"optional","type":"uint32","name":"version","id":6},{"rule":"optional","type":"bool","name":"compendium_is_public","id":7},{"rule":"optional","type":"uint32","name":"content_version","id":8}]},{"name":"CMsgResponseLeagueInfo","fields":[{"rule":"repeated","type":"CLeague","name":"leagues","id":1}]},{"name":"CMsgDOTAMatchVotes","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"repeated","type":"PlayerVote","name":"votes","id":2}],"messages":[{"name":"PlayerVote","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"vote","id":2}]}]},{"name":"CMsgCastMatchVote","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"DOTAMatchVote","name":"vote","id":2,"options":{"default":"DOTAMatchVote_INVALID"}}]},{"name":"CMsgRetrieveMatchVote","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"incremental","id":2}]},{"name":"CMsgMatchVoteResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}},{"rule":"optional","type":"DOTAMatchVote","name":"vote","id":2,"options":{"default":"DOTAMatchVote_INVALID"}},{"rule":"optional","type":"uint32","name":"positive_votes","id":3},{"rule":"optional","type":"uint32","name":"negative_votes","id":4}]},{"name":"CMsgDOTAHallOfFame","fields":[{"rule":"optional","type":"uint32","name":"week","id":1},{"rule":"repeated","type":"FeaturedPlayer","name":"featured_players","id":2},{"rule":"optional","type":"FeaturedFarmer","name":"featured_farmer","id":3}],"messages":[{"name":"FeaturedPlayer","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"hero_id","id":2},{"rule":"optional","type":"float","name":"average_scaled_metric","id":3},{"rule":"optional","type":"uint32","name":"num_games","id":4}]},{"name":"FeaturedFarmer","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"hero_id","id":2},{"rule":"optional","type":"uint32","name":"gold_per_min","id":3},{"rule":"optional","type":"uint64","name":"match_id","id":4}]}]},{"name":"CMsgDOTAHallOfFameRequest","fields":[{"rule":"optional","type":"uint32","name":"week","id":1}]},{"name":"CMsgDOTAHallOfFameResponse","fields":[{"rule":"optional","type":"CMsgDOTAHallOfFame","name":"hall_of_fame","id":1},{"rule":"optional","type":"uint32","name":"eresult","id":2,"options":{"default":2}}]},{"name":"CMsgDOTAHalloweenHighScoreRequest","fields":[{"rule":"optional","type":"int32","name":"round","id":1,"options":{"default":-1}}]},{"name":"CMsgDOTAHalloweenHighScoreResponse","fields":[{"rule":"optional","type":"uint32","name":"score","id":1},{"rule":"optional","type":"CMsgDOTAMatch","name":"match","id":2},{"rule":"optional","type":"uint32","name":"eresult","id":3},{"rule":"optional","type":"int32","name":"round","id":4}]},{"name":"CMsgDOTAStorePromoPagesRequest","fields":[{"rule":"optional","type":"uint32","name":"version_seen","id":1}]},{"name":"CMsgDOTAStorePromoPagesResponse","fields":[{"rule":"repeated","type":"PromoPage","name":"pages","id":1}],"messages":[{"name":"PromoPage","fields":[{"rule":"optional","type":"uint32","name":"promo_id","id":1},{"rule":"optional","type":"string","name":"title","id":2},{"rule":"optional","type":"string","name":"url","id":3}]}]},{"name":"CMsgLeagueScheduleBlockTeamInfo","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"uint64","name":"logo","id":4}]},{"name":"CMsgLeagueScheduleBlock","fields":[{"rule":"optional","type":"uint32","name":"block_id","id":1},{"rule":"optional","type":"uint32","name":"start_time","id":2},{"rule":"optional","type":"bool","name":"finals","id":4},{"rule":"optional","type":"string","name":"comment","id":5},{"rule":"repeated","type":"CMsgLeagueScheduleBlockTeamInfo","name":"teams","id":6}]},{"name":"CMsgDOTALeague","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1},{"rule":"repeated","type":"CMsgLeagueScheduleBlock","name":"schedule","id":2}]},{"name":"CMsgDOTALeagueScheduleRequest","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1}]},{"name":"CMsgDOTALeagueScheduleResponse","fields":[{"rule":"optional","type":"CMsgDOTALeague","name":"league","id":1},{"rule":"optional","type":"uint32","name":"eresult","id":2,"options":{"default":2}}]},{"name":"CMsgDOTALeagueScheduleEdit","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1},{"rule":"optional","type":"CMsgLeagueScheduleBlock","name":"schedule","id":2},{"rule":"optional","type":"bool","name":"delete_block","id":3}]},{"name":"CMsgDOTALeagueScheduleEditResponse","fields":[{"rule":"optional","type":"CMsgDOTALeague","name":"league","id":1},{"rule":"optional","type":"uint32","name":"eresult","id":2,"options":{"default":2}}]},{"name":"CMsgDOTALeaguesInMonthRequest","fields":[{"rule":"optional","type":"uint32","name":"month","id":1},{"rule":"optional","type":"uint32","name":"year","id":2},{"rule":"optional","type":"uint32","name":"tier","id":3}]},{"name":"CMsgDOTALeaguesInMonthResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}},{"rule":"optional","type":"uint32","name":"month","id":2},{"rule":"optional","type":"uint32","name":"year","id":3},{"rule":"repeated","type":"CMsgDOTALeague","name":"leagues","id":4}]},{"name":"CMsgSockAddrList","fields":[{"rule":"repeated","type":"fixed32","name":"ip","id":1,"options":{"packed":true}},{"rule":"repeated","type":"uint32","name":"port","id":2,"options":{"packed":true}}]},{"name":"CMsgMatchmakingGroupServerSample","fields":[{"rule":"repeated","type":"CMsgSockAddrList","name":"servers_by_group","id":5},{"rule":"optional","type":"uint32","name":"servers_to_ping","id":2},{"rule":"optional","type":"uint32","name":"reply_odds","id":3},{"rule":"optional","type":"uint32","name":"reply_detailed_odds","id":4}]},{"name":"CMsgClientGameserverPings","fields":[{"rule":"repeated","type":"uint32","name":"average_ping_by_group","id":1},{"rule":"repeated","type":"PingDetail","name":"ping_details","id":2}],"messages":[{"name":"PingDetail","fields":[{"rule":"optional","type":"fixed32","name":"ip","id":1},{"rule":"optional","type":"uint32","name":"port","id":2},{"rule":"optional","type":"uint32","name":"ping","id":3}]}]},{"name":"CMsgDOTAMatchmakingStatsRequest","fields":[]},{"name":"CMsgDOTAMatchmakingStatsResponse","fields":[{"rule":"repeated","type":"uint32","name":"searching_players_by_group","id":2},{"rule":"repeated","type":"uint32","name":"searching_players_by_group_source2","id":7},{"rule":"optional","type":"uint32","name":"disabled_groups","id":3},{"rule":"optional","type":"uint32","name":"disabled_groups_source2","id":8},{"rule":"optional","type":"CMsgMatchmakingGroupServerSample","name":"gameserver_sample","id":4},{"rule":"optional","type":"CMsgMatchmakingGroupServerSample","name":"gameserver_sample_source2","id":6},{"rule":"optional","type":"bool","name":"maintenance_alerts","id":5}]},{"name":"CMsgDOTASetMatchHistoryAccess","fields":[{"rule":"optional","type":"bool","name":"allow_3rd_party_match_history","id":1}]},{"name":"CMsgDOTASetMatchHistoryAccessResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgDOTANotifyAccountFlagsChange","fields":[{"rule":"optional","type":"uint32","name":"accountid","id":1},{"rule":"optional","type":"uint32","name":"account_flags","id":2}]},{"name":"CMsgDOTASetProfilePrivacy","fields":[{"rule":"optional","type":"bool","name":"profile_private","id":1}]},{"name":"CMsgDOTASetProfilePrivacyResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1}]},{"name":"CMsgUpgradeLeagueItem","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2}]},{"name":"CMsgUpgradeLeagueItemResponse","fields":[]},{"name":"CMsgGCWatchDownloadedReplay","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"DOTA_WatchReplayType","name":"watch_type","id":2,"options":{"default":"DOTA_WATCH_REPLAY_NORMAL"}}]},{"name":"CMsgSetMapLocationState","fields":[{"rule":"optional","type":"int32","name":"location_id","id":1},{"rule":"optional","type":"bool","name":"completed","id":2}]},{"name":"CMsgSetMapLocationStateResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgResetMapLocations","fields":[]},{"name":"CMsgResetMapLocationsResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}}]},{"name":"CMsgRefreshPartnerAccountLink","fields":[{"rule":"optional","type":"int32","name":"partner_type","id":1}]},{"name":"CMsgClientsRejoinChatChannels","fields":[]},{"name":"CMsgDOTASendFriendRecruits","fields":[{"rule":"repeated","type":"uint32","name":"recruits","id":1}]},{"name":"CMsgDOTAFriendRecruitsRequest","fields":[{"rule":"repeated","type":"uint32","name":"account_ids","id":1}]},{"name":"CMsgDOTAFriendRecruitsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"FriendRecruitStatus","name":"recruits","id":2},{"rule":"repeated","type":"FriendRecruitStatus","name":"recruiters","id":3}],"messages":[{"name":"FriendRecruitStatus","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"status","id":2},{"rule":"optional","type":"uint32","name":"levels_earned","id":3},{"rule":"optional","type":"bool","name":"bonus","id":4}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1}]}]},{"name":"CMsgDOTAFriendRecruitInviteAcceptDecline","fields":[{"rule":"optional","type":"bool","name":"accepted","id":1},{"rule":"optional","type":"uint32","name":"account_id","id":2}]},{"name":"CMsgDOTAPassportVoteTeamGuess","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1},{"rule":"optional","type":"uint32","name":"winner_id","id":2},{"rule":"optional","type":"uint32","name":"runnerup_id","id":3}]},{"name":"CMsgDOTAPassportVoteGenericSelection","fields":[{"rule":"optional","type":"DOTA_2013PassportSelectionIndices","name":"selection_index","id":1,"options":{"default":"PP13_SEL_ALLSTAR_PLAYER_0"}},{"rule":"optional","type":"uint32","name":"selection","id":2}]},{"name":"CMsgDOTAPassportStampedPlayer","fields":[{"rule":"optional","type":"uint64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"stamp_level","id":2}]},{"name":"CMsgDOTAPassportPlayerCardChallenge","fields":[{"rule":"optional","type":"uint32","name":"challenge_id","id":1}]},{"name":"CMsgDOTAPassportVote","fields":[{"rule":"repeated","type":"CMsgDOTAPassportVoteTeamGuess","name":"team_votes","id":1},{"rule":"repeated","type":"CMsgDOTAPassportVoteGenericSelection","name":"generic_selections","id":2},{"rule":"repeated","type":"CMsgDOTAPassportStampedPlayer","name":"stamped_players","id":3},{"rule":"repeated","type":"CMsgDOTAPassportPlayerCardChallenge","name":"player_card_challenges","id":4}]},{"name":"CMsgPassportDataRequest","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgPassportDataResponse","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"result","id":2,"options":{"default":2}},{"rule":"optional","type":"CMsgDOTATournament","name":"international","id":5},{"rule":"optional","type":"uint32","name":"east_qualifiers_predict_end_time","id":7},{"rule":"optional","type":"uint32","name":"west_qualifiers_predict_end_time","id":8},{"rule":"optional","type":"uint32","name":"allstar_match_end_time","id":9},{"rule":"optional","type":"CMsgDOTAPassportVote","name":"league_guesses","id":6},{"rule":"optional","type":"uint32","name":"east_qualifiers_winner_team_id","id":10},{"rule":"optional","type":"uint32","name":"east_qualifiers_runner_up_team_id","id":11},{"rule":"optional","type":"uint32","name":"west_qualifiers_winner_team_id","id":12},{"rule":"optional","type":"uint32","name":"west_qualifiers_runner_up_team_id","id":13},{"rule":"optional","type":"uint32","name":"passports_bought","id":14},{"rule":"optional","type":"uint32","name":"original_purchaser_id","id":15},{"rule":"optional","type":"uint32","name":"fantasy_team_count","id":16},{"rule":"optional","type":"uint32","name":"fantasy_teamexpiration","id":17},{"rule":"optional","type":"uint32","name":"fantasy_teams_will_lock_at","id":18}]},{"name":"CMsgHeroPickStatsRequest","fields":[{"rule":"optional","type":"uint32","name":"team_id","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"uint32","name":"matches_since_time","id":4}]},{"name":"CMsgHeroPickStatPlayer","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"bool","name":"win","id":2},{"rule":"optional","type":"uint32","name":"gpm","id":3},{"rule":"optional","type":"uint32","name":"kills","id":4},{"rule":"optional","type":"uint32","name":"deaths","id":5},{"rule":"optional","type":"uint32","name":"assists","id":6}]},{"name":"CMsgHeroPickStatsResponse","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"optional","type":"uint32","name":"total_picks","id":2},{"rule":"optional","type":"uint32","name":"total_wins","id":3},{"rule":"optional","type":"uint32","name":"team_picks","id":4},{"rule":"optional","type":"uint32","name":"team_wins","id":5},{"rule":"repeated","type":"CMsgHeroPickStatPlayer","name":"player_pick","id":6}]},{"name":"CMsgRequestLeaguePrizePool","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1}]},{"name":"CMsgRequestLeaguePrizePoolResponse","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1},{"rule":"optional","type":"uint32","name":"prize_pool","id":2}]},{"name":"CMsgGCGetHeroStandings","fields":[]},{"name":"CMsgGCGetHeroStandingsResponse","fields":[{"rule":"repeated","type":"Hero","name":"standings","id":1}],"messages":[{"name":"Hero","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"optional","type":"uint32","name":"wins","id":2},{"rule":"optional","type":"uint32","name":"losses","id":3}]}]},{"name":"CMsgGCItemEditorReservationsRequest","fields":[]},{"name":"CMsgGCItemEditorReservation","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"string","name":"name","id":2}]},{"name":"CMsgGCItemEditorReservationsResponse","fields":[{"rule":"repeated","type":"CMsgGCItemEditorReservation","name":"reservations","id":1}]},{"name":"CMsgGCItemEditorReserveItemDef","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"string","name":"username","id":2}]},{"name":"CMsgGCItemEditorReserveItemDefResponse","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"string","name":"username","id":2},{"rule":"optional","type":"uint32","name":"result","id":3}]},{"name":"CMsgGCItemEditorReleaseReservation","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"string","name":"username","id":2}]},{"name":"CMsgGCItemEditorReleaseReservationResponse","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1},{"rule":"optional","type":"bool","name":"released","id":2}]},{"name":"CMsgGCItemEditorRequestLeagueInfo","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1}]},{"name":"CMsgGCItemEditorLeagueInfoResponse","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1},{"rule":"optional","type":"string","name":"league_name","id":2},{"rule":"optional","type":"string","name":"league_desc","id":3},{"rule":"optional","type":"string","name":"league_url","id":4},{"rule":"optional","type":"string","name":"revenue_url","id":5},{"rule":"optional","type":"uint32","name":"tier","id":6},{"rule":"optional","type":"uint32","name":"location","id":7},{"rule":"optional","type":"uint32","name":"result","id":8}]},{"name":"CMsgDOTARewardTutorialPrizes","fields":[{"rule":"optional","type":"uint32","name":"location_id","id":1},{"rule":"optional","type":"bool","name":"tracking_only","id":2}]},{"name":"CMsgDOTALastHitChallengeHighScorePost","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1},{"rule":"optional","type":"uint32","name":"high_score","id":2}]},{"name":"CMsgDOTALastHitChallengeHighScoreRequest","fields":[{"rule":"optional","type":"uint32","name":"hero_id","id":1}]},{"name":"CMsgDOTALastHitChallengeHighScoreResponse","fields":[{"rule":"optional","type":"uint32","name":"score","id":1},{"rule":"optional","type":"uint32","name":"eresult","id":2}]},{"name":"CMsgFlipLobbyTeams","fields":[]},{"name":"CMsgPresentedClientTerminateDlg","fields":[]},{"name":"CMsgGCLobbyUpdateBroadcastChannelInfo","fields":[{"rule":"optional","type":"uint32","name":"channel_id","id":1},{"rule":"optional","type":"string","name":"country_code","id":2},{"rule":"optional","type":"string","name":"description","id":3},{"rule":"optional","type":"string","name":"language_code","id":4}]},{"name":"CMsgDOTARedeemEventPrize","fields":[{"rule":"optional","type":"uint32","name":"prize_id","id":1},{"rule":"optional","type":"uint32","name":"event_id","id":2}]},{"name":"CMsgDOTARedeemEventPrizeResponse","fields":[{"rule":"optional","type":"ResultCode","name":"result","id":1,"options":{"default":"Success"}},{"rule":"optional","type":"uint32","name":"remaining_points","id":2},{"rule":"optional","type":"uint32","name":"remaining_premium_points","id":3},{"rule":"optional","type":"uint32","name":"event_id","id":4}],"enums":[{"name":"ResultCode","values":[{"name":"Success","id":0},{"name":"ServerError","id":1},{"name":"InsufficientPoints","id":2},{"name":"PointsHeld","id":3}]}]},{"name":"CMsgDOTAGetEventPoints","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"optional","type":"uint32","name":"account_id","id":2}]},{"name":"CMsgDOTAGetEventPointsResponse","fields":[{"rule":"optional","type":"uint32","name":"total_points","id":1},{"rule":"optional","type":"uint32","name":"total_premium_points","id":2},{"rule":"optional","type":"uint32","name":"event_id","id":3},{"rule":"optional","type":"uint32","name":"points","id":4},{"rule":"optional","type":"uint32","name":"premium_points","id":5},{"rule":"repeated","type":"Action","name":"completed_actions","id":6},{"rule":"optional","type":"uint32","name":"account_id","id":7},{"rule":"optional","type":"bool","name":"owned","id":8}],"messages":[{"name":"Action","fields":[{"rule":"optional","type":"uint32","name":"action_id","id":1},{"rule":"optional","type":"uint32","name":"times_completed","id":2,"options":{"default":1}}]}]},{"name":"CMsgDOTALiveLeagueGameUpdate","fields":[{"rule":"optional","type":"uint32","name":"live_league_games","id":1}]},{"name":"CMsgDOTACompendiumSelection","fields":[{"rule":"optional","type":"uint32","name":"selection_index","id":1},{"rule":"optional","type":"uint32","name":"selection","id":2},{"rule":"optional","type":"uint32","name":"leagueid","id":3}]},{"name":"CMsgDOTACompendiumSelectionResponse","fields":[{"rule":"optional","type":"uint32","name":"eresult","id":1,"options":{"default":2}},{"rule":"repeated","type":"CMsgDOTACompendiumSelection","name":"extra_selections","id":2}]},{"name":"CMsgDOTACompendiumData","fields":[{"rule":"repeated","type":"CMsgDOTACompendiumSelection","name":"selections","id":1}]},{"name":"CMsgDOTACompendiumDataRequest","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"leagueid","id":2}]},{"name":"CMsgDOTACompendiumDataResponse","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"leagueid","id":2},{"rule":"optional","type":"uint32","name":"result","id":3,"options":{"default":2}},{"rule":"optional","type":"CMsgDOTACompendiumData","name":"compendium_data","id":4}]},{"name":"CMsgDOTAGetPlayerMatchHistory","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"start_at_match_id","id":2},{"rule":"optional","type":"uint32","name":"matches_requested","id":3},{"rule":"optional","type":"uint32","name":"hero_id","id":4},{"rule":"optional","type":"uint32","name":"request_id","id":5},{"rule":"optional","type":"ESourceEngine","name":"engine","id":6,"options":{"default":"k_ESE_Source1"}},{"rule":"optional","type":"bool","name":"include_practice_matches","id":7}]},{"name":"CMsgDOTAGetPlayerMatchHistoryResponse","fields":[{"rule":"repeated","type":"Match","name":"matches","id":1},{"rule":"optional","type":"uint32","name":"request_id","id":2}],"messages":[{"name":"Match","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"start_time","id":2},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"bool","name":"winner","id":4},{"rule":"optional","type":"uint32","name":"game_mode","id":5},{"rule":"optional","type":"int32","name":"rank_change","id":6},{"rule":"optional","type":"uint32","name":"previous_rank","id":7},{"rule":"optional","type":"uint32","name":"lobby_type","id":8},{"rule":"optional","type":"bool","name":"solo_rank","id":9},{"rule":"optional","type":"bool","name":"abandon","id":10},{"rule":"optional","type":"uint32","name":"duration","id":11},{"rule":"optional","type":"uint32","name":"engine","id":12}]}]},{"name":"CMsgDOTAStartDailyHeroChallenge","fields":[]},{"name":"CMsgGCNotificationsRequest","fields":[]},{"name":"CMsgGCNotificationsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"Notification","name":"notifications","id":2}],"messages":[{"name":"Notification","fields":[{"rule":"optional","type":"uint64","name":"id","id":1},{"rule":"optional","type":"uint32","name":"type","id":2},{"rule":"optional","type":"uint32","name":"timestamp","id":3},{"rule":"optional","type":"uint32","name":"reference_a","id":4},{"rule":"optional","type":"uint32","name":"reference_b","id":5},{"rule":"optional","type":"uint32","name":"reference_c","id":6},{"rule":"optional","type":"string","name":"message","id":7},{"rule":"optional","type":"bool","name":"unread","id":8}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1}]}]},{"name":"CMsgGCNotificationsMarkReadRequest","fields":[]},{"name":"CMsgClientToGCMarkNotificationListRead","fields":[{"rule":"repeated","type":"uint64","name":"notification_ids","id":1}]},{"name":"CMsgGCLeagueAdminState","fields":[{"rule":"repeated","type":"uint32","name":"leagues","id":1},{"rule":"repeated","type":"PrivateLeagueKeys","name":"keys","id":2}],"messages":[{"name":"PrivateLeagueKeys","fields":[{"rule":"optional","type":"uint32","name":"leagueid","id":1},{"rule":"optional","type":"uint32","name":"privatekey","id":2}]}]},{"name":"CMsgGCPlayerInfoRequest","fields":[{"rule":"repeated","type":"uint32","name":"account_ids","id":1}]},{"name":"CMsgGCPlayerInfoSubmit","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"country_code","id":2},{"rule":"optional","type":"uint32","name":"fantasy_role","id":3},{"rule":"optional","type":"uint32","name":"team_id","id":4},{"rule":"optional","type":"string","name":"sponsor","id":5}]},{"name":"CMsgGCPlayerInfoSubmitResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_INFO_LOCKED","id":2}]}]},{"name":"CMsgSerializedSOCache","fields":[{"rule":"optional","type":"uint32","name":"file_version","id":1},{"rule":"repeated","type":"Cache","name":"caches","id":2},{"rule":"optional","type":"uint32","name":"gc_socache_file_version","id":3}],"messages":[{"name":"TypeCache","fields":[{"rule":"optional","type":"uint32","name":"type","id":1},{"rule":"repeated","type":"bytes","name":"objects","id":2},{"rule":"optional","type":"uint32","name":"service_id","id":3}]},{"name":"Cache","fields":[{"rule":"optional","type":"uint32","name":"type","id":1},{"rule":"optional","type":"uint64","name":"id","id":2},{"rule":"repeated","type":"Version","name":"versions","id":3},{"rule":"repeated","type":"TypeCache","name":"type_caches","id":4}],"messages":[{"name":"Version","fields":[{"rule":"optional","type":"uint32","name":"service","id":1},{"rule":"optional","type":"uint64","name":"version","id":2}]}]}]},{"name":"CMsgRequestWeekendTourneySchedule","fields":[]},{"name":"CMsgWeekendTourneySchedule","fields":[{"rule":"repeated","type":"Division","name":"divisions","id":1}],"messages":[{"name":"Division","fields":[{"rule":"optional","type":"uint32","name":"division_code","id":1},{"rule":"optional","type":"uint32","name":"time_window_open","id":2},{"rule":"optional","type":"uint32","name":"time_window_close","id":3}]}]},{"name":"CMsgClientProvideSurveyResult","fields":[{"rule":"repeated","type":"Response","name":"responses","id":1},{"rule":"optional","type":"uint64","name":"survey_key","id":2}],"messages":[{"name":"Response","fields":[{"rule":"optional","type":"uint32","name":"question_id","id":1},{"rule":"optional","type":"uint32","name":"survey_value","id":2}]}]},{"name":"CMsgDOTAEmoticonAccessSDO","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"bytes","name":"unlocked_emoticons","id":2}]},{"name":"CMsgClientToGCEmoticonDataRequest","fields":[]},{"name":"CMsgGCToClientEmoticonData","fields":[{"rule":"optional","type":"CMsgDOTAEmoticonAccessSDO","name":"emoticon_access","id":1}]},{"name":"CMsgClientToGCTrackDialogResult","fields":[{"rule":"optional","type":"uint32","name":"dialog_id","id":1},{"rule":"optional","type":"uint32","name":"value","id":2}]},{"name":"CMsgGCToClientTournamentItemDrop","fields":[{"rule":"optional","type":"uint32","name":"item_def","id":1},{"rule":"optional","type":"uint32","name":"event_type","id":2}]},{"name":"CMsgClientToGCSetAdditionalEquips","fields":[{"rule":"repeated","type":"CAdditionalEquipSlot","name":"equips","id":1}]},{"name":"CMsgClientToGCSetAdditionalEquipsResponse","fields":[]},{"name":"CMsgClientToGCGetAdditionalEquips","fields":[]},{"name":"CMsgClientToGCGetAdditionalEquipsResponse","fields":[{"rule":"repeated","type":"CAdditionalEquipSlot","name":"equips","id":1}]},{"name":"CMsgClientToGCGetAllHeroProgress","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgClientToGCGetAllHeroProgressResponse","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"curr_hero_id","id":2},{"rule":"optional","type":"uint32","name":"laps_completed","id":3},{"rule":"optional","type":"uint32","name":"curr_hero_games","id":4},{"rule":"optional","type":"uint32","name":"curr_lap_time_started","id":5},{"rule":"optional","type":"uint32","name":"curr_lap_games","id":6},{"rule":"optional","type":"uint32","name":"best_lap_games","id":7},{"rule":"optional","type":"uint32","name":"best_lap_time","id":8},{"rule":"optional","type":"uint32","name":"lap_heroes_completed","id":9},{"rule":"optional","type":"uint32","name":"lap_heroes_remaining","id":10},{"rule":"optional","type":"uint32","name":"next_hero_id","id":11},{"rule":"optional","type":"uint32","name":"prev_hero_id","id":12},{"rule":"optional","type":"uint32","name":"prev_hero_games","id":13},{"rule":"optional","type":"float","name":"prev_avg_tries","id":14},{"rule":"optional","type":"float","name":"curr_avg_tries","id":15},{"rule":"optional","type":"float","name":"next_avg_tries","id":16},{"rule":"optional","type":"float","name":"full_lap_avg_tries","id":17},{"rule":"optional","type":"float","name":"curr_lap_avg_tries","id":18},{"rule":"optional","type":"string","name":"profile_name","id":19}]},{"name":"CMsgClientToGCGetTrophyList","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgClientToGCGetTrophyListResponse","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"Trophy","name":"trophies","id":2},{"rule":"optional","type":"string","name":"profile_name","id":3}],"messages":[{"name":"Trophy","fields":[{"rule":"optional","type":"uint32","name":"trophy_id","id":1},{"rule":"optional","type":"uint32","name":"trophy_score","id":2}]}]},{"name":"CMsgGCToClientTrophyAwarded","fields":[{"rule":"optional","type":"uint32","name":"trophy_id","id":1},{"rule":"optional","type":"uint32","name":"trophy_score","id":2},{"rule":"optional","type":"uint32","name":"trophy_old_score","id":3}]},{"name":"CMsgClientToGCGetProfileCard","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgClientToGCSetProfileCardSlots","fields":[{"rule":"repeated","type":"CardSlot","name":"slots","id":1}],"messages":[{"name":"CardSlot","fields":[{"rule":"optional","type":"uint32","name":"slot_id","id":1},{"rule":"optional","type":"EProfileCardSlotType","name":"slot_type","id":2,"options":{"default":"k_EProfileCardSlotType_Empty"}},{"rule":"optional","type":"uint64","name":"slot_value","id":3}]}]},{"name":"CMsgClientToGCGetProfileCardStats","fields":[]},{"name":"CMsgClientToGCCreateHeroStatue","fields":[{"rule":"optional","type":"uint64","name":"source_item","id":1},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"string","name":"sequence_name","id":4},{"rule":"optional","type":"float","name":"cycle","id":5},{"rule":"repeated","type":"uint32","name":"wearables","id":6},{"rule":"optional","type":"string","name":"inscription","id":7},{"rule":"repeated","type":"uint32","name":"styles","id":8},{"rule":"optional","type":"uint64","name":"reforger_item","id":9},{"rule":"optional","type":"bool","name":"tournament_drop","id":10}]},{"name":"CMsgClientToGCCreateTeamShowcase","fields":[{"rule":"optional","type":"uint64","name":"source_item","id":1},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"optional","type":"string","name":"sequence_name","id":4},{"rule":"optional","type":"float","name":"cycle","id":5},{"rule":"repeated","type":"uint32","name":"wearables","id":6},{"rule":"optional","type":"string","name":"inscription","id":7},{"rule":"repeated","type":"uint32","name":"styles","id":8}]},{"name":"CMsgGCToClientHeroStatueCreateResult","fields":[{"rule":"optional","type":"uint64","name":"resulting_item","id":1}]},{"name":"CMsgGCToClientTeamShowcaseCreateResult","fields":[{"rule":"optional","type":"uint64","name":"resulting_item","id":1}]},{"name":"CMsgClientToGCRecordCompendiumStats","fields":[{"rule":"optional","type":"uint32","name":"league_id","id":1},{"rule":"optional","type":"uint32","name":"view_duration_s","id":2},{"rule":"optional","type":"uint32","name":"videos_viewed","id":3},{"rule":"optional","type":"uint32","name":"page_turns","id":4},{"rule":"optional","type":"uint32","name":"links_followed","id":5}]},{"name":"CMsgGCToClientEventStatusChanged","fields":[{"rule":"repeated","type":"EIngameEvent","name":"active_events","id":1}]},{"name":"CMsgClientToGCExchangeItemsForOffering","fields":[{"rule":"repeated","type":"uint64","name":"item_ids","id":1},{"rule":"optional","type":"uint32","name":"recycle_id","id":2}]},{"name":"CMsgClientToGCExchangeItemsForOfferingResponse","fields":[{"rule":"optional","type":"EResponse","name":"response","id":1,"options":{"default":"eResponse_Success"}}],"enums":[{"name":"EResponse","values":[{"name":"eResponse_Success","id":0},{"name":"eResponse_OfferingDisabled","id":1},{"name":"eResponse_InvalidItems","id":2},{"name":"eResponse_InternalError","id":3}]}]},{"name":"CMsgClientToGCPlayerStatsRequest","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgGCToClientPlayerStatsResponse","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"float","name":"player_stats","id":2},{"rule":"optional","type":"uint32","name":"match_count","id":3},{"rule":"optional","type":"float","name":"mean_gpm","id":4},{"rule":"optional","type":"float","name":"mean_xppm","id":5},{"rule":"optional","type":"float","name":"mean_lasthits","id":6},{"rule":"optional","type":"uint32","name":"rampages","id":7},{"rule":"optional","type":"uint32","name":"triple_kills","id":8},{"rule":"optional","type":"uint32","name":"first_blood_claimed","id":9},{"rule":"optional","type":"uint32","name":"first_blood_given","id":10},{"rule":"optional","type":"uint32","name":"couriers_killed","id":11},{"rule":"optional","type":"uint32","name":"aegises_snatched","id":12},{"rule":"optional","type":"uint32","name":"cheeses_eaten","id":13},{"rule":"optional","type":"uint32","name":"creeps_stacked","id":14},{"rule":"optional","type":"float","name":"fight_score","id":15},{"rule":"optional","type":"float","name":"farm_score","id":16},{"rule":"optional","type":"float","name":"support_score","id":17},{"rule":"optional","type":"float","name":"push_score","id":18},{"rule":"optional","type":"float","name":"versatility_score","id":19}]},{"name":"CMsgClientToGCCustomGamePlayerCountRequest","fields":[{"rule":"optional","type":"uint64","name":"custom_game_id","id":1}]},{"name":"CMsgGCToClientCustomGamePlayerCountResponse","fields":[{"rule":"optional","type":"uint64","name":"custom_game_id","id":1},{"rule":"optional","type":"uint64","name":"player_count","id":2},{"rule":"optional","type":"uint64","name":"spectator_count","id":3}]},{"name":"CMsgClientToGCCustomGamesFriendsPlayedRequest","fields":[]},{"name":"CMsgGCToClientCustomGamesFriendsPlayedResponse","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"CustomGame","name":"games","id":2}],"messages":[{"name":"CustomGame","fields":[{"rule":"optional","type":"uint64","name":"custom_game_id","id":1},{"rule":"repeated","type":"uint32","name":"account_ids","id":2}]}]},{"name":"CMsgClientToGCSocialFeedPostCommentRequest","fields":[{"rule":"optional","type":"uint64","name":"event_id","id":1},{"rule":"optional","type":"string","name":"comment","id":2}]},{"name":"CMsgGCToClientSocialFeedPostCommentResponse","fields":[{"rule":"optional","type":"bool","name":"success","id":1}]},{"name":"CMsgClientToGCSocialFeedPostMessageRequest","fields":[{"rule":"optional","type":"string","name":"message","id":1},{"rule":"optional","type":"uint64","name":"match_id","id":2},{"rule":"optional","type":"uint32","name":"match_timestamp","id":3}]},{"name":"CMsgGCToClientSocialFeedPostMessageResponse","fields":[{"rule":"optional","type":"bool","name":"success","id":1}]},{"name":"CMsgClientToGCFriendsPlayedCustomGameRequest","fields":[{"rule":"optional","type":"uint64","name":"custom_game_id","id":1}]},{"name":"CMsgGCToClientFriendsPlayedCustomGameResponse","fields":[{"rule":"optional","type":"uint64","name":"custom_game_id","id":1},{"rule":"repeated","type":"uint32","name":"account_ids","id":2}]},{"name":"CMsgClientToGCFeaturedHeroesRequest","fields":[]},{"name":"CMsgGCToClientFeaturedHeroesResponse","fields":[{"rule":"repeated","type":"Category","name":"categories","id":1}],"messages":[{"name":"DataField","fields":[{"rule":"optional","type":"EFeaturedHeroDataType","name":"data_type","id":1,"options":{"default":"k_EFeaturedHeroDataType_HeroID"}},{"rule":"optional","type":"uint32","name":"uint32_value","id":2},{"rule":"optional","type":"uint64","name":"uint64_value","id":3},{"rule":"optional","type":"string","name":"string_value","id":4},{"rule":"optional","type":"float","name":"float_value","id":5}]},{"name":"FeaturedHero","fields":[{"rule":"repeated","type":"DataField","name":"data_fields","id":1}]},{"name":"Category","fields":[{"rule":"optional","type":"int32","name":"category_weight","id":1},{"rule":"repeated","type":"EFeaturedHeroTextField","name":"text_fields","id":2},{"rule":"repeated","type":"FeaturedHero","name":"featured_heroes","id":3}]}]},{"name":"CMsgClientToGCSocialMatchPostCommentRequest","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"string","name":"comment","id":2}]},{"name":"CMsgGCToClientSocialMatchPostCommentResponse","fields":[{"rule":"optional","type":"bool","name":"success","id":1}]},{"name":"CMsgClientToGCSocialMatchDetailsRequest","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"pagination_timestamp","id":2}]},{"name":"CMsgGCToClientSocialMatchDetailsResponse","fields":[{"rule":"optional","type":"bool","name":"success","id":1},{"rule":"repeated","type":"Comment","name":"comments","id":2}],"messages":[{"name":"Comment","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"string","name":"persona_name","id":2},{"rule":"optional","type":"uint32","name":"timestamp","id":3},{"rule":"optional","type":"string","name":"comment","id":4}]}]},{"name":"CMsgDOTAPartyMemberSetCoach","fields":[{"rule":"optional","type":"bool","name":"wants_coach","id":1}]},{"name":"CMsgDOTASetGroupLeader","fields":[{"rule":"optional","type":"fixed64","name":"new_leader_steamid","id":1}]},{"name":"CMsgDOTACancelGroupInvites","fields":[{"rule":"repeated","type":"fixed64","name":"invited_steamids","id":1},{"rule":"repeated","type":"fixed64","name":"invited_groupids","id":2}]},{"name":"CMsgDOTASetGroupOpenStatus","fields":[{"rule":"optional","type":"bool","name":"open","id":1}]},{"name":"CMsgDOTAGroupMergeInvite","fields":[{"rule":"optional","type":"fixed64","name":"other_group_id","id":1}]},{"name":"CMsgDOTAGroupMergeResponse","fields":[{"rule":"optional","type":"fixed64","name":"initiator_group_id","id":1},{"rule":"optional","type":"bool","name":"accept","id":2}]},{"name":"CMsgDOTAGroupMergeReply","fields":[{"rule":"optional","type":"EDOTAGroupMergeResult","name":"result","id":1,"options":{"default":"k_EDOTAGroupMergeResult_OK"}}]},{"name":"CMsgDOTAPartyRichPresence","fields":[{"rule":"optional","type":"fixed64","name":"party_id","id":1},{"rule":"optional","type":"CSODOTAParty.State","name":"party_state","id":2,"options":{"default":"UI"}},{"rule":"optional","type":"bool","name":"open","id":3},{"rule":"optional","type":"bool","name":"low_priority","id":5},{"rule":"repeated","type":"Member","name":"members","id":4}],"messages":[{"name":"Member","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"bool","name":"coach","id":2}]}]},{"name":"CMsgDOTALobbyRichPresence","fields":[{"rule":"optional","type":"fixed64","name":"lobby_id","id":1},{"rule":"optional","type":"CSODOTALobby.State","name":"lobby_state","id":2,"options":{"default":"UI"}},{"rule":"optional","type":"bool","name":"password","id":3},{"rule":"optional","type":"DOTA_GameMode","name":"game_mode","id":4,"options":{"default":"DOTA_GAMEMODE_NONE"}},{"rule":"optional","type":"uint32","name":"member_count","id":5},{"rule":"optional","type":"uint32","name":"max_member_count","id":6},{"rule":"optional","type":"fixed64","name":"custom_game_id","id":7},{"rule":"optional","type":"string","name":"name","id":8}]},{"name":"CMsgDOTACustomGameListenServerStartedLoading","fields":[{"rule":"optional","type":"fixed64","name":"lobby_id","id":1},{"rule":"optional","type":"uint64","name":"custom_game_id","id":2},{"rule":"repeated","type":"uint32","name":"lobby_members","id":3},{"rule":"optional","type":"uint32","name":"start_time","id":4}]},{"name":"CMsgDOTACustomGameClientFinishedLoading","fields":[{"rule":"optional","type":"fixed64","name":"lobby_id","id":1},{"rule":"optional","type":"uint32","name":"loading_duration","id":2},{"rule":"optional","type":"sint32","name":"result_code","id":3},{"rule":"optional","type":"string","name":"result_string","id":4},{"rule":"optional","type":"uint32","name":"signon_states","id":5},{"rule":"optional","type":"string","name":"comment","id":6}]},{"name":"CMsgGCPlayerInfo","fields":[{"rule":"repeated","type":"PlayerInfo","name":"player_infos","id":1}],"messages":[{"name":"PlayerInfo","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"string","name":"country_code","id":3},{"rule":"optional","type":"uint32","name":"fantasy_role","id":4},{"rule":"optional","type":"uint32","name":"team_id","id":5},{"rule":"optional","type":"string","name":"team_name","id":6},{"rule":"optional","type":"string","name":"team_tag","id":7},{"rule":"optional","type":"string","name":"sponsor","id":8},{"rule":"optional","type":"bool","name":"is_locked","id":9}]}]},{"name":"CMsgDOTACreateFantasyLeagueRequest","fields":[{"rule":"optional","type":"string","name":"league_name","id":1},{"rule":"optional","type":"uint64","name":"league_logo","id":2},{"rule":"optional","type":"Fantasy_Selection_Mode","name":"selection_mode","id":3,"options":{"default":"FANTASY_SELECTION_INVALID"}},{"rule":"optional","type":"uint32","name":"team_count","id":4}]},{"name":"CMsgDOTACreateFantasyLeagueResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_TOO_MANY_LEAGUES","id":2},{"name":"ERROR_INVALID_TEAM_COUNT","id":3},{"name":"ERROR_CREATION_DISABLED","id":4}]}]},{"name":"CMsgFantasyLeagueScoring","fields":[{"rule":"optional","type":"float","name":"level","id":1},{"rule":"optional","type":"float","name":"kills","id":2},{"rule":"optional","type":"float","name":"deaths","id":3},{"rule":"optional","type":"float","name":"assists","id":4},{"rule":"optional","type":"float","name":"last_hits","id":5},{"rule":"optional","type":"float","name":"denies","id":6},{"rule":"optional","type":"float","name":"gpm","id":7},{"rule":"optional","type":"float","name":"xppm","id":8},{"rule":"optional","type":"float","name":"stuns","id":9},{"rule":"optional","type":"float","name":"healing","id":10},{"rule":"optional","type":"float","name":"tower_kills","id":11},{"rule":"optional","type":"float","name":"roshan_kills","id":12},{"rule":"optional","type":"float","name":"multiplier_premium","id":13},{"rule":"optional","type":"float","name":"multiplier_professional","id":14}]},{"name":"CMsgDOTAFantasyLeagueInfo","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"commissioner_account_id","id":2},{"rule":"optional","type":"string","name":"fantasy_league_name","id":3},{"rule":"optional","type":"Fantasy_Selection_Mode","name":"selection_mode","id":4,"options":{"default":"FANTASY_SELECTION_INVALID"}},{"rule":"optional","type":"uint32","name":"team_count","id":5},{"rule":"optional","type":"uint64","name":"logo","id":6},{"rule":"optional","type":"CMsgFantasyLeagueScoring","name":"scoring","id":7},{"rule":"optional","type":"uint32","name":"draft_time","id":12},{"rule":"optional","type":"uint32","name":"draft_pick_time","id":13},{"rule":"optional","type":"uint32","name":"season_start","id":15},{"rule":"optional","type":"uint32","name":"season_length","id":16},{"rule":"optional","type":"uint32","name":"veto_votes","id":17},{"rule":"optional","type":"uint32","name":"acquisitions","id":18},{"rule":"optional","type":"uint32","name":"slot_1","id":19},{"rule":"optional","type":"uint32","name":"slot_2","id":20},{"rule":"optional","type":"uint32","name":"slot_3","id":21},{"rule":"optional","type":"uint32","name":"slot_4","id":22},{"rule":"optional","type":"uint32","name":"slot_5","id":23},{"rule":"optional","type":"uint32","name":"bench_slots","id":24},{"rule":"repeated","type":"OwnerInfo","name":"owner_info","id":25},{"rule":"repeated","type":"uint32","name":"players","id":26},{"rule":"optional","type":"uint32","name":"time_zone","id":27},{"rule":"optional","type":"uint32","name":"season","id":28},{"rule":"optional","type":"string","name":"password","id":29}],"messages":[{"name":"OwnerInfo","fields":[{"rule":"optional","type":"uint32","name":"owner_account_id","id":1},{"rule":"optional","type":"bool","name":"left_league","id":2},{"rule":"repeated","type":"uint32","name":"player_account_id","id":3}]}]},{"name":"CMsgDOTAFantasyLeagueEditInfoRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"CMsgDOTAFantasyLeagueInfo","name":"edit_info","id":2}]},{"name":"CMsgDOTAFantasyLeagueEditInfoResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAFantasyLeagueFindRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"string","name":"password","id":2}]},{"name":"CMsgDOTAFantasyLeagueFindResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"string","name":"fantasy_league_name","id":2},{"rule":"optional","type":"string","name":"commissioner_name","id":3}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_LEAGUE_NOT_FOUND","id":1},{"name":"ERROR_BAD_PASSWORD","id":2},{"name":"ERROR_UNSPECIFIED","id":3},{"name":"ERROR_FULL","id":4},{"name":"ERROR_ALREADY_MEMBER","id":5},{"name":"ERROR_LEAGUE_LOCKED","id":6}]}]},{"name":"CMsgDOTAFantasyLeagueInfoRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1}]},{"name":"CMsgDOTAFantasyLeagueInfoResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_BAD_LEAGUE_ID","id":2}]}]},{"name":"CMsgDOTAFantasyLeagueMatchupsRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1}]},{"name":"CMsgDOTAFantasyLeagueMatchupsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":2},{"rule":"repeated","type":"WeeklyMatchups","name":"weekly_matchups","id":3}],"messages":[{"name":"Matchup","fields":[{"rule":"optional","type":"uint32","name":"owner_account_id_1","id":1},{"rule":"optional","type":"uint32","name":"owner_account_id_2","id":2},{"rule":"optional","type":"float","name":"score_1","id":3},{"rule":"optional","type":"float","name":"score_2","id":4}]},{"name":"WeeklyMatchups","fields":[{"rule":"repeated","type":"Matchup","name":"matchup","id":1},{"rule":"optional","type":"uint32","name":"start_time","id":2},{"rule":"optional","type":"uint32","name":"end_time","id":3}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_BAD_LEAGUE_ID","id":2},{"name":"ERROR_NO_PERMISSION","id":3}]}]},{"name":"CMsgDOTAEditFantasyTeamRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"team_index","id":2},{"rule":"optional","type":"string","name":"team_name","id":3},{"rule":"optional","type":"uint64","name":"team_logo","id":4}]},{"name":"CMsgDOTAEditFantasyTeamResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_INVALID_TEAM_INFO","id":2},{"name":"ERROR_NAME_ALREADY_TAKEN","id":3},{"name":"ERROR_NO_PERMISSION","id":4}]}]},{"name":"CMsgDOTAFantasyTeamInfoRequestByFantasyLeagueID","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1}]},{"name":"CMsgDOTAFantasyTeamInfoRequestByOwnerAccountID","fields":[{"rule":"optional","type":"uint32","name":"owner_account_id","id":1}]},{"name":"CMsgDOTAFantasyTeamInfoResponse","fields":[{"rule":"repeated","type":"CMsgDOTAFantasyTeamInfo","name":"results","id":1}]},{"name":"CMsgDOTAFantasyTeamInfo","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"owner_account_id","id":2},{"rule":"optional","type":"uint32","name":"fantasy_team_index","id":3},{"rule":"optional","type":"string","name":"team_name","id":4},{"rule":"optional","type":"uint64","name":"team_logo","id":5},{"rule":"optional","type":"uint32","name":"wins","id":6},{"rule":"optional","type":"uint32","name":"losses","id":7},{"rule":"repeated","type":"uint32","name":"current_roster","id":8}]},{"name":"CMsgDOTAFantasyTeamScoreRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"owner_account_id","id":2},{"rule":"optional","type":"uint32","name":"fantasy_team_index","id":3},{"rule":"optional","type":"uint64","name":"filter_match_id","id":4},{"rule":"optional","type":"uint32","name":"filter_start_time","id":5},{"rule":"optional","type":"uint32","name":"filter_end_time","id":6},{"rule":"optional","type":"bool","name":"include_bench","id":7}]},{"name":"CMsgDOTAFantasyTeamScoreResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"float","name":"fantasy_team_score","id":2},{"rule":"repeated","type":"CMsgPlayerScore","name":"fantasy_player_score","id":3}],"messages":[{"name":"CMsgPlayerScore","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"float","name":"score","id":2}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2},{"name":"ERROR_OWNER_NOT_IN_LEAGUE","id":3}]}]},{"name":"CMsgDOTAFantasyTeamStandingsRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"count","id":2},{"rule":"optional","type":"uint32","name":"filter_start_time","id":3},{"rule":"optional","type":"uint32","name":"filter_end_time","id":4},{"rule":"optional","type":"uint64","name":"filter_match_id","id":5},{"rule":"optional","type":"bool","name":"filter_last_match","id":6},{"rule":"optional","type":"bool","name":"filter_in_hall","id":7}]},{"name":"CMsgDOTAFantasyTeamStandingsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"CMsgTeamScore","name":"team_scores","id":3}],"messages":[{"name":"CMsgTeamScore","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"owner_account_id","id":2},{"rule":"optional","type":"uint32","name":"fantasy_team_index","id":3},{"rule":"optional","type":"uint64","name":"fantasy_team_logo","id":4},{"rule":"optional","type":"string","name":"owner_name","id":5},{"rule":"optional","type":"string","name":"fantasy_team_name","id":6},{"rule":"optional","type":"float","name":"score","id":7},{"rule":"optional","type":"float","name":"score_against","id":8},{"rule":"optional","type":"uint32","name":"wins","id":9},{"rule":"optional","type":"uint32","name":"losses","id":10},{"rule":"optional","type":"int32","name":"streak","id":11}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAFantasyPlayerScoreRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"player_account_id","id":2},{"rule":"optional","type":"uint32","name":"filter_start_time","id":3},{"rule":"optional","type":"uint32","name":"filter_end_time","id":4},{"rule":"optional","type":"uint64","name":"filter_match_id","id":5},{"rule":"optional","type":"bool","name":"filter_last_match","id":6}]},{"name":"CMsgDOTAFantasyPlayerScoreResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":2},{"rule":"optional","type":"uint32","name":"player_account_id","id":3},{"rule":"optional","type":"string","name":"player_name","id":4},{"rule":"optional","type":"float","name":"score","id":5}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAFantasyPlayerStandingsRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"count","id":2},{"rule":"optional","type":"uint32","name":"role","id":3},{"rule":"optional","type":"uint32","name":"filter_start_time","id":4},{"rule":"optional","type":"uint32","name":"filter_end_time","id":5},{"rule":"optional","type":"uint64","name":"filter_match_id","id":6},{"rule":"optional","type":"bool","name":"filter_last_match","id":7}]},{"name":"CMsgDOTAFantasyPlayerStandingsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":2},{"rule":"optional","type":"uint32","name":"role","id":3},{"rule":"repeated","type":"CMsgPlayerScore","name":"player_scores","id":4}],"messages":[{"name":"CMsgPlayerScore","fields":[{"rule":"optional","type":"uint32","name":"player_account_id","id":1},{"rule":"optional","type":"string","name":"player_name","id":2},{"rule":"optional","type":"float","name":"score","id":3}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAFantasyPlayerInfoRequest","fields":[]},{"name":"CMsgDOTAFantasyPlayerInfoResponse","fields":[{"rule":"optional","type":"CMsgGCPlayerInfo","name":"msg","id":1}]},{"name":"CMsgDOTAFantasyLeagueCreateRequest","fields":[{"rule":"optional","type":"uint32","name":"season_id","id":1},{"rule":"optional","type":"string","name":"fantasy_league_name","id":2},{"rule":"optional","type":"string","name":"password","id":3},{"rule":"optional","type":"string","name":"team_name","id":4},{"rule":"optional","type":"uint64","name":"logo","id":5},{"rule":"optional","type":"uint64","name":"ticket_item_id","id":6}]},{"name":"CMsgDOTAFantasyLeagueCreateResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":2}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_NO_PERMISSION","id":1},{"name":"ERROR_BAD_SEASON_ID","id":2},{"name":"ERROR_BAD_LEAGUE_NAME","id":3},{"name":"ERROR_BAD_TEAM_NAME","id":4},{"name":"ERROR_UNSPECIFIED","id":5},{"name":"ERROR_FAILED_LOGO_UPLOAD","id":6},{"name":"ERROR_NO_TICKET","id":7}]}]},{"name":"CMsgDOTAFantasyTeamCreateRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"string","name":"password","id":2},{"rule":"optional","type":"string","name":"team_name","id":3},{"rule":"optional","type":"uint64","name":"logo","id":4},{"rule":"optional","type":"uint64","name":"ticket_item_id","id":5}]},{"name":"CMsgDOTAFantasyTeamCreateResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"optional","type":"uint32","name":"fantasy_team_index","id":2}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_NO_PERMISSION","id":1},{"name":"ERROR_FAILED_LOGO_UPLOAD","id":2},{"name":"ERROR_BAD_FANTASY_LEAGUE_ID","id":3},{"name":"ERROR_BAD_NAME","id":4},{"name":"ERROR_FULL","id":5},{"name":"ERROR_ALREADY_MEMBER","id":6},{"name":"ERROR_BAD_PASSWORD","id":7},{"name":"ERROR_UNSPECIFIED","id":8},{"name":"ERROR_NO_TICKET","id":9},{"name":"ERROR_LEAGUE_LOCKED","id":10}]}]},{"name":"CMsgDOTAFantasyLeagueEditInvitesRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"string","name":"password","id":2},{"rule":"repeated","type":"InviteChange","name":"invite_change","id":3}],"messages":[{"name":"InviteChange","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"bool","name":"invited","id":2}]}]},{"name":"CMsgDOTAFantasyLeagueEditInvitesResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1}]}]},{"name":"CMsgDOTAFantasyLeagueDraftStatusRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1}]},{"name":"CMsgDOTAFantasyLeagueDraftStatus","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"repeated","type":"uint32","name":"draft_order","id":2},{"rule":"optional","type":"uint32","name":"current_pick","id":3},{"rule":"optional","type":"uint32","name":"time_remaining","id":4},{"rule":"optional","type":"bool","name":"pending_resume","id":5},{"rule":"optional","type":"bool","name":"completed","id":6},{"rule":"repeated","type":"uint32","name":"available_players","id":7}]},{"name":"CMsgDOTAFantasyLeagueDraftPlayerRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"team_index","id":2},{"rule":"optional","type":"uint32","name":"player_account_id","id":3}]},{"name":"CMsgDOTAFantasyLeagueDraftPlayerResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_INVALID_FANTASY_LEAGUE","id":2},{"name":"ERROR_FANTASY_LEAGUE_NOT_DRAFTING","id":3},{"name":"ERROR_OWNER_NOT_IN_LEAGUE","id":4},{"name":"ERROR_NOT_OWNERS_TURN","id":5},{"name":"ERROR_PLAYER_INVALID","id":6},{"name":"ERROR_PLAYER_UNAVAILABLE","id":7},{"name":"ERROR_PLAYER_NO_VALID_SLOTS","id":8}]}]},{"name":"CMsgDOTAFantasyTeamRosterSwapRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"team_index","id":2},{"rule":"optional","type":"uint32","name":"timestamp","id":3},{"rule":"optional","type":"uint32","name":"slot_1","id":4},{"rule":"optional","type":"uint32","name":"slot_2","id":5}]},{"name":"CMsgDOTAFantasyTeamRosterSwapResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_OWNER_NOT_IN_LEAGUE","id":2},{"name":"ERROR_SLOTS_INVALID","id":3},{"name":"ERROR_SLOT_LOCKED","id":4}]}]},{"name":"CMsgDOTAFantasyTeamRosterAddDropRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"team_index","id":2},{"rule":"optional","type":"uint32","name":"add_account_id","id":5},{"rule":"optional","type":"uint32","name":"drop_account_id","id":6}]},{"name":"CMsgDOTAFantasyTeamRosterAddDropResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_OWNER_NOT_IN_LEAGUE","id":2},{"name":"ERROR_PLAYER_NOT_AVAILABLE","id":3},{"name":"ERROR_PLAYER_NOT_ON_TEAM","id":4},{"name":"ERROR_TRADE_ALREADY_PENDING","id":5}]}]},{"name":"CMsgDOTAFantasyTeamTradesRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1}]},{"name":"CMsgDOTAFantasyTeamTradesResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"Trade","name":"trades","id":2}],"messages":[{"name":"Trade","fields":[{"rule":"optional","type":"uint32","name":"timestamp","id":1},{"rule":"optional","type":"uint32","name":"owner_account_id_1","id":2},{"rule":"optional","type":"uint32","name":"owner_account_id_2","id":3},{"rule":"optional","type":"uint32","name":"player_account_id_1","id":4},{"rule":"optional","type":"uint32","name":"player_account_id_2","id":5},{"rule":"optional","type":"uint32","name":"status","id":6}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAFantasyTeamTradeCancelRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"team_index_1","id":3},{"rule":"optional","type":"uint32","name":"owner_account_id_2","id":4},{"rule":"optional","type":"uint32","name":"team_index_2","id":5}]},{"name":"CMsgDOTAFantasyTeamTradeCancelResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2},{"name":"ERROR_NO_TRADE","id":3}]}]},{"name":"CMsgDOTAFantasyTeamRosterRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"team_index","id":2},{"rule":"optional","type":"uint32","name":"owner_account_id","id":3},{"rule":"optional","type":"uint32","name":"timestamp","id":4}]},{"name":"CMsgDOTAFantasyTeamRosterResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"uint32","name":"player_account_ids","id":2},{"rule":"repeated","type":"bool","name":"player_locked","id":3}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2},{"name":"ERROR_OWNER_NOT_IN_LEAGUE","id":3}]}]},{"name":"CMsgDOTAFantasyPlayerHisoricalStatsRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1}]},{"name":"CMsgDOTAFantasyPlayerHisoricalStatsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"PlayerStats","name":"stats","id":2}],"messages":[{"name":"PlayerScoreAccumulator","fields":[{"rule":"optional","type":"uint32","name":"matches","id":1},{"rule":"optional","type":"float","name":"levels","id":2},{"rule":"optional","type":"float","name":"kills","id":3},{"rule":"optional","type":"float","name":"deaths","id":4},{"rule":"optional","type":"float","name":"assists","id":5},{"rule":"optional","type":"float","name":"last_hits","id":6},{"rule":"optional","type":"float","name":"denies","id":7},{"rule":"optional","type":"float","name":"gpm","id":8},{"rule":"optional","type":"float","name":"xppm","id":9},{"rule":"optional","type":"float","name":"stuns","id":10},{"rule":"optional","type":"float","name":"healing","id":11},{"rule":"optional","type":"float","name":"tower_kills","id":12},{"rule":"optional","type":"float","name":"roshan_kills","id":13},{"rule":"optional","type":"float","name":"score","id":14}]},{"name":"PlayerStats","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"weeks","id":2},{"rule":"optional","type":"PlayerScoreAccumulator","name":"stats_premium","id":4},{"rule":"optional","type":"PlayerScoreAccumulator","name":"stats_professional","id":5}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAFantasyMessageAdd","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"string","name":"message","id":2}]},{"name":"CMsgDOTAFantasyMessagesRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"start_message","id":2},{"rule":"optional","type":"uint32","name":"end_message","id":3}]},{"name":"CMsgDOTAFantasyMessagesResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"Message","name":"messages","id":2},{"rule":"optional","type":"uint32","name":"num_total_messages","id":3}],"messages":[{"name":"Message","fields":[{"rule":"optional","type":"uint32","name":"message_id","id":1},{"rule":"optional","type":"string","name":"message","id":2},{"rule":"optional","type":"uint32","name":"author_account_id","id":3},{"rule":"optional","type":"uint32","name":"time","id":4}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2}]}]},{"name":"CMsgDOTAFantasyRemoveOwner","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"owner_account_id","id":2},{"rule":"optional","type":"uint32","name":"team_index","id":3}]},{"name":"CMsgDOTAFantasyRemoveOwnerResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NO_PERMISSION","id":2},{"name":"ERROR_LEAGUE_LOCKED","id":3},{"name":"ERROR_NOT_A_MEMBER","id":4}]}]},{"name":"CMsgDOTAFantasyScheduledMatchesRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1}]},{"name":"CMsgDOTAFantasyScheduledMatchesResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"ScheduledMatchDays","name":"scheduled_match_days","id":2}],"messages":[{"name":"ScheduledMatchDays","fields":[{"rule":"optional","type":"uint32","name":"timestamp","id":1},{"rule":"repeated","type":"uint32","name":"team_ids","id":2},{"rule":"repeated","type":"uint32","name":"league_ids","id":3}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1}]}]},{"name":"CMsgDOTAFantasyLeaveLeagueRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"fantasy_team_index","id":2}]},{"name":"CMsgDOTAFantasyLeaveLeagueResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NOT_MEMBER","id":2},{"name":"ERROR_LEAGUE_NOT_FOUND","id":3},{"name":"ERROR_DRAFT_ACTIVE","id":4}]}]},{"name":"CMsgDOTAFantasyPlayerScoreDetailsRequest","fields":[{"rule":"optional","type":"uint32","name":"fantasy_league_id","id":1},{"rule":"optional","type":"uint32","name":"player_account_id","id":2},{"rule":"optional","type":"uint32","name":"start_time","id":3},{"rule":"optional","type":"uint32","name":"end_time","id":4}]},{"name":"CMsgDOTAFantasyPlayerScoreDetailsResponse","fields":[{"rule":"optional","type":"EResult","name":"result","id":1,"options":{"default":"SUCCESS"}},{"rule":"repeated","type":"PlayerMatchData","name":"data","id":2}],"messages":[{"name":"PlayerMatchData","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"series_id","id":2},{"rule":"optional","type":"uint32","name":"series_num","id":3},{"rule":"optional","type":"uint32","name":"series_type","id":4},{"rule":"optional","type":"uint32","name":"league_tier","id":5},{"rule":"optional","type":"uint32","name":"league_id","id":6},{"rule":"optional","type":"uint32","name":"opposing_team_id","id":7},{"rule":"optional","type":"uint64","name":"opposing_team_logo","id":8},{"rule":"optional","type":"string","name":"opposing_team_name","id":9},{"rule":"optional","type":"CMsgFantasyLeagueScoring","name":"stats","id":10},{"rule":"optional","type":"uint32","name":"owned_by","id":11},{"rule":"optional","type":"bool","name":"benched","id":12}]}],"enums":[{"name":"EResult","values":[{"name":"SUCCESS","id":0},{"name":"ERROR_UNSPECIFIED","id":1},{"name":"ERROR_NOT_MEMBER","id":2}]}]},{"name":"CMsgApplyAutograph","fields":[{"rule":"optional","type":"uint64","name":"autograph_item_id","id":1},{"rule":"optional","type":"uint64","name":"item_item_id","id":2}]},{"name":"CMsgAdjustItemEquippedState","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1},{"rule":"optional","type":"uint32","name":"new_class","id":2},{"rule":"optional","type":"uint32","name":"new_slot","id":3},{"rule":"optional","type":"uint32","name":"style_index","id":4}]},{"name":"CMsgEconPlayerStrangeCountAdjustment","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"CStrangeCountAdjustment","name":"strange_count_adjustments","id":2}],"messages":[{"name":"CStrangeCountAdjustment","fields":[{"rule":"optional","type":"uint32","name":"event_type","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2},{"rule":"optional","type":"uint32","name":"adjustment","id":3}]}]},{"name":"CMsgRequestItemPurgatory_FinalizePurchase","fields":[{"rule":"repeated","type":"uint64","name":"item_ids","id":1}]},{"name":"CMsgRequestItemPurgatory_FinalizePurchaseResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1}]},{"name":"CMsgRequestItemPurgatory_RefundPurchase","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1}]},{"name":"CMsgRequestItemPurgatory_RefundPurchaseResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1}]},{"name":"CMsgCraftingResponse","fields":[{"rule":"repeated","type":"uint64","name":"item_ids","id":1}]},{"name":"CMsgGCRequestStoreSalesData","fields":[{"rule":"optional","type":"uint32","name":"version","id":1},{"rule":"optional","type":"uint32","name":"currency","id":2}]},{"name":"CMsgGCRequestStoreSalesDataResponse","fields":[{"rule":"repeated","type":"Price","name":"sale_price","id":1},{"rule":"optional","type":"uint32","name":"version","id":2},{"rule":"optional","type":"uint32","name":"expiration_time","id":3}],"messages":[{"name":"Price","fields":[{"rule":"optional","type":"uint32","name":"item_def","id":1},{"rule":"optional","type":"uint32","name":"price","id":2}]}]},{"name":"CMsgGCRequestStoreSalesDataUpToDateResponse","fields":[{"rule":"optional","type":"uint32","name":"version","id":1},{"rule":"optional","type":"uint32","name":"expiration_time","id":2}]},{"name":"CMsgGCToGCPingRequest","fields":[]},{"name":"CMsgGCToGCPingResponse","fields":[]},{"name":"CMsgGCToGCGetUserSessionServer","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgGCToGCGetUserSessionServerResponse","fields":[{"rule":"optional","type":"fixed64","name":"server_steam_id","id":1}]},{"name":"CMsgGCToGCGetUserServerMembers","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"max_spectators","id":2}]},{"name":"CMsgGCToGCGetUserServerMembersResponse","fields":[{"rule":"repeated","type":"uint32","name":"member_account_id","id":1}]},{"name":"CMsgLookupMultipleAccountNames","fields":[{"rule":"repeated","type":"uint32","name":"accountids","id":1,"options":{"packed":true}}]},{"name":"CMsgLookupMultipleAccountNamesResponse","fields":[{"rule":"repeated","type":"Account","name":"accounts","id":1}],"messages":[{"name":"Account","fields":[{"rule":"optional","type":"uint32","name":"accountid","id":1},{"rule":"optional","type":"string","name":"persona","id":2}]}]},{"name":"CMsgGCToGCGetUserPCBangNo","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgGCToGCGetUserPCBangNoResponse","fields":[{"rule":"optional","type":"uint32","name":"pc_bang_no","id":1}]},{"name":"CMsgRequestCrateItems","fields":[{"rule":"optional","type":"uint32","name":"crate_item_def","id":1}]},{"name":"CMsgRequestCrateItemsResponse","fields":[{"rule":"optional","type":"uint32","name":"crate_item_def","id":1},{"rule":"repeated","type":"uint32","name":"item_defs","id":2}]},{"name":"CMsgGCToGCCanUseDropRateBonus","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"float","name":"drop_rate_bonus","id":2},{"rule":"optional","type":"uint32","name":"booster_type","id":3},{"rule":"optional","type":"uint32","name":"exclusive_item_def","id":4},{"rule":"optional","type":"bool","name":"allow_equal_rate","id":5}]},{"name":"CMsgSQLAddDropRateBonus","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2},{"rule":"optional","type":"uint32","name":"item_def","id":3},{"rule":"optional","type":"float","name":"drop_rate_bonus","id":4},{"rule":"optional","type":"uint32","name":"booster_type","id":5},{"rule":"optional","type":"uint32","name":"seconds_duration","id":6},{"rule":"optional","type":"uint32","name":"end_time_stamp","id":7}]},{"name":"CMsgSQLUpgradeBattleBooster","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"item_def","id":2},{"rule":"optional","type":"float","name":"bonus_to_add","id":3},{"rule":"optional","type":"uint32","name":"booster_type","id":4}]},{"name":"CMsgGCToGCRefreshSOCache","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"bool","name":"reload","id":2}]},{"name":"CMsgGCToGCCheckAccountTradeStatus","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"bool","name":"initiator","id":2}]},{"name":"CMsgGCToGCCheckAccountTradeStatusResponse","fields":[{"rule":"optional","type":"bool","name":"can_trade","id":1},{"rule":"optional","type":"uint32","name":"error_code","id":2}]},{"name":"CMsgGCToGCGrantAccountRolledItems","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"Item","name":"items","id":2},{"rule":"optional","type":"uint32","name":"audit_action","id":3},{"rule":"optional","type":"uint32","name":"audit_data","id":4}],"messages":[{"name":"Item","fields":[{"rule":"optional","type":"uint32","name":"item_def","id":1},{"rule":"repeated","type":"string","name":"loot_lists","id":2},{"rule":"optional","type":"bool","name":"ignore_limit","id":3},{"rule":"optional","type":"uint32","name":"origin","id":4},{"rule":"repeated","type":"DynamicAttribute","name":"dynamic_attributes","id":5},{"rule":"repeated","type":"AdditionalAuditEntry","name":"additional_audit_entries","id":6},{"rule":"optional","type":"uint32","name":"inventory_token","id":7}],"messages":[{"name":"DynamicAttribute","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"uint32","name":"value_uint32","id":2},{"rule":"optional","type":"float","name":"value_float","id":3}]},{"name":"AdditionalAuditEntry","fields":[{"rule":"optional","type":"uint32","name":"owner_account_id","id":1},{"rule":"optional","type":"uint32","name":"audit_action","id":2},{"rule":"optional","type":"uint32","name":"audit_data","id":3}]}]}]},{"name":"CMsgGCToGCGrantSelfMadeItemToAccount","fields":[{"rule":"optional","type":"uint32","name":"item_def_index","id":1},{"rule":"optional","type":"uint32","name":"accountid","id":2}]},{"name":"CMsgUseItem","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1},{"rule":"optional","type":"fixed64","name":"target_steam_id","id":2},{"rule":"repeated","type":"uint32","name":"gift__potential_targets","id":3},{"rule":"optional","type":"uint32","name":"duel__class_lock","id":4},{"rule":"optional","type":"uint64","name":"initiator_steam_id","id":5},{"rule":"optional","type":"bool","name":"itempack__ack_immediately","id":6}]},{"name":"CMsgServerUseItem","fields":[{"rule":"optional","type":"uint32","name":"initiator_account_id","id":1},{"rule":"optional","type":"CMsgUseItem","name":"use_item_msg","id":2}]},{"name":"CMsgGCPartnerBalanceRequest","fields":[]},{"name":"CMsgGCPartnerBalanceResponse","fields":[{"rule":"optional","type":"EGCPartnerRequestResponse","name":"result","id":1,"options":{"default":"k_EPartnerRequestOK"}},{"rule":"optional","type":"uint32","name":"balance","id":2}]},{"name":"CMsgGCPartnerRechargeRedirectURLRequest","fields":[{"rule":"optional","type":"uint32","name":"def_index","id":1}]},{"name":"CMsgGCPartnerRechargeRedirectURLResponse","fields":[{"rule":"optional","type":"EGCPartnerRequestResponse","name":"result","id":1,"options":{"default":"k_EPartnerRequestOK"}},{"rule":"optional","type":"string","name":"url","id":2}]},{"name":"CMsgGCEconSQLWorkItemEmbeddedRollbackData","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"deleted_item_id","id":2}]},{"name":"CMsgCraftStatue","fields":[{"rule":"optional","type":"uint32","name":"heroid","id":1},{"rule":"optional","type":"string","name":"sequencename","id":2},{"rule":"optional","type":"float","name":"cycle","id":3},{"rule":"optional","type":"string","name":"description","id":4},{"rule":"optional","type":"uint32","name":"pedestal_itemdef","id":5},{"rule":"optional","type":"uint64","name":"toolid","id":6}]},{"name":"CMsgRedeemCode","fields":[{"rule":"optional","type":"string","name":"code","id":1}]},{"name":"CMsgRedeemCodeResponse","fields":[{"rule":"optional","type":"uint32","name":"response","id":1}]},{"name":"CMsgDevNewItemRequest","fields":[{"rule":"optional","type":"string","name":"item_def_name","id":3},{"rule":"optional","type":"string","name":"loot_list_name","id":4},{"rule":"repeated","type":"string","name":"attr_def_name","id":5},{"rule":"repeated","type":"string","name":"attr_value","id":6}]},{"name":"CMsgDevNewItemRequestResponse","fields":[{"rule":"optional","type":"bool","name":"success","id":1}]},{"name":"CMsgGCAddGiftItem","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2}]},{"name":"CMsgClientToGCWrapAndDeliverGift","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1},{"rule":"optional","type":"uint32","name":"give_to_account_id","id":2},{"rule":"optional","type":"string","name":"gift_message","id":3}]},{"name":"CMsgClientToGCWrapAndDeliverGiftResponse","fields":[{"rule":"optional","type":"EGCMsgResponse","name":"response","id":1,"options":{"default":"k_EGCMsgResponseOK"}},{"rule":"optional","type":"uint32","name":"gifting_charge_uses","id":2},{"rule":"optional","type":"int32","name":"gifting_charge_max","id":3},{"rule":"optional","type":"uint32","name":"gifting_uses","id":4},{"rule":"optional","type":"int32","name":"gifting_max","id":5},{"rule":"optional","type":"uint32","name":"gifting_window_hours","id":6},{"rule":"optional","type":"EGCMsgInitiateTradeResponse","name":"trade_restriction","id":7,"options":{"default":"k_EGCMsgInitiateTradeResponse_Accepted"}}]},{"name":"CMsgClientToGCUnwrapGift","fields":[{"rule":"optional","type":"uint64","name":"item_id","id":1}]},{"name":"CMsgGCToClientBundleUnpacked","fields":[{"rule":"optional","type":"uint64","name":"bundle_item_id","id":1},{"rule":"repeated","type":"uint64","name":"item_ids","id":2}]},{"name":"CMsgGCToClientStoreTransactionCompleted","fields":[{"rule":"optional","type":"uint64","name":"txn_id","id":1},{"rule":"repeated","type":"uint64","name":"item_ids","id":2}]},{"name":"CMsgClientToGCEquipItems","fields":[{"rule":"repeated","type":"CMsgAdjustItemEquippedState","name":"equips","id":1}]},{"name":"CMsgClientToGCEquipItemsResponse","fields":[{"rule":"optional","type":"fixed64","name":"so_cache_version_id","id":1}]},{"name":"CMsgSpawnLootGreevil","fields":[{"rule":"optional","type":"bool","name":"rare","id":1}]},{"name":"CMsgDismissLootGreevil","fields":[{"rule":"optional","type":"bool","name":"killed","id":2},{"rule":"optional","type":"bool","name":"rare","id":3}]},{"name":"CMsgDismissLootGreevilResponse","fields":[]},{"name":"CMsgPoorNetworkConditions","fields":[{"rule":"optional","type":"EPoorNetworkConditionsType","name":"detection_type","id":1,"options":{"default":"k_EPoorNetworkConditions_None"}},{"rule":"repeated","type":"Player","name":"players","id":2}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"ENetworkDisconnectionReason","name":"disconnect_reason","id":2,"options":{"default":"NETWORK_DISCONNECT_INVALID"}},{"rule":"optional","type":"uint32","name":"num_bad_intervals","id":3},{"rule":"optional","type":"uint32","name":"peak_loss_pct","id":4}]}]},{"name":"CMsgGameserverCrash","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"fixed64","name":"lobby_id","id":2},{"rule":"optional","type":"DOTA_GameState","name":"game_state","id":3,"options":{"default":"DOTA_GAMERULES_STATE_INIT"}},{"rule":"optional","type":"fixed32","name":"sentinel_save_time","id":4},{"rule":"optional","type":"fixed64","name":"custom_game_id","id":11},{"rule":"optional","type":"fixed64","name":"server_steam_id","id":5},{"rule":"optional","type":"fixed32","name":"server_public_ip_addr","id":6},{"rule":"optional","type":"uint32","name":"server_port","id":7},{"rule":"optional","type":"uint32","name":"server_cluster","id":8},{"rule":"optional","type":"uint32","name":"pid","id":9},{"rule":"optional","type":"uint32","name":"engine","id":10}]},{"name":"CMsgConnectedPlayers","fields":[{"rule":"repeated","type":"Player","name":"connected_players","id":1},{"rule":"repeated","type":"Player","name":"disconnected_players","id":7},{"rule":"optional","type":"DOTA_GameState","name":"game_state","id":2,"options":{"default":"DOTA_GAMERULES_STATE_INIT"}},{"rule":"optional","type":"uint32","name":"tower_state","id":4},{"rule":"optional","type":"bool","name":"first_blood_happened","id":6},{"rule":"optional","type":"bool","name":"legacy_mass_disconnect","id":9},{"rule":"optional","type":"CMsgPoorNetworkConditions","name":"poor_network_conditions","id":10},{"rule":"optional","type":"SendReason","name":"send_reason","id":8,"options":{"default":"INVALID"}},{"rule":"optional","type":"uint32","name":"radiant_kills","id":11},{"rule":"optional","type":"uint32","name":"dire_kills","id":12},{"rule":"optional","type":"uint32","name":"barracks_state","id":13}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"hero_id","id":2},{"rule":"optional","type":"CMsgLeaverState","name":"leaver_state","id":3},{"rule":"optional","type":"ENetworkDisconnectionReason","name":"disconnect_reason","id":4,"options":{"default":"NETWORK_DISCONNECT_INVALID"}}]}],"enums":[{"name":"SendReason","values":[{"name":"INVALID","id":0},{"name":"HEARTBEAT","id":1},{"name":"GAME_STATE","id":2},{"name":"FIRST_BLOOD","id":3},{"name":"PLAYER_CONNECTED","id":4},{"name":"PLAYER_HERO","id":5},{"name":"PLAYER_DISCONNECTED_CONSEQUENCES","id":6},{"name":"PLAYER_DISCONNECTED_NOCONSEQUENCES","id":7},{"name":"TOWER_STATE","id":9},{"name":"GAMESTATE_TIMEOUT","id":10},{"name":"MASS_DISCONNECT","id":11},{"name":"BARRACKS_STATE","id":12},{"name":"KILLS","id":13}]}]},{"name":"CMsgGameServerInfo","fields":[{"rule":"optional","type":"fixed32","name":"server_public_ip_addr","id":1},{"rule":"optional","type":"fixed32","name":"server_private_ip_addr","id":2},{"rule":"optional","type":"uint32","name":"server_port","id":3},{"rule":"optional","type":"uint32","name":"server_tv_port","id":4},{"rule":"optional","type":"uint32","name":"server_steamdatagram_port","id":21},{"rule":"optional","type":"string","name":"server_key","id":5},{"rule":"optional","type":"bool","name":"server_hibernation","id":6},{"rule":"optional","type":"ServerType","name":"server_type","id":7,"options":{"default":"UNSPECIFIED"}},{"rule":"optional","type":"uint32","name":"server_region","id":8},{"rule":"optional","type":"float","name":"server_loadavg","id":9},{"rule":"optional","type":"float","name":"server_tv_broadcast_time","id":10},{"rule":"optional","type":"float","name":"server_game_time","id":11},{"rule":"optional","type":"fixed64","name":"server_relay_connected_steam_id","id":12},{"rule":"optional","type":"uint32","name":"relay_slots_max","id":13},{"rule":"optional","type":"int32","name":"relays_connected","id":14},{"rule":"optional","type":"int32","name":"relay_clients_connected","id":15},{"rule":"optional","type":"fixed64","name":"relayed_game_server_steam_id","id":16},{"rule":"optional","type":"uint32","name":"parent_relay_count","id":17},{"rule":"optional","type":"fixed64","name":"tv_secret_code","id":18},{"rule":"optional","type":"uint32","name":"server_version","id":19},{"rule":"optional","type":"uint32","name":"server_cluster","id":20}],"enums":[{"name":"ServerType","values":[{"name":"UNSPECIFIED","id":0},{"name":"GAME","id":1},{"name":"PROXY","id":2}]}]},{"name":"CMsgLeaverDetected","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"DOTALeaverStatus_t","name":"leaver_status","id":2,"options":{"default":"DOTA_LEAVER_NONE"}},{"rule":"optional","type":"CMsgLeaverState","name":"leaver_state","id":4},{"rule":"optional","type":"uint32","name":"server_cluster","id":5},{"rule":"optional","type":"ENetworkDisconnectionReason","name":"disconnect_reason","id":6,"options":{"default":"NETWORK_DISCONNECT_INVALID"}},{"rule":"optional","type":"CMsgPoorNetworkConditions","name":"poor_network_conditions","id":7}]},{"name":"CMsgLeaverDetectedResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1}]},{"name":"CMsgDOTAFantasyPlayerStats","fields":[{"rule":"optional","type":"uint32","name":"player_account_id","id":1},{"rule":"optional","type":"uint64","name":"match_id","id":2},{"rule":"optional","type":"bool","name":"match_completed","id":3},{"rule":"optional","type":"uint32","name":"level","id":4},{"rule":"optional","type":"uint32","name":"kills","id":5},{"rule":"optional","type":"uint32","name":"deaths","id":6},{"rule":"optional","type":"uint32","name":"assists","id":7},{"rule":"optional","type":"uint32","name":"last_hits","id":8},{"rule":"optional","type":"uint32","name":"denies","id":9},{"rule":"optional","type":"float","name":"gpm","id":10},{"rule":"optional","type":"float","name":"xppm","id":11},{"rule":"optional","type":"float","name":"stuns","id":12},{"rule":"optional","type":"float","name":"healing","id":13},{"rule":"optional","type":"uint32","name":"tower_kills","id":14},{"rule":"optional","type":"uint32","name":"roshan_kills","id":15},{"rule":"optional","type":"uint32","name":"team_id","id":16},{"rule":"optional","type":"uint32","name":"league_id","id":17},{"rule":"optional","type":"uint32","name":"delay","id":18}]},{"name":"CMsgDOTAFantasyMatch","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"league_id","id":2},{"rule":"optional","type":"uint32","name":"series_id","id":3},{"rule":"optional","type":"uint32","name":"start_time","id":4},{"rule":"optional","type":"uint32","name":"series_type","id":5},{"rule":"optional","type":"uint32","name":"team_1","id":6},{"rule":"optional","type":"uint32","name":"team_2","id":7}]},{"name":"CMsgServerToGCRealtimeStats","fields":[{"rule":"optional","type":"CMsgDOTARealtimeGameStatsTerse","name":"delayed","id":1},{"rule":"optional","type":"CMsgDOTARealtimeGameStats","name":"current","id":2}]},{"name":"CMsgGCToServerRealtimeStatsStartStop","fields":[{"rule":"optional","type":"bool","name":"delayed","id":1},{"rule":"optional","type":"bool","name":"current","id":2}]},{"name":"CMsgGameMatchSignOut","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1,"options":{"(key_field)":true}},{"rule":"optional","type":"uint32","name":"duration","id":2},{"rule":"optional","type":"bool","name":"good_guys_win","id":3},{"rule":"optional","type":"fixed32","name":"date","id":4},{"rule":"repeated","type":"uint32","name":"num_players","id":5},{"rule":"repeated","type":"CTeam","name":"teams","id":6},{"rule":"repeated","type":"uint32","name":"tower_status","id":8},{"rule":"repeated","type":"uint32","name":"barracks_status","id":9},{"rule":"optional","type":"uint32","name":"cluster","id":10},{"rule":"optional","type":"string","name":"server_addr","id":11},{"rule":"optional","type":"uint32","name":"first_blood_time","id":12},{"rule":"optional","type":"float","name":"game_balance","id":13},{"rule":"optional","type":"uint32","name":"event_score","id":14},{"rule":"repeated","type":"CMatchHeroSelectEvent","name":"picks_bans","id":15},{"rule":"repeated","type":"CMsgDOTAFantasyPlayerStats","name":"fantasy_stats","id":16},{"rule":"repeated","type":"CMsgEconPlayerStrangeCountAdjustment","name":"player_strange_count_adjustments","id":17},{"rule":"optional","type":"bool","name":"automatic_surrender","id":18},{"rule":"optional","type":"uint32","name":"server_version","id":19},{"rule":"optional","type":"bool","name":"legacy_mass_disconnect","id":21},{"rule":"optional","type":"CMsgPoorNetworkConditions","name":"poor_network_conditions","id":35},{"rule":"repeated","type":"CAdditionalSignoutMsg","name":"additional_msgs","id":20},{"rule":"repeated","type":"CSocialFeedMatchEvent","name":"social_feed_events","id":36},{"rule":"optional","type":"sint32","name":"average_networth_delta","id":22},{"rule":"optional","type":"sint32","name":"networth_delta_min10","id":23},{"rule":"optional","type":"sint32","name":"networth_delta_min20","id":24},{"rule":"optional","type":"sint32","name":"maximum_losing_networth_lead","id":25},{"rule":"optional","type":"sint32","name":"average_experience_delta","id":26},{"rule":"optional","type":"sint32","name":"experience_delta_min10","id":27},{"rule":"optional","type":"sint32","name":"experience_delta_min20","id":28},{"rule":"optional","type":"sint32","name":"bonus_gold_winner_min10","id":29},{"rule":"optional","type":"sint32","name":"bonus_gold_winner_min20","id":30},{"rule":"optional","type":"uint32","name":"bonus_gold_winner_total","id":31},{"rule":"optional","type":"sint32","name":"bonus_gold_loser_min10","id":32},{"rule":"optional","type":"sint32","name":"bonus_gold_loser_min20","id":33},{"rule":"optional","type":"uint32","name":"bonus_gold_loser_total","id":34},{"rule":"optional","type":"CCustomGameData","name":"custom_game_data","id":37}],"messages":[{"name":"CTeam","fields":[{"rule":"repeated","type":"CPlayer","name":"players","id":1}],"messages":[{"name":"CPlayer","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"hero_id","id":3},{"rule":"repeated","type":"uint32","name":"items","id":4},{"rule":"optional","type":"uint32","name":"gold","id":5},{"rule":"optional","type":"uint32","name":"kills","id":6},{"rule":"optional","type":"uint32","name":"deaths","id":7},{"rule":"optional","type":"uint32","name":"assists","id":8},{"rule":"optional","type":"uint32","name":"leaver_status","id":9},{"rule":"optional","type":"uint32","name":"last_hits","id":10},{"rule":"optional","type":"uint32","name":"denies","id":11},{"rule":"optional","type":"uint32","name":"gold_per_min","id":12},{"rule":"optional","type":"uint32","name":"xp_per_minute","id":13},{"rule":"optional","type":"uint32","name":"gold_spent","id":14},{"rule":"optional","type":"uint32","name":"level","id":15},{"rule":"optional","type":"uint32","name":"hero_damage","id":16},{"rule":"optional","type":"uint32","name":"tower_damage","id":17},{"rule":"optional","type":"uint32","name":"hero_healing","id":18},{"rule":"optional","type":"uint32","name":"time_last_seen","id":19},{"rule":"optional","type":"uint32","name":"support_ability_value","id":20},{"rule":"optional","type":"uint64","name":"party_id","id":21},{"rule":"optional","type":"float","name":"scaled_kills","id":24},{"rule":"optional","type":"float","name":"scaled_deaths","id":25},{"rule":"optional","type":"float","name":"scaled_assists","id":26},{"rule":"optional","type":"uint32","name":"claimed_farm_gold","id":27},{"rule":"optional","type":"uint32","name":"support_gold","id":28},{"rule":"optional","type":"uint32","name":"claimed_denies","id":29},{"rule":"optional","type":"uint32","name":"claimed_misses","id":30},{"rule":"optional","type":"uint32","name":"misses","id":31},{"rule":"repeated","type":"CMatchPlayerAbilityUpgrade","name":"ability_upgrades","id":32},{"rule":"repeated","type":"CMatchAdditionalUnitInventory","name":"additional_units_inventory","id":33},{"rule":"optional","type":"uint32","name":"net_worth","id":34},{"rule":"optional","type":"CCustomGameData","name":"custom_game_data","id":35}],"messages":[{"name":"CCustomGameData","fields":[{"rule":"optional","type":"uint32","name":"dota_team","id":1},{"rule":"optional","type":"bool","name":"winner","id":2}]}]}]},{"name":"CAdditionalSignoutMsg","fields":[{"rule":"optional","type":"uint32","name":"id","id":1},{"rule":"optional","type":"bytes","name":"contents","id":2}]},{"name":"CSocialFeedMatchEvent","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"timestamp","id":2},{"rule":"optional","type":"uint32","name":"event_type","id":3},{"rule":"optional","type":"int32","name":"game_time","id":4},{"rule":"optional","type":"uint32","name":"replay_time","id":5}]},{"name":"CCustomGameData","fields":[{"rule":"optional","type":"uint32","name":"publish_timestamp","id":1}]}]},{"name":"CMsgSignOutDraftInfo","fields":[{"rule":"optional","type":"uint32","name":"radiant_captain_account_id","id":1},{"rule":"optional","type":"uint32","name":"dire_captain_account_id","id":2},{"rule":"repeated","type":"CMatchHeroSelectEvent","name":"picks_bans","id":3}]},{"name":"CMsgSignOutBotInfo","fields":[{"rule":"optional","type":"bool","name":"allow_cheats","id":1},{"rule":"optional","type":"DOTABotDifficulty","name":"bot_difficulty","id":2,"options":{"default":"BOT_DIFFICULTY_PASSIVE"}},{"rule":"optional","type":"bool","name":"created_lobby","id":3},{"rule":"repeated","type":"CMsgBotSlotDifficulty","name":"bot_slot_difficulties","id":4}],"messages":[{"name":"CMsgBotSlotDifficulty","fields":[{"rule":"optional","type":"uint32","name":"slot","id":1},{"rule":"optional","type":"DOTABotDifficulty","name":"bot_difficulty","id":2,"options":{"default":"BOT_DIFFICULTY_PASSIVE"}}]}]},{"name":"CMsgSignOutPlayerStats","fields":[{"rule":"optional","type":"int32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"match_id","id":2},{"rule":"optional","type":"uint32","name":"rank","id":3},{"rule":"optional","type":"uint32","name":"hero_id","id":4},{"rule":"optional","type":"uint32","name":"rampages","id":5},{"rule":"optional","type":"uint32","name":"triple_kills","id":6},{"rule":"optional","type":"uint32","name":"first_blood_claimed","id":7},{"rule":"optional","type":"uint32","name":"first_blood_given","id":8},{"rule":"optional","type":"uint32","name":"couriers_killed","id":9},{"rule":"optional","type":"uint32","name":"aegises_snatched","id":10},{"rule":"optional","type":"uint32","name":"cheeses_eaten","id":11},{"rule":"optional","type":"uint32","name":"creeps_stacked","id":12},{"rule":"optional","type":"float","name":"fight_score","id":13},{"rule":"optional","type":"float","name":"farm_score","id":14},{"rule":"optional","type":"float","name":"support_score","id":15},{"rule":"optional","type":"float","name":"push_score","id":16},{"rule":"optional","type":"uint32","name":"kills","id":17},{"rule":"optional","type":"uint32","name":"deaths","id":18},{"rule":"optional","type":"uint32","name":"assists","id":19},{"rule":"optional","type":"uint32","name":"last_hits","id":20},{"rule":"optional","type":"uint32","name":"denies","id":21},{"rule":"optional","type":"float","name":"gpm","id":22},{"rule":"optional","type":"float","name":"xppm","id":23}]},{"name":"CMsgSignOutCommunicationSummary","fields":[{"rule":"repeated","type":"PlayerCommunication","name":"players","id":1}],"messages":[{"name":"PlayerCommunication","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"pings","id":2},{"rule":"optional","type":"uint32","name":"max_pings_per_interval","id":3},{"rule":"optional","type":"uint32","name":"teammate_pings","id":4},{"rule":"optional","type":"uint32","name":"max_teammate_pings_per_interval","id":5},{"rule":"optional","type":"uint32","name":"team_chat_messages","id":6},{"rule":"optional","type":"uint32","name":"all_chat_messages","id":7},{"rule":"optional","type":"uint32","name":"chat_wheel_messages","id":8},{"rule":"optional","type":"uint32","name":"pauses","id":9},{"rule":"optional","type":"uint32","name":"unpauses","id":10},{"rule":"optional","type":"uint32","name":"lines_drawn","id":11},{"rule":"optional","type":"uint32","name":"voice_chat_seconds","id":12},{"rule":"optional","type":"uint32","name":"chat_mutes","id":13},{"rule":"optional","type":"uint32","name":"voice_mutes","id":14}]}]},{"name":"CMsgGameMatchSignoutResponse","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"fixed32","name":"replay_salt","id":2},{"rule":"repeated","type":"CLobbyTimedRewardDetails","name":"timed_reward_details","id":3},{"rule":"repeated","type":"CDOTALobbyMember","name":"xp_reward_details","id":4},{"rule":"optional","type":"uint32","name":"leagueid","id":5},{"rule":"repeated","type":"CAdditionalSignoutMsg","name":"additional_msgs","id":6}],"messages":[{"name":"CAdditionalSignoutMsg","fields":[{"rule":"optional","type":"uint32","name":"id","id":1},{"rule":"optional","type":"bytes","name":"contents","id":2}]}]},{"name":"CMsgGameMatchSignOutPermissionRequest","fields":[{"rule":"optional","type":"uint32","name":"server_version","id":1},{"rule":"optional","type":"uint32","name":"local_attempt","id":2},{"rule":"optional","type":"uint32","name":"total_attempt","id":3},{"rule":"optional","type":"uint32","name":"seconds_waited","id":4}]},{"name":"CMsgGameMatchSignOutPermissionResponse","fields":[{"rule":"optional","type":"bool","name":"permission_granted","id":1,"options":{"default":false}},{"rule":"optional","type":"bool","name":"abandon_signout","id":2,"options":{"default":false}},{"rule":"optional","type":"uint32","name":"retry_delay_seconds","id":3,"options":{"default":0}}]},{"name":"CMsgGameChatLog","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"repeated","type":"CChatLine","name":"lines","id":2}],"messages":[{"name":"CChatLine","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"team_only","id":2},{"rule":"optional","type":"string","name":"text","id":3},{"rule":"optional","type":"uint32","name":"game_time","id":4}]}]},{"name":"CMsgDOTALiveScoreboardUpdate","fields":[{"rule":"optional","type":"uint32","name":"tournament_id","id":1},{"rule":"optional","type":"uint32","name":"tournament_game_id","id":2},{"rule":"optional","type":"float","name":"duration","id":3},{"rule":"optional","type":"int32","name":"hltv_delay","id":4},{"rule":"optional","type":"Team","name":"team_good","id":5},{"rule":"optional","type":"Team","name":"team_bad","id":6},{"rule":"optional","type":"uint32","name":"roshan_respawn_timer","id":7},{"rule":"optional","type":"uint32","name":"league_id","id":8},{"rule":"optional","type":"uint64","name":"match_id","id":9}],"messages":[{"name":"Team","fields":[{"rule":"repeated","type":"Player","name":"players","id":1},{"rule":"optional","type":"uint32","name":"score","id":2},{"rule":"optional","type":"uint32","name":"tower_state","id":3},{"rule":"optional","type":"uint32","name":"barracks_state","id":4},{"rule":"repeated","type":"uint32","name":"hero_picks","id":5},{"rule":"repeated","type":"uint32","name":"hero_bans","id":6}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"uint32","name":"player_slot","id":1},{"rule":"optional","type":"string","name":"player_name","id":2},{"rule":"optional","type":"string","name":"hero_name","id":3},{"rule":"optional","type":"uint32","name":"hero_id","id":4},{"rule":"optional","type":"uint32","name":"kills","id":5},{"rule":"optional","type":"uint32","name":"deaths","id":6},{"rule":"optional","type":"uint32","name":"assists","id":7},{"rule":"optional","type":"uint32","name":"last_hits","id":8},{"rule":"optional","type":"uint32","name":"denies","id":9},{"rule":"optional","type":"uint32","name":"gold","id":10},{"rule":"optional","type":"uint32","name":"level","id":11},{"rule":"optional","type":"float","name":"gold_per_min","id":12},{"rule":"optional","type":"float","name":"xp_per_min","id":13},{"rule":"optional","type":"DOTAUltimateState","name":"ultimate_state","id":14,"options":{"default":"k_EDOTAUltimateStateNotLearned"}},{"rule":"optional","type":"float","name":"ultimate_cooldown","id":15},{"rule":"optional","type":"uint32","name":"item0","id":16},{"rule":"optional","type":"uint32","name":"item1","id":17},{"rule":"optional","type":"uint32","name":"item2","id":18},{"rule":"optional","type":"uint32","name":"item3","id":19},{"rule":"optional","type":"uint32","name":"item4","id":20},{"rule":"optional","type":"uint32","name":"item5","id":21},{"rule":"optional","type":"uint32","name":"respawn_timer","id":22},{"rule":"optional","type":"uint32","name":"account_id","id":23},{"rule":"optional","type":"float","name":"position_x","id":24},{"rule":"optional","type":"float","name":"position_y","id":25},{"rule":"optional","type":"uint32","name":"net_worth","id":26},{"rule":"repeated","type":"HeroAbility","name":"abilities","id":27}],"messages":[{"name":"HeroAbility","fields":[{"rule":"optional","type":"uint32","name":"ability_id","id":1},{"rule":"optional","type":"uint32","name":"ability_level","id":2}]}],"enums":[{"name":"DOTAUltimateState","values":[{"name":"k_EDOTAUltimateStateNotLearned","id":0},{"name":"k_EDOTAUltimateStateCooldown","id":1},{"name":"k_EDOTAUltimateStateNeedsMana","id":2},{"name":"k_EDOTAUltimateStateReady","id":3}]}]}]}]},{"name":"CMsgDOTARequestPlayerResources","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"player_id","id":2}]},{"name":"CMsgDOTARequestPlayerResourcesResponse","fields":[{"rule":"optional","type":"fixed64","name":"steam_id","id":1},{"rule":"optional","type":"uint32","name":"rank","id":2},{"rule":"optional","type":"uint32","name":"player_id","id":3},{"rule":"optional","type":"bool","name":"prevent_text_chat","id":4},{"rule":"optional","type":"bool","name":"prevent_voice_chat","id":5},{"rule":"optional","type":"bool","name":"low_priority","id":6}]},{"name":"CMsgDOTARequestBatchPlayerResources","fields":[{"rule":"repeated","type":"uint32","name":"account_ids","id":1,"options":{"packed":true}},{"rule":"repeated","type":"uint32","name":"rank_types","id":4,"options":{"packed":true}}]},{"name":"CMsgDOTARequestBatchPlayerResourcesResponse","fields":[{"rule":"repeated","type":"Result","name":"results","id":6}],"messages":[{"name":"Result","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"bool","name":"prevent_text_chat","id":2},{"rule":"optional","type":"bool","name":"prevent_voice_chat","id":3},{"rule":"optional","type":"uint32","name":"rank","id":4},{"rule":"optional","type":"bool","name":"rank_calibrated","id":5},{"rule":"optional","type":"bool","name":"low_priority","id":6}]}]},{"name":"CMsgDOTAPlayerFailedToConnect","fields":[{"rule":"repeated","type":"fixed64","name":"failed_loaders","id":1},{"rule":"repeated","type":"fixed64","name":"abandoned_loaders","id":2}]},{"name":"CMsgGCToRelayConnect","fields":[{"rule":"optional","type":"uint32","name":"source_tv_public_addr","id":1},{"rule":"optional","type":"uint32","name":"source_tv_private_addr","id":2},{"rule":"optional","type":"uint32","name":"source_tv_port","id":3},{"rule":"optional","type":"uint64","name":"game_server_steam_id","id":4},{"rule":"optional","type":"uint32","name":"parent_count","id":5},{"rule":"optional","type":"fixed64","name":"tv_unique_secret_code","id":6},{"rule":"optional","type":"fixed64","name":"source_tv_steamid","id":7}]},{"name":"CMsgGCGCToLANServerRelayConnect","fields":[{"rule":"optional","type":"fixed64","name":"relay_steamid","id":1}]},{"name":"CMsgGCToRelayConnectResponse","fields":[]},{"name":"CMsgGCBanStatusRequest","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1}]},{"name":"CMsgGCBanStatusResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1},{"rule":"optional","type":"bool","name":"low_priority","id":2},{"rule":"optional","type":"bool","name":"text_chat_banned","id":3},{"rule":"optional","type":"bool","name":"voice_chat_banned","id":4}]},{"name":"CMsgTournamentItemEvent","fields":[{"rule":"optional","type":"fixed32","name":"killer_account_id","id":1},{"rule":"optional","type":"fixed32","name":"victim_account_id","id":2},{"rule":"optional","type":"DOTA_TournamentEvents","name":"event_type","id":3,"options":{"default":"TE_FIRST_BLOOD"}},{"rule":"optional","type":"int32","name":"tv_delay","id":4},{"rule":"optional","type":"int32","name":"dota_time","id":5},{"rule":"optional","type":"float","name":"replay_time","id":6},{"rule":"optional","type":"string","name":"loot_list","id":7},{"rule":"optional","type":"uint32","name":"event_team","id":8},{"rule":"optional","type":"uint32","name":"multi_kill_count","id":9},{"rule":"optional","type":"uint32","name":"winner_score","id":10},{"rule":"optional","type":"uint32","name":"loser_score","id":11},{"rule":"repeated","type":"CProtoItemHeroStatue","name":"hero_statues","id":12}]},{"name":"CMsgTournamentItemEventResponse","fields":[{"rule":"optional","type":"DOTA_TournamentEvents","name":"event_type","id":1,"options":{"default":"TE_FIRST_BLOOD"}},{"rule":"optional","type":"uint32","name":"viewers_granted","id":6}]},{"name":"CMsgTeamFanfare","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1}]},{"name":"CMsgResponseTeamFanfare","fields":[{"rule":"optional","type":"uint32","name":"fanfare_goodguys","id":1},{"rule":"optional","type":"uint32","name":"fanfare_badguys","id":2}]},{"name":"CMsgGameServerUploadSaveGame","fields":[{"rule":"optional","type":"uint32","name":"game_time","id":1},{"rule":"optional","type":"bytes","name":"save_game_data","id":2},{"rule":"optional","type":"uint64","name":"lobby_id","id":3},{"rule":"repeated","type":"uint64","name":"player_steam_ids","id":4}]},{"name":"CMsgGameServerSaveGameResult","fields":[{"rule":"optional","type":"Result","name":"result","id":1,"options":{"default":"SaveSuccessful"}}],"enums":[{"name":"Result","values":[{"name":"SaveSuccessful","id":0},{"name":"SessionNotFound","id":1},{"name":"DatabaseError","id":2},{"name":"TooBig","id":3}]}]},{"name":"CMsgGameServerGetLoadGame","fields":[{"rule":"optional","type":"uint32","name":"save_id","id":1}]},{"name":"CMsgGameServerGetLoadGameResult","fields":[{"rule":"optional","type":"bytes","name":"save_game_data","id":1}]},{"name":"CMsgDOTAGenerateDiretidePrizeList","fields":[{"rule":"optional","type":"uint32","name":"prize_list","id":1},{"rule":"optional","type":"uint32","name":"highest_roshan_level","id":2}]},{"name":"CMsgDOTAGenerateDiretidePrizeListResponse","fields":[{"rule":"repeated","type":"uint32","name":"item_defs","id":1},{"rule":"repeated","type":"fixed64","name":"steam_ids","id":2},{"rule":"optional","type":"uint32","name":"prize_list","id":3}]},{"name":"CMsgDOTARewardDiretidePrizes","fields":[{"rule":"optional","type":"uint32","name":"team","id":1},{"rule":"optional","type":"uint32","name":"prize_list","id":2}]},{"name":"CMsgDOTADiretidePrizesRewardedResponse","fields":[{"rule":"optional","type":"uint32","name":"prize_list","id":1}]},{"name":"CMsgDOTAAwardEventPoints","fields":[{"rule":"repeated","type":"AwardPoints","name":"award_points","id":1},{"rule":"optional","type":"uint64","name":"match_id","id":2},{"rule":"optional","type":"uint32","name":"event_id","id":4}],"messages":[{"name":"AwardPoints","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"int32","name":"points","id":2},{"rule":"optional","type":"int32","name":"premium_points","id":3},{"rule":"optional","type":"uint32","name":"trade_ban_time","id":5}]}]},{"name":"CMsgServerToGCSignoutAwardAdditionalDrops","fields":[{"rule":"repeated","type":"AdditionalDrops","name":"drops","id":1},{"rule":"optional","type":"uint64","name":"match_id","id":2}],"messages":[{"name":"AdditionalDrops","fields":[{"rule":"optional","type":"string","name":"loot_list","id":1},{"rule":"repeated","type":"uint32","name":"player_account_ids","id":2},{"rule":"optional","type":"bool","name":"no_trade","id":3},{"rule":"optional","type":"bool","name":"randomize_reward","id":4}]}]},{"name":"CMsgDOTAUpdateTI4HeroQuest","fields":[{"rule":"repeated","type":"Player","name":"players","id":1},{"rule":"optional","type":"fixed32","name":"match_start_time","id":2},{"rule":"optional","type":"uint64","name":"match_id","id":3}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"hero_id","id":2}]}]},{"name":"CMsgDOTAFrostivusTimeElapsed","fields":[{"rule":"optional","type":"uint32","name":"seconds","id":1},{"rule":"repeated","type":"User","name":"users","id":2},{"rule":"optional","type":"uint64","name":"match_id","id":3}],"messages":[{"name":"User","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"time_elapsed_s","id":2}]}]},{"name":"CMsgGCToServerPingRequest","fields":[{"rule":"optional","type":"fixed64","name":"request_id","id":1},{"rule":"optional","type":"uint64","name":"request_time","id":2}]},{"name":"CMsgGCToServerPingResponse","fields":[{"rule":"optional","type":"fixed64","name":"request_id","id":1},{"rule":"optional","type":"uint64","name":"request_time","id":2},{"rule":"optional","type":"uint32","name":"cluster","id":3}]},{"name":"CMsgGCToServerConsoleCommand","fields":[{"rule":"optional","type":"string","name":"console_command","id":1}]},{"name":"CMsgServerGetEventPoints","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"repeated","type":"uint32","name":"account_id","id":2}]},{"name":"CMsgServerGetEventPointsResponse","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"repeated","type":"Points","name":"points","id":2}],"messages":[{"name":"Points","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"points_total","id":2},{"rule":"optional","type":"bool","name":"owned","id":4}]}]},{"name":"CMsgServerGrantSurveyPermission","fields":[{"rule":"repeated","type":"Survey","name":"surveys","id":1}],"messages":[{"name":"Survey","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"question_id","id":2},{"rule":"optional","type":"uint32","name":"expire_time","id":3},{"rule":"optional","type":"uint64","name":"survey_key","id":4},{"rule":"optional","type":"uint64","name":"extra_data","id":5},{"rule":"optional","type":"uint64","name":"extra_data_32","id":6}]}]},{"name":"CMsgServerGrantSurveyPermissionResponse","fields":[{"rule":"optional","type":"uint32","name":"result","id":1}]},{"name":"CMsgServerToGCMatchConnectionStats","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"optional","type":"uint32","name":"region_id","id":2},{"rule":"optional","type":"uint32","name":"league_id","id":3},{"rule":"repeated","type":"Player","name":"players","id":4},{"rule":"optional","type":"uint32","name":"cluster_id","id":5}],"messages":[{"name":"Player","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"fixed32","name":"ip","id":2},{"rule":"optional","type":"uint32","name":"avg_ping_ms","id":3},{"rule":"optional","type":"float","name":"packet_loss","id":5},{"rule":"optional","type":"float","name":"ping_deviation","id":6},{"rule":"optional","type":"uint32","name":"full_resends","id":7}]}]},{"name":"CMsgServerGCUpdateSpectatorCount","fields":[{"rule":"optional","type":"uint32","name":"spectator_count","id":1}]},{"name":"CSerializedCombatLog","fields":[{"rule":"optional","type":"uint32","name":"version","id":1},{"rule":"optional","type":"Dictionary","name":"dictionary","id":2},{"rule":"repeated","type":"CMsgDOTACombatLogEntry","name":"entries","id":3}],"messages":[{"name":"Dictionary","fields":[{"rule":"repeated","type":"DictString","name":"strings","id":1}],"messages":[{"name":"DictString","fields":[{"rule":"required","type":"uint32","name":"id","id":1},{"rule":"required","type":"string","name":"value","id":2}]}]}]},{"name":"CMsgServerToGCGetAdditionalEquips","fields":[{"rule":"repeated","type":"uint32","name":"account_ids","id":1}]},{"name":"CMsgServerToGCGetAdditionalEquipsResponse","fields":[{"rule":"repeated","type":"CUserEquips","name":"equips","id":1}],"messages":[{"name":"CUserEquips","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"CAdditionalEquipSlot","name":"equips","id":2}]}]},{"name":"CMsgServerToGCGetProfileCard","fields":[{"rule":"repeated","type":"uint32","name":"account_ids","id":1}]},{"name":"CMsgServerToGCGetProfileCardResponse","fields":[{"rule":"repeated","type":"CMsgDOTAProfileCard","name":"cards","id":1}]},{"name":"CMsgServerToGCVictoryPredictions","fields":[{"rule":"repeated","type":"Record","name":"records","id":1}],"messages":[{"name":"Record","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2},{"rule":"repeated","type":"uint64","name":"item_ids","id":5}]}]},{"name":"CMsgSuspiciousActivity","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"ESuspiciousActivity","name":"activity","id":2,"options":{"default":"k_ESuspiciousActivity_VAC_MultipleInstances"}},{"rule":"optional","type":"sint32","name":"intdata1","id":3},{"rule":"optional","type":"sint32","name":"intdata2","id":4},{"rule":"optional","type":"uint32","name":"time","id":5}]},{"name":"CMsgServerToGCRequestStatus","fields":[]},{"name":"CMsgServerToGCRequestStatus_Response","fields":[{"rule":"optional","type":"uint32","name":"response","id":1}]},{"name":"CMsgSignOutAssassinMiniGameInfo","fields":[{"rule":"repeated","type":"fixed64","name":"winning_players","id":1},{"rule":"repeated","type":"fixed64","name":"losing_players","id":2},{"rule":"repeated","type":"fixed64","name":"arcana_owners","id":3},{"rule":"optional","type":"bool","name":"assassin_won","id":4},{"rule":"optional","type":"uint32","name":"target_hero_id","id":5},{"rule":"optional","type":"bool","name":"contract_completed","id":6},{"rule":"optional","type":"float","name":"contract_complete_time","id":7},{"rule":"optional","type":"bool","name":"pa_is_radiant","id":8}]},{"name":"CMsgServerToGCGetIngameEventData","fields":[{"rule":"optional","type":"EIngameEvent","name":"event","id":1,"options":{"default":"k_EIngameEvent_OraclePA"}}]},{"name":"CMsgGCToServerIngameEventDataOraclePA","fields":[{"rule":"repeated","type":"uint32","name":"target_hero_ids","id":1}]},{"name":"CMsgServerToGCKillSummaries","fields":[{"rule":"optional","type":"uint32","name":"ingameevent_id","id":1},{"rule":"repeated","type":"KillSummary","name":"summaries","id":2}],"messages":[{"name":"KillSummary","fields":[{"rule":"optional","type":"uint32","name":"killer_hero_id","id":1},{"rule":"optional","type":"uint32","name":"victim_hero_id","id":2},{"rule":"optional","type":"uint32","name":"kill_count","id":3}]}]},{"name":"CMsgGCToServerPredictionResult","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"match_id","id":2},{"rule":"optional","type":"bool","name":"correct","id":3},{"rule":"repeated","type":"Prediction","name":"predictions","id":4}],"messages":[{"name":"Prediction","fields":[{"rule":"optional","type":"uint32","name":"item_def","id":1},{"rule":"optional","type":"uint32","name":"num_correct","id":2},{"rule":"optional","type":"uint32","name":"num_fails","id":3},{"rule":"optional","type":"EResult","name":"result","id":4,"options":{"default":"k_eResult_ItemGranted"}},{"rule":"repeated","type":"uint32","name":"granted_item_defs","id":6}],"enums":[{"name":"EResult","values":[{"name":"k_eResult_ItemGranted","id":1},{"name":"k_eResult_Destroyed","id":2}]}]}]},{"name":"CMsgServerToGCLockCharmTrading","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"item_id","id":2}]},{"name":"CMsgDOTACNY2015EventPointUsage","fields":[{"rule":"optional","type":"PointUsage","name":"winning_team_usage","id":1},{"rule":"optional","type":"PointUsage","name":"losing_team_usage","id":2}],"messages":[{"name":"PointUsage","fields":[{"rule":"repeated","type":"uint32","name":"path","id":1},{"rule":"repeated","type":"uint32","name":"path_level","id":2},{"rule":"repeated","type":"uint32","name":"ability_points_spent","id":3}]}]},{"name":"CMsgSignOutUpdatePlayerChallenge","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"Challenge","name":"completed","id":2},{"rule":"repeated","type":"Challenge","name":"rerolled","id":3},{"rule":"optional","type":"uint64","name":"match_id","id":4}],"messages":[{"name":"Challenge","fields":[{"rule":"optional","type":"uint32","name":"event_id","id":1},{"rule":"optional","type":"uint32","name":"sequence_id","id":3}]}]},{"name":"CMsgServerToGCRerollPlayerChallenge","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"CMsgClientToGCRerollPlayerChallenge","name":"reroll_msg","id":2}]},{"name":"CMsgServerToGCHoldEventPoints","fields":[{"rule":"repeated","type":"HoldRequest","name":"holds","id":1},{"rule":"optional","type":"uint32","name":"event_id","id":2},{"rule":"optional","type":"uint64","name":"hold_key","id":3},{"rule":"optional","type":"uint32","name":"hold_until","id":4}],"messages":[{"name":"HoldRequest","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint32","name":"points_held","id":2},{"rule":"optional","type":"uint32","name":"premium_held","id":3}]}]},{"name":"CMsgSignOutReleaseEventPointHolds","fields":[{"rule":"repeated","type":"uint32","name":"account_ids","id":1},{"rule":"optional","type":"uint32","name":"event_id","id":2},{"rule":"optional","type":"uint64","name":"hold_key","id":3}]},{"name":"CMsgGCToServerUpdateBroadcastCheers","fields":[{"rule":"optional","type":"uint32","name":"time_stamp","id":1},{"rule":"optional","type":"uint32","name":"team_1_cheers","id":2},{"rule":"optional","type":"uint32","name":"team_2_cheers","id":3}]},{"name":"CDOTAModifierBuffTableEntry","fields":[{"rule":"required","type":"DOTA_MODIFIER_ENTRY_TYPE","name":"entry_type","id":1,"options":{"default":"DOTA_MODIFIER_ENTRY_TYPE_ACTIVE"}},{"rule":"required","type":"int32","name":"parent","id":2},{"rule":"required","type":"int32","name":"index","id":3},{"rule":"required","type":"int32","name":"serial_num","id":4},{"rule":"optional","type":"int32","name":"modifier_class","id":5},{"rule":"optional","type":"int32","name":"ability_level","id":6},{"rule":"optional","type":"int32","name":"stack_count","id":7},{"rule":"optional","type":"float","name":"creation_time","id":8},{"rule":"optional","type":"float","name":"duration","id":9,"options":{"default":-1}},{"rule":"optional","type":"int32","name":"caster","id":10},{"rule":"optional","type":"int32","name":"ability","id":11},{"rule":"optional","type":"int32","name":"armor","id":12},{"rule":"optional","type":"float","name":"fade_time","id":13},{"rule":"optional","type":"bool","name":"subtle","id":14},{"rule":"optional","type":"float","name":"channel_time","id":15},{"rule":"optional","type":"CMsgVector","name":"v_start","id":16},{"rule":"optional","type":"CMsgVector","name":"v_end","id":17},{"rule":"optional","type":"string","name":"portal_loop_appear","id":18},{"rule":"optional","type":"string","name":"portal_loop_disappear","id":19},{"rule":"optional","type":"string","name":"hero_loop_appear","id":20},{"rule":"optional","type":"string","name":"hero_loop_disappear","id":21},{"rule":"optional","type":"int32","name":"movement_speed","id":22},{"rule":"optional","type":"bool","name":"aura","id":23},{"rule":"optional","type":"int32","name":"activity","id":24},{"rule":"optional","type":"int32","name":"damage","id":25},{"rule":"optional","type":"int32","name":"range","id":26},{"rule":"optional","type":"int32","name":"dd_modifier_index","id":27},{"rule":"optional","type":"int32","name":"dd_ability_index","id":28},{"rule":"optional","type":"string","name":"illusion_label","id":29},{"rule":"optional","type":"bool","name":"active","id":30},{"rule":"optional","type":"string","name":"lua_name","id":31}]},{"name":"CDOTALuaModifierEntry","fields":[{"rule":"required","type":"int32","name":"modifier_type","id":1},{"rule":"required","type":"string","name":"modifier_filename","id":2}]},{"name":"CDOTAUserMsg_AIDebugLine","fields":[{"rule":"optional","type":"string","name":"message","id":1}]},{"name":"CDOTAUserMsg_Ping","fields":[{"rule":"optional","type":"string","name":"message","id":1}]},{"name":"CDOTAUserMsg_SwapVerify","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1}]},{"name":"CDOTAUserMsg_ChatEvent","fields":[{"rule":"required","type":"DOTA_CHAT_MESSAGE","name":"type","id":1,"options":{"default":"CHAT_MESSAGE_INVALID"}},{"rule":"optional","type":"uint32","name":"value","id":2},{"rule":"optional","type":"sint32","name":"playerid_1","id":3,"options":{"default":-1}},{"rule":"optional","type":"sint32","name":"playerid_2","id":4,"options":{"default":-1}},{"rule":"optional","type":"sint32","name":"playerid_3","id":5,"options":{"default":-1}},{"rule":"optional","type":"sint32","name":"playerid_4","id":6,"options":{"default":-1}},{"rule":"optional","type":"sint32","name":"playerid_5","id":7,"options":{"default":-1}},{"rule":"optional","type":"sint32","name":"playerid_6","id":8,"options":{"default":-1}},{"rule":"optional","type":"uint32","name":"value2","id":9},{"rule":"optional","type":"uint32","name":"value3","id":10}]},{"name":"CDOTAUserMsg_CombatLogShowDeath","fields":[]},{"name":"CDOTAUserMsg_BotChat","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"string","name":"format","id":2},{"rule":"optional","type":"string","name":"message","id":3},{"rule":"optional","type":"string","name":"target","id":4}]},{"name":"CDOTAUserMsg_CombatHeroPositions","fields":[{"rule":"optional","type":"uint32","name":"index","id":1},{"rule":"optional","type":"int32","name":"time","id":2},{"rule":"optional","type":"CMsgVector2D","name":"world_pos","id":3},{"rule":"optional","type":"int32","name":"health","id":4}]},{"name":"CDOTAUserMsg_MiniKillCamInfo","fields":[{"rule":"repeated","type":"Attacker","name":"attackers","id":1}],"messages":[{"name":"Attacker","fields":[{"rule":"optional","type":"uint32","name":"attacker","id":1},{"rule":"optional","type":"int32","name":"total_damage","id":2},{"rule":"repeated","type":"Ability","name":"abilities","id":3}],"messages":[{"name":"Ability","fields":[{"rule":"optional","type":"uint32","name":"ability","id":1},{"rule":"optional","type":"int32","name":"damage","id":2}]}]}]},{"name":"CDOTAUserMsg_GlobalLightColor","fields":[{"rule":"optional","type":"uint32","name":"color","id":1},{"rule":"optional","type":"float","name":"duration","id":2}]},{"name":"CDOTAUserMsg_GlobalLightDirection","fields":[{"rule":"optional","type":"CMsgVector","name":"direction","id":1},{"rule":"optional","type":"float","name":"duration","id":2}]},{"name":"CDOTAUserMsg_LocationPing","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"CDOTAMsg_LocationPing","name":"location_ping","id":2}]},{"name":"CDOTAUserMsg_ItemAlert","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"CDOTAMsg_ItemAlert","name":"item_alert","id":2}]},{"name":"CDOTAUserMsg_EnemyItemAlert","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"uint32","name":"target_player_id","id":2},{"rule":"optional","type":"int32","name":"itemid","id":3},{"rule":"optional","type":"uint32","name":"rune_type","id":4}]},{"name":"CDOTAUserMsg_ModifierAlert","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"string","name":"class_name","id":2},{"rule":"optional","type":"uint32","name":"stack_count","id":3},{"rule":"optional","type":"bool","name":"is_debuff","id":4},{"rule":"optional","type":"uint32","name":"target_entindex","id":5}]},{"name":"CDOTAUserMsg_HPManaAlert","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"uint32","name":"target_entindex","id":2}]},{"name":"CDOTAUserMsg_GlyphAlert","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"bool","name":"negative","id":2}]},{"name":"CDOTAUserMsg_WillPurchaseAlert","fields":[{"rule":"optional","type":"int32","name":"itemid","id":1},{"rule":"optional","type":"int32","name":"player_id","id":2},{"rule":"optional","type":"uint32","name":"gold_remaining","id":3}]},{"name":"CDOTAUserMsg_BuyBackStateAlert","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1}]},{"name":"CDOTAUserMsg_QuickBuyAlert","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1},{"rule":"optional","type":"int32","name":"itemid","id":2},{"rule":"optional","type":"int32","name":"gold_required","id":3}]},{"name":"CDOTAUserMsg_CourierKilledAlert","fields":[{"rule":"optional","type":"uint32","name":"team","id":1},{"rule":"optional","type":"uint32","name":"gold_value","id":2},{"rule":"optional","type":"int32","name":"entity_handle","id":3},{"rule":"optional","type":"int32","name":"timestamp","id":4}]},{"name":"CDOTAUserMsg_MinimapEvent","fields":[{"rule":"optional","type":"int32","name":"event_type","id":1},{"rule":"optional","type":"int32","name":"entity_handle","id":2},{"rule":"optional","type":"int32","name":"x","id":3},{"rule":"optional","type":"int32","name":"y","id":4},{"rule":"optional","type":"int32","name":"duration","id":5}]},{"name":"CDOTAUserMsg_MapLine","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1},{"rule":"optional","type":"CDOTAMsg_MapLine","name":"mapline","id":2}]},{"name":"CDOTAUserMsg_MinimapDebugPoint","fields":[{"rule":"optional","type":"CMsgVector","name":"location","id":1},{"rule":"optional","type":"uint32","name":"color","id":2},{"rule":"optional","type":"int32","name":"size","id":3},{"rule":"optional","type":"float","name":"duration","id":4},{"rule":"optional","type":"int32","name":"index","id":5}]},{"name":"CDOTAUserMsg_CreateLinearProjectile","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector2D","name":"velocity","id":2},{"rule":"optional","type":"int32","name":"latency","id":3},{"rule":"optional","type":"int32","name":"entindex","id":4},{"rule":"optional","type":"uint64","name":"particle_index","id":5},{"rule":"optional","type":"int32","name":"handle","id":6},{"rule":"optional","type":"CMsgVector2D","name":"acceleration","id":7},{"rule":"optional","type":"float","name":"max_speed","id":8}]},{"name":"CDOTAUserMsg_DestroyLinearProjectile","fields":[{"rule":"optional","type":"int32","name":"handle","id":1}]},{"name":"CDOTAUserMsg_DodgeTrackingProjectiles","fields":[{"rule":"required","type":"int32","name":"entindex","id":1},{"rule":"optional","type":"bool","name":"attacks_only","id":2}]},{"name":"CDOTAUserMsg_SpectatorPlayerClick","fields":[{"rule":"required","type":"int32","name":"entindex","id":1},{"rule":"optional","type":"int32","name":"order_type","id":2},{"rule":"optional","type":"int32","name":"target_index","id":3}]},{"name":"CDOTAUserMsg_SpectatorPlayerUnitOrders","fields":[{"rule":"optional","type":"int32","name":"entindex","id":1},{"rule":"optional","type":"int32","name":"order_type","id":2},{"rule":"repeated","type":"int32","name":"units","id":3},{"rule":"optional","type":"int32","name":"target_index","id":4},{"rule":"optional","type":"int32","name":"ability_index","id":5},{"rule":"optional","type":"CMsgVector","name":"position","id":6},{"rule":"optional","type":"bool","name":"queue","id":7}]},{"name":"CDOTAUserMsg_NevermoreRequiem","fields":[{"rule":"optional","type":"int32","name":"entity_handle","id":1},{"rule":"optional","type":"int32","name":"lines","id":2},{"rule":"optional","type":"CMsgVector","name":"origin","id":3}]},{"name":"CDOTAUserMsg_InvalidCommand","fields":[{"rule":"optional","type":"string","name":"message","id":1}]},{"name":"CDOTAUserMsg_HudError","fields":[{"rule":"optional","type":"int32","name":"order_id","id":1}]},{"name":"CDOTAUserMsg_SharedCooldown","fields":[{"rule":"optional","type":"int32","name":"entindex","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"optional","type":"float","name":"cooldown","id":3},{"rule":"optional","type":"int32","name":"name_index","id":4}]},{"name":"CDOTAUserMsg_SetNextAutobuyItem","fields":[{"rule":"optional","type":"string","name":"name","id":1}]},{"name":"CDOTAUserMsg_HalloweenDrops","fields":[{"rule":"repeated","type":"uint32","name":"item_defs","id":1},{"rule":"repeated","type":"uint32","name":"player_ids","id":2},{"rule":"optional","type":"uint32","name":"prize_list","id":3}]},{"name":"CDOTAUserMsg_PredictionResult","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"optional","type":"uint64","name":"match_id","id":2},{"rule":"optional","type":"bool","name":"correct","id":3},{"rule":"repeated","type":"Prediction","name":"predictions","id":4}],"messages":[{"name":"Prediction","fields":[{"rule":"optional","type":"uint32","name":"item_def","id":1},{"rule":"optional","type":"uint32","name":"num_correct","id":2},{"rule":"optional","type":"uint32","name":"num_fails","id":3},{"rule":"optional","type":"EResult","name":"result","id":4,"options":{"default":"k_eResult_ItemGranted"}},{"rule":"repeated","type":"uint32","name":"granted_item_defs","id":6}],"enums":[{"name":"EResult","values":[{"name":"k_eResult_ItemGranted","id":1},{"name":"k_eResult_Destroyed","id":2}]}]}]},{"name":"CDOTAResponseQuerySerialized","fields":[{"rule":"repeated","type":"Fact","name":"facts","id":1}],"messages":[{"name":"Fact","fields":[{"rule":"required","type":"int32","name":"key","id":1},{"rule":"required","type":"ValueType","name":"valtype","id":2,"options":{"default":"NUMERIC"}},{"rule":"optional","type":"float","name":"val_numeric","id":3},{"rule":"optional","type":"string","name":"val_string","id":4}],"enums":[{"name":"ValueType","values":[{"name":"NUMERIC","id":1},{"name":"STRING","id":2}]}]}]},{"name":"CDOTASpeechMatchOnClient","fields":[{"rule":"optional","type":"int32","name":"concept","id":1},{"rule":"optional","type":"int32","name":"recipient_type","id":2},{"rule":"optional","type":"CDOTAResponseQuerySerialized","name":"responsequery","id":3},{"rule":"optional","type":"sfixed32","name":"randomseed","id":4,"options":{"default":0}}]},{"name":"CDOTAUserMsg_UnitEvent","fields":[{"rule":"required","type":"EDotaEntityMessages","name":"msg_type","id":1,"options":{"default":"DOTA_UNIT_SPEECH"}},{"rule":"required","type":"int32","name":"entity_index","id":2},{"rule":"optional","type":"Speech","name":"speech","id":3},{"rule":"optional","type":"SpeechMute","name":"speech_mute","id":4},{"rule":"optional","type":"AddGesture","name":"add_gesture","id":5},{"rule":"optional","type":"RemoveGesture","name":"remove_gesture","id":6},{"rule":"optional","type":"BloodImpact","name":"blood_impact","id":7},{"rule":"optional","type":"FadeGesture","name":"fade_gesture","id":8},{"rule":"optional","type":"CDOTASpeechMatchOnClient","name":"speech_match_on_client","id":9}],"messages":[{"name":"Speech","fields":[{"rule":"optional","type":"int32","name":"concept","id":1},{"rule":"optional","type":"string","name":"response","id":2},{"rule":"optional","type":"int32","name":"recipient_type","id":3},{"rule":"optional","type":"int32","name":"level","id":4},{"rule":"optional","type":"bool","name":"muteable","id":5,"options":{"default":false}}]},{"name":"SpeechMute","fields":[{"rule":"optional","type":"float","name":"delay","id":1,"options":{"default":0.5}}]},{"name":"AddGesture","fields":[{"rule":"optional","type":"int32","name":"activity","id":1},{"rule":"optional","type":"int32","name":"slot","id":2},{"rule":"optional","type":"float","name":"fade_in","id":3,"options":{"default":0}},{"rule":"optional","type":"float","name":"fade_out","id":4,"options":{"default":0.1}}]},{"name":"RemoveGesture","fields":[{"rule":"optional","type":"int32","name":"activity","id":1}]},{"name":"BloodImpact","fields":[{"rule":"optional","type":"int32","name":"scale","id":1},{"rule":"optional","type":"int32","name":"x_normal","id":2},{"rule":"optional","type":"int32","name":"y_normal","id":3}]},{"name":"FadeGesture","fields":[{"rule":"optional","type":"int32","name":"activity","id":1}]}]},{"name":"CDOTAUserMsg_ItemPurchased","fields":[{"rule":"optional","type":"int32","name":"item_index","id":1}]},{"name":"CDOTAUserMsg_ItemFound","fields":[{"rule":"optional","type":"int32","name":"player","id":1},{"rule":"optional","type":"int32","name":"quality","id":2},{"rule":"optional","type":"int32","name":"rarity","id":3},{"rule":"optional","type":"int32","name":"method","id":4},{"rule":"optional","type":"int32","name":"itemdef","id":5}]},{"name":"CDOTAUserMsg_ParticleManager","fields":[{"rule":"required","type":"DOTA_PARTICLE_MESSAGE","name":"type","id":1,"options":{"default":"DOTA_PARTICLE_MANAGER_EVENT_CREATE"}},{"rule":"required","type":"uint32","name":"index","id":2},{"rule":"optional","type":"ReleaseParticleIndex","name":"release_particle_index","id":3},{"rule":"optional","type":"CreateParticle","name":"create_particle","id":4},{"rule":"optional","type":"DestroyParticle","name":"destroy_particle","id":5},{"rule":"optional","type":"DestroyParticleInvolving","name":"destroy_particle_involving","id":6},{"rule":"optional","type":"UpdateParticle","name":"update_particle","id":7},{"rule":"optional","type":"UpdateParticleFwd","name":"update_particle_fwd","id":8},{"rule":"optional","type":"UpdateParticleOrient","name":"update_particle_orient","id":9},{"rule":"optional","type":"UpdateParticleFallback","name":"update_particle_fallback","id":10},{"rule":"optional","type":"UpdateParticleOffset","name":"update_particle_offset","id":11},{"rule":"optional","type":"UpdateParticleEnt","name":"update_particle_ent","id":12},{"rule":"optional","type":"UpdateParticleShouldDraw","name":"update_particle_should_draw","id":14},{"rule":"optional","type":"UpdateParticleSetFrozen","name":"update_particle_set_frozen","id":15},{"rule":"optional","type":"ChangeControlPointAttachment","name":"change_control_point_attachment","id":16}],"messages":[{"name":"ReleaseParticleIndex","fields":[]},{"name":"CreateParticle","fields":[{"rule":"optional","type":"fixed64","name":"particle_name_index","id":1},{"rule":"optional","type":"int32","name":"attach_type","id":2},{"rule":"optional","type":"int32","name":"entity_handle","id":3},{"rule":"optional","type":"int32","name":"entity_handle_for_modifiers","id":4}]},{"name":"DestroyParticle","fields":[{"rule":"optional","type":"bool","name":"destroy_immediately","id":1}]},{"name":"DestroyParticleInvolving","fields":[{"rule":"optional","type":"bool","name":"destroy_immediately","id":1},{"rule":"optional","type":"int32","name":"entity_handle","id":3}]},{"name":"UpdateParticle","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"position","id":2}]},{"name":"UpdateParticleFwd","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"forward","id":2}]},{"name":"UpdateParticleOrient","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"forward","id":2},{"rule":"optional","type":"CMsgVector","name":"right","id":3},{"rule":"optional","type":"CMsgVector","name":"up","id":4}]},{"name":"UpdateParticleFallback","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"position","id":2}]},{"name":"UpdateParticleOffset","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"origin_offset","id":2}]},{"name":"UpdateParticleEnt","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"int32","name":"entity_handle","id":2},{"rule":"optional","type":"int32","name":"attach_type","id":3},{"rule":"optional","type":"int32","name":"attachment","id":4},{"rule":"optional","type":"CMsgVector","name":"fallback_position","id":5},{"rule":"optional","type":"bool","name":"include_wearables","id":6}]},{"name":"UpdateParticleSetFrozen","fields":[{"rule":"optional","type":"bool","name":"set_frozen","id":1}]},{"name":"UpdateParticleShouldDraw","fields":[{"rule":"optional","type":"bool","name":"should_draw","id":1}]},{"name":"ChangeControlPointAttachment","fields":[{"rule":"optional","type":"int32","name":"attachment_old","id":1},{"rule":"optional","type":"int32","name":"attachment_new","id":2},{"rule":"optional","type":"int32","name":"entity_handle","id":3}]}]},{"name":"CDOTAUserMsg_OverheadEvent","fields":[{"rule":"required","type":"DOTA_OVERHEAD_ALERT","name":"message_type","id":1,"options":{"default":"OVERHEAD_ALERT_GOLD"}},{"rule":"optional","type":"int32","name":"value","id":2},{"rule":"optional","type":"int32","name":"target_player_entindex","id":3},{"rule":"optional","type":"int32","name":"target_entindex","id":4},{"rule":"optional","type":"int32","name":"source_player_entindex","id":5}]},{"name":"CDOTAUserMsg_TutorialTipInfo","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"int32","name":"progress","id":2}]},{"name":"CDOTAUserMsg_TutorialFinish","fields":[{"rule":"optional","type":"string","name":"heading","id":1},{"rule":"optional","type":"string","name":"emblem","id":2},{"rule":"optional","type":"string","name":"body","id":3},{"rule":"optional","type":"bool","name":"success","id":4}]},{"name":"CDOTAUserMsg_TutorialMinimapPosition","fields":[]},{"name":"CDOTAUserMsg_SendGenericToolTip","fields":[{"rule":"optional","type":"string","name":"title","id":1},{"rule":"optional","type":"string","name":"text","id":2},{"rule":"optional","type":"int32","name":"entindex","id":3},{"rule":"optional","type":"bool","name":"close","id":4}]},{"name":"CDOTAUserMsg_WorldLine","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1},{"rule":"optional","type":"CDOTAMsg_WorldLine","name":"worldline","id":2}]},{"name":"CDOTAUserMsg_ChatWheel","fields":[{"rule":"optional","type":"EDOTAChatWheelMessage","name":"chat_message","id":1,"options":{"default":"k_EDOTA_CW_Ok"}},{"rule":"optional","type":"uint32","name":"player_id","id":2},{"rule":"optional","type":"uint32","name":"account_id","id":3},{"rule":"optional","type":"uint32","name":"param_hero_id","id":4}]},{"name":"CDOTAUserMsg_ReceivedXmasGift","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1},{"rule":"optional","type":"string","name":"item_name","id":2},{"rule":"optional","type":"int32","name":"inventory_slot","id":3}]},{"name":"CDOTAUserMsg_ShowSurvey","fields":[{"rule":"optional","type":"int32","name":"survey_id","id":1},{"rule":"optional","type":"uint32","name":"match_id","id":2},{"rule":"optional","type":"string","name":"response_style","id":3},{"rule":"optional","type":"uint32","name":"teammate_hero_id","id":4},{"rule":"optional","type":"string","name":"teammate_name","id":5},{"rule":"optional","type":"uint32","name":"teammate_account_id","id":6}]},{"name":"CDOTAUserMsg_UpdateSharedContent","fields":[{"rule":"optional","type":"int32","name":"slot_type","id":1}]},{"name":"CDOTAUserMsg_TutorialRequestExp","fields":[]},{"name":"CDOTAUserMsg_TutorialFade","fields":[{"rule":"optional","type":"int32","name":"tgt_alpha","id":1}]},{"name":"CDOTAUserMsg_TutorialPingMinimap","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"float","name":"pos_x","id":2},{"rule":"optional","type":"float","name":"pos_y","id":3},{"rule":"optional","type":"float","name":"pos_z","id":4},{"rule":"optional","type":"int32","name":"entity_index","id":5}]},{"name":"CDOTAUserMsg_GamerulesStateChanged","fields":[{"rule":"optional","type":"uint32","name":"state","id":1}]},{"name":"CDOTAUserMsg_AddQuestLogEntry","fields":[{"rule":"optional","type":"string","name":"npc_name","id":1},{"rule":"optional","type":"string","name":"npc_dialog","id":2}]},{"name":"CDOTAUserMsg_SendStatPopup","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1},{"rule":"optional","type":"CDOTAMsg_SendStatPopup","name":"statpopup","id":2}]},{"name":"CDOTAUserMsg_SendRoshanPopup","fields":[{"rule":"optional","type":"bool","name":"reclaimed","id":1},{"rule":"optional","type":"int32","name":"gametime","id":2}]},{"name":"CDOTAUserMsg_SendFinalGold","fields":[{"rule":"repeated","type":"uint32","name":"reliable_gold","id":1},{"rule":"repeated","type":"uint32","name":"unreliable_gold","id":2}]},{"name":"CDOTAUserMsg_CustomMsg","fields":[{"rule":"optional","type":"string","name":"message","id":1},{"rule":"optional","type":"int32","name":"player_id","id":2},{"rule":"optional","type":"int32","name":"value","id":3}]},{"name":"CDOTAUserMsg_CoachHUDPing","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"CDOTAMsg_CoachHUDPing","name":"hud_ping","id":2}]},{"name":"CDOTAUserMsg_ClientLoadGridNav","fields":[]},{"name":"CDOTAUserMsg_TE_Projectile","fields":[{"rule":"optional","type":"int32","name":"hSource","id":1},{"rule":"optional","type":"int32","name":"hTarget","id":2},{"rule":"optional","type":"int32","name":"moveSpeed","id":3},{"rule":"optional","type":"int32","name":"sourceAttachment","id":4},{"rule":"optional","type":"int64","name":"particleSystemHandle","id":5},{"rule":"optional","type":"bool","name":"dodgeable","id":6},{"rule":"optional","type":"bool","name":"isAttack","id":7},{"rule":"optional","type":"bool","name":"isEvaded","id":8},{"rule":"optional","type":"float","name":"expireTime","id":9},{"rule":"optional","type":"float","name":"maximpacttime","id":10}]},{"name":"CDOTAUserMsg_TE_ProjectileLoc","fields":[{"rule":"optional","type":"CMsgVector","name":"vSourceLoc","id":1},{"rule":"optional","type":"int32","name":"hTarget","id":2},{"rule":"optional","type":"int32","name":"moveSpeed","id":3},{"rule":"optional","type":"int64","name":"particleSystemHandle","id":4},{"rule":"optional","type":"bool","name":"dodgeable","id":5},{"rule":"optional","type":"bool","name":"isAttack","id":6},{"rule":"optional","type":"bool","name":"isEvaded","id":8},{"rule":"optional","type":"float","name":"expireTime","id":9},{"rule":"optional","type":"CMsgVector","name":"vTargetLoc","id":10}]},{"name":"CDOTAUserMsg_TE_DotaBloodImpact","fields":[{"rule":"optional","type":"int32","name":"entity","id":1},{"rule":"optional","type":"float","name":"scale","id":2},{"rule":"optional","type":"float","name":"xnormal","id":3},{"rule":"optional","type":"float","name":"ynormal","id":4}]},{"name":"CDOTAUserMsg_AbilityPing","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"uint32","name":"ability_id","id":2},{"rule":"optional","type":"DOTA_ABILITY_PING_TYPE","name":"type","id":3,"options":{"default":"ABILITY_PING_READY"}},{"rule":"optional","type":"uint32","name":"cooldown_seconds","id":4},{"rule":"optional","type":"uint32","name":"level","id":5},{"rule":"optional","type":"bool","name":"passive","id":6},{"rule":"optional","type":"uint32","name":"mana_needed","id":7}]},{"name":"CDOTAUserMsg_TE_UnitAnimation","fields":[{"rule":"optional","type":"int32","name":"entity","id":1},{"rule":"optional","type":"int32","name":"sequenceVariant","id":2},{"rule":"optional","type":"float","name":"playbackrate","id":3},{"rule":"optional","type":"float","name":"castpoint","id":4},{"rule":"optional","type":"int32","name":"type","id":5},{"rule":"optional","type":"int32","name":"activity","id":6}]},{"name":"CDOTAUserMsg_TE_UnitAnimationEnd","fields":[{"rule":"optional","type":"int32","name":"entity","id":1},{"rule":"optional","type":"bool","name":"snap","id":2}]},{"name":"CDOTAUserMsg_ShowGenericPopup","fields":[{"rule":"required","type":"string","name":"header","id":1},{"rule":"required","type":"string","name":"body","id":2},{"rule":"optional","type":"string","name":"param1","id":3},{"rule":"optional","type":"string","name":"param2","id":4},{"rule":"optional","type":"bool","name":"tint_screen","id":5},{"rule":"optional","type":"bool","name":"show_no_other_dialogs","id":6}]},{"name":"CDOTAUserMsg_VoteStart","fields":[{"rule":"optional","type":"string","name":"title","id":1},{"rule":"optional","type":"float","name":"duration","id":2},{"rule":"optional","type":"int32","name":"choice_count","id":3},{"rule":"repeated","type":"string","name":"choices","id":4}]},{"name":"CDOTAUserMsg_VoteUpdate","fields":[{"rule":"repeated","type":"int32","name":"choice_counts","id":1}]},{"name":"CDOTAUserMsg_VoteEnd","fields":[{"rule":"optional","type":"int32","name":"selected_choice","id":1}]},{"name":"CDOTAUserMsg_BoosterStatePlayer","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"float","name":"bonus","id":2},{"rule":"optional","type":"float","name":"event_bonus","id":3},{"rule":"optional","type":"uint32","name":"bonus_item_id","id":4},{"rule":"optional","type":"uint32","name":"event_bonus_item_id","id":5}]},{"name":"CDOTAUserMsg_BoosterState","fields":[{"rule":"repeated","type":"CDOTAUserMsg_BoosterStatePlayer","name":"boosted_players","id":1}]},{"name":"CDOTAUserMsg_PlayerMMR","fields":[{"rule":"repeated","type":"sint32","name":"mmr","id":1,"options":{"packed":true}}]},{"name":"CDOTAUserMsg_AbilitySteal","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"uint32","name":"ability_id","id":2},{"rule":"optional","type":"uint32","name":"ability_level","id":3}]},{"name":"CDOTAUserMsg_StatsHeroLookup","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1},{"rule":"optional","type":"int32","name":"hero_id","id":2},{"rule":"optional","type":"string","name":"hero_name","id":3},{"rule":"optional","type":"string","name":"persona","id":4}]},{"name":"CDOTAUserMsg_StatsHeroPositionInfo","fields":[{"rule":"optional","type":"float","name":"average_position","id":1},{"rule":"repeated","type":"PositionPair","name":"position_details","id":2}],"messages":[{"name":"PositionPair","fields":[{"rule":"optional","type":"DOTA_POSITION_CATEGORY","name":"position_category","id":1,"options":{"default":"DOTA_POSITION_NONE"}},{"rule":"optional","type":"uint32","name":"position_count","id":2}]}]},{"name":"CDOTAUserMsg_StatsHeroMinuteDetails","fields":[{"rule":"optional","type":"uint32","name":"last_hits","id":1},{"rule":"optional","type":"uint32","name":"hero_kills","id":2},{"rule":"optional","type":"uint32","name":"hero_damage","id":3},{"rule":"optional","type":"uint32","name":"tower_damage","id":4},{"rule":"optional","type":"CDOTAUserMsg_StatsHeroPositionInfo","name":"position_info","id":5},{"rule":"optional","type":"uint32","name":"total_xp","id":6},{"rule":"optional","type":"uint32","name":"net_worth","id":7},{"rule":"optional","type":"uint32","name":"harvested_creep_gold","id":8},{"rule":"optional","type":"uint32","name":"claimed_farm","id":9},{"rule":"optional","type":"uint32","name":"wards_placed","id":10},{"rule":"optional","type":"uint32","name":"runes_collected","id":11},{"rule":"optional","type":"uint32","name":"tps_used","id":12},{"rule":"repeated","type":"uint32","name":"mana_spent","id":13},{"rule":"repeated","type":"uint32","name":"damage_absorbed","id":14},{"rule":"repeated","type":"uint32","name":"damage_done","id":15}]},{"name":"CDOTAUserMsg_StatsTeamMinuteDetails","fields":[{"rule":"repeated","type":"CDOTAUserMsg_StatsHeroMinuteDetails","name":"player_stats","id":1},{"rule":"optional","type":"uint32","name":"tower_kills","id":2},{"rule":"optional","type":"uint32","name":"barrack_kills","id":3},{"rule":"optional","type":"uint32","name":"available_lane_creep_gold","id":4},{"rule":"optional","type":"uint32","name":"balance_kill_value","id":5},{"rule":"optional","type":"uint32","name":"balance_tower_value","id":6},{"rule":"optional","type":"uint32","name":"balance_barracks_value","id":7},{"rule":"optional","type":"uint32","name":"balance_gold_value","id":8},{"rule":"optional","type":"uint32","name":"balance_xp_value","id":9},{"rule":"repeated","type":"LocationPerformance","name":"lane_performance","id":10}],"messages":[{"name":"LocationPerformance","fields":[{"rule":"optional","type":"uint32","name":"location_category","id":1},{"rule":"optional","type":"uint32","name":"stat_type","id":2},{"rule":"optional","type":"uint32","name":"value","id":3}]}]},{"name":"CDOTAUserMsg_StatsPlayerKillShare","fields":[{"rule":"optional","type":"int32","name":"player_id","id":1},{"rule":"optional","type":"float","name":"kill_share_percent","id":2},{"rule":"optional","type":"float","name":"player_loc_x","id":3},{"rule":"optional","type":"float","name":"player_loc_y","id":4},{"rule":"optional","type":"float","name":"health_percent","id":5},{"rule":"optional","type":"float","name":"mana_percent","id":6}]},{"name":"CDOTAUserMsg_StatsKillDetails","fields":[{"rule":"optional","type":"uint32","name":"victim_id","id":1},{"rule":"repeated","type":"CDOTAUserMsg_StatsPlayerKillShare","name":"kill_shares","id":2},{"rule":"optional","type":"uint32","name":"damage_to_kill","id":3},{"rule":"optional","type":"uint32","name":"effective_health","id":4},{"rule":"optional","type":"float","name":"death_time","id":5},{"rule":"optional","type":"uint32","name":"killer_id","id":6}]},{"name":"CDOTAUserMsg_StatsMatchDetails","fields":[{"rule":"repeated","type":"CDOTAUserMsg_StatsHeroLookup","name":"hero_lookup","id":1},{"rule":"repeated","type":"CDOTAUserMsg_StatsTeamMinuteDetails","name":"radiant_stats","id":2},{"rule":"repeated","type":"CDOTAUserMsg_StatsTeamMinuteDetails","name":"dire_stats","id":3},{"rule":"repeated","type":"CDOTAUserMsg_StatsKillDetails","name":"radiant_kills","id":4},{"rule":"repeated","type":"CDOTAUserMsg_StatsKillDetails","name":"dire_kills","id":5},{"rule":"repeated","type":"CDOTAUserMsg_StatsFightDetails","name":"fight_details","id":6}],"messages":[{"name":"CDOTAUserMsg_StatsFightTeamDetails","fields":[{"rule":"repeated","type":"uint32","name":"participants","id":1},{"rule":"repeated","type":"uint32","name":"deaths","id":2},{"rule":"optional","type":"uint32","name":"gold_delta","id":3},{"rule":"optional","type":"uint32","name":"xp_delta","id":4}]},{"name":"CDOTAUserMsg_StatsFightDetails","fields":[{"rule":"optional","type":"float","name":"start_time","id":1},{"rule":"optional","type":"float","name":"end_time","id":2},{"rule":"optional","type":"CDOTAUserMsg_StatsFightTeamDetails","name":"radiant_fight_details","id":3},{"rule":"optional","type":"CDOTAUserMsg_StatsFightTeamDetails","name":"dire_fight_details","id":4}]}]},{"name":"CDOTAUserMsg_MiniTaunt","fields":[{"rule":"optional","type":"uint32","name":"taunting_player_id","id":1}]},{"name":"CDOTAUserMsg_SpeechBubble","fields":[{"rule":"optional","type":"bool","name":"destroy_all","id":1}]},{"name":"CDOTAUserMsg_CustomHeaderMessage","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"float","name":"duration","id":2},{"rule":"optional","type":"string","name":"message","id":3},{"rule":"optional","type":"int32","name":"value","id":4}]},{"name":"CMsgHeroAbilityStat","fields":[{"rule":"optional","type":"EHeroStatType","name":"stat_type","id":1,"options":{"default":"k_EHeroStatType_None"}},{"rule":"optional","type":"int32","name":"int_value","id":2},{"rule":"optional","type":"float","name":"float_value","id":3}]},{"name":"CMsgCombatAnalyzerPlayerStat","fields":[{"rule":"optional","type":"uint32","name":"account_id","id":1},{"rule":"repeated","type":"CMsgHeroAbilityStat","name":"hero_ability_stats","id":2}]},{"name":"CMsgCombatAnalyzerStats","fields":[{"rule":"optional","type":"uint64","name":"match_id","id":1},{"rule":"repeated","type":"CMsgCombatAnalyzerPlayerStat","name":"player_stats","id":2}]},{"name":"CDOTAUserMsg_BeastChat","fields":[{"rule":"optional","type":"uint32","name":"team","id":1},{"rule":"optional","type":"string","name":"format","id":2},{"rule":"optional","type":"string","name":"message","id":3},{"rule":"optional","type":"string","name":"target","id":4}]},{"name":"CDOTAUserMsg_CustomHudElement_Create","fields":[{"rule":"optional","type":"string","name":"element_id","id":1},{"rule":"optional","type":"string","name":"layout_filename","id":2},{"rule":"optional","type":"bytes","name":"data","id":3}]},{"name":"CDOTAUserMsg_CustomHudElement_Modify","fields":[{"rule":"optional","type":"string","name":"element_id","id":1},{"rule":"optional","type":"bool","name":"modify_visible","id":2},{"rule":"optional","type":"bytes","name":"data","id":3}]},{"name":"CDOTAUserMsg_CustomHudElement_Destroy","fields":[{"rule":"optional","type":"string","name":"element_id","id":1}]},{"name":"CDOTAUserMsg_CompendiumStatePlayer","fields":[{"rule":"optional","type":"uint32","name":"player_id","id":1},{"rule":"optional","type":"uint32","name":"level","id":2}]},{"name":"CDOTAUserMsg_CompendiumState","fields":[{"rule":"repeated","type":"CDOTAUserMsg_CompendiumStatePlayer","name":"compendium_players","id":1}]},{"name":"CDOTAUserMsg_ProjectionAbility","fields":[{"rule":"optional","type":"uint32","name":"ability_id","id":1},{"rule":"optional","type":"int32","name":"caster_ent_index","id":2},{"rule":"optional","type":"int32","name":"caster_team","id":3},{"rule":"optional","type":"bool","name":"channel_end","id":4},{"rule":"optional","type":"CMsgVector","name":"origin","id":5},{"rule":"optional","type":"bool","name":"track_caster_only","id":6},{"rule":"optional","type":"float","name":"end_time","id":7}]},{"name":"CMsgVDebugGameSessionIDEvent","fields":[{"rule":"optional","type":"int32","name":"clientid","id":1},{"rule":"optional","type":"string","name":"gamesessionid","id":2}]},{"name":"CMsgPlaceDecalEvent","fields":[{"rule":"optional","type":"CMsgVector","name":"position","id":1},{"rule":"optional","type":"CMsgVector","name":"normal","id":2},{"rule":"optional","type":"CMsgVector","name":"saxis","id":3},{"rule":"optional","type":"uint32","name":"decalmaterialindex","id":4},{"rule":"optional","type":"uint32","name":"flags","id":5},{"rule":"optional","type":"fixed32","name":"color","id":6},{"rule":"optional","type":"float","name":"width","id":7},{"rule":"optional","type":"float","name":"height","id":8},{"rule":"optional","type":"float","name":"depth","id":9},{"rule":"optional","type":"uint32","name":"entityhandleindex","id":10},{"rule":"optional","type":"fixed32","name":"skeletoninstancehash","id":11},{"rule":"optional","type":"int32","name":"boneindex","id":12},{"rule":"optional","type":"bool","name":"translucenthit","id":13}]},{"name":"CMsgClearWorldDecalsEvent","fields":[{"rule":"optional","type":"uint32","name":"flagstoclear","id":1}]},{"name":"CMsgClearEntityDecalsEvent","fields":[{"rule":"optional","type":"uint32","name":"flagstoclear","id":1}]},{"name":"CMsgClearDecalsForSkeletonInstanceEvent","fields":[{"rule":"optional","type":"uint32","name":"flagstoclear","id":1},{"rule":"optional","type":"uint32","name":"entityhandleindex","id":2},{"rule":"optional","type":"uint32","name":"skeletoninstancehash","id":3}]},{"name":"CMsgSource1LegacyGameEventList","fields":[{"rule":"repeated","type":"descriptor_t","name":"descriptors","id":1}],"messages":[{"name":"key_t","fields":[{"rule":"optional","type":"int32","name":"type","id":1},{"rule":"optional","type":"string","name":"name","id":2}]},{"name":"descriptor_t","fields":[{"rule":"optional","type":"int32","name":"eventid","id":1},{"rule":"optional","type":"string","name":"name","id":2},{"rule":"repeated","type":"key_t","name":"keys","id":3}]}]},{"name":"CMsgSource1LegacyListenEvents","fields":[{"rule":"optional","type":"int32","name":"playerslot","id":1},{"rule":"repeated","type":"uint32","name":"eventarraybits","id":2}]},{"name":"CMsgSource1LegacyGameEvent","fields":[{"rule":"optional","type":"string","name":"event_name","id":1},{"rule":"optional","type":"int32","name":"eventid","id":2},{"rule":"repeated","type":"key_t","name":"keys","id":3}],"messages":[{"name":"key_t","fields":[{"rule":"optional","type":"int32","name":"type","id":1},{"rule":"optional","type":"string","name":"val_string","id":2},{"rule":"optional","type":"float","name":"val_float","id":3},{"rule":"optional","type":"int32","name":"val_long","id":4},{"rule":"optional","type":"int32","name":"val_short","id":5},{"rule":"optional","type":"int32","name":"val_byte","id":6},{"rule":"optional","type":"bool","name":"val_bool","id":7},{"rule":"optional","type":"uint64","name":"val_uint64","id":8}]}]},{"name":"CMsgSosStartSoundEvent","fields":[{"rule":"optional","type":"int32","name":"soundevent_guid","id":1},{"rule":"optional","type":"fixed32","name":"soundevent_hash","id":2},{"rule":"optional","type":"int32","name":"source_entity_index","id":3},{"rule":"optional","type":"int32","name":"seed","id":4},{"rule":"optional","type":"bytes","name":"packed_params","id":5}]},{"name":"CMsgSosStopSoundEvent","fields":[{"rule":"optional","type":"int32","name":"soundevent_guid","id":1}]},{"name":"CMsgSosStopSoundEventHash","fields":[{"rule":"optional","type":"fixed32","name":"soundevent_hash","id":1},{"rule":"optional","type":"int32","name":"source_entity_index","id":2}]},{"name":"CMsgSosSetSoundEventParams","fields":[{"rule":"optional","type":"int32","name":"soundevent_guid","id":1},{"rule":"optional","type":"bytes","name":"packed_params","id":5}]},{"name":"CMsgSosSetLibraryStackFields","fields":[{"rule":"optional","type":"fixed32","name":"stack_hash","id":1},{"rule":"optional","type":"bytes","name":"packed_fields","id":5}]},{"name":"NetMessageSplitscreenUserChanged","fields":[{"rule":"optional","type":"uint32","name":"slot","id":1}]},{"name":"NetMessageConnectionClosed","fields":[{"rule":"optional","type":"uint32","name":"reason","id":1}]},{"name":"NetMessageConnectionCrashed","fields":[{"rule":"optional","type":"uint32","name":"reason","id":1}]},{"name":"NetMessagePacketStart","fields":[{"rule":"optional","type":"uint32","name":"incoming_sequence","id":1},{"rule":"optional","type":"uint32","name":"outgoing_acknowledged","id":2}]},{"name":"NetMessagePacketEnd","fields":[]},{"name":"CMsgBeginFrame","fields":[{"rule":"optional","type":"double","name":"frame_paint_time","id":1},{"rule":"optional","type":"uint32","name":"surface_width","id":2},{"rule":"optional","type":"uint32","name":"surface_height","id":3},{"rule":"optional","type":"uint32","name":"render_target","id":4},{"rule":"optional","type":"double","name":"ui_scale_factor","id":5},{"rule":"optional","type":"bool","name":"empty_frame","id":6},{"rule":"optional","type":"bool","name":"clear_gpu_resources_before_frame","id":7}]},{"name":"CMsgEndFrame","fields":[{"rule":"optional","type":"uint32","name":"mouse_cursor_texture_id","id":1},{"rule":"optional","type":"float","name":"mouse_cursor_hotspot_x","id":2},{"rule":"optional","type":"float","name":"mouse_cursor_hotspot_y","id":3}]},{"name":"CMsgClearBackbuffer","fields":[{"rule":"optional","type":"uint32","name":"clear_color_rgba","id":1}]},{"name":"CMsgDeleteTexture","fields":[{"rule":"optional","type":"uint64","name":"texture_pointer","id":1}]},{"name":"CMsgDeletePanel","fields":[{"rule":"optional","type":"uint64","name":"context_id","id":1}]},{"name":"CMsgDeleteParticleSystem","fields":[{"rule":"optional","type":"uint64","name":"panel_handle","id":1},{"rule":"optional","type":"uint32","name":"brush_index","id":2}]},{"name":"CMsgPoint","fields":[{"rule":"optional","type":"double","name":"x","id":1},{"rule":"optional","type":"double","name":"y","id":2},{"rule":"optional","type":"double","name":"z","id":3}]},{"name":"CMsgMatrix4x4","fields":[{"rule":"optional","type":"double","name":"m00","id":1},{"rule":"optional","type":"double","name":"m01","id":2},{"rule":"optional","type":"double","name":"m02","id":3},{"rule":"optional","type":"double","name":"m03","id":4},{"rule":"optional","type":"double","name":"m10","id":5},{"rule":"optional","type":"double","name":"m11","id":6},{"rule":"optional","type":"double","name":"m12","id":7},{"rule":"optional","type":"double","name":"m13","id":8},{"rule":"optional","type":"double","name":"m20","id":9},{"rule":"optional","type":"double","name":"m21","id":10},{"rule":"optional","type":"double","name":"m22","id":11},{"rule":"optional","type":"double","name":"m23","id":12},{"rule":"optional","type":"double","name":"m30","id":13},{"rule":"optional","type":"double","name":"m31","id":14},{"rule":"optional","type":"double","name":"m32","id":15},{"rule":"optional","type":"double","name":"m33","id":16}]},{"name":"CRadiusData","fields":[{"rule":"optional","type":"CCornerRadius","name":"top_left","id":1},{"rule":"optional","type":"CCornerRadius","name":"top_right","id":2},{"rule":"optional","type":"CCornerRadius","name":"bottom_right","id":3},{"rule":"optional","type":"CCornerRadius","name":"bottom_left","id":4}],"messages":[{"name":"CCornerRadius","fields":[{"rule":"optional","type":"double","name":"horizontal","id":1},{"rule":"optional","type":"double","name":"vertical","id":2}]}]},{"name":"CBorderData","fields":[{"rule":"optional","type":"CBorderSide","name":"top","id":1},{"rule":"optional","type":"CBorderSide","name":"right","id":2},{"rule":"optional","type":"CBorderSide","name":"bottom","id":3},{"rule":"optional","type":"CBorderSide","name":"left","id":4}],"messages":[{"name":"CBorderSide","fields":[{"rule":"optional","type":"uint32","name":"style","id":1},{"rule":"optional","type":"double","name":"width","id":2},{"rule":"optional","type":"uint32","name":"color","id":3}]}]},{"name":"CBoxShadowData","fields":[{"rule":"optional","type":"bool","name":"inset","id":1},{"rule":"optional","type":"double","name":"horizontal_offset","id":2},{"rule":"optional","type":"double","name":"vertical_offset","id":3},{"rule":"optional","type":"double","name":"blur_radius","id":4},{"rule":"optional","type":"double","name":"spread_distance","id":5},{"rule":"optional","type":"uint32","name":"color","id":6},{"rule":"optional","type":"bool","name":"fill","id":7},{"rule":"optional","type":"bool","name":"animating","id":8}]},{"name":"CTextShadowData","fields":[{"rule":"optional","type":"double","name":"horizontal_offset","id":2},{"rule":"optional","type":"double","name":"vertical_offset","id":3},{"rule":"optional","type":"double","name":"blur_radius","id":4},{"rule":"optional","type":"uint32","name":"color","id":6},{"rule":"optional","type":"bool","name":"animating","id":8},{"rule":"optional","type":"double","name":"strength","id":9}]},{"name":"CMsgClipData","fields":[{"rule":"optional","type":"double","name":"left","id":1},{"rule":"optional","type":"double","name":"top","id":2},{"rule":"optional","type":"double","name":"right","id":3},{"rule":"optional","type":"double","name":"bottom","id":4}]},{"name":"CMsgPushCompositingLayer","fields":[{"rule":"optional","type":"uint64","name":"layer_id","id":1},{"rule":"optional","type":"double","name":"width","id":2},{"rule":"optional","type":"double","name":"height","id":3},{"rule":"optional","type":"double","name":"layer_quad_top_left_x","id":4},{"rule":"optional","type":"double","name":"layer_quad_top_left_y","id":5},{"rule":"optional","type":"double","name":"layer_quad_top_left_z","id":6},{"rule":"optional","type":"double","name":"layer_quad_top_right_x","id":7},{"rule":"optional","type":"double","name":"layer_quad_top_right_y","id":8},{"rule":"optional","type":"double","name":"layer_quad_top_right_z","id":9},{"rule":"optional","type":"double","name":"layer_quad_bottom_left_x","id":10},{"rule":"optional","type":"double","name":"layer_quad_bottom_left_y","id":11},{"rule":"optional","type":"double","name":"layer_quad_bottom_left_z","id":12},{"rule":"optional","type":"double","name":"layer_quad_bottom_right_x","id":13},{"rule":"optional","type":"double","name":"layer_quad_bottom_right_y","id":14},{"rule":"optional","type":"double","name":"layer_quad_bottom_right_z","id":15},{"rule":"optional","type":"double","name":"transform_m00","id":16},{"rule":"optional","type":"double","name":"transform_m01","id":17},{"rule":"optional","type":"double","name":"transform_m02","id":18},{"rule":"optional","type":"double","name":"transform_m03","id":19},{"rule":"optional","type":"double","name":"transform_m10","id":20},{"rule":"optional","type":"double","name":"transform_m11","id":21},{"rule":"optional","type":"double","name":"transform_m12","id":22},{"rule":"optional","type":"double","name":"transform_m13","id":23},{"rule":"optional","type":"double","name":"transform_m20","id":24},{"rule":"optional","type":"double","name":"transform_m21","id":25},{"rule":"optional","type":"double","name":"transform_m22","id":26},{"rule":"optional","type":"double","name":"transform_m23","id":27},{"rule":"optional","type":"double","name":"transform_m30","id":28},{"rule":"optional","type":"double","name":"transform_m31","id":29},{"rule":"optional","type":"double","name":"transform_m32","id":30},{"rule":"optional","type":"double","name":"transform_m33","id":31},{"rule":"optional","type":"double","name":"perspective_depth","id":32},{"rule":"optional","type":"double","name":"opacity","id":33},{"rule":"optional","type":"uint32","name":"composition_color","id":34},{"rule":"optional","type":"double","name":"saturation","id":35},{"rule":"optional","type":"double","name":"hue_shift","id":36},{"rule":"optional","type":"double","name":"brightness","id":37},{"rule":"optional","type":"double","name":"contrast","id":38},{"rule":"optional","type":"uint32","name":"opacity_mask_texture_id","id":39},{"rule":"optional","type":"double","name":"opacity_mask_opacity","id":40},{"rule":"optional","type":"CBorderData","name":"border","id":41},{"rule":"optional","type":"CRadiusData","name":"border_radius","id":42},{"rule":"optional","type":"CBoxShadowData","name":"box_shadow","id":43},{"rule":"optional","type":"double","name":"gaussianblur_passes","id":44},{"rule":"optional","type":"double","name":"gaussianblur_stddevhor","id":45},{"rule":"optional","type":"double","name":"gaussianblur_stddevver","id":46},{"rule":"optional","type":"double","name":"scale_2d_factors_x","id":47},{"rule":"optional","type":"double","name":"scale_2d_factors_y","id":48},{"rule":"optional","type":"double","name":"rotate_2d","id":49},{"rule":"optional","type":"bool","name":"needs_clear","id":50},{"rule":"optional","type":"bool","name":"needs_depth","id":51},{"rule":"optional","type":"bool","name":"needs_redraw_every_frame","id":52},{"rule":"optional","type":"CTextShadowData","name":"text_shadow","id":53},{"rule":"optional","type":"uint32","name":"mix_blend_mode","id":54},{"rule":"optional","type":"double","name":"occluded_left_edge","id":55},{"rule":"optional","type":"double","name":"occluded_top_edge","id":56},{"rule":"optional","type":"double","name":"occluded_right_edge","id":57},{"rule":"optional","type":"double","name":"occluded_bottom_edge","id":58}]},{"name":"CMsgPopCompositingLayer","fields":[]},{"name":"CMsgFreeCompositingLayer","fields":[{"rule":"optional","type":"uint64","name":"layer_id","id":1}]},{"name":"CMsgTransitionData","fields":[{"rule":"optional","type":"double","name":"start_time","id":1},{"rule":"optional","type":"double","name":"delay_seconds","id":2},{"rule":"optional","type":"double","name":"duration_seconds","id":3},{"rule":"optional","type":"uint32","name":"timing_func","id":4,"options":{"default":0}},{"rule":"optional","type":"float","name":"cubic_bezier_0","id":5},{"rule":"optional","type":"float","name":"cubic_bezier_1","id":6},{"rule":"optional","type":"float","name":"cubic_bezier_2","id":7},{"rule":"optional","type":"float","name":"cubic_bezier_3","id":8}]},{"name":"CMsgAnimationData","fields":[{"rule":"optional","type":"double","name":"start_time","id":1},{"rule":"optional","type":"double","name":"delay_seconds","id":2},{"rule":"optional","type":"double","name":"duration_seconds","id":3},{"rule":"optional","type":"uint32","name":"timing_func","id":4},{"rule":"optional","type":"float","name":"cubic_bezier_0","id":5},{"rule":"optional","type":"float","name":"cubic_bezier_1","id":6},{"rule":"optional","type":"float","name":"cubic_bezier_2","id":7},{"rule":"optional","type":"float","name":"cubic_bezier_3","id":8},{"rule":"optional","type":"uint32","name":"direction","id":9},{"rule":"optional","type":"float","name":"iteration","id":10},{"rule":"repeated","type":"CMsgAnimationFrameData","name":"frames","id":11}]},{"name":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"float","name":"percent","id":1},{"rule":"optional","type":"uint32","name":"timing_func","id":2,"options":{"default":0}},{"rule":"optional","type":"float","name":"cubic_bezier_0","id":3},{"rule":"optional","type":"float","name":"cubic_bezier_1","id":4},{"rule":"optional","type":"float","name":"cubic_bezier_2","id":5},{"rule":"optional","type":"float","name":"cubic_bezier_3","id":6}],"extensions":[1000,536870911]},{"name":"CMsgPointWithTransition","fields":[{"rule":"optional","type":"CMsgPoint","name":"base","id":1},{"rule":"optional","type":"CMsgPoint","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgPoint","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgPointWithTransition.AnimationFrameData","name":"animation_frame_data","id":1012}]}]},{"name":"CMsgColor","fields":[{"rule":"optional","type":"uint32","name":"base","id":1},{"rule":"optional","type":"uint32","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"uint32","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgColor.AnimationFrameData","name":"animation_frame_data","id":1001}]}]},{"name":"CMsgColorStop","fields":[{"rule":"optional","type":"double","name":"position","id":1},{"rule":"optional","type":"uint32","name":"color_rgba","id":2}]},{"name":"CMsgLinearGradient","fields":[{"rule":"optional","type":"CMsgPoint","name":"start_position","id":1},{"rule":"optional","type":"CMsgPoint","name":"end_position","id":2},{"rule":"repeated","type":"CMsgColorStop","name":"color_stop","id":3}]},{"name":"CMsgRadialGradient","fields":[{"rule":"optional","type":"CMsgPoint","name":"center_position","id":1},{"rule":"optional","type":"CMsgPoint","name":"offset_distance","id":2},{"rule":"optional","type":"CMsgPoint","name":"radii","id":3},{"rule":"repeated","type":"CMsgColorStop","name":"color_stop","id":4}]},{"name":"CMsgParticle","fields":[{"rule":"optional","type":"CMsgPoint","name":"particle_position","id":1},{"rule":"optional","type":"float","name":"particle_size","id":2},{"rule":"optional","type":"float","name":"particle_sharpness","id":3},{"rule":"optional","type":"uint32","name":"color_rgba","id":4}]},{"name":"CMsgParticleSystem","fields":[{"rule":"optional","type":"CMsgPoint","name":"base_position","id":1},{"rule":"optional","type":"CMsgPoint","name":"base_position_variance","id":2},{"rule":"optional","type":"double","name":"particle_size","id":3},{"rule":"optional","type":"double","name":"particle_size_variance","id":4},{"rule":"optional","type":"double","name":"particles_per_second","id":5},{"rule":"optional","type":"double","name":"particles_per_second_variance","id":6},{"rule":"optional","type":"double","name":"particle_lifespan_seconds","id":7},{"rule":"optional","type":"double","name":"particle_lifespan_seconds_variance","id":8},{"rule":"optional","type":"CMsgPoint","name":"particle_initial_velocity","id":9},{"rule":"optional","type":"CMsgPoint","name":"particle_initial_velocity_variance","id":10},{"rule":"optional","type":"CMsgPoint","name":"gravity_acceleration","id":11},{"rule":"optional","type":"CMsgPoint","name":"gravity_acceleration_particle_variance","id":12},{"rule":"optional","type":"uint32","name":"color_start_rgba","id":13},{"rule":"optional","type":"uint32","name":"color_start_rgba_variance","id":14},{"rule":"optional","type":"uint32","name":"color_end_rgba","id":15},{"rule":"optional","type":"uint32","name":"color_end_rgba_variance","id":16},{"rule":"optional","type":"uint64","name":"parent_panel_handle","id":17},{"rule":"optional","type":"uint32","name":"parent_brush_index","id":18},{"rule":"optional","type":"float","name":"particle_sharpness","id":19},{"rule":"optional","type":"float","name":"particle_sharpness_variance","id":20},{"rule":"optional","type":"float","name":"particle_flicker","id":21},{"rule":"optional","type":"float","name":"particle_flicker_variance","id":22},{"rule":"optional","type":"CMsgPoint","name":"particle_velocity_min","id":23},{"rule":"optional","type":"CMsgPoint","name":"particle_velocity_max","id":24},{"rule":"repeated","type":"CMsgParticle","name":"particles","id":50}]},{"name":"CMsgFillBrush","fields":[{"rule":"optional","type":"double","name":"opacity","id":1},{"rule":"optional","type":"uint32","name":"color_rgba","id":2},{"rule":"optional","type":"CMsgLinearGradient","name":"linear_gradient","id":3},{"rule":"optional","type":"CMsgRadialGradient","name":"radial_gradient","id":4},{"rule":"optional","type":"CMsgParticleSystem","name":"particle_system","id":5}]},{"name":"CMsgFillBrushCollection","fields":[{"rule":"repeated","type":"CMsgFillBrush","name":"base","id":1},{"rule":"repeated","type":"CMsgFillBrush","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"repeated","type":"CMsgFillBrush","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgFillBrushCollection.AnimationFrameData","name":"animation_frame_data","id":1007}]}]},{"name":"CMsgRenderFillBrushCollection","fields":[{"rule":"repeated","type":"CMsgFillBrush","name":"fill_brush","id":1}]},{"name":"CMsgPanelPosition","fields":[{"rule":"optional","type":"CMsgPoint","name":"base","id":1},{"rule":"optional","type":"CMsgPoint","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4},{"rule":"optional","type":"CMsgPoint","name":"scroll_offset","id":5},{"rule":"optional","type":"CMsgPoint","name":"scroll_offset_target","id":6},{"rule":"optional","type":"CMsgTransitionData","name":"scroll_transition_x","id":7},{"rule":"optional","type":"CMsgTransitionData","name":"scroll_transition_y","id":8}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgPoint","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgPanelPosition.AnimationFrameData","name":"animation_frame_data","id":1011}]}]},{"name":"CMsgOpacity","fields":[{"rule":"optional","type":"double","name":"base","id":1},{"rule":"optional","type":"double","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"double","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgOpacity.AnimationFrameData","name":"animation_frame_data","id":1004}]}]},{"name":"CMsgRotate2D","fields":[{"rule":"optional","type":"double","name":"base","id":1},{"rule":"optional","type":"double","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"double","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgRotate2D.AnimationFrameData","name":"animation_frame_data","id":1014}]}]},{"name":"CMsgOpacityMaskData","fields":[{"rule":"optional","type":"uint32","name":"opacity_mask_texture_id","id":1},{"rule":"optional","type":"double","name":"opacity_mask_opacity","id":2}]},{"name":"CMsgOpacityMask","fields":[{"rule":"optional","type":"CMsgOpacityMaskData","name":"base","id":1},{"rule":"optional","type":"CMsgOpacityMaskData","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgOpacityMaskData","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgOpacityMask.AnimationFrameData","name":"animation_frame_data","id":1013}]}]},{"name":"CMsgHueShift","fields":[{"rule":"optional","type":"double","name":"base","id":1},{"rule":"optional","type":"double","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"double","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgHueShift.AnimationFrameData","name":"animation_frame_data","id":1019}]}]},{"name":"CMsgSaturation","fields":[{"rule":"optional","type":"double","name":"base","id":1},{"rule":"optional","type":"double","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"double","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgSaturation.AnimationFrameData","name":"animation_frame_data","id":1005}]}]},{"name":"CMsgBrightness","fields":[{"rule":"optional","type":"double","name":"base","id":1},{"rule":"optional","type":"double","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"double","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgBrightness.AnimationFrameData","name":"animation_frame_data","id":1020}]}]},{"name":"CMsgContrast","fields":[{"rule":"optional","type":"double","name":"base","id":1},{"rule":"optional","type":"double","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"double","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgContrast.AnimationFrameData","name":"animation_frame_data","id":1021}]}]},{"name":"CMsgGaussianValues","fields":[{"rule":"optional","type":"double","name":"passes","id":1},{"rule":"optional","type":"double","name":"stddev_hor","id":2},{"rule":"optional","type":"double","name":"stddev_ver","id":3}]},{"name":"CMsgGaussianBlur","fields":[{"rule":"optional","type":"CMsgGaussianValues","name":"base","id":1},{"rule":"optional","type":"CMsgGaussianValues","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgGaussianValues","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgGaussianBlur.AnimationFrameData","name":"animation_frame_data","id":1008}]}]},{"name":"CMsg3DTransformPerspective","fields":[{"rule":"optional","type":"double","name":"base","id":1},{"rule":"optional","type":"double","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"double","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsg3DTransformPerspective.AnimationFrameData","name":"animation_frame_data","id":1003}]}]},{"name":"CMsg3DTransformPerspectiveOrigin","fields":[{"rule":"optional","type":"CMsgPoint","name":"base","id":1},{"rule":"optional","type":"CMsgPoint","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgPoint","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsg3DTransformPerspectiveOrigin.AnimationFrameData","name":"animation_frame_data","id":1002}]}]},{"name":"CMsgTransformOriginData","fields":[{"rule":"optional","type":"double","name":"x","id":1},{"rule":"optional","type":"double","name":"y","id":2},{"rule":"optional","type":"bool","name":"x_is_percent","id":3},{"rule":"optional","type":"bool","name":"y_is_percent","id":4},{"rule":"optional","type":"bool","name":"is_parent_relative","id":5}]},{"name":"CMsg3DTransformOrigin","fields":[{"rule":"optional","type":"CMsgTransformOriginData","name":"base","id":1},{"rule":"optional","type":"CMsgTransformOriginData","name":"transition","id":2},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgTransformOriginData","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsg3DTransformOrigin.AnimationFrameData","name":"animation_frame_data","id":1015}]}]},{"name":"CMsg3DTransformMatrix","fields":[{"rule":"optional","type":"CMsgMatrix4x4","name":"base","id":1},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":2},{"rule":"optional","type":"CMsgMatrix4x4","name":"transition","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgMatrix4x4","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsg3DTransformMatrix.AnimationFrameData","name":"animation_frame_data","id":1000}]}]},{"name":"CMsgBorderRadius","fields":[{"rule":"optional","type":"CRadiusData","name":"base","id":1},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":2},{"rule":"optional","type":"CRadiusData","name":"transition","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CRadiusData","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgBorderRadius.AnimationFrameData","name":"animation_frame_data","id":1006}]}]},{"name":"CMsgBorder","fields":[{"rule":"optional","type":"CBorderData","name":"base","id":1},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":2},{"rule":"optional","type":"CBorderData","name":"transition","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CBorderData","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgBorder.AnimationFrameData","name":"animation_frame_data","id":1009}]}]},{"name":"CMsgBoxShadow","fields":[{"rule":"optional","type":"CBoxShadowData","name":"base","id":1},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":2},{"rule":"optional","type":"CBoxShadowData","name":"transition","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CBoxShadowData","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgBoxShadow.AnimationFrameData","name":"animation_frame_data","id":1010}]}]},{"name":"CMsgTextShadow","fields":[{"rule":"optional","type":"CTextShadowData","name":"base","id":1},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":2},{"rule":"optional","type":"CTextShadowData","name":"transition","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CTextShadowData","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgTextShadow.AnimationFrameData","name":"animation_frame_data","id":1017}]}]},{"name":"CMsgClip","fields":[{"rule":"optional","type":"CMsgClipData","name":"base","id":1},{"rule":"optional","type":"CMsgTransitionData","name":"transition_data","id":2},{"rule":"optional","type":"CMsgClipData","name":"transition","id":3},{"rule":"repeated","type":"CMsgAnimationData","name":"animations","id":4}],"messages":[{"name":"AnimationFrameData","fields":[{"rule":"optional","type":"CMsgClipData","name":"data","id":1}]},{"ref":"CMsgAnimationFrameData","fields":[{"rule":"optional","type":"CMsgClip.AnimationFrameData","name":"animation_frame_data","id":1018}]}]},{"name":"CMsgPushClipLayer","fields":[{"rule":"optional","type":"CMsgPoint","name":"top_left","id":1},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":2},{"rule":"optional","type":"CRadiusData","name":"border_radius","id":3}]},{"name":"CMsgPopClipLayer","fields":[]},{"name":"CMsgPushAAndTContext","fields":[{"rule":"optional","type":"uint64","name":"context_id","id":1},{"rule":"optional","type":"double","name":"width","id":3},{"rule":"optional","type":"double","name":"height","id":4},{"rule":"optional","type":"bool","name":"chilren_have_3dtransforms","id":5},{"rule":"optional","type":"float","name":"zindex","id":6},{"rule":"optional","type":"CMsgPanelPosition","name":"panel_position","id":7},{"rule":"optional","type":"CMsg3DTransformMatrix","name":"transform_matrix","id":8},{"rule":"optional","type":"CMsg3DTransformOrigin","name":"transform_origin","id":9},{"rule":"optional","type":"CMsg3DTransformPerspective","name":"transform_perspective","id":10},{"rule":"optional","type":"CMsg3DTransformPerspectiveOrigin","name":"transform_perspective_origin","id":11},{"rule":"optional","type":"CMsgOpacity","name":"opacity","id":12},{"rule":"optional","type":"CMsgColor","name":"wash_color","id":13},{"rule":"optional","type":"CMsgHueShift","name":"hue_shift","id":14},{"rule":"optional","type":"CMsgSaturation","name":"saturation","id":15},{"rule":"optional","type":"CMsgBrightness","name":"brightness","id":16},{"rule":"optional","type":"CMsgContrast","name":"contrast","id":17},{"rule":"optional","type":"CMsgOpacityMask","name":"opacity_mask","id":18},{"rule":"optional","type":"CMsgBorderRadius","name":"border_radius","id":19},{"rule":"optional","type":"CMsgGaussianBlur","name":"gaussian_blur","id":20},{"rule":"optional","type":"CMsgBorder","name":"border","id":21},{"rule":"optional","type":"CMsgBoxShadow","name":"box_shadow","id":22},{"rule":"optional","type":"CMsgPointWithTransition","name":"scale_2d_centered","id":23},{"rule":"optional","type":"CMsgRotate2D","name":"rotate_2d_centered","id":24},{"rule":"optional","type":"CMsgTextShadow","name":"text_shadow","id":25},{"rule":"optional","type":"CMsgClip","name":"clip","id":26},{"rule":"optional","type":"bool","name":"suppress_clip_to_bounds","id":27},{"rule":"optional","type":"int32","name":"needs_full_repaint","id":28},{"rule":"optional","type":"bool","name":"wants_hit_test","id":29},{"rule":"optional","type":"uint32","name":"mix_blend_mode","id":30},{"rule":"optional","type":"bool","name":"opaque_background","id":31}]},{"name":"CMsgPopAAndTContext","fields":[{"rule":"optional","type":"uint64","name":"context_id","id":1}]},{"name":"CMsgBeginPaintBackground","fields":[]},{"name":"CMsgEndPaintBackground","fields":[]},{"name":"CMsgBeginPaintLast","fields":[]},{"name":"CMsgEndPaintLast","fields":[]},{"name":"CMsgDrawFilledRect","fields":[{"rule":"optional","type":"CMsgPoint","name":"top_left","id":1},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":2},{"rule":"optional","type":"CMsgFillBrushCollection","name":"fill_brush_collection","id":3},{"rule":"optional","type":"uint32","name":"antialiasing","id":4}]},{"name":"CMsgRenderFilledRect","fields":[{"rule":"optional","type":"CMsgPoint","name":"top_left","id":1},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":2},{"rule":"optional","type":"CMsgRenderFillBrushCollection","name":"fill_brush_collection","id":3},{"rule":"optional","type":"uint32","name":"antialiasing","id":4}]},{"name":"CMsgDrawTexturedRect","fields":[{"rule":"optional","type":"CMsgPoint","name":"top_left","id":1},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":2},{"rule":"optional","type":"uint32","name":"texture_id","id":3},{"rule":"optional","type":"CMsgPoint","name":"texture_top_left","id":4},{"rule":"optional","type":"CMsgPoint","name":"texture_bottom_right","id":5},{"rule":"optional","type":"int32","name":"texture_serial","id":6,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"texture_sample_mode","id":7,"options":{"default":0}}]},{"name":"CMsgDrawDoubleBufferedRect","fields":[{"rule":"optional","type":"CMsgPoint","name":"top_left","id":1},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":2},{"rule":"optional","type":"uint32","name":"texture_id","id":3},{"rule":"optional","type":"CMsgPoint","name":"texture_top_left","id":4},{"rule":"optional","type":"CMsgPoint","name":"texture_bottom_right","id":5}]},{"name":"CMsgDrawYUV420DoubleBufferedRect","fields":[{"rule":"optional","type":"CMsgPoint","name":"top_left","id":1},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":2},{"rule":"optional","type":"uint32","name":"texture_id","id":3},{"rule":"optional","type":"CMsgPoint","name":"texture_top_left","id":4},{"rule":"optional","type":"CMsgPoint","name":"texture_bottom_right","id":5}]},{"name":"CMsgRenderTexturedRect","fields":[{"rule":"optional","type":"CMsgPoint","name":"top_left","id":1},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":2},{"rule":"optional","type":"uint32","name":"texture_id","id":3},{"rule":"optional","type":"CMsgPoint","name":"texture_top_left","id":4},{"rule":"optional","type":"CMsgPoint","name":"texture_bottom_right","id":5},{"rule":"optional","type":"int32","name":"texture_serial","id":6,"options":{"default":0}},{"rule":"optional","type":"uint32","name":"texture_sample_mode","id":7,"options":{"default":0}}]},{"name":"CMsgLockTexture","fields":[{"rule":"optional","type":"uint32","name":"texture_id","id":1},{"rule":"optional","type":"int32","name":"texture_serial","id":2,"options":{"default":0}}]},{"name":"CMsgTextInlineObject","fields":[{"rule":"optional","type":"float","name":"width","id":1},{"rule":"optional","type":"float","name":"height","id":2}]},{"name":"CMsgTextFormat","fields":[{"rule":"optional","type":"string","name":"font_name","id":1},{"rule":"optional","type":"double","name":"font_size","id":2},{"rule":"optional","type":"int32","name":"font_weight","id":3,"options":{"default":-1}},{"rule":"optional","type":"int32","name":"font_style","id":4,"options":{"default":-1}},{"rule":"optional","type":"bool","name":"underline","id":5},{"rule":"optional","type":"bool","name":"strikethrough","id":6},{"rule":"optional","type":"CMsgFillBrushCollection","name":"fill_brush_collection","id":7},{"rule":"optional","type":"int32","name":"letter_spacing","id":8,"options":{"default":0}},{"rule":"optional","type":"CMsgTextInlineObject","name":"inline_object","id":9}]},{"name":"CMsgTextRangeFormat","fields":[{"rule":"optional","type":"uint32","name":"start_index","id":1},{"rule":"optional","type":"uint32","name":"end_index","id":2},{"rule":"optional","type":"CMsgTextFormat","name":"format","id":3}]},{"name":"CMsgRenderTextFormat","fields":[{"rule":"optional","type":"string","name":"font_name","id":1},{"rule":"optional","type":"double","name":"font_size","id":2},{"rule":"optional","type":"int32","name":"font_weight","id":3,"options":{"default":-1}},{"rule":"optional","type":"int32","name":"font_style","id":4,"options":{"default":-1}},{"rule":"optional","type":"bool","name":"underline","id":5},{"rule":"optional","type":"bool","name":"strikethrough","id":6},{"rule":"optional","type":"CMsgRenderFillBrushCollection","name":"fill_brush_collection","id":7},{"rule":"optional","type":"int32","name":"letter_spacing","id":8,"options":{"default":0}},{"rule":"optional","type":"CMsgTextInlineObject","name":"inline_object","id":9}]},{"name":"CMsgRenderTextRangeFormat","fields":[{"rule":"optional","type":"uint32","name":"start_index","id":1},{"rule":"optional","type":"uint32","name":"end_index","id":2},{"rule":"optional","type":"CMsgRenderTextFormat","name":"format","id":3}]},{"name":"CMsgDrawTextRegion","fields":[{"rule":"optional","type":"bytes","name":"wtext","id":2},{"rule":"optional","type":"CMsgTextFormat","name":"default_format","id":3},{"rule":"optional","type":"uint32","name":"text_align","id":4},{"rule":"optional","type":"uint32","name":"line_height","id":5},{"rule":"optional","type":"CMsgPoint","name":"top_left","id":6},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":7},{"rule":"optional","type":"bool","name":"wrapping","id":8},{"rule":"optional","type":"bool","name":"ellipsis","id":9},{"rule":"repeated","type":"CMsgTextRangeFormat","name":"range_formats","id":10}]},{"name":"CMsgRenderTextRegion","fields":[{"rule":"optional","type":"bytes","name":"wtext","id":2},{"rule":"optional","type":"CMsgRenderTextFormat","name":"default_format","id":3},{"rule":"optional","type":"uint32","name":"text_align","id":4},{"rule":"optional","type":"uint32","name":"line_height","id":5},{"rule":"optional","type":"CMsgPoint","name":"top_left","id":6},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":7},{"rule":"optional","type":"bool","name":"wrapping","id":8},{"rule":"optional","type":"bool","name":"ellipsis","id":9},{"rule":"repeated","type":"CMsgRenderTextRangeFormat","name":"range_formats","id":10},{"rule":"optional","type":"CTextShadowData","name":"text_shadow","id":11}]},{"name":"CMsgRequestRenderCallback","fields":[{"rule":"optional","type":"bytes","name":"callback_obj","id":1},{"rule":"optional","type":"CMsgPoint","name":"top_left","id":2},{"rule":"optional","type":"CMsgPoint","name":"bottom_right","id":3},{"rule":"optional","type":"CMsgPoint","name":"top_left_padding","id":4},{"rule":"optional","type":"CMsgPoint","name":"bottom_right_padding","id":5},{"rule":"optional","type":"bool","name":"needs_redraw_every_frame","id":6}]},{"name":"CMsgSteamDatagramRouterPingReply","fields":[{"rule":"optional","type":"fixed32","name":"client_timestamp","id":1},{"rule":"repeated","type":"fixed32","name":"latency_datacenter_ids","id":2,"options":{"packed":true}},{"rule":"repeated","type":"uint32","name":"latency_ping_ms","id":3,"options":{"packed":true}},{"rule":"optional","type":"fixed32","name":"your_public_ip","id":4},{"rule":"optional","type":"fixed32","name":"server_time","id":5},{"rule":"optional","type":"fixed64","name":"challenge","id":6},{"rule":"optional","type":"uint32","name":"seconds_until_shutdown","id":7},{"rule":"optional","type":"fixed32","name":"client_cookie","id":8}]},{"name":"CMsgSteamDatagramGameserverPing","fields":[{"rule":"optional","type":"uint32","name":"client_session","id":1},{"rule":"optional","type":"fixed64","name":"client_steam_id","id":2},{"rule":"optional","type":"fixed32","name":"client_timestamp","id":3},{"rule":"optional","type":"fixed32","name":"router_timestamp","id":4},{"rule":"optional","type":"uint32","name":"router_gameserver_latency","id":5},{"rule":"optional","type":"uint32","name":"seq_number_router","id":6},{"rule":"optional","type":"uint32","name":"seq_number_e2e","id":7}]},{"name":"CMsgSteamDatagramGameServerAuthTicket","fields":[{"rule":"optional","type":"fixed32","name":"time_expiry","id":1},{"rule":"optional","type":"fixed64","name":"authorized_steam_id","id":2},{"rule":"optional","type":"fixed32","name":"authorized_public_ip","id":3},{"rule":"optional","type":"fixed64","name":"gameserver_steam_id","id":4},{"rule":"optional","type":"fixed64","name":"gameserver_net_id","id":5},{"rule":"optional","type":"bytes","name":"signature","id":6},{"rule":"optional","type":"uint32","name":"app_id","id":7},{"rule":"repeated","type":"ExtraField","name":"extra_fields","id":8}],"messages":[{"name":"ExtraField","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"string_value","id":2},{"rule":"optional","type":"sint32","name":"int32_value","id":3},{"rule":"optional","type":"fixed32","name":"fixed32_value","id":4},{"rule":"optional","type":"fixed64","name":"fixed64_value","id":5}]}]},{"name":"CMsgSteamDatagramGameserverSessionRequest","fields":[{"rule":"optional","type":"CMsgSteamDatagramGameServerAuthTicket","name":"ticket","id":1},{"rule":"optional","type":"fixed32","name":"challenge_time","id":3},{"rule":"optional","type":"fixed64","name":"challenge","id":4},{"rule":"optional","type":"fixed32","name":"client_cookie","id":5}]},{"name":"CMsgSteamDatagramGameserverSessionEstablished","fields":[{"rule":"optional","type":"fixed32","name":"client_cookie","id":1},{"rule":"optional","type":"fixed64","name":"gameserver_steam_id","id":3},{"rule":"optional","type":"uint32","name":"seconds_until_shutdown","id":4}]},{"name":"CMsgSteamDatagramNoSession","fields":[{"rule":"optional","type":"fixed32","name":"client_cookie","id":7},{"rule":"optional","type":"fixed32","name":"your_public_ip","id":2},{"rule":"optional","type":"fixed32","name":"server_time","id":3},{"rule":"optional","type":"fixed64","name":"challenge","id":4},{"rule":"optional","type":"uint32","name":"seconds_until_shutdown","id":5}]},{"name":"CMsgSteamDatagramDiagnostic","fields":[{"rule":"optional","type":"uint32","name":"severity","id":1},{"rule":"optional","type":"string","name":"text","id":2}]},{"name":"CMsgSteamDatagramDataCenterState","fields":[{"rule":"repeated","type":"DataCenter","name":"data_centers","id":1}],"messages":[{"name":"Server","fields":[{"rule":"optional","type":"string","name":"address","id":1},{"rule":"optional","type":"uint32","name":"ping_ms","id":2}]},{"name":"DataCenter","fields":[{"rule":"optional","type":"string","name":"code","id":1},{"rule":"repeated","type":"Server","name":"server_sample","id":2}]}]},{"name":"CMsgSteamDatagramLinkInstantaneousStats","fields":[{"rule":"optional","type":"uint32","name":"out_packets_per_sec_x10","id":1},{"rule":"optional","type":"uint32","name":"out_bytes_per_sec","id":2},{"rule":"optional","type":"uint32","name":"in_packets_per_sec_x10","id":3},{"rule":"optional","type":"uint32","name":"in_bytes_per_sec","id":4},{"rule":"optional","type":"uint32","name":"ping_ms","id":5},{"rule":"optional","type":"uint32","name":"packets_dropped_pct","id":6},{"rule":"optional","type":"uint32","name":"packets_weird_sequence_pct","id":7}]},{"name":"CMsgSteamDatagramLinkLifetimeStats","fields":[{"rule":"optional","type":"uint64","name":"packets_sent","id":3},{"rule":"optional","type":"uint64","name":"kb_sent","id":4},{"rule":"optional","type":"uint64","name":"packets_recv","id":5},{"rule":"optional","type":"uint64","name":"kb_recv","id":6},{"rule":"optional","type":"uint64","name":"packets_recv_sequenced","id":7},{"rule":"optional","type":"uint64","name":"packets_recv_dropped","id":8},{"rule":"optional","type":"uint64","name":"packets_recv_out_of_order","id":9},{"rule":"optional","type":"uint64","name":"packets_recv_duplicate","id":10},{"rule":"optional","type":"uint64","name":"packets_recv_lurch","id":11}]},{"name":"CMsgSteamDatagramConnectionQuality","fields":[{"rule":"optional","type":"CMsgSteamDatagramLinkInstantaneousStats","name":"instantaneous","id":1},{"rule":"optional","type":"CMsgSteamDatagramLinkLifetimeStats","name":"lifetime","id":2}]},{"name":"CMsgSteamDatagramConnectionStatsClientToRouter","fields":[{"rule":"optional","type":"CMsgSteamDatagramConnectionQuality","name":"c2r","id":1},{"rule":"optional","type":"CMsgSteamDatagramConnectionQuality","name":"c2s","id":2},{"rule":"optional","type":"fixed32","name":"client_timestamp","id":3},{"rule":"optional","type":"fixed32","name":"client_cookie","id":8},{"rule":"optional","type":"uint32","name":"seq_num_c2r","id":9},{"rule":"optional","type":"uint32","name":"seq_num_c2s","id":10}]},{"name":"CMsgSteamDatagramConnectionStatsRouterToClient","fields":[{"rule":"optional","type":"CMsgSteamDatagramConnectionQuality","name":"r2c","id":1},{"rule":"optional","type":"CMsgSteamDatagramConnectionQuality","name":"s2c","id":2},{"rule":"optional","type":"fixed32","name":"client_timestamp_from_router","id":3},{"rule":"optional","type":"fixed32","name":"client_timestamp_from_server","id":4},{"rule":"optional","type":"uint32","name":"router_gameserver_latency","id":5},{"rule":"optional","type":"uint32","name":"seconds_until_shutdown","id":6},{"rule":"optional","type":"fixed32","name":"client_cookie","id":7},{"rule":"optional","type":"uint32","name":"seq_num_r2c","id":8},{"rule":"optional","type":"uint32","name":"seq_num_s2c","id":9}]},{"name":"CMsgSteamDatagramConnectionStatsRouterToServer","fields":[{"rule":"optional","type":"CMsgSteamDatagramConnectionQuality","name":"c2s","id":2},{"rule":"optional","type":"fixed32","name":"client_timestamp","id":3},{"rule":"optional","type":"fixed32","name":"router_timestamp","id":4},{"rule":"optional","type":"uint32","name":"seq_num_c2s","id":6},{"rule":"optional","type":"fixed64","name":"client_steam_id","id":7},{"rule":"optional","type":"uint32","name":"client_session_id","id":8}]},{"name":"CMsgSteamDatagramClientPingSampleRequest","fields":[{"rule":"optional","type":"fixed32","name":"client_cookie","id":1}]},{"name":"CMsgSteamDatagramClientPingSampleReply","fields":[{"rule":"optional","type":"fixed32","name":"client_cookie","id":1},{"rule":"repeated","type":"RoutingCluster","name":"routing_clusters","id":2}],"messages":[{"name":"RoutingCluster","fields":[{"rule":"optional","type":"fixed32","name":"id","id":1},{"rule":"optional","type":"uint32","name":"front_ping_ms","id":2},{"rule":"optional","type":"uint32","name":"e2e_ping_ms","id":3}]}]},{"name":"CMsgSteamDatagramClientSwitchedPrimary","fields":[{"rule":"optional","type":"fixed32","name":"client_cookie","id":1},{"rule":"optional","type":"fixed32","name":"from_ip","id":2},{"rule":"optional","type":"uint32","name":"from_port","id":3},{"rule":"optional","type":"fixed32","name":"from_router_cluster","id":4},{"rule":"optional","type":"uint32","name":"from_active_time","id":5},{"rule":"optional","type":"uint32","name":"from_active_packets_recv","id":6},{"rule":"optional","type":"string","name":"from_dropped_reason","id":7},{"rule":"optional","type":"uint32","name":"gap_ms","id":8},{"rule":"optional","type":"RouterQuality","name":"from_quality_now","id":9},{"rule":"optional","type":"RouterQuality","name":"to_quality_now","id":10},{"rule":"optional","type":"RouterQuality","name":"from_quality_then","id":11},{"rule":"optional","type":"RouterQuality","name":"to_quality_then","id":12}],"messages":[{"name":"RouterQuality","fields":[{"rule":"optional","type":"uint32","name":"score","id":1},{"rule":"optional","type":"uint32","name":"front_ping","id":2},{"rule":"optional","type":"uint32","name":"back_ping","id":3},{"rule":"optional","type":"uint32","name":"seconds_until_down","id":4}]}]},{"name":"CCloud_GetUploadServerInfo_Request","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1,"options":{"(description)":"App ID to which a file will be uploaded to."}}]},{"name":"CCloud_GetUploadServerInfo_Response","fields":[{"rule":"optional","type":"string","name":"server_url","id":1}]},{"name":"CCloud_GetFileDetails_Request","fields":[{"rule":"optional","type":"uint64","name":"ugcid","id":1,"options":{"(description)":"ID of the Cloud file to get details for."}},{"rule":"optional","type":"uint32","name":"appid","id":2,"options":{"(description)":"App ID the file belongs to."}}]},{"name":"CCloud_UserFile","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1},{"rule":"optional","type":"uint64","name":"ugcid","id":2},{"rule":"optional","type":"string","name":"filename","id":3},{"rule":"optional","type":"uint64","name":"timestamp","id":4},{"rule":"optional","type":"uint32","name":"file_size","id":5},{"rule":"optional","type":"string","name":"url","id":6},{"rule":"optional","type":"fixed64","name":"steamid_creator","id":7}]},{"name":"CCloud_GetFileDetails_Response","fields":[{"rule":"optional","type":"CCloud_UserFile","name":"details","id":1}]},{"name":"CCloud_EnumerateUserFiles_Request","fields":[{"rule":"optional","type":"uint32","name":"appid","id":1,"options":{"(description)":"App ID to enumerate the files of."}},{"rule":"optional","type":"bool","name":"extended_details","id":2,"options":{"(description)":"(Optional) Get extended details back on the files found. Defaults to only returned the app Id and UGC Id of the files found."}},{"rule":"optional","type":"uint32","name":"count","id":3,"options":{"(description)":"(Optional) Maximum number of results to return on this call. Defaults to a maximum of 500 files returned."}},{"rule":"optional","type":"uint32","name":"start_index","id":4,"options":{"(description)":"(Optional) Starting index to begin enumeration at. Defaults to the beginning of the list."}}]},{"name":"CCloud_EnumerateUserFiles_Response","fields":[{"rule":"repeated","type":"CCloud_UserFile","name":"files","id":1},{"rule":"optional","type":"uint32","name":"total_files","id":2}]},{"name":"CCloud_Delete_Request","fields":[{"rule":"optional","type":"string","name":"filename","id":1},{"rule":"optional","type":"uint32","name":"appid","id":2,"options":{"(description)":"App ID the file belongs to."}}]},{"name":"CCloud_Delete_Response","fields":[]},{"name":"COAuthToken_ImplicitGrantNoPrompt_Request","fields":[{"rule":"optional","type":"string","name":"clientid","id":1,"options":{"(description)":"Client ID for which to count the number of issued tokens"}}]},{"name":"COAuthToken_ImplicitGrantNoPrompt_Response","fields":[{"rule":"optional","type":"string","name":"access_token","id":1,"options":{"(description)":"OAuth Token, granted on success"}},{"rule":"optional","type":"string","name":"redirect_uri","id":2,"options":{"(description)":"Redirection URI provided during client registration."}}]},{"name":"CMsgTEArmorRicochet","fields":[{"rule":"optional","type":"CMsgVector","name":"pos","id":1},{"rule":"optional","type":"CMsgVector","name":"dir","id":2}]},{"name":"CMsgTEBaseBeam","fields":[{"rule":"optional","type":"fixed64","name":"modelindex","id":1},{"rule":"optional","type":"fixed64","name":"haloindex","id":2},{"rule":"optional","type":"uint32","name":"startframe","id":3},{"rule":"optional","type":"uint32","name":"framerate","id":4},{"rule":"optional","type":"float","name":"life","id":5},{"rule":"optional","type":"float","name":"width","id":6},{"rule":"optional","type":"float","name":"endwidth","id":7},{"rule":"optional","type":"uint32","name":"fadelength","id":8},{"rule":"optional","type":"float","name":"amplitude","id":9},{"rule":"optional","type":"fixed32","name":"color","id":10},{"rule":"optional","type":"uint32","name":"speed","id":11},{"rule":"optional","type":"uint32","name":"flags","id":12}]},{"name":"CMsgTEBeamEntPoint","fields":[{"rule":"optional","type":"CMsgTEBaseBeam","name":"base","id":1},{"rule":"optional","type":"uint32","name":"startentity","id":2},{"rule":"optional","type":"uint32","name":"endentity","id":3},{"rule":"optional","type":"CMsgVector","name":"start","id":4},{"rule":"optional","type":"CMsgVector","name":"end","id":5}]},{"name":"CMsgTEBeamEnts","fields":[{"rule":"optional","type":"CMsgTEBaseBeam","name":"base","id":1},{"rule":"optional","type":"uint32","name":"startentity","id":2},{"rule":"optional","type":"uint32","name":"endentity","id":3}]},{"name":"CMsgTEBeamPoints","fields":[{"rule":"optional","type":"CMsgTEBaseBeam","name":"base","id":1},{"rule":"optional","type":"CMsgVector","name":"start","id":2},{"rule":"optional","type":"CMsgVector","name":"end","id":3}]},{"name":"CMsgTEBeamRing","fields":[{"rule":"optional","type":"CMsgTEBaseBeam","name":"base","id":1},{"rule":"optional","type":"uint32","name":"startentity","id":2},{"rule":"optional","type":"uint32","name":"endentity","id":3}]},{"name":"CMsgTEBreakModel","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgQAngle","name":"angles","id":2},{"rule":"optional","type":"CMsgVector","name":"size","id":3},{"rule":"optional","type":"CMsgVector","name":"velocity","id":4},{"rule":"optional","type":"uint32","name":"randomization","id":5},{"rule":"optional","type":"fixed64","name":"modelindex","id":6},{"rule":"optional","type":"uint32","name":"count","id":7},{"rule":"optional","type":"float","name":"time","id":8},{"rule":"optional","type":"uint32","name":"flags","id":9}]},{"name":"CMsgTEBSPDecal","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector","name":"normal","id":2},{"rule":"optional","type":"CMsgVector","name":"saxis","id":3},{"rule":"optional","type":"uint32","name":"entity","id":4},{"rule":"optional","type":"uint32","name":"index","id":5}]},{"name":"CMsgTEBubbles","fields":[{"rule":"optional","type":"CMsgVector","name":"mins","id":1},{"rule":"optional","type":"CMsgVector","name":"maxs","id":2},{"rule":"optional","type":"float","name":"height","id":3},{"rule":"optional","type":"uint32","name":"count","id":4},{"rule":"optional","type":"float","name":"speed","id":5}]},{"name":"CMsgTEBubbleTrail","fields":[{"rule":"optional","type":"CMsgVector","name":"mins","id":1},{"rule":"optional","type":"CMsgVector","name":"maxs","id":2},{"rule":"optional","type":"float","name":"waterz","id":3},{"rule":"optional","type":"uint32","name":"count","id":4},{"rule":"optional","type":"float","name":"speed","id":5}]},{"name":"CMsgTEDecal","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector","name":"start","id":2},{"rule":"optional","type":"uint32","name":"entity","id":3},{"rule":"optional","type":"uint32","name":"hitbox","id":4},{"rule":"optional","type":"uint32","name":"index","id":5}]},{"name":"CMsgEffectData","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector","name":"start","id":2},{"rule":"optional","type":"CMsgVector","name":"normal","id":3},{"rule":"optional","type":"CMsgQAngle","name":"angles","id":4},{"rule":"optional","type":"fixed32","name":"entity","id":5},{"rule":"optional","type":"fixed32","name":"otherentity","id":6},{"rule":"optional","type":"float","name":"scale","id":7},{"rule":"optional","type":"float","name":"magnitude","id":8},{"rule":"optional","type":"float","name":"radius","id":9},{"rule":"optional","type":"fixed32","name":"surfaceprop","id":10},{"rule":"optional","type":"fixed64","name":"effectindex","id":11},{"rule":"optional","type":"uint32","name":"damagetype","id":12},{"rule":"optional","type":"uint32","name":"material","id":13},{"rule":"optional","type":"uint32","name":"hitbox","id":14},{"rule":"optional","type":"uint32","name":"color","id":15},{"rule":"optional","type":"uint32","name":"flags","id":16},{"rule":"optional","type":"int32","name":"attachmentindex","id":17},{"rule":"optional","type":"uint32","name":"effectname","id":18},{"rule":"optional","type":"uint32","name":"attachmentname","id":19}]},{"name":"CMsgTEEffectDispatch","fields":[{"rule":"optional","type":"CMsgEffectData","name":"effectdata","id":1}]},{"name":"CMsgTEEnergySplash","fields":[{"rule":"optional","type":"CMsgVector","name":"pos","id":1},{"rule":"optional","type":"CMsgVector","name":"dir","id":2},{"rule":"optional","type":"bool","name":"explosive","id":3}]},{"name":"CMsgTEFizz","fields":[{"rule":"optional","type":"uint32","name":"entity","id":1},{"rule":"optional","type":"uint32","name":"density","id":2},{"rule":"optional","type":"int32","name":"current","id":3}]},{"name":"CMsgTEShatterSurface","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgQAngle","name":"angles","id":2},{"rule":"optional","type":"CMsgVector","name":"force","id":3},{"rule":"optional","type":"CMsgVector","name":"forcepos","id":4},{"rule":"optional","type":"float","name":"width","id":5},{"rule":"optional","type":"float","name":"height","id":6},{"rule":"optional","type":"float","name":"shardsize","id":7},{"rule":"optional","type":"uint32","name":"surfacetype","id":8},{"rule":"optional","type":"fixed32","name":"frontcolor","id":9},{"rule":"optional","type":"fixed32","name":"backcolor","id":10}]},{"name":"CMsgTEGlowSprite","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"float","name":"scale","id":2},{"rule":"optional","type":"float","name":"life","id":3},{"rule":"optional","type":"uint32","name":"brightness","id":4}]},{"name":"CMsgTEImpact","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector","name":"normal","id":2},{"rule":"optional","type":"uint32","name":"type","id":3}]},{"name":"CMsgTEMuzzleFlash","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgQAngle","name":"angles","id":2},{"rule":"optional","type":"float","name":"scale","id":3},{"rule":"optional","type":"uint32","name":"type","id":4}]},{"name":"CMsgTEBloodStream","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector","name":"direction","id":2},{"rule":"optional","type":"fixed32","name":"color","id":3},{"rule":"optional","type":"uint32","name":"amount","id":4}]},{"name":"CMsgTEExplosion","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"uint32","name":"framerate","id":2},{"rule":"optional","type":"uint32","name":"flags","id":3},{"rule":"optional","type":"CMsgVector","name":"normal","id":4},{"rule":"optional","type":"uint32","name":"materialtype","id":5},{"rule":"optional","type":"uint32","name":"radius","id":6},{"rule":"optional","type":"uint32","name":"magnitude","id":7},{"rule":"optional","type":"float","name":"scale","id":8},{"rule":"optional","type":"bool","name":"affect_ragdolls","id":9}]},{"name":"CMsgTEDust","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"float","name":"size","id":2},{"rule":"optional","type":"float","name":"speed","id":3},{"rule":"optional","type":"CMsgVector","name":"direction","id":4}]},{"name":"CMsgTELargeFunnel","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"uint32","name":"reversed","id":2}]},{"name":"CMsgTESparks","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"uint32","name":"magnitude","id":2},{"rule":"optional","type":"uint32","name":"length","id":3},{"rule":"optional","type":"CMsgVector","name":"direction","id":4}]},{"name":"CMsgTEPhysicsProp","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector","name":"velocity","id":2},{"rule":"optional","type":"CMsgQAngle","name":"angles","id":3},{"rule":"optional","type":"fixed32","name":"skin","id":4},{"rule":"optional","type":"uint32","name":"flags","id":5},{"rule":"optional","type":"uint32","name":"effects","id":6},{"rule":"optional","type":"fixed32","name":"color","id":7},{"rule":"optional","type":"fixed64","name":"modelindex","id":8},{"rule":"optional","type":"uint32","name":"breakmodelsnottomake","id":9},{"rule":"optional","type":"float","name":"scale","id":10}]},{"name":"CMsgTEPlayerDecal","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"uint32","name":"player","id":2},{"rule":"optional","type":"uint32","name":"entity","id":3}]},{"name":"CMsgTEProjectedDecal","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgQAngle","name":"angles","id":2},{"rule":"optional","type":"uint32","name":"index","id":3},{"rule":"optional","type":"float","name":"distance","id":4}]},{"name":"CMsgTESmoke","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"float","name":"scale","id":2}]},{"name":"CMsgTEWorldDecal","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"CMsgVector","name":"normal","id":2},{"rule":"optional","type":"uint32","name":"index","id":3}]},{"name":"ChangeMapToolEvent","fields":[{"rule":"optional","type":"string","name":"mapname","id":1}]},{"name":"TraceRayServerToolEvent","fields":[{"rule":"optional","type":"CMsgVector","name":"start","id":1},{"rule":"optional","type":"CMsgVector","name":"end","id":2}]},{"name":"ToolTraceRayResult","fields":[{"rule":"optional","type":"bool","name":"hit","id":1},{"rule":"optional","type":"CMsgVector","name":"impact","id":2},{"rule":"optional","type":"CMsgVector","name":"normal","id":3},{"rule":"optional","type":"float","name":"distance","id":4},{"rule":"optional","type":"float","name":"fraction","id":5},{"rule":"optional","type":"int32","name":"ehandle","id":6}]},{"name":"SpawnEntityToolEvent","fields":[{"rule":"optional","type":"bytes","name":"entity_keyvalues","id":1},{"rule":"optional","type":"bool","name":"clientsideentity","id":2}]},{"name":"SpawnEntityToolEventResult","fields":[{"rule":"optional","type":"int32","name":"ehandle","id":1}]},{"name":"DestroyEntityToolEvent","fields":[{"rule":"optional","type":"int32","name":"ehandle","id":1}]},{"name":"DestroyAllEntitiesToolEvent","fields":[]},{"name":"RestartMapToolEvent","fields":[]},{"name":"ToolEvent_GetEntityInfo","fields":[{"rule":"optional","type":"int32","name":"ehandle","id":1},{"rule":"optional","type":"bool","name":"clientsideentity","id":2}]},{"name":"ToolEvent_GetEntityInfoResult","fields":[{"rule":"optional","type":"string","name":"cppclass","id":1,"options":{"default":"shithead"}},{"rule":"optional","type":"string","name":"classname","id":2},{"rule":"optional","type":"string","name":"name","id":3},{"rule":"optional","type":"CMsgVector","name":"origin","id":4},{"rule":"optional","type":"CMsgVector","name":"mins","id":5},{"rule":"optional","type":"CMsgVector","name":"maxs","id":6}]},{"name":"ToolEvent_GetEntityInputs","fields":[{"rule":"optional","type":"int32","name":"ehandle","id":1},{"rule":"optional","type":"bool","name":"clientsideentity","id":2}]},{"name":"ToolEvent_GetEntityInputsResult","fields":[{"rule":"repeated","type":"string","name":"input_list","id":1}]},{"name":"ToolEvent_FireEntityInput","fields":[{"rule":"optional","type":"int32","name":"ehandle","id":1},{"rule":"optional","type":"bool","name":"clientsideentity","id":2},{"rule":"optional","type":"string","name":"input_name","id":3},{"rule":"optional","type":"string","name":"input_param","id":4}]},{"name":"ToolEvent_SFMRecordingStateChanged","fields":[{"rule":"optional","type":"bool","name":"isrecording","id":1}]},{"name":"ToolEvent_SFMToolActiveStateChanged","fields":[{"rule":"optional","type":"bool","name":"isactive","id":1}]},{"name":"CUserMessageAchievementEvent","fields":[{"rule":"optional","type":"uint32","name":"achievement","id":1}]},{"name":"CUserMessageCloseCaption","fields":[{"rule":"optional","type":"fixed32","name":"hash","id":1},{"rule":"optional","type":"float","name":"duration","id":2},{"rule":"optional","type":"bool","name":"from_player","id":3},{"rule":"optional","type":"int32","name":"ent_index","id":4}]},{"name":"CUserMessageCloseCaptionDirect","fields":[{"rule":"optional","type":"fixed32","name":"hash","id":1},{"rule":"optional","type":"float","name":"duration","id":2},{"rule":"optional","type":"bool","name":"from_player","id":3},{"rule":"optional","type":"int32","name":"ent_index","id":4}]},{"name":"CUserMessageCloseCaptionPlaceholder","fields":[{"rule":"optional","type":"string","name":"string","id":1},{"rule":"optional","type":"float","name":"duration","id":2},{"rule":"optional","type":"bool","name":"from_player","id":3},{"rule":"optional","type":"int32","name":"ent_index","id":4}]},{"name":"CUserMessageCurrentTimescale","fields":[{"rule":"optional","type":"float","name":"current","id":1}]},{"name":"CUserMessageDesiredTimescale","fields":[{"rule":"optional","type":"float","name":"desired","id":1},{"rule":"optional","type":"float","name":"acceleration","id":2},{"rule":"optional","type":"float","name":"minblendrate","id":3},{"rule":"optional","type":"float","name":"blenddeltamultiplier","id":4}]},{"name":"CUserMessageFade","fields":[{"rule":"optional","type":"uint32","name":"duration","id":1},{"rule":"optional","type":"uint32","name":"hold_time","id":2},{"rule":"optional","type":"uint32","name":"flags","id":3},{"rule":"optional","type":"fixed32","name":"color","id":4}]},{"name":"CUserMessageShake","fields":[{"rule":"optional","type":"uint32","name":"command","id":1},{"rule":"optional","type":"float","name":"amplitude","id":2},{"rule":"optional","type":"float","name":"frequency","id":3},{"rule":"optional","type":"float","name":"duration","id":4}]},{"name":"CUserMessageShakeDir","fields":[{"rule":"optional","type":"CUserMessageShake","name":"shake","id":1},{"rule":"optional","type":"CMsgVector","name":"direction","id":2}]},{"name":"CUserMessageScreenTilt","fields":[{"rule":"optional","type":"uint32","name":"command","id":1},{"rule":"optional","type":"bool","name":"ease_in_out","id":2},{"rule":"optional","type":"CMsgVector","name":"angle","id":3},{"rule":"optional","type":"float","name":"duration","id":4},{"rule":"optional","type":"float","name":"time","id":5}]},{"name":"CUserMessageSayText","fields":[{"rule":"optional","type":"uint32","name":"playerindex","id":1},{"rule":"optional","type":"string","name":"text","id":2},{"rule":"optional","type":"bool","name":"chat","id":3}]},{"name":"CUserMessageSayText2","fields":[{"rule":"optional","type":"uint32","name":"entityindex","id":1},{"rule":"optional","type":"bool","name":"chat","id":2},{"rule":"optional","type":"string","name":"messagename","id":3},{"rule":"optional","type":"string","name":"param1","id":4},{"rule":"optional","type":"string","name":"param2","id":5},{"rule":"optional","type":"string","name":"param3","id":6},{"rule":"optional","type":"string","name":"param4","id":7}]},{"name":"CUserMessageHudMsg","fields":[{"rule":"optional","type":"uint32","name":"channel","id":1},{"rule":"optional","type":"float","name":"x","id":2},{"rule":"optional","type":"float","name":"y","id":3},{"rule":"optional","type":"fixed32","name":"color1","id":4},{"rule":"optional","type":"fixed32","name":"color2","id":5},{"rule":"optional","type":"uint32","name":"effect","id":6},{"rule":"optional","type":"float","name":"fade_in_time","id":7},{"rule":"optional","type":"float","name":"fade_out_time","id":8},{"rule":"optional","type":"float","name":"hold_time","id":9},{"rule":"optional","type":"float","name":"fx_time","id":10},{"rule":"optional","type":"string","name":"message","id":11}]},{"name":"CUserMessageHudText","fields":[{"rule":"optional","type":"string","name":"message","id":1}]},{"name":"CUserMessageTextMsg","fields":[{"rule":"optional","type":"uint32","name":"dest","id":1},{"rule":"repeated","type":"string","name":"param","id":2}]},{"name":"CUserMessageGameTitle","fields":[]},{"name":"CUserMessageResetHUD","fields":[]},{"name":"CUserMessageSendAudio","fields":[{"rule":"optional","type":"string","name":"soundname","id":1},{"rule":"optional","type":"bool","name":"stop","id":2}]},{"name":"CUserMessageAudioParameter","fields":[{"rule":"optional","type":"uint32","name":"parameter_type","id":1},{"rule":"optional","type":"uint32","name":"name_hash_code","id":2},{"rule":"optional","type":"float","name":"value","id":3}]},{"name":"CUserMessageVoiceMask","fields":[{"rule":"repeated","type":"uint32","name":"gamerules_masks","id":1},{"rule":"repeated","type":"uint32","name":"ban_masks","id":2},{"rule":"optional","type":"bool","name":"mod_enable","id":3}]},{"name":"CUserMessageRequestState","fields":[]},{"name":"CUserMessageHintText","fields":[{"rule":"optional","type":"string","name":"message","id":1}]},{"name":"CUserMessageKeyHintText","fields":[{"rule":"repeated","type":"string","name":"messages","id":1}]},{"name":"CUserMessageVoiceSubtitle","fields":[{"rule":"optional","type":"int32","name":"player","id":1},{"rule":"optional","type":"int32","name":"menu","id":2},{"rule":"optional","type":"int32","name":"item","id":3}]},{"name":"CUserMessageVGUIMenu","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"bool","name":"show","id":2},{"rule":"repeated","type":"Keys","name":"keys","id":3}],"messages":[{"name":"Keys","fields":[{"rule":"optional","type":"string","name":"name","id":1},{"rule":"optional","type":"string","name":"value","id":2}]}]},{"name":"CUserMessageRumble","fields":[{"rule":"optional","type":"int32","name":"index","id":1},{"rule":"optional","type":"int32","name":"data","id":2},{"rule":"optional","type":"int32","name":"flags","id":3}]},{"name":"CUserMessageTrain","fields":[{"rule":"optional","type":"uint32","name":"position","id":1}]},{"name":"CUserMessageSayTextChannel","fields":[{"rule":"optional","type":"int32","name":"player","id":1},{"rule":"optional","type":"int32","name":"channel","id":2},{"rule":"optional","type":"string","name":"text","id":3}]},{"name":"CUserMessageColoredText","fields":[{"rule":"optional","type":"uint32","name":"color","id":1},{"rule":"optional","type":"string","name":"text","id":2},{"rule":"optional","type":"bool","name":"reset","id":3},{"rule":"optional","type":"int32","name":"context_player_id","id":4},{"rule":"optional","type":"int32","name":"context_value","id":5},{"rule":"optional","type":"int32","name":"context_team_id","id":6}]},{"name":"CUserMessageItemPickup","fields":[{"rule":"optional","type":"string","name":"itemname","id":1}]},{"name":"CUserMessageAmmoDenied","fields":[{"rule":"optional","type":"uint32","name":"ammo_id","id":1}]},{"name":"CUserMessageCrosshairAngle","fields":[{"rule":"optional","type":"CMsgQAngle","name":"angcrosshair","id":1}]},{"name":"CUserMessageShowMenu","fields":[{"rule":"optional","type":"uint32","name":"validslots","id":1},{"rule":"optional","type":"uint32","name":"displaytime","id":2},{"rule":"optional","type":"bool","name":"needmore","id":3},{"rule":"optional","type":"string","name":"menustring","id":4}]},{"name":"CUserMessageCreditsMsg","fields":[{"rule":"optional","type":"eRollType","name":"rolltype","id":1,"options":{"default":"ROLL_NONE"}}]},{"name":"CEntityMessagePlayJingle","fields":[]},{"name":"CEntityMessageScreenOverlay","fields":[{"rule":"optional","type":"bool","name":"start_effect","id":1}]},{"name":"CEntityMessageRemoveAllDecals","fields":[{"rule":"optional","type":"bool","name":"remove_decals","id":1}]},{"name":"CEntityMessagePropagateForce","fields":[{"rule":"optional","type":"CMsgVector","name":"impulse","id":1}]},{"name":"CEntityMessageDoSpark","fields":[{"rule":"optional","type":"CMsgVector","name":"origin","id":1},{"rule":"optional","type":"uint32","name":"entityindex","id":2},{"rule":"optional","type":"float","name":"radius","id":3},{"rule":"optional","type":"fixed32","name":"color","id":4},{"rule":"optional","type":"uint32","name":"beams","id":5},{"rule":"optional","type":"float","name":"thick","id":6},{"rule":"optional","type":"float","name":"duration","id":7}]},{"name":"CEntityMessageFixAngle","fields":[{"rule":"optional","type":"bool","name":"relative","id":1},{"rule":"optional","type":"CMsgQAngle","name":"angle","id":2}]},{"name":"CUserMessageCameraTransition","fields":[{"rule":"optional","type":"uint32","name":"camera_type","id":1},{"rule":"optional","type":"float","name":"duration","id":2},{"rule":"optional","type":"Transition_DataDriven","name":"params_data_driven","id":3}],"messages":[{"name":"Transition_DataDriven","fields":[{"rule":"optional","type":"string","name":"filename","id":1},{"rule":"optional","type":"int32","name":"attach_ent_index","id":2}]}]},{"name":"CUserMsg_ParticleManager","fields":[{"rule":"required","type":"PARTICLE_MESSAGE","name":"type","id":1,"options":{"default":"GAME_PARTICLE_MANAGER_EVENT_CREATE"}},{"rule":"required","type":"uint32","name":"index","id":2},{"rule":"optional","type":"ReleaseParticleIndex","name":"release_particle_index","id":3},{"rule":"optional","type":"CreateParticle","name":"create_particle","id":4},{"rule":"optional","type":"DestroyParticle","name":"destroy_particle","id":5},{"rule":"optional","type":"DestroyParticleInvolving","name":"destroy_particle_involving","id":6},{"rule":"optional","type":"UpdateParticle","name":"update_particle","id":7},{"rule":"optional","type":"UpdateParticleFwd","name":"update_particle_fwd","id":8},{"rule":"optional","type":"UpdateParticleOrient","name":"update_particle_orient","id":9},{"rule":"optional","type":"UpdateParticleFallback","name":"update_particle_fallback","id":10},{"rule":"optional","type":"UpdateParticleOffset","name":"update_particle_offset","id":11},{"rule":"optional","type":"UpdateParticleEnt","name":"update_particle_ent","id":12},{"rule":"optional","type":"UpdateParticleShouldDraw","name":"update_particle_should_draw","id":14},{"rule":"optional","type":"UpdateParticleSetFrozen","name":"update_particle_set_frozen","id":15},{"rule":"optional","type":"ChangeControlPointAttachment","name":"change_control_point_attachment","id":16}],"messages":[{"name":"ReleaseParticleIndex","fields":[]},{"name":"CreateParticle","fields":[{"rule":"optional","type":"fixed64","name":"particle_name_index","id":1},{"rule":"optional","type":"int32","name":"attach_type","id":2},{"rule":"optional","type":"int32","name":"entity_handle","id":3}]},{"name":"DestroyParticle","fields":[{"rule":"optional","type":"bool","name":"destroy_immediately","id":1}]},{"name":"DestroyParticleInvolving","fields":[{"rule":"optional","type":"bool","name":"destroy_immediately","id":1},{"rule":"optional","type":"int32","name":"entity_handle","id":3}]},{"name":"UpdateParticle","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"position","id":2}]},{"name":"UpdateParticleFwd","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"forward","id":2}]},{"name":"UpdateParticleOrient","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"forward","id":2},{"rule":"optional","type":"CMsgVector","name":"right","id":3},{"rule":"optional","type":"CMsgVector","name":"up","id":4}]},{"name":"UpdateParticleFallback","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"position","id":2}]},{"name":"UpdateParticleOffset","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"CMsgVector","name":"origin_offset","id":2}]},{"name":"UpdateParticleEnt","fields":[{"rule":"optional","type":"int32","name":"control_point","id":1},{"rule":"optional","type":"int32","name":"entity_handle","id":2},{"rule":"optional","type":"int32","name":"attach_type","id":3},{"rule":"optional","type":"int32","name":"attachment","id":4},{"rule":"optional","type":"CMsgVector","name":"fallback_position","id":5},{"rule":"optional","type":"bool","name":"include_wearables","id":6}]},{"name":"UpdateParticleSetFrozen","fields":[{"rule":"optional","type":"bool","name":"set_frozen","id":1}]},{"name":"UpdateParticleShouldDraw","fields":[{"rule":"optional","type":"bool","name":"should_draw","id":1}]},{"name":"ChangeControlPointAttachment","fields":[{"rule":"optional","type":"int32","name":"attachment_old","id":1},{"rule":"optional","type":"int32","name":"attachment_new","id":2},{"rule":"optional","type":"int32","name":"entity_handle","id":3}]}]},{"name":"CUserMsg_HudError","fields":[{"rule":"optional","type":"int32","name":"order_id","id":1}]},{"name":"CUserMsg_CustomGameEvent_ClientToServer","fields":[{"rule":"optional","type":"string","name":"event_name","id":1},{"rule":"optional","type":"bytes","name":"data","id":2}]},{"name":"CUserMsg_CustomGameEvent_ServerToClient","fields":[{"rule":"optional","type":"string","name":"event_name","id":1},{"rule":"optional","type":"bytes","name":"data","id":2}]},{"name":"CUserMsg_TrackedControllerInput_ClientToServer","fields":[{"rule":"optional","type":"bytes","name":"data","id":1}]}]'),KE=JSON.parse('[{"name":"GCProtoBufMsgSrc","values":[{"name":"GCProtoBufMsgSrc_Unspecified","id":0},{"name":"GCProtoBufMsgSrc_FromSystem","id":1},{"name":"GCProtoBufMsgSrc_FromSteamID","id":2},{"name":"GCProtoBufMsgSrc_FromGC","id":3},{"name":"GCProtoBufMsgSrc_ReplySystem","id":4}]},{"name":"EGCBaseMsg","values":[{"name":"k_EMsgGCSystemMessage","id":4001},{"name":"k_EMsgGCReplicateConVars","id":4002},{"name":"k_EMsgGCConVarUpdated","id":4003},{"name":"k_EMsgGCInviteToParty","id":4501},{"name":"k_EMsgGCInvitationCreated","id":4502},{"name":"k_EMsgGCPartyInviteResponse","id":4503},{"name":"k_EMsgGCKickFromParty","id":4504},{"name":"k_EMsgGCLeaveParty","id":4505},{"name":"k_EMsgGCServerAvailable","id":4506},{"name":"k_EMsgGCClientConnectToServer","id":4507},{"name":"k_EMsgGCGameServerInfo","id":4508},{"name":"k_EMsgGCError","id":4509},{"name":"k_EMsgGCReplay_UploadedToYouTube","id":4510},{"name":"k_EMsgGCLANServerAvailable","id":4511},{"name":"k_EMsgGCInviteToLobby","id":4512},{"name":"k_EMsgGCLobbyInviteResponse","id":4513}]},{"name":"EGCBaseProtoObjectTypes","values":[{"name":"k_EProtoObjectPartyInvite","id":1001},{"name":"k_EProtoObjectLobbyInvite","id":1002}]},{"name":"ECustomGameInstallStatus","values":[{"name":"k_ECustomGameInstallStatus_Unknown","id":0},{"name":"k_ECustomGameInstallStatus_Ready","id":1},{"name":"k_ECustomGameInstallStatus_Busy","id":2},{"name":"k_ECustomGameInstallStatus_FailedGeneric","id":101},{"name":"k_ECustomGameInstallStatus_FailedInternalError","id":102},{"name":"k_ECustomGameInstallStatus_RequestedTimestampTooOld","id":103},{"name":"k_ECustomGameInstallStatus_RequestedTimestampTooNew","id":104},{"name":"k_ECustomGameInstallStatus_CRCMismatch","id":105},{"name":"k_ECustomGameInstallStatus_FailedSteam","id":106},{"name":"k_ECustomGameInstallStatus_FailedCanceled","id":107}]},{"name":"GC_BannedWordType","values":[{"name":"GC_BANNED_WORD_DISABLE_WORD","id":0},{"name":"GC_BANNED_WORD_ENABLE_WORD","id":1}]},{"name":"ENetworkDisconnectionReason","values":[{"name":"NETWORK_DISCONNECT_INVALID","id":0},{"name":"NETWORK_DISCONNECT_SHUTDOWN","id":1},{"name":"NETWORK_DISCONNECT_DISCONNECT_BY_USER","id":2},{"name":"NETWORK_DISCONNECT_DISCONNECT_BY_SERVER","id":3},{"name":"NETWORK_DISCONNECT_LOST","id":4},{"name":"NETWORK_DISCONNECT_OVERFLOW","id":5},{"name":"NETWORK_DISCONNECT_STEAM_BANNED","id":6},{"name":"NETWORK_DISCONNECT_STEAM_INUSE","id":7},{"name":"NETWORK_DISCONNECT_STEAM_TICKET","id":8},{"name":"NETWORK_DISCONNECT_STEAM_LOGON","id":9},{"name":"NETWORK_DISCONNECT_STEAM_AUTHCANCELLED","id":10},{"name":"NETWORK_DISCONNECT_STEAM_AUTHALREADYUSED","id":11},{"name":"NETWORK_DISCONNECT_STEAM_AUTHINVALID","id":12},{"name":"NETWORK_DISCONNECT_STEAM_VACBANSTATE","id":13},{"name":"NETWORK_DISCONNECT_STEAM_LOGGED_IN_ELSEWHERE","id":14},{"name":"NETWORK_DISCONNECT_STEAM_VAC_CHECK_TIMEDOUT","id":15},{"name":"NETWORK_DISCONNECT_STEAM_DROPPED","id":16},{"name":"NETWORK_DISCONNECT_STEAM_OWNERSHIP","id":17},{"name":"NETWORK_DISCONNECT_SERVERINFO_OVERFLOW","id":18},{"name":"NETWORK_DISCONNECT_TICKMSG_OVERFLOW","id":19},{"name":"NETWORK_DISCONNECT_STRINGTABLEMSG_OVERFLOW","id":20},{"name":"NETWORK_DISCONNECT_DELTAENTMSG_OVERFLOW","id":21},{"name":"NETWORK_DISCONNECT_TEMPENTMSG_OVERFLOW","id":22},{"name":"NETWORK_DISCONNECT_SOUNDSMSG_OVERFLOW","id":23},{"name":"NETWORK_DISCONNECT_SNAPSHOTOVERFLOW","id":24},{"name":"NETWORK_DISCONNECT_SNAPSHOTERROR","id":25},{"name":"NETWORK_DISCONNECT_RELIABLEOVERFLOW","id":26},{"name":"NETWORK_DISCONNECT_BADDELTATICK","id":27},{"name":"NETWORK_DISCONNECT_NOMORESPLITS","id":28},{"name":"NETWORK_DISCONNECT_TIMEDOUT","id":29},{"name":"NETWORK_DISCONNECT_DISCONNECTED","id":30},{"name":"NETWORK_DISCONNECT_LEAVINGSPLIT","id":31},{"name":"NETWORK_DISCONNECT_DIFFERENTCLASSTABLES","id":32},{"name":"NETWORK_DISCONNECT_BADRELAYPASSWORD","id":33},{"name":"NETWORK_DISCONNECT_BADSPECTATORPASSWORD","id":34},{"name":"NETWORK_DISCONNECT_HLTVRESTRICTED","id":35},{"name":"NETWORK_DISCONNECT_NOSPECTATORS","id":36},{"name":"NETWORK_DISCONNECT_HLTVUNAVAILABLE","id":37},{"name":"NETWORK_DISCONNECT_HLTVSTOP","id":38},{"name":"NETWORK_DISCONNECT_KICKED","id":39},{"name":"NETWORK_DISCONNECT_BANADDED","id":40},{"name":"NETWORK_DISCONNECT_KICKBANADDED","id":41},{"name":"NETWORK_DISCONNECT_HLTVDIRECT","id":42},{"name":"NETWORK_DISCONNECT_PURESERVER_CLIENTEXTRA","id":43},{"name":"NETWORK_DISCONNECT_PURESERVER_MISMATCH","id":44},{"name":"NETWORK_DISCONNECT_USERCMD","id":45},{"name":"NETWORK_DISCONNECT_REJECTED_BY_GAME","id":46},{"name":"NETWORK_DISCONNECT_MESSAGE_PARSE_ERROR","id":47},{"name":"NETWORK_DISCONNECT_INVALID_MESSAGE_ERROR","id":48},{"name":"NETWORK_DISCONNECT_BAD_SERVER_PASSWORD","id":49},{"name":"NETWORK_DISCONNECT_DIRECT_CONNECT_RESERVATION","id":50},{"name":"NETWORK_DISCONNECT_CONNECTION_FAILURE","id":51},{"name":"NETWORK_DISCONNECT_NO_PEER_GROUP_HANDLERS","id":52},{"name":"NETWORK_DISCONNECT_RECONNECTION","id":53},{"name":"NETWORK_DISCONNECT_LOOPSHUTDOWN","id":54},{"name":"NETWORK_DISCONNECT_LOOPDEACTIVATE","id":55},{"name":"NETWORK_DISCONNECT_HOST_ENDGAME","id":56},{"name":"NETWORK_DISCONNECT_LOOP_LEVELLOAD_ACTIVATE","id":57},{"name":"NETWORK_DISCONNECT_CREATE_SERVER_FAILED","id":58},{"name":"NETWORK_DISCONNECT_EXITING","id":59},{"name":"NETWORK_DISCONNECT_REQUEST_HOSTSTATE_IDLE","id":60},{"name":"NETWORK_DISCONNECT_REQUEST_HOSTSTATE_HLTVRELAY","id":61},{"name":"NETWORK_DISCONNECT_CLIENT_CONSISTENCY_FAIL","id":62},{"name":"NETWORK_DISCONNECT_CLIENT_UNABLE_TO_CRC_MAP","id":63},{"name":"NETWORK_DISCONNECT_CLIENT_NO_MAP","id":64},{"name":"NETWORK_DISCONNECT_CLIENT_DIFFERENT_MAP","id":65},{"name":"NETWORK_DISCONNECT_SERVER_REQUIRES_STEAM","id":66},{"name":"NETWORK_DISCONNECT_STEAM_DENY_MISC","id":67},{"name":"NETWORK_DISCONNECT_STEAM_DENY_BAD_ANTI_CHEAT","id":68},{"name":"NETWORK_DISCONNECT_SERVER_SHUTDOWN","id":69},{"name":"NETWORK_DISCONNECT_SPLITPACKET_SEND_OVERFLOW","id":70},{"name":"NETWORK_DISCONNECT_REPLAY_INCOMPATIBLE","id":71}]},{"name":"NET_Messages","values":[{"name":"net_NOP","id":0},{"name":"net_Disconnect","id":1},{"name":"net_SplitScreenUser","id":3},{"name":"net_Tick","id":4},{"name":"net_StringCmd","id":5},{"name":"net_SetConVar","id":6},{"name":"net_SignonState","id":7},{"name":"net_SpawnGroup_Load","id":8},{"name":"net_SpawnGroup_ManifestUpdate","id":9},{"name":"net_SpawnGroup_SetCreationTick","id":11},{"name":"net_SpawnGroup_Unload","id":12},{"name":"net_SpawnGroup_LoadCompleted","id":13}]},{"name":"SpawnGroupFlags_t","values":[{"name":"SPAWN_GROUP_LOAD_ENTITIES_FROM_SAVE","id":1},{"name":"SPAWN_GROUP_DONT_SPAWN_ENTITIES","id":2},{"name":"SPAWN_GROUP_SYNCHRONOUS_SPAWN","id":4},{"name":"SPAWN_GROUP_IS_INITIAL_SPAWN_GROUP","id":8},{"name":"SPAWN_GROUP_CREATE_CLIENT_ONLY_ENTITIES","id":16},{"name":"SPAWN_GROUP_SAVE_ENTITIES","id":32},{"name":"SPAWN_GROUP_BLOCK_UNTIL_LOADED","id":64},{"name":"SPAWN_GROUP_LOAD_STREAMING_DATA","id":128},{"name":"SPAWN_GROUP_CREATE_NEW_SCENE_WORLD","id":256}]},{"name":"CLC_Messages","values":[{"name":"clc_ClientInfo","id":20},{"name":"clc_Move","id":21},{"name":"clc_VoiceData","id":22},{"name":"clc_BaselineAck","id":23},{"name":"clc_ListenEvents","id":24},{"name":"clc_RespondCvarValue","id":25},{"name":"clc_FileCRCCheck","id":26},{"name":"clc_LoadingProgress","id":27},{"name":"clc_SplitPlayerConnect","id":28},{"name":"clc_ClientMessage","id":29},{"name":"clc_SplitPlayerDisconnect","id":30},{"name":"clc_ServerStatus","id":31},{"name":"clc_ServerPing","id":32},{"name":"clc_RequestPause","id":33},{"name":"clc_CmdKeyValues","id":34}]},{"name":"SVC_Messages","values":[{"name":"svc_ServerInfo","id":40},{"name":"svc_FlattenedSerializer","id":41},{"name":"svc_ClassInfo","id":42},{"name":"svc_SetPause","id":43},{"name":"svc_CreateStringTable","id":44},{"name":"svc_UpdateStringTable","id":45},{"name":"svc_VoiceInit","id":46},{"name":"svc_VoiceData","id":47},{"name":"svc_Print","id":48},{"name":"svc_Sounds","id":49},{"name":"svc_SetView","id":50},{"name":"svc_ClearAllStringTables","id":51},{"name":"svc_CmdKeyValues","id":52},{"name":"svc_BSPDecal","id":53},{"name":"svc_SplitScreen","id":54},{"name":"svc_PacketEntities","id":55},{"name":"svc_Prefetch","id":56},{"name":"svc_Menu","id":57},{"name":"svc_GetCvarValue","id":58},{"name":"svc_StopSound","id":59},{"name":"svc_PeerList","id":60},{"name":"svc_PacketReliable","id":61},{"name":"svc_UserMessage","id":62},{"name":"svc_SendTable","id":63},{"name":"svc_GameEvent","id":67},{"name":"svc_TempEntities","id":68},{"name":"svc_GameEventList","id":69},{"name":"svc_FullFrameSplit","id":70}]},{"name":"VoiceDataFormat_t","values":[{"name":"VOICEDATA_FORMAT_STEAM","id":0},{"name":"VOICEDATA_FORMAT_ENGINE","id":1}]},{"name":"RequestPause_t","values":[{"name":"RP_PAUSE","id":0},{"name":"RP_UNPAUSE","id":1},{"name":"RP_TOGGLEPAUSE","id":2}]},{"name":"PrefetchType","values":[{"name":"PFT_SOUND","id":0}]},{"name":"ESplitScreenMessageType","values":[{"name":"MSG_SPLITSCREEN_ADDUSER","id":0},{"name":"MSG_SPLITSCREEN_REMOVEUSER","id":1}]},{"name":"EQueryCvarValueStatus","values":[{"name":"eQueryCvarValueStatus_ValueIntact","id":0},{"name":"eQueryCvarValueStatus_CvarNotFound","id":1},{"name":"eQueryCvarValueStatus_NotACvar","id":2},{"name":"eQueryCvarValueStatus_CvarProtected","id":3}]},{"name":"DIALOG_TYPE","values":[{"name":"DIALOG_MSG","id":0},{"name":"DIALOG_MENU","id":1},{"name":"DIALOG_TEXT","id":2},{"name":"DIALOG_ENTRY","id":3},{"name":"DIALOG_ASKCONNECT","id":4}]},{"name":"SVC_Messages_LowFrequency","values":[{"name":"svc_dummy","id":600}]},{"name":"Bidirectional_Messages","values":[{"name":"bi_RebroadcastGameEvent","id":16},{"name":"bi_RebroadcastSource","id":17},{"name":"bi_GameEvent","id":18}]},{"name":"Bidirectional_Messages_LowFrequency","values":[{"name":"bi_RelayInfo","id":700},{"name":"bi_RelayPacket","id":701}]},{"name":"P2P_Messages","values":[{"name":"p2p_TextMessage","id":256},{"name":"p2p_Voice","id":257},{"name":"p2p_Ping","id":258}]},{"name":"EDemoCommands","values":[{"name":"DEM_Error","id":-1},{"name":"DEM_Stop","id":0},{"name":"DEM_FileHeader","id":1},{"name":"DEM_FileInfo","id":2},{"name":"DEM_SyncTick","id":3},{"name":"DEM_SendTables","id":4},{"name":"DEM_ClassInfo","id":5},{"name":"DEM_StringTables","id":6},{"name":"DEM_Packet","id":7},{"name":"DEM_SignonPacket","id":8},{"name":"DEM_ConsoleCmd","id":9},{"name":"DEM_CustomData","id":10},{"name":"DEM_CustomDataCallbacks","id":11},{"name":"DEM_UserCmd","id":12},{"name":"DEM_FullPacket","id":13},{"name":"DEM_SaveGame","id":14},{"name":"DEM_SpawnGroups","id":15},{"name":"DEM_Max","id":16},{"name":"DEM_IsCompressed","id":64}]},{"name":"EDotaBroadcastMessages","values":[{"name":"DOTA_BM_LANLobbyRequest","id":1},{"name":"DOTA_BM_LANLobbyReply","id":2}]},{"name":"EDOTAChatWheelMessage","values":[{"name":"k_EDOTA_CW_Ok","id":0},{"name":"k_EDOTA_CW_Care","id":1},{"name":"k_EDOTA_CW_GetBack","id":2},{"name":"k_EDOTA_CW_NeedWards","id":3},{"name":"k_EDOTA_CW_Stun","id":4},{"name":"k_EDOTA_CW_Help","id":5},{"name":"k_EDOTA_CW_Push","id":6},{"name":"k_EDOTA_CW_GoodJob","id":7},{"name":"k_EDOTA_CW_Missing","id":8},{"name":"k_EDOTA_CW_Missing_Top","id":9},{"name":"k_EDOTA_CW_Missing_Mid","id":10},{"name":"k_EDOTA_CW_Missing_Bottom","id":11},{"name":"k_EDOTA_CW_Go","id":12},{"name":"k_EDOTA_CW_Initiate","id":13},{"name":"k_EDOTA_CW_Follow","id":14},{"name":"k_EDOTA_CW_Group_Up","id":15},{"name":"k_EDOTA_CW_Spread_Out","id":16},{"name":"k_EDOTA_CW_Split_Farm","id":17},{"name":"k_EDOTA_CW_Attack","id":18},{"name":"k_EDOTA_CW_BRB","id":19},{"name":"k_EDOTA_CW_Dive","id":20},{"name":"k_EDOTA_CW_OMW","id":21},{"name":"k_EDOTA_CW_Get_Ready","id":22},{"name":"k_EDOTA_CW_Bait","id":23},{"name":"k_EDOTA_CW_Heal","id":24},{"name":"k_EDOTA_CW_Mana","id":25},{"name":"k_EDOTA_CW_OOM","id":26},{"name":"k_EDOTA_CW_Skill_Cooldown","id":27},{"name":"k_EDOTA_CW_Ulti_Ready","id":28},{"name":"k_EDOTA_CW_Enemy_Returned","id":29},{"name":"k_EDOTA_CW_All_Missing","id":30},{"name":"k_EDOTA_CW_Enemy_Incoming","id":31},{"name":"k_EDOTA_CW_Invis_Enemy","id":32},{"name":"k_EDOTA_CW_Enemy_Had_Rune","id":33},{"name":"k_EDOTA_CW_Split_Push","id":34},{"name":"k_EDOTA_CW_Coming_To_Gank","id":35},{"name":"k_EDOTA_CW_Request_Gank","id":36},{"name":"k_EDOTA_CW_Fight_Under_Tower","id":37},{"name":"k_EDOTA_CW_Deny_Tower","id":38},{"name":"k_EDOTA_CW_Buy_Courier","id":39},{"name":"k_EDOTA_CW_Upgrade_Courier","id":40},{"name":"k_EDOTA_CW_Need_Detection","id":41},{"name":"k_EDOTA_CW_They_Have_Detection","id":42},{"name":"k_EDOTA_CW_Buy_TP","id":43},{"name":"k_EDOTA_CW_Reuse_Courier","id":44},{"name":"k_EDOTA_CW_Deward","id":45},{"name":"k_EDOTA_CW_Building_Mek","id":46},{"name":"k_EDOTA_CW_Building_Pipe","id":47},{"name":"k_EDOTA_CW_Stack_And_Pull","id":48},{"name":"k_EDOTA_CW_Pull","id":49},{"name":"k_EDOTA_CW_Pulling","id":50},{"name":"k_EDOTA_CW_Stack","id":51},{"name":"k_EDOTA_CW_Jungling","id":52},{"name":"k_EDOTA_CW_Roshan","id":53},{"name":"k_EDOTA_CW_Affirmative","id":54},{"name":"k_EDOTA_CW_Wait","id":55},{"name":"k_EDOTA_CW_Pause","id":56},{"name":"k_EDOTA_CW_Current_Time","id":57},{"name":"k_EDOTA_CW_Check_Runes","id":58},{"name":"k_EDOTA_CW_Smoke_Gank","id":59},{"name":"k_EDOTA_CW_GLHF","id":60},{"name":"k_EDOTA_CW_Nice","id":61},{"name":"k_EDOTA_CW_Thanks","id":62},{"name":"k_EDOTA_CW_Sorry","id":63},{"name":"k_EDOTA_CW_No_Give_Up","id":64},{"name":"k_EDOTA_CW_Just_Happened","id":65},{"name":"k_EDOTA_CW_Game_Is_Hard","id":66},{"name":"k_EDOTA_CW_New_Meta","id":67},{"name":"k_EDOTA_CW_My_Bad","id":68},{"name":"k_EDOTA_CW_Regret","id":69},{"name":"k_EDOTA_CW_Relax","id":70},{"name":"k_EDOTA_CW_MissingHero","id":71},{"name":"k_EDOTA_CW_ReturnedHero","id":72},{"name":"k_EDOTA_CW_GG","id":73},{"name":"k_EDOTA_CW_GGWP","id":74},{"name":"k_EDOTA_CW_All_GG","id":75},{"name":"k_EDOTA_CW_All_GGWP","id":76},{"name":"k_EDOTA_CW_What_To_Buy","id":77},{"name":"k_EDOTA_CW_Im_Retreating","id":78},{"name":"k_EDOTA_CW_Space_Created","id":79},{"name":"k_EDOTA_CW_Whoops","id":80},{"name":"k_EDOTA_CW_Tower_then_Back","id":81},{"name":"k_EDOTA_CW_Barracks_then_Back","id":82},{"name":"k_EDOTA_CW_Ward_Bottom_Rune","id":83},{"name":"k_EDOTA_CW_Ward_Top_Rune","id":84},{"name":"k_EDOTA_CW_Zeus_Ult","id":85}]},{"name":"EDOTAStatPopupTypes","values":[{"name":"k_EDOTA_SPT_Textline","id":0},{"name":"k_EDOTA_SPT_Basic","id":1},{"name":"k_EDOTA_SPT_Poll","id":2},{"name":"k_EDOTA_SPT_Grid","id":3}]},{"name":"dotaunitorder_t","values":[{"name":"DOTA_UNIT_ORDER_NONE","id":0},{"name":"DOTA_UNIT_ORDER_MOVE_TO_POSITION","id":1},{"name":"DOTA_UNIT_ORDER_MOVE_TO_TARGET","id":2},{"name":"DOTA_UNIT_ORDER_ATTACK_MOVE","id":3},{"name":"DOTA_UNIT_ORDER_ATTACK_TARGET","id":4},{"name":"DOTA_UNIT_ORDER_CAST_POSITION","id":5},{"name":"DOTA_UNIT_ORDER_CAST_TARGET","id":6},{"name":"DOTA_UNIT_ORDER_CAST_TARGET_TREE","id":7},{"name":"DOTA_UNIT_ORDER_CAST_NO_TARGET","id":8},{"name":"DOTA_UNIT_ORDER_CAST_TOGGLE","id":9},{"name":"DOTA_UNIT_ORDER_HOLD_POSITION","id":10},{"name":"DOTA_UNIT_ORDER_TRAIN_ABILITY","id":11},{"name":"DOTA_UNIT_ORDER_DROP_ITEM","id":12},{"name":"DOTA_UNIT_ORDER_GIVE_ITEM","id":13},{"name":"DOTA_UNIT_ORDER_PICKUP_ITEM","id":14},{"name":"DOTA_UNIT_ORDER_PICKUP_RUNE","id":15},{"name":"DOTA_UNIT_ORDER_PURCHASE_ITEM","id":16},{"name":"DOTA_UNIT_ORDER_SELL_ITEM","id":17},{"name":"DOTA_UNIT_ORDER_DISASSEMBLE_ITEM","id":18},{"name":"DOTA_UNIT_ORDER_MOVE_ITEM","id":19},{"name":"DOTA_UNIT_ORDER_CAST_TOGGLE_AUTO","id":20},{"name":"DOTA_UNIT_ORDER_STOP","id":21},{"name":"DOTA_UNIT_ORDER_TAUNT","id":22},{"name":"DOTA_UNIT_ORDER_BUYBACK","id":23},{"name":"DOTA_UNIT_ORDER_GLYPH","id":24},{"name":"DOTA_UNIT_ORDER_EJECT_ITEM_FROM_STASH","id":25},{"name":"DOTA_UNIT_ORDER_CAST_RUNE","id":26},{"name":"DOTA_UNIT_ORDER_PING_ABILITY","id":27},{"name":"DOTA_UNIT_ORDER_MOVE_TO_DIRECTION","id":28}]},{"name":"EDotaClientMessages","values":[{"name":"DOTA_CM_MapLine","id":301},{"name":"DOTA_CM_AspectRatio","id":302},{"name":"DOTA_CM_MapPing","id":303},{"name":"DOTA_CM_UnitsAutoAttack","id":304},{"name":"DOTA_CM_AutoPurchaseItems","id":305},{"name":"DOTA_CM_TestItems","id":306},{"name":"DOTA_CM_SearchString","id":307},{"name":"DOTA_CM_Pause","id":308},{"name":"DOTA_CM_ShopViewMode","id":309},{"name":"DOTA_CM_SetUnitShareFlag","id":310},{"name":"DOTA_CM_SwapRequest","id":311},{"name":"DOTA_CM_SwapAccept","id":312},{"name":"DOTA_CM_WorldLine","id":313},{"name":"DOTA_CM_RequestGraphUpdate","id":314},{"name":"DOTA_CM_ItemAlert","id":315},{"name":"DOTA_CM_ChatWheel","id":316},{"name":"DOTA_CM_SendStatPopup","id":317},{"name":"DOTA_CM_BeginLastHitChallenge","id":318},{"name":"DOTA_CM_UpdateQuickBuy","id":319},{"name":"DOTA_CM_UpdateCoachListen","id":320},{"name":"DOTA_CM_CoachHUDPing","id":321},{"name":"DOTA_CM_RecordVote","id":322},{"name":"DOTA_CM_UnitsAutoAttackAfterSpell","id":323},{"name":"DOTA_CM_WillPurchaseAlert","id":324},{"name":"DOTA_CM_PlayerShowCase","id":325},{"name":"DOTA_CM_TeleportRequiresHalt","id":326},{"name":"DOTA_CM_CameraZoomAmount","id":327},{"name":"DOTA_CM_BroadcasterUsingCamerman","id":328},{"name":"DOTA_CM_BroadcasterUsingAssistedCameraOperator","id":329},{"name":"DOTA_CM_EnemyItemAlert","id":330},{"name":"DOTA_CM_FreeInventory","id":331},{"name":"DOTA_CM_BuyBackStateAlert","id":332},{"name":"DOTA_CM_QuickBuyAlert","id":333},{"name":"DOTA_CM_HeroStatueLike","id":334},{"name":"DOTA_CM_ModifierAlert","id":335},{"name":"DOTA_CM_TeamShowcaseEditor","id":336},{"name":"DOTA_CM_HPManaAlert","id":337},{"name":"DOTA_CM_GlyphAlert","id":338},{"name":"DOTA_CM_TeamShowcaseClientData","id":339},{"name":"DOTA_CM_PlayTeamShowcase","id":340},{"name":"DOTA_CM_EventCNY2015Cmd","id":341},{"name":"DOTA_CM_FillEmptySlotsWithBots","id":342},{"name":"DOTA_CM_DemoHero","id":343},{"name":"DOTA_CM_AbilityLearnModeToggled","id":344},{"name":"DOTA_CM_AbilityStartUse","id":345},{"name":"DOTA_CM_ChallengeSelect","id":346},{"name":"DOTA_CM_ChallengeReroll","id":347},{"name":"DOTA_CM_ClickedBuff","id":348}]},{"name":"ESourceEngine","values":[{"name":"k_ESE_Source1","id":0},{"name":"k_ESE_Source2","id":1}]},{"name":"PartnerAccountType","values":[{"name":"PARTNER_NONE","id":0},{"name":"PARTNER_PERFECT_WORLD","id":1},{"name":"PARTNER_NEXON","id":2},{"name":"PARTNER_INVALID","id":3}]},{"name":"GCConnectionStatus","values":[{"name":"GCConnectionStatus_HAVE_SESSION","id":0},{"name":"GCConnectionStatus_GC_GOING_DOWN","id":1},{"name":"GCConnectionStatus_NO_SESSION","id":2},{"name":"GCConnectionStatus_NO_SESSION_IN_LOGON_QUEUE","id":3},{"name":"GCConnectionStatus_NO_STEAM","id":4},{"name":"GCConnectionStatus_SUSPENDED","id":5}]},{"name":"EDOTAGCMsg","values":[{"name":"k_EMsgGCDOTABase","id":7000},{"name":"k_EMsgGCGeneralResponse","id":7001},{"name":"k_EMsgGCGameMatchSignOut","id":7004},{"name":"k_EMsgGCGameMatchSignOutResponse","id":7005},{"name":"k_EMsgGCJoinChatChannel","id":7009},{"name":"k_EMsgGCJoinChatChannelResponse","id":7010},{"name":"k_EMsgGCOtherJoinedChannel","id":7013},{"name":"k_EMsgGCOtherLeftChannel","id":7014},{"name":"k_EMsgGCMatchHistoryList","id":7017},{"name":"k_EMsgServerToGCRequestStatus","id":7026},{"name":"k_EMsgGCGetRecentMatches","id":7027},{"name":"k_EMsgGCRecentMatchesResponse","id":7028},{"name":"k_EMsgGCFindSourceTVGames","id":7031},{"name":"k_EMsgGCSourceTVGamesResponse","id":7032},{"name":"k_EMsgGCStartFindingMatch","id":7033},{"name":"k_EMsgGCConnectedPlayers","id":7034},{"name":"k_EMsgGCAbandonCurrentGame","id":7035},{"name":"k_EMsgGCStopFindingMatch","id":7036},{"name":"k_EMsgGCPracticeLobbyCreate","id":7038},{"name":"k_EMsgGCPracticeLobbyLeave","id":7040},{"name":"k_EMsgGCPracticeLobbyLaunch","id":7041},{"name":"k_EMsgGCPracticeLobbyList","id":7042},{"name":"k_EMsgGCPracticeLobbyListResponse","id":7043},{"name":"k_EMsgGCPracticeLobbyJoin","id":7044},{"name":"k_EMsgGCPracticeLobbySetDetails","id":7046},{"name":"k_EMsgGCPracticeLobbySetTeamSlot","id":7047},{"name":"k_EMsgGCInitialQuestionnaireResponse","id":7049},{"name":"k_EMsgGCTournamentRequest","id":7051},{"name":"k_EMsgGCTournamentResponse","id":7052},{"name":"k_EMsgGCPracticeLobbyResponse","id":7055},{"name":"k_EMsgGCBroadcastNotification","id":7056},{"name":"k_EMsgGCLiveScoreboardUpdate","id":7057},{"name":"k_EMsgGCRequestChatChannelList","id":7060},{"name":"k_EMsgGCRequestChatChannelListResponse","id":7061},{"name":"k_EMsgGCRequestMatches","id":7064},{"name":"k_EMsgGCRequestMatchesResponse","id":7065},{"name":"k_EMsgGCRequestPlayerResources","id":7068},{"name":"k_EMsgGCRequestPlayerResourcesResponse","id":7069},{"name":"k_EMsgGCReadyUp","id":7070},{"name":"k_EMsgGCKickedFromMatchmakingQueue","id":7071},{"name":"k_EMsgGCLeaverDetected","id":7072},{"name":"k_EMsgGCSpectateFriendGame","id":7073},{"name":"k_EMsgGCSpectateFriendGameResponse","id":7074},{"name":"k_EMsgGCPlayerReports","id":7075},{"name":"k_EMsgGCReportsRemainingRequest","id":7076},{"name":"k_EMsgGCReportsRemainingResponse","id":7077},{"name":"k_EMsgGCSubmitPlayerReport","id":7078},{"name":"k_EMsgGCSubmitPlayerReportResponse","id":7079},{"name":"k_EMsgGCGameChatLog","id":7080},{"name":"k_EMsgGCPracticeLobbyKick","id":7081},{"name":"k_EMsgGCReportCountsRequest","id":7082},{"name":"k_EMsgGCReportCountsResponse","id":7083},{"name":"k_EMsgGCRequestSaveGames","id":7084},{"name":"k_EMsgGCRequestSaveGamesServer","id":7085},{"name":"k_EMsgGCRequestSaveGamesResponse","id":7086},{"name":"k_EMsgGCLeaverDetectedResponse","id":7087},{"name":"k_EMsgGCPlayerFailedToConnect","id":7088},{"name":"k_EMsgGCGCToRelayConnect","id":7089},{"name":"k_EMsgGCGCToRelayConnectresponse","id":7090},{"name":"k_EMsgGCWatchGame","id":7091},{"name":"k_EMsgGCWatchGameResponse","id":7092},{"name":"k_EMsgGCBanStatusRequest","id":7093},{"name":"k_EMsgGCBanStatusResponse","id":7094},{"name":"k_EMsgGCMatchDetailsRequest","id":7095},{"name":"k_EMsgGCMatchDetailsResponse","id":7096},{"name":"k_EMsgGCCancelWatchGame","id":7097},{"name":"k_EMsgGCProfileRequest","id":7098},{"name":"k_EMsgGCProfileResponse","id":7099},{"name":"k_EMsgGCPopup","id":7102},{"name":"k_EMsgGCDOTAClearNotifySuccessfulReport","id":7104},{"name":"k_EMsgGCGenericResult","id":7108},{"name":"k_EMsgGCFriendPracticeLobbyListRequest","id":7111},{"name":"k_EMsgGCFriendPracticeLobbyListResponse","id":7112},{"name":"k_EMsgGCPracticeLobbyJoinResponse","id":7113},{"name":"k_EMsgClientEconNotification_Job","id":7114},{"name":"k_EMsgGCCreateTeam","id":7115},{"name":"k_EMsgGCCreateTeamResponse","id":7116},{"name":"k_EMsgGCDisbandTeam","id":7117},{"name":"k_EMsgGCDisbandTeamResponse","id":7118},{"name":"k_EMsgGCRequestTeamData","id":7119},{"name":"k_EMsgGCRequestTeamDataResponse","id":7120},{"name":"k_EMsgGCTeamData","id":7121},{"name":"k_EMsgGCTeamInvite_InviterToGC","id":7122},{"name":"k_EMsgGCTeamInvite_GCImmediateResponseToInviter","id":7123},{"name":"k_EMsgGCTeamInvite_GCRequestToInvitee","id":7124},{"name":"k_EMsgGCTeamInvite_InviteeResponseToGC","id":7125},{"name":"k_EMsgGCTeamInvite_GCResponseToInviter","id":7126},{"name":"k_EMsgGCTeamInvite_GCResponseToInvitee","id":7127},{"name":"k_EMsgGCKickTeamMember","id":7128},{"name":"k_EMsgGCKickTeamMemberResponse","id":7129},{"name":"k_EMsgGCLeaveTeam","id":7130},{"name":"k_EMsgGCLeaveTeamResponse","id":7131},{"name":"k_EMsgGCSuggestTeamMatchmaking","id":7132},{"name":"k_EMsgGCPlayerHeroesFavoritesAdd","id":7133},{"name":"k_EMsgGCPlayerHeroesFavoritesRemove","id":7134},{"name":"k_EMsgGCEditTeamLogo","id":7139},{"name":"k_EMsgGCEditTeamLogoResponse","id":7140},{"name":"k_EMsgGCSetShowcaseHero","id":7141},{"name":"k_EMsgGCApplyTeamToPracticeLobby","id":7142},{"name":"k_EMsgGCRequestInternatinalTicketEmail","id":7143},{"name":"k_EMsgGCTransferTeamAdmin","id":7144},{"name":"k_EMsgGCClearTournamentGame","id":7145},{"name":"k_EMsgRequestLeagueInfo","id":7147},{"name":"k_EMsgResponseLeagueInfo","id":7148},{"name":"k_EMsgGCPracticeLobbyJoinBroadcastChannel","id":7149},{"name":"k_EMsgGC_TournamentItemEvent","id":7150},{"name":"k_EMsgGC_TournamentItemEventResponse","id":7151},{"name":"k_EMsgCastMatchVote","id":7152},{"name":"k_EMsgCastMatchVoteResponse","id":7153},{"name":"k_EMsgRetrieveMatchVote","id":7154},{"name":"k_EMsgRetrieveMatchVoteResponse","id":7155},{"name":"k_EMsgTeamFanfare","id":7156},{"name":"k_EMsgResponseTeamFanfare","id":7157},{"name":"k_EMsgGC_GameServerUploadSaveGame","id":7158},{"name":"k_EMsgGC_GameServerSaveGameResult","id":7159},{"name":"k_EMsgGC_GameServerGetLoadGame","id":7160},{"name":"k_EMsgGC_GameServerGetLoadGameResult","id":7161},{"name":"k_EMsgGCTeamProfileRequest","id":7164},{"name":"k_EMsgGCTeamProfileResponse","id":7165},{"name":"k_EMsgGCEditTeamDetails","id":7166},{"name":"k_EMsgGCEditTeamDetailsResponse","id":7167},{"name":"k_EMsgGCProTeamListRequest","id":7168},{"name":"k_EMsgGCProTeamListResponse","id":7169},{"name":"k_EMsgGCReadyUpStatus","id":7170},{"name":"k_EMsgGCHallOfFame","id":7171},{"name":"k_EMsgGCHallOfFameRequest","id":7172},{"name":"k_EMsgGCHallOfFameResponse","id":7173},{"name":"k_EMsgGCGenerateDiretidePrizeList","id":7174},{"name":"k_EMsgGCRewardDiretidePrizes","id":7176},{"name":"k_EMsgGCDiretidePrizesRewardedResponse","id":7177},{"name":"k_EMsgGCHalloweenHighScoreRequest","id":7178},{"name":"k_EMsgGCHalloweenHighScoreResponse","id":7179},{"name":"k_EMsgGCGenerateDiretidePrizeListResponse","id":7180},{"name":"k_EMsgGCStorePromoPagesRequest","id":7182},{"name":"k_EMsgGCStorePromoPagesResponse","id":7183},{"name":"k_EMsgGCSpawnLootGreevil","id":7184},{"name":"k_EMsgGCDismissLootGreevil","id":7185},{"name":"k_EMsgGCToGCMatchCompleted","id":7186},{"name":"k_EMsgGCDismissLootGreevilResponse","id":7187},{"name":"k_EMsgGCBalancedShuffleLobby","id":7188},{"name":"k_EMsgGCToGCCheckLeaguePermission","id":7189},{"name":"k_EMsgGCToGCCheckLeaguePermissionResponse","id":7190},{"name":"k_EMsgGCLeagueScheduleRequest","id":7191},{"name":"k_EMsgGCLeagueScheduleResponse","id":7192},{"name":"k_EMsgGCLeagueScheduleEdit","id":7193},{"name":"k_EMsgGCLeagueScheduleEditResponse","id":7194},{"name":"k_EMsgGCLeaguesInMonthRequest","id":7195},{"name":"k_EMsgGCLeaguesInMonthResponse","id":7196},{"name":"k_EMsgGCMatchmakingStatsRequest","id":7197},{"name":"k_EMsgGCMatchmakingStatsResponse","id":7198},{"name":"k_EMsgGCBotGameCreate","id":7199},{"name":"k_EMsgGCSetMatchHistoryAccess","id":7200},{"name":"k_EMsgGCSetMatchHistoryAccessResponse","id":7201},{"name":"k_EMsgUpgradeLeagueItem","id":7203},{"name":"k_EMsgUpgradeLeagueItemResponse","id":7204},{"name":"k_EMsgGCTeamMemberProfileRequest","id":7205},{"name":"k_EMsgGCWatchDownloadedReplay","id":7206},{"name":"k_EMsgGCSetMapLocationState","id":7207},{"name":"k_EMsgGCSetMapLocationStateResponse","id":7208},{"name":"k_EMsgGCResetMapLocations","id":7209},{"name":"k_EMsgGCResetMapLocationsResponse","id":7210},{"name":"k_EMsgGCTeamOnProfile","id":7211},{"name":"k_EMsgGCSetFeaturedItems","id":7212},{"name":"k_EMsgGCFeaturedItems","id":7215},{"name":"k_EMsgRefreshPartnerAccountLink","id":7216},{"name":"k_EMsgClientsRejoinChatChannels","id":7217},{"name":"k_EMsgGCToGCGetUserChatInfo","id":7218},{"name":"k_EMsgGCToGCGetUserChatInfoResponse","id":7219},{"name":"k_EMsgGCToGCLeaveAllChatChannels","id":7220},{"name":"k_EMsgGCToGCUpdateAccountChatBan","id":7221},{"name":"k_EMsgGCGuildCreateRequest","id":7222},{"name":"k_EMsgGCGuildCreateResponse","id":7223},{"name":"k_EMsgGCGuildSetAccountRoleRequest","id":7224},{"name":"k_EMsgGCGuildSetAccountRoleResponse","id":7225},{"name":"k_EMsgGCRequestGuildData","id":7226},{"name":"k_EMsgGCGuildData","id":7227},{"name":"k_EMsgGCGuildInviteAccountRequest","id":7228},{"name":"k_EMsgGCGuildInviteAccountResponse","id":7229},{"name":"k_EMsgGCGuildCancelInviteRequest","id":7230},{"name":"k_EMsgGCGuildCancelInviteResponse","id":7231},{"name":"k_EMsgGCGuildUpdateDetailsRequest","id":7232},{"name":"k_EMsgGCGuildUpdateDetailsResponse","id":7233},{"name":"k_EMsgGCToGCCanInviteUser","id":7234},{"name":"k_EMsgGCToGCCanInviteUserResponse","id":7235},{"name":"k_EMsgGCToGCGetUserRank","id":7236},{"name":"k_EMsgGCToGCGetUserRankResponse","id":7237},{"name":"k_EMsgGCToGCUpdateTeamStats","id":7240},{"name":"k_EMsgGCToGCGetTeamRank","id":7241},{"name":"k_EMsgGCToGCGetTeamRankResponse","id":7242},{"name":"k_EMsgGCTeamIDByNameRequest","id":7245},{"name":"k_EMsgGCTeamIDByNameResponse","id":7246},{"name":"k_EMsgGCEditTeam","id":7247},{"name":"k_EMsgGCPassportDataRequest","id":7248},{"name":"k_EMsgGCPassportDataResponse","id":7249},{"name":"k_EMsgGCNotInGuildData","id":7251},{"name":"k_EMsgGCGuildInviteData","id":7254},{"name":"k_EMsgGCToGCGetLeagueAdmin","id":7255},{"name":"k_EMsgGCToGCGetLeagueAdminResponse","id":7256},{"name":"k_EMsgGCRequestLeaguePrizePool","id":7258},{"name":"k_EMsgGCRequestLeaguePrizePoolResponse","id":7259},{"name":"k_EMsgGCToGCUpdateOpenGuildPartyRequest","id":7261},{"name":"k_EMsgGCToGCUpdateOpenGuildPartyResponse","id":7262},{"name":"k_EMsgGCToGCDestroyOpenGuildPartyRequest","id":7263},{"name":"k_EMsgGCToGCDestroyOpenGuildPartyResponse","id":7264},{"name":"k_EMsgGCGuildUpdateMessage","id":7265},{"name":"k_EMsgGCPartySetOpenGuildRequest","id":7266},{"name":"k_EMsgGCPartySetOpenGuildResponse","id":7267},{"name":"k_EMsgGCGuildOpenPartyRefresh","id":7268},{"name":"k_EMsgGCJoinOpenGuildPartyRequest","id":7269},{"name":"k_EMsgGCJoinOpenGuildPartyResponse","id":7270},{"name":"k_EMsgGCLeaveChatChannel","id":7272},{"name":"k_EMsgGCChatMessage","id":7273},{"name":"k_EMsgGCGetHeroStandings","id":7274},{"name":"k_EMsgGCGetHeroStandingsResponse","id":7275},{"name":"k_EMsgGCGuildEditLogoRequest","id":7279},{"name":"k_EMsgGCGuildEditLogoResponse","id":7280},{"name":"k_EMsgGCGuildmatePracticeLobbyListRequest","id":7281},{"name":"k_EMsgGCGuildmatePracticeLobbyListResponse","id":7282},{"name":"k_EMsgGCItemEditorReservationsRequest","id":7283},{"name":"k_EMsgGCItemEditorReservationsResponse","id":7284},{"name":"k_EMsgGCItemEditorReserveItemDef","id":7285},{"name":"k_EMsgGCItemEditorReserveItemDefResponse","id":7286},{"name":"k_EMsgGCItemEditorReleaseReservation","id":7287},{"name":"k_EMsgGCItemEditorReleaseReservationResponse","id":7288},{"name":"k_EMsgGCRewardTutorialPrizes","id":7289},{"name":"k_EMsgGCLastHitChallengeHighScorePost","id":7290},{"name":"k_EMsgGCLastHitChallengeHighScoreRequest","id":7291},{"name":"k_EMsgGCLastHitChallengeHighScoreResponse","id":7292},{"name":"k_EMsgGCCreateFantasyLeagueRequest","id":7293},{"name":"k_EMsgGCCreateFantasyLeagueResponse","id":7294},{"name":"k_EMsgGCFantasyLeagueInfoRequest","id":7297},{"name":"k_EMsgGCFantasyLeagueInfoResponse","id":7298},{"name":"k_EMsgGCFantasyLeagueInfo","id":7299},{"name":"k_EMsgGCCreateFantasyTeamRequest","id":7300},{"name":"k_EMsgGCCreateFantasyTeamResponse","id":7301},{"name":"k_EMsgGCEditFantasyTeamRequest","id":7302},{"name":"k_EMsgGCEditFantasyTeamResponse","id":7303},{"name":"k_EMsgGCFantasyTeamInfoRequestByFantasyLeagueID","id":7304},{"name":"k_EMsgGCFantasyTeamInfoRequestByOwnerAccountID","id":7305},{"name":"k_EMsgGCFantasyTeamInfoResponse","id":7306},{"name":"k_EMsgGCFantasyTeamInfo","id":7307},{"name":"k_EMsgGCFantasyLivePlayerStats","id":7308},{"name":"k_EMsgGCFantasyFinalPlayerStats","id":7309},{"name":"k_EMsgGCFantasyMatch","id":7310},{"name":"k_EMsgGCToGCReloadVersions","id":7311},{"name":"k_EMsgGCFantasyTeamScoreRequest","id":7312},{"name":"k_EMsgGCFantasyTeamScoreResponse","id":7313},{"name":"k_EMsgGCFantasyTeamStandingsRequest","id":7314},{"name":"k_EMsgGCFantasyTeamStandingsResponse","id":7315},{"name":"k_EMsgGCFantasyPlayerScoreRequest","id":7316},{"name":"k_EMsgGCFantasyPlayerScoreResponse","id":7317},{"name":"k_EMsgGCFantasyPlayerStandingsRequest","id":7318},{"name":"k_EMsgGCFantasyPlayerStandingsResponse","id":7319},{"name":"k_EMsgGCFlipLobbyTeams","id":7320},{"name":"k_EMsgGCCustomGameCreate","id":7321},{"name":"k_EMsgGCFantasyPlayerInfoRequest","id":7322},{"name":"k_EMsgGCFantasyPlayerInfoResponse","id":7323},{"name":"k_EMsgGCToGCProcessPlayerReportForTarget","id":7324},{"name":"k_EMsgGCToGCProcessReportSuccess","id":7325},{"name":"k_EMsgGCNotifyAccountFlagsChange","id":7326},{"name":"k_EMsgGCSetProfilePrivacy","id":7327},{"name":"k_EMsgGCSetProfilePrivacyResponse","id":7328},{"name":"k_EMsgGCSteamProfileRequest","id":7329},{"name":"k_EMsgGCSteamProfileRequestResponse","id":7330},{"name":"k_EMsgGCFantasyLeagueCreateInfoRequest","id":7331},{"name":"k_EMsgGCFantasyLeagueCreateInfoResponse","id":7332},{"name":"k_EMsgGCFantasyLeagueInviteInfoRequest","id":7333},{"name":"k_EMsgGCFantasyLeagueInviteInfoResponse","id":7334},{"name":"k_EMsgGCClientIgnoredUser","id":7335},{"name":"k_EMsgGCFantasyLeagueCreateRequest","id":7336},{"name":"k_EMsgGCFantasyLeagueCreateResponse","id":7337},{"name":"k_EMsgGCFantasyTeamCreateRequest","id":7338},{"name":"k_EMsgGCFantasyTeamCreateResponse","id":7339},{"name":"k_EMsgGCFantasyLeagueFriendJoinListRequest","id":7340},{"name":"k_EMsgGCFantasyLeagueFriendJoinListResponse","id":7341},{"name":"k_EMsgGCClientSuspended","id":7342},{"name":"k_EMsgGCPartyMemberSetCoach","id":7343},{"name":"k_EMsgGCFantasyLeagueEditInvitesRequest","id":7344},{"name":"k_EMsgGCFantasyLeagueEditInvitesResponse","id":7345},{"name":"k_EMsgGCPracticeLobbySetCoach","id":7346},{"name":"k_EMsgGCFantasyLeagueEditInfoRequest","id":7347},{"name":"k_EMsgGCFantasyLeagueEditInfoResponse","id":7348},{"name":"k_EMsgGCFantasyLeagueDraftStatusRequest","id":7349},{"name":"k_EMsgGCFantasyLeagueDraftStatus","id":7350},{"name":"k_EMsgGCFantasyLeagueDraftPlayerRequest","id":7351},{"name":"k_EMsgGCFantasyLeagueDraftPlayerResponse","id":7352},{"name":"k_EMsgGCFantasyLeagueMatchupsRequest","id":7353},{"name":"k_EMsgGCFantasyLeagueMatchupsResponse","id":7354},{"name":"k_EMsgGCFantasyTeamRosterSwapRequest","id":7355},{"name":"k_EMsgGCFantasyTeamRosterSwapResponse","id":7356},{"name":"k_EMsgGCFantasyTeamRosterRequest","id":7357},{"name":"k_EMsgGCFantasyTeamRosterResponse","id":7358},{"name":"k_EMsgGCNexonPartnerUpdate","id":7359},{"name":"k_EMsgGCToGCProcessPCBangRewardPoints","id":7360},{"name":"k_EMsgGCFantasyTeamRosterAddDropRequest","id":7361},{"name":"k_EMsgGCFantasyTeamRosterAddDropResponse","id":7362},{"name":"k_EMsgPresentedClientTerminateDlg","id":7363},{"name":"k_EMsgGCFantasyPlayerHisoricalStatsRequest","id":7364},{"name":"k_EMsgGCFantasyPlayerHisoricalStatsResponse","id":7365},{"name":"k_EMsgGCPCBangTimedRewardMessage","id":7366},{"name":"k_EMsgGCLobbyUpdateBroadcastChannelInfo","id":7367},{"name":"k_EMsgGCFantasyTeamTradesRequest","id":7368},{"name":"k_EMsgGCFantasyTeamTradesResponse","id":7369},{"name":"k_EMsgGCFantasyTeamTradeCancelRequest","id":7370},{"name":"k_EMsgGCFantasyTeamTradeCancelResponse","id":7371},{"name":"k_EMsgGCToGCGrantTournamentItem","id":7372},{"name":"k_EMsgGCProcessFantasyScheduledEvent","id":7373},{"name":"k_EMsgGCToGCGrantPCBangRewardItem","id":7374},{"name":"k_EMsgGCToGCUpgradeTwitchViewerItems","id":7375},{"name":"k_EMsgGCToGCGetLiveMatchAffiliates","id":7376},{"name":"k_EMsgGCToGCGetLiveMatchAffiliatesResponse","id":7377},{"name":"k_EMsgGCToGCUpdatePlayerPennantCounts","id":7378},{"name":"k_EMsgGCToGCGetPlayerPennantCounts","id":7379},{"name":"k_EMsgGCToGCGetPlayerPennantCountsResponse","id":7380},{"name":"k_EMsgGCGameMatchSignOutPermissionRequest","id":7381},{"name":"k_EMsgGCGameMatchSignOutPermissionResponse","id":7382},{"name":"k_EMsgDOTAChatChannelMemberUpdate","id":7383},{"name":"k_EMsgDOTAAwardEventPoints","id":7384},{"name":"k_EMsgDOTARedeemEventPrize","id":7385},{"name":"k_EMsgDOTARedeemEventPrizeResponse","id":7386},{"name":"k_EMsgDOTAGetEventPoints","id":7387},{"name":"k_EMsgDOTAGetEventPointsResponse","id":7388},{"name":"k_EMsgGCToGCSignoutAwardEventPoints","id":7390},{"name":"k_EMsgDOTASendFriendRecruits","id":7393},{"name":"k_EMsgDOTAFriendRecruitsRequest","id":7394},{"name":"k_EMsgDOTAFriendRecruitsResponse","id":7395},{"name":"k_EMsgDOTAFriendRecruitInviteAcceptDecline","id":7396},{"name":"k_EMsgGCPartyLeaderWatchGamePrompt","id":7397},{"name":"k_EMsgDOTAFrostivusTimeElapsed","id":7398},{"name":"k_EMsgGCToGCGrantEarnedLicense","id":7399},{"name":"k_EMsgDOTALiveLeagueGameUpdate","id":7402},{"name":"k_EMsgDOTAChatGetUserList","id":7403},{"name":"k_EMsgDOTAChatGetUserListResponse","id":7404},{"name":"k_EMsgGCCompendiumSetSelection","id":7405},{"name":"k_EMsgGCCompendiumDataRequest","id":7406},{"name":"k_EMsgGCCompendiumDataResponse","id":7407},{"name":"k_EMsgDOTAGetPlayerMatchHistory","id":7408},{"name":"k_EMsgDOTAGetPlayerMatchHistoryResponse","id":7409},{"name":"k_EMsgGCToGCMatchmakingAddParty","id":7410},{"name":"k_EMsgGCToGCMatchmakingRemoveParty","id":7411},{"name":"k_EMsgGCToGCMatchmakingRemoveAllParties","id":7412},{"name":"k_EMsgGCToGCMatchmakingMatchFound","id":7413},{"name":"k_EMsgGCToGCUpdateMatchManagementStats","id":7414},{"name":"k_EMsgGCToGCUpdateMatchmakingStats","id":7415},{"name":"k_EMsgGCToServerPingRequest","id":7416},{"name":"k_EMsgGCToServerPingResponse","id":7417},{"name":"k_EMsgGCToServerConsoleCommand","id":7418},{"name":"k_EMsgGCToGCUpdateLiveLeagueGameInfo","id":7420},{"name":"k_EMsgGCMakeOffering","id":7423},{"name":"k_EMsgGCRequestOfferings","id":7424},{"name":"k_EMsgGCRequestOfferingsResponse","id":7425},{"name":"k_EMsgGCToGCProcessMatchLeaver","id":7426},{"name":"k_EMsgGCNotificationsRequest","id":7427},{"name":"k_EMsgGCNotificationsResponse","id":7428},{"name":"k_EMsgGCToGCModifyNotification","id":7429},{"name":"k_EMsgGCToGCSetNewNotifications","id":7430},{"name":"k_EMsgGCToGCSetIsLeagueAdmin","id":7431},{"name":"k_EMsgGCLeagueAdminState","id":7432},{"name":"k_EMsgGCToGCSendLeagueAdminState","id":7433},{"name":"k_EMsgGCLeagueAdminList","id":7434},{"name":"k_EMsgGCNotificationsMarkReadRequest","id":7435},{"name":"k_EMsgGCFantasyMessageAdd","id":7436},{"name":"k_EMsgGCFantasyMessagesRequest","id":7437},{"name":"k_EMsgGCFantasyMessagesResponse","id":7438},{"name":"k_EMsgGCFantasyScheduledMatchesRequest","id":7439},{"name":"k_EMsgGCFantasyScheduledMatchesResponse","id":7440},{"name":"k_EMsgGCToGCGrantLeagueAccess","id":7441},{"name":"k_EMsgGCEventGameCreate","id":7443},{"name":"k_EMsgGCPerfectWorldUserLookupRequest","id":7444},{"name":"k_EMsgGCPerfectWorldUserLookupResponse","id":7445},{"name":"k_EMsgGCToGCIncrementRecruitmentSDO","id":7446},{"name":"k_EMsgGCToGCIncrementRecruitmentLevel","id":7447},{"name":"k_EMsgGCFantasyRemoveOwner","id":7448},{"name":"k_EMsgGCFantasyRemoveOwnerResponse","id":7449},{"name":"k_EMsgGCRequestBatchPlayerResources","id":7450},{"name":"k_EMsgGCRequestBatchPlayerResourcesResponse","id":7451},{"name":"k_EMsgGCToGCSendUpdateLeagues","id":7452},{"name":"k_EMsgGCCompendiumSetSelectionResponse","id":7453},{"name":"k_EMsgGCPlayerInfoRequest","id":7454},{"name":"k_EMsgGCPlayerInfo","id":7455},{"name":"k_EMsgGCPlayerInfoSubmit","id":7456},{"name":"k_EMsgGCPlayerInfoSubmitResponse","id":7457},{"name":"k_EMsgGCToGCGetAccountLevel","id":7458},{"name":"k_EMsgGCToGCGetAccountLevelResponse","id":7459},{"name":"k_EMsgGCToGCGetAccountPartner","id":7460},{"name":"k_EMsgGCToGCGetAccountPartnerResponse","id":7461},{"name":"k_EMsgGCToGCGetAccountProfile","id":7462},{"name":"k_EMsgGCToGCGetAccountProfileResponse","id":7463},{"name":"k_EMsgDOTAGetWeekendTourneySchedule","id":7464},{"name":"k_EMsgDOTAWeekendTourneySchedule","id":7465},{"name":"k_EMsgGCJoinableCustomGameModesRequest","id":7466},{"name":"k_EMsgGCJoinableCustomGameModesResponse","id":7467},{"name":"k_EMsgGCJoinableCustomLobbiesRequest","id":7468},{"name":"k_EMsgGCJoinableCustomLobbiesResponse","id":7469},{"name":"k_EMsgGCQuickJoinCustomLobby","id":7470},{"name":"k_EMsgGCQuickJoinCustomLobbyResponse","id":7471},{"name":"k_EMsgGCToGCGrantEventPointAction","id":7472},{"name":"k_EMsgServerGetEventPoints","id":7473},{"name":"k_EMsgServerGetEventPointsResponse","id":7474},{"name":"k_EMsgServerGrantSurveyPermission","id":7475},{"name":"k_EMsgServerGrantSurveyPermissionResponse","id":7476},{"name":"k_EMsgClientProvideSurveyResult","id":7477},{"name":"k_EMsgGCToGCSetCompendiumSelection","id":7478},{"name":"k_EMsgGCToGCUpdateTI4HeroQuest","id":7480},{"name":"k_EMsgGCCompendiumDataChanged","id":7481},{"name":"k_EMsgDOTAFantasyLeagueFindRequest","id":7482},{"name":"k_EMsgDOTAFantasyLeagueFindResponse","id":7483},{"name":"k_EMsgGCHasItemQuery","id":7484},{"name":"k_EMsgGCHasItemResponse","id":7485},{"name":"k_EMsgGCConsumeFantasyTicket","id":7486},{"name":"k_EMsgGCConsumeFantasyTicketFailure","id":7487},{"name":"k_EMsgGCToGCGrantEventPointActionMsg","id":7488},{"name":"k_EMsgClientToGCTrackDialogResult","id":7489},{"name":"k_EMsgGCFantasyLeaveLeagueRequest","id":7490},{"name":"k_EMsgGCFantasyLeaveLeagueResponse","id":7491},{"name":"k_EMsgGCToGCGetCompendiumSelections","id":7492},{"name":"k_EMsgGCToGCGetCompendiumSelectionsResponse","id":7493},{"name":"k_EMsgServerToGCMatchConnectionStats","id":7494},{"name":"k_EMsgGCToClientTournamentItemDrop","id":7495},{"name":"k_EMsgSQLDelayedGrantLeagueDrop","id":7496},{"name":"k_EMsgServerGCUpdateSpectatorCount","id":7497},{"name":"k_EMsgDOTAStartDailyHeroChallengeRequest","id":7498},{"name":"k_EMsgGCFantasyPlayerScoreDetailsRequest","id":7499},{"name":"k_EMsgGCFantasyPlayerScoreDetailsResponse","id":7500},{"name":"k_EMsgGCToGCEmoticonUnlock","id":7501},{"name":"k_EMsgSignOutDraftInfo","id":7502},{"name":"k_EMsgClientToGCEmoticonDataRequest","id":7503},{"name":"k_EMsgGCToClientEmoticonData","id":7504},{"name":"k_EMsgGCPracticeLobbyToggleBroadcastChannelCameramanStatus","id":7505},{"name":"k_EMsgGCToGCCreateWeekendTourneyRequest","id":7506},{"name":"k_EMsgGCToGCCreateWeekendTourneyResponse","id":7507},{"name":"k_EMsgGCHeroPickStatsRequest","id":7508},{"name":"k_EMsgGCHeroPickStatsResponse","id":7509},{"name":"k_EMsgGCToGCCreateGenericTeamsRequest","id":7510},{"name":"k_EMsgGCToGCCreateGenericTeamsResponse","id":7511},{"name":"k_EMsgSQLLaunchOneWeekendTourney","id":7512},{"name":"k_EMsgClientToGCSetAdditionalEquips","id":7513},{"name":"k_EMsgClientToGCGetAdditionalEquips","id":7514},{"name":"k_EMsgClientToGCGetAdditionalEquipsResponse","id":7515},{"name":"k_EMsgServerToGCGetAdditionalEquips","id":7516},{"name":"k_EMsgServerToGCGetAdditionalEquipsResponse","id":7517},{"name":"k_EMsgDOTARedeemItem","id":7518},{"name":"k_EMsgDOTARedeemItemResponse","id":7519},{"name":"k_EMsgSQLGCToGCGrantAllHeroProgress","id":7520},{"name":"k_EMsgClientToGCGetAllHeroProgress","id":7521},{"name":"k_EMsgClientToGCGetAllHeroProgressResponse","id":7522},{"name":"k_EMsgGCToGCGetServerForClient","id":7523},{"name":"k_EMsgGCToGCGetServerForClientResponse","id":7524},{"name":"k_EMsgSQLProcessTournamentGameOutcome","id":7525},{"name":"k_EMsgSQLGrantTrophyToAccount","id":7526},{"name":"k_EMsgClientToGCGetTrophyList","id":7527},{"name":"k_EMsgClientToGCGetTrophyListResponse","id":7528},{"name":"k_EMsgGCToClientTrophyAwarded","id":7529},{"name":"k_EMsgGCGameBotMatchSignOut","id":7530},{"name":"k_EMsgGCGameBotMatchSignOutPermissionRequest","id":7531},{"name":"k_EMsgSignOutBotInfo","id":7532},{"name":"k_EMsgGCToGCUpdateProfileCards","id":7533},{"name":"k_EMsgClientToGCGetProfileCard","id":7534},{"name":"k_EMsgClientToGCGetProfileCardResponse","id":7535},{"name":"k_EMsgServerToGCGetProfileCard","id":7536},{"name":"k_EMsgServerToGCGetProfileCardResponse","id":7537},{"name":"k_EMsgClientToGCSetProfileCardSlots","id":7538},{"name":"k_EMsgGCToClientProfileCardUpdated","id":7539},{"name":"k_EMsgServerToGCVictoryPredictions","id":7540},{"name":"k_EMsgClientToGCMarkNotificationListRead","id":7542},{"name":"k_EMsgGCToClientNewNotificationAdded","id":7543},{"name":"k_EMsgServerToGCSuspiciousActivity","id":7544},{"name":"k_EMsgSignOutCommunicationSummary","id":7545},{"name":"k_EMsgServerToGCRequestStatus_Response","id":7546},{"name":"k_EMsgClientToGCCreateHeroStatue","id":7547},{"name":"k_EMsgGCToClientHeroStatueCreateResult","id":7548},{"name":"k_EMsgGCGCToLANServerRelayConnect","id":7549},{"name":"k_EMsgSignOutAssassinMiniGameInfo","id":7550},{"name":"k_EMsgServerToGCGetIngameEventData","id":7551},{"name":"k_EMsgGCToGCUpdateIngameEventDataBroadcast","id":7552},{"name":"k_EMsgGCToServerIngameEventData_OraclePA","id":7553},{"name":"k_EMsgServerToGCReportKillSummaries","id":7554},{"name":"k_EMsgGCToGCReportKillSummaries","id":7555},{"name":"k_EMsgGCToGCUpdateAssassinMinigame","id":7556},{"name":"k_EMsgGCToGCFantasySetMatchLeague","id":7557},{"name":"k_EMsgClientToGCRecordCompendiumStats","id":7558},{"name":"k_EMsgGCItemEditorRequestLeagueInfo","id":7559},{"name":"k_EMsgGCItemEditorLeagueInfoResponse","id":7560},{"name":"k_EMsgGCToGCUpdatePlayerPredictions","id":7561},{"name":"k_EMsgGCToServerPredictionResult","id":7562},{"name":"k_EMsgServerToGCSignoutAwardAdditionalDrops","id":7563},{"name":"k_EMsgGCToGCSignoutAwardAdditionalDrops","id":7564},{"name":"k_EMsgGCToClientEventStatusChanged","id":7565},{"name":"k_EMsgGCHasItemDefsQuery","id":7566},{"name":"k_EMsgGCHasItemDefsResponse","id":7567},{"name":"k_EMsgGCToGCReplayMonitorValidateReplay","id":7569},{"name":"k_EMsgClientToGCExchangeItemsForOffering","id":7570},{"name":"k_EMsgClientToGCExchangeItemsForOfferingResponse","id":7571},{"name":"k_EMsgLobbyEventPoints","id":7572},{"name":"k_EMsgGCToGCGetCustomGameTickets","id":7573},{"name":"k_EMsgGCToGCGetCustomGameTicketsResponse","id":7574},{"name":"k_EMsgGCToClientNewBloomTimingUpdated","id":7575},{"name":"k_EMsgGCToGCCustomGamePlayed","id":7576},{"name":"k_EMsgGCToGCGrantEventPointsToUser","id":7577},{"name":"k_EMsgGCToGCSetEventMMPanicFlushTime","id":7578},{"name":"k_EMsgGameserverCrashReport","id":7579},{"name":"k_EMsgGameserverCrashReportResponse","id":7580},{"name":"k_EMsgGCToClientSteamDatagramTicket","id":7581},{"name":"k_EMsgGCToGCGrantEventOwnership","id":7582},{"name":"k_EMsgGCToGCSendAccountsEventPoints","id":7583},{"name":"k_EMsgClientToGCRerollPlayerChallenge","id":7584},{"name":"k_EMsgServerToGCRerollPlayerChallenge","id":7585},{"name":"k_EMsgGCRerollPlayerChallengeResponse","id":7586},{"name":"k_EMsgSignOutUpdatePlayerChallenge","id":7587},{"name":"k_EMsgClientToGCSetPartyLeader","id":7588},{"name":"k_EMsgClientToGCCancelPartyInvites","id":7589},{"name":"k_EMsgGCToGCMasterReloadAccount","id":7590},{"name":"k_EMsgSQLGCToGCGrantBackpackSlots","id":7591},{"name":"k_EMsgSQLGrantLeagueMatchToTicketHolders","id":7592},{"name":"k_EMsgClientToGCSetAdditionalEquipsResponse","id":7593},{"name":"k_EMsgGCToGCEmoticonUnlockNoRollback","id":7594},{"name":"k_EMsgGCToGCGetCompendiumFanfare","id":7595},{"name":"k_EMsgServerToGCHoldEventPoints","id":7596},{"name":"k_EMsgSignOutReleaseEventPointHolds","id":7597},{"name":"k_EMsgGCToGCChatNewUserSession","id":7598},{"name":"k_EMsgGCToServerUpdateBroadcastCheers","id":7602},{"name":"k_EMsgGCDev_GrantWarKill","id":8001},{"name":"k_EMsgClientToGCCreateTeamShowcase","id":8002},{"name":"k_EMsgGCToClientTeamShowcaseCreateResult","id":8003},{"name":"k_EMsgServerToGCLockCharmTrading","id":8004},{"name":"k_EMsgDOTACNY2015EventPointUsage","id":8005},{"name":"k_EMsgClientToGCPlayerStatsRequest","id":8006},{"name":"k_EMsgGCToClientPlayerStatsResponse","id":8007},{"name":"k_EMsgGCClearPracticeLobbyTeam","id":8008},{"name":"k_EMsgClientToGCFindTopSourceTVGames","id":8009},{"name":"k_EMsgGCToClientFindTopSourceTVGamesResponse","id":8010},{"name":"k_EMsgGCLobbyList","id":8011},{"name":"k_EMsgGCLobbyListResponse","id":8012},{"name":"k_EMsgGCPlayerStatsMatchSignOut","id":8013},{"name":"k_EMsgClientToGCCustomGamePlayerCountRequest","id":8014},{"name":"k_EMsgGCToClientCustomGamePlayerCountResponse","id":8015},{"name":"k_EMsgClientToGCSocialFeedPostCommentRequest","id":8016},{"name":"k_EMsgGCToClientSocialFeedPostCommentResponse","id":8017},{"name":"k_EMsgClientToGCCustomGamesFriendsPlayedRequest","id":8018},{"name":"k_EMsgGCToClientCustomGamesFriendsPlayedResponse","id":8019},{"name":"k_EMsgClientToGCFriendsPlayedCustomGameRequest","id":8020},{"name":"k_EMsgGCToClientFriendsPlayedCustomGameResponse","id":8021},{"name":"k_EMsgClientToGCFeaturedHeroesRequest","id":8022},{"name":"k_EMsgGCToClientFeaturedHeroesResponse","id":8023},{"name":"k_EMsgGCTopCustomGamesList","id":8024},{"name":"k_EMsgClientToGCSocialMatchPostCommentRequest","id":8025},{"name":"k_EMsgGCToClientSocialMatchPostCommentResponse","id":8026},{"name":"k_EMsgClientToGCSocialMatchDetailsRequest","id":8027},{"name":"k_EMsgGCToClientSocialMatchDetailsResponse","id":8028},{"name":"k_EMsgClientToGCSetPartyOpen","id":8029},{"name":"k_EMsgClientToGCMergePartyInvite","id":8030},{"name":"k_EMsgGCToClientMergeGroupInviteReply","id":8031},{"name":"k_EMsgClientToGCMergePartyResponse","id":8032},{"name":"k_EMsgGCToClientMergePartyResponseReply","id":8033},{"name":"k_EMsgClientToGCGetProfileCardStats","id":8034},{"name":"k_EMsgClientToGCGetProfileCardStatsResponse","id":8035},{"name":"k_EMsgClientToGCTopLeagueMatchesRequest","id":8036},{"name":"k_EMsgClientToGCTopFriendMatchesRequest","id":8037},{"name":"k_EMsgGCToClientTopMatchesResponse","id":8038},{"name":"k_EMsgClientToGCTopPubMatchesRequest","id":8039},{"name":"k_EMsgGCToClientProfileCardStatsUpdated","id":8040},{"name":"k_EMsgServerToGCRealtimeStats","id":8041},{"name":"k_EMsgGCToServerRealtimeStatsStartStop","id":8042},{"name":"k_EMsgGCToGCGetServersForClients","id":8045},{"name":"k_EMsgGCToGCGetServersForClientsResponse","id":8046},{"name":"k_EMsgGCPracticeLobbyKickFromTeam","id":8047},{"name":"k_EMsgDOTAChatGetMemberCount","id":8048},{"name":"k_EMsgDOTAChatGetMemberCountResponse","id":8049},{"name":"k_EMsgClientToGCSocialFeedPostMessageRequest","id":8050},{"name":"k_EMsgGCToClientSocialFeedPostMessageResponse","id":8051},{"name":"k_EMsgCustomGameListenServerStartedLoading","id":8052},{"name":"k_EMsgCustomGameClientFinishedLoading","id":8053},{"name":"k_EMsgGCPracticeLobbyCloseBroadcastChannel","id":8054},{"name":"k_EMsgGCStartFindingMatchResponse","id":8055},{"name":"k_EMsgSQLGCToGCUpdateHeroMMR","id":8056}]},{"name":"DOTA_GameMode","values":[{"name":"DOTA_GAMEMODE_NONE","id":0},{"name":"DOTA_GAMEMODE_AP","id":1},{"name":"DOTA_GAMEMODE_CM","id":2},{"name":"DOTA_GAMEMODE_RD","id":3},{"name":"DOTA_GAMEMODE_SD","id":4},{"name":"DOTA_GAMEMODE_AR","id":5},{"name":"DOTA_GAMEMODE_INTRO","id":6},{"name":"DOTA_GAMEMODE_HW","id":7},{"name":"DOTA_GAMEMODE_REVERSE_CM","id":8},{"name":"DOTA_GAMEMODE_XMAS","id":9},{"name":"DOTA_GAMEMODE_TUTORIAL","id":10},{"name":"DOTA_GAMEMODE_MO","id":11},{"name":"DOTA_GAMEMODE_LP","id":12},{"name":"DOTA_GAMEMODE_POOL1","id":13},{"name":"DOTA_GAMEMODE_FH","id":14},{"name":"DOTA_GAMEMODE_CUSTOM","id":15},{"name":"DOTA_GAMEMODE_CD","id":16},{"name":"DOTA_GAMEMODE_BD","id":17},{"name":"DOTA_GAMEMODE_ABILITY_DRAFT","id":18},{"name":"DOTA_GAMEMODE_EVENT","id":19},{"name":"DOTA_GAMEMODE_ARDM","id":20},{"name":"DOTA_GAMEMODE_1V1MID","id":21},{"name":"DOTA_GAMEMODE_ALL_DRAFT","id":22}]},{"name":"DOTA_GameState","values":[{"name":"DOTA_GAMERULES_STATE_INIT","id":0},{"name":"DOTA_GAMERULES_STATE_WAIT_FOR_PLAYERS_TO_LOAD","id":1},{"name":"DOTA_GAMERULES_STATE_HERO_SELECTION","id":2},{"name":"DOTA_GAMERULES_STATE_STRATEGY_TIME","id":3},{"name":"DOTA_GAMERULES_STATE_PRE_GAME","id":4},{"name":"DOTA_GAMERULES_STATE_GAME_IN_PROGRESS","id":5},{"name":"DOTA_GAMERULES_STATE_POST_GAME","id":6},{"name":"DOTA_GAMERULES_STATE_DISCONNECT","id":7},{"name":"DOTA_GAMERULES_STATE_TEAM_SHOWCASE","id":8},{"name":"DOTA_GAMERULES_STATE_CUSTOM_GAME_SETUP","id":9},{"name":"DOTA_GAMERULES_STATE_LAST","id":10}]},{"name":"DOTA_GC_TEAM","values":[{"name":"DOTA_GC_TEAM_GOOD_GUYS","id":0},{"name":"DOTA_GC_TEAM_BAD_GUYS","id":1},{"name":"DOTA_GC_TEAM_BROADCASTER","id":2},{"name":"DOTA_GC_TEAM_SPECTATOR","id":3},{"name":"DOTA_GC_TEAM_PLAYER_POOL","id":4},{"name":"DOTA_GC_TEAM_NOTEAM","id":5}]},{"name":"DOTA_CM_PICK","values":[{"name":"DOTA_CM_RANDOM","id":0},{"name":"DOTA_CM_GOOD_GUYS","id":1},{"name":"DOTA_CM_BAD_GUYS","id":2}]},{"name":"DOTAConnectionState_t","values":[{"name":"DOTA_CONNECTION_STATE_UNKNOWN","id":0},{"name":"DOTA_CONNECTION_STATE_NOT_YET_CONNECTED","id":1},{"name":"DOTA_CONNECTION_STATE_CONNECTED","id":2},{"name":"DOTA_CONNECTION_STATE_DISCONNECTED","id":3},{"name":"DOTA_CONNECTION_STATE_ABANDONED","id":4},{"name":"DOTA_CONNECTION_STATE_LOADING","id":5},{"name":"DOTA_CONNECTION_STATE_FAILED","id":6}]},{"name":"DOTALeaverStatus_t","values":[{"name":"DOTA_LEAVER_NONE","id":0},{"name":"DOTA_LEAVER_DISCONNECTED","id":1},{"name":"DOTA_LEAVER_DISCONNECTED_TOO_LONG","id":2},{"name":"DOTA_LEAVER_ABANDONED","id":3},{"name":"DOTA_LEAVER_AFK","id":4},{"name":"DOTA_LEAVER_NEVER_CONNECTED","id":5},{"name":"DOTA_LEAVER_NEVER_CONNECTED_TOO_LONG","id":6},{"name":"DOTA_LEAVER_FAILED_TO_READY_UP","id":7},{"name":"DOTA_LEAVER_DECLINED","id":8}]},{"name":"DOTALowPriorityBanType","values":[{"name":"DOTA_LOW_PRIORITY_BAN_ABANDON","id":0},{"name":"DOTA_LOW_PRIORITY_BAN_REPORTS","id":1},{"name":"DOTA_LOW_PRIORITY_BAN_SECONDARY_ABANDON","id":2}]},{"name":"DOTALobbyReadyState","values":[{"name":"DOTALobbyReadyState_UNDECLARED","id":0},{"name":"DOTALobbyReadyState_ACCEPTED","id":1},{"name":"DOTALobbyReadyState_DECLINED","id":2}]},{"name":"DOTAGameVersion","values":[{"name":"GAME_VERSION_CURRENT","id":0},{"name":"GAME_VERSION_STABLE","id":1}]},{"name":"DOTAJoinLobbyResult","values":[{"name":"DOTA_JOIN_RESULT_SUCCESS","id":0},{"name":"DOTA_JOIN_RESULT_ALREADY_IN_GAME","id":1},{"name":"DOTA_JOIN_RESULT_INVALID_LOBBY","id":2},{"name":"DOTA_JOIN_RESULT_INCORRECT_PASSWORD","id":3},{"name":"DOTA_JOIN_RESULT_ACCESS_DENIED","id":4},{"name":"DOTA_JOIN_RESULT_GENERIC_ERROR","id":5},{"name":"DOTA_JOIN_RESULT_INCORRECT_VERSION","id":6},{"name":"DOTA_JOIN_RESULT_IN_TEAM_PARTY","id":7},{"name":"DOTA_JOIN_RESULT_NO_LOBBY_FOUND","id":8},{"name":"DOTA_JOIN_RESULT_LOBBY_FULL","id":9},{"name":"DOTA_JOIN_RESULT_CUSTOM_GAME_INCORRECT_VERSION","id":10}]},{"name":"DOTAMatchVote","values":[{"name":"DOTAMatchVote_INVALID","id":0},{"name":"DOTAMatchVote_POSITIVE","id":1},{"name":"DOTAMatchVote_NEGATIVE","id":2}]},{"name":"DOTA_LobbyMemberXPBonus","values":[{"name":"DOTA_LobbyMemberXPBonus_DEFAULT","id":0},{"name":"DOTA_LobbyMemberXPBonus_BATTLE_BOOSTER","id":1},{"name":"DOTA_LobbyMemberXPBonus_SHARE_BONUS","id":2},{"name":"DOTA_LobbyMemberXPBonus_PARTY","id":3},{"name":"DOTA_LobbyMemberXPBonus_RECRUITMENT","id":4},{"name":"DOTA_LobbyMemberXPBonus_PCBANG","id":5}]},{"name":"DOTALobbyVisibility","values":[{"name":"DOTALobbyVisibility_Public","id":0},{"name":"DOTALobbyVisibility_Friends","id":1},{"name":"DOTALobbyVisibility_Unlisted","id":2}]},{"name":"EDOTAPlayerMMRType","values":[{"name":"k_EDOTAPlayerMMRType_Invalid","id":0},{"name":"k_EDOTAPlayerMMRType_GeneralHidden","id":1},{"name":"k_EDOTAPlayerMMRType_SoloHidden","id":2},{"name":"k_EDOTAPlayerMMRType_GeneralCompetitive","id":3},{"name":"k_EDOTAPlayerMMRType_SoloCompetitive","id":4},{"name":"k_EDOTAPlayerMMRType_1v1Competitive","id":5}]},{"name":"MatchType","values":[{"name":"MATCH_TYPE_CASUAL","id":0},{"name":"MATCH_TYPE_COOP_BOTS","id":1},{"name":"MATCH_TYPE_TEAM_RANKED","id":2},{"name":"MATCH_TYPE_LEGACY_SOLO_QUEUE","id":3},{"name":"MATCH_TYPE_COMPETITIVE","id":4},{"name":"MATCH_TYPE_WEEKEND_TOURNEY","id":5},{"name":"MATCH_TYPE_CASUAL_1V1","id":6},{"name":"MATCH_TYPE_EVENT","id":7}]},{"name":"DOTABotDifficulty","values":[{"name":"BOT_DIFFICULTY_PASSIVE","id":0},{"name":"BOT_DIFFICULTY_EASY","id":1},{"name":"BOT_DIFFICULTY_MEDIUM","id":2},{"name":"BOT_DIFFICULTY_HARD","id":3},{"name":"BOT_DIFFICULTY_UNFAIR","id":4},{"name":"BOT_DIFFICULTY_INVALID","id":5},{"name":"BOT_DIFFICULTY_EXTRA1","id":6},{"name":"BOT_DIFFICULTY_EXTRA2","id":7},{"name":"BOT_DIFFICULTY_EXTRA3","id":8}]},{"name":"MatchLanguages","values":[{"name":"MATCH_LANGUAGE_INVALID","id":0},{"name":"MATCH_LANGUAGE_ENGLISH","id":1},{"name":"MATCH_LANGUAGE_RUSSIAN","id":2},{"name":"MATCH_LANGUAGE_CHINESE","id":3},{"name":"MATCH_LANGUAGE_KOREAN","id":4},{"name":"MATCH_LANGUAGE_SPANISH","id":5},{"name":"MATCH_LANGUAGE_PORTUGUESE","id":6},{"name":"MATCH_LANGUAGE_ENGLISH2","id":7}]},{"name":"ETournamentTemplate","values":[{"name":"k_ETournamentTemplate_None","id":0},{"name":"k_ETournamentTemplate_SingleElimination","id":1}]},{"name":"ETournamentType","values":[{"name":"k_ETournamentType_Unknown","id":0},{"name":"k_ETournamentType_WeeklyDivision","id":1}]},{"name":"EIngameEvent","values":[{"name":"k_EIngameEvent_OraclePA","id":0},{"name":"k_EIngameEvent_CNY2015","id":1},{"name":"k_EIngameEvent_CNY2015_PreBeast","id":2},{"name":"k_EIngameEvent_TI5","id":3}]},{"name":"LobbyDotaTVDelay","values":[{"name":"LobbyDotaTV_10","id":0},{"name":"LobbyDotaTV_120","id":1},{"name":"LobbyDotaTV_300","id":2}]},{"name":"EMatchOutcome","values":[{"name":"k_EMatchOutcome_Unknown","id":0},{"name":"k_EMatchOutcome_RadVictory","id":2},{"name":"k_EMatchOutcome_DireVictory","id":3},{"name":"k_EMatchOutcome_NotScored_PoorNetworkConditions","id":64},{"name":"k_EMatchOutcome_NotScored_Leaver","id":65},{"name":"k_EMatchOutcome_NotScored_ServerCrash","id":66},{"name":"k_EMatchOutcome_NotScored_NeverStarted","id":67}]},{"name":"EDOTAGCSessionNeed","values":[{"name":"k_EDOTAGCSessionNeed_Unknown","id":0},{"name":"k_EDOTAGCSessionNeed_UserNoSessionNeeded","id":100},{"name":"k_EDOTAGCSessionNeed_UserInOnlineGame","id":101},{"name":"k_EDOTAGCSessionNeed_UserInLocalGame","id":102},{"name":"k_EDOTAGCSessionNeed_UserInUIWasConnected","id":103},{"name":"k_EDOTAGCSessionNeed_UserInUINeverConnected","id":104},{"name":"k_EDOTAGCSessionNeed_UserTutorials","id":105},{"name":"k_EDOTAGCSessionNeed_GameServerOnline","id":200},{"name":"k_EDOTAGCSessionNeed_GameServerLocal","id":201},{"name":"k_EDOTAGCSessionNeed_GameServerIdle","id":202},{"name":"k_EDOTAGCSessionNeed_GameServerRelay","id":203},{"name":"k_EDOTAGCSessionNeed_GameServerLocalUpload","id":204}]},{"name":"Fantasy_Roles","values":[{"name":"FANTASY_ROLE_UNDEFINED","id":0},{"name":"FANTASY_ROLE_CORE","id":1},{"name":"FANTASY_ROLE_SUPPORT","id":2}]},{"name":"Fantasy_Team_Slots","values":[{"name":"FANTASY_SLOT_NONE","id":0},{"name":"FANTASY_SLOT_CORE","id":1},{"name":"FANTASY_SLOT_SUPPORT","id":2},{"name":"FANTASY_SLOT_ANY","id":3},{"name":"FANTASY_SLOT_BENCH","id":4}]},{"name":"Fantasy_Selection_Mode","values":[{"name":"FANTASY_SELECTION_INVALID","id":0},{"name":"FANTASY_SELECTION_LOCKED","id":1},{"name":"FANTASY_SELECTION_SHUFFLE","id":2},{"name":"FANTASY_SELECTION_FREE_PICK","id":3},{"name":"FANTASY_SELECTION_ENDED","id":4},{"name":"FANTASY_SELECTION_PRE_SEASON","id":5},{"name":"FANTASY_SELECTION_PRE_DRAFT","id":6},{"name":"FANTASY_SELECTION_DRAFTING","id":7},{"name":"FANTASY_SELECTION_REGULAR_SEASON","id":8}]},{"name":"DOTA_TournamentEvents","values":[{"name":"TE_FIRST_BLOOD","id":0},{"name":"TE_GAME_END","id":1},{"name":"TE_MULTI_KILL","id":2},{"name":"TE_HERO_DENY","id":3},{"name":"TE_AEGIS_DENY","id":4},{"name":"TE_AEGIS_STOLEN","id":5},{"name":"TE_GODLIKE","id":6},{"name":"TE_COURIER_KILL","id":7},{"name":"TE_ECHOSLAM","id":8},{"name":"TE_RAPIER","id":9},{"name":"TE_EARLY_ROSHAN","id":10},{"name":"TE_BLACK_HOLE","id":11}]},{"name":"DOTA_COMBATLOG_TYPES","values":[{"name":"DOTA_COMBATLOG_DAMAGE","id":0},{"name":"DOTA_COMBATLOG_HEAL","id":1},{"name":"DOTA_COMBATLOG_MODIFIER_ADD","id":2},{"name":"DOTA_COMBATLOG_MODIFIER_REMOVE","id":3},{"name":"DOTA_COMBATLOG_DEATH","id":4},{"name":"DOTA_COMBATLOG_ABILITY","id":5},{"name":"DOTA_COMBATLOG_ITEM","id":6},{"name":"DOTA_COMBATLOG_LOCATION","id":7},{"name":"DOTA_COMBATLOG_GOLD","id":8},{"name":"DOTA_COMBATLOG_GAME_STATE","id":9},{"name":"DOTA_COMBATLOG_XP","id":10},{"name":"DOTA_COMBATLOG_PURCHASE","id":11},{"name":"DOTA_COMBATLOG_BUYBACK","id":12},{"name":"DOTA_COMBATLOG_ABILITY_TRIGGER","id":13},{"name":"DOTA_COMBATLOG_PLAYERSTATS","id":14},{"name":"DOTA_COMBATLOG_MULTIKILL","id":15},{"name":"DOTA_COMBATLOG_KILLSTREAK","id":16},{"name":"DOTA_COMBATLOG_TEAM_BUILDING_KILL","id":17},{"name":"DOTA_COMBATLOG_FIRST_BLOOD","id":18},{"name":"DOTA_COMBATLOG_MODIFIER_REFRESH","id":19}]},{"name":"ETournamentGameState","values":[{"name":"k_ETournamentGameState_Unknown","id":0},{"name":"k_ETournamentGameState_Scheduled","id":1},{"name":"k_ETournamentGameState_WaitingForLobbyToStart","id":2},{"name":"k_ETournamentGameState_Active","id":3},{"name":"k_ETournamentGameState_DireVictory","id":4},{"name":"k_ETournamentGameState_RadVictory","id":5},{"name":"k_ETournamentGameState_Canceled","id":6},{"name":"k_ETournamentTeamState_NotNeeded","id":7}]},{"name":"ETournamentTeamState","values":[{"name":"k_ETournamentTeamState_Unknown","id":0},{"name":"k_ETournamentTeamState_Node1","id":1},{"name":"k_ETournamentTeamState_NodeMax","id":1024},{"name":"k_ETournamentTeamState_Eliminated","id":14003},{"name":"k_ETournamentTeamState_Forfeited","id":14004},{"name":"k_ETournamentTeamState_Finished1st","id":15001},{"name":"k_ETournamentTeamState_Finished2nd","id":15002},{"name":"k_ETournamentTeamState_Finished3rd","id":15003},{"name":"k_ETournamentTeamState_Finished4th","id":15004},{"name":"k_ETournamentTeamState_Finished5th","id":15005},{"name":"k_ETournamentTeamState_Finished6th","id":15006},{"name":"k_ETournamentTeamState_Finished7th","id":15007},{"name":"k_ETournamentTeamState_Finished8th","id":15008},{"name":"k_ETournamentTeamState_Finished9th","id":15009},{"name":"k_ETournamentTeamState_Finished10th","id":15010},{"name":"k_ETournamentTeamState_Finished11th","id":15011},{"name":"k_ETournamentTeamState_Finished12th","id":15012},{"name":"k_ETournamentTeamState_Finished13th","id":15013},{"name":"k_ETournamentTeamState_Finished14th","id":15014},{"name":"k_ETournamentTeamState_Finished15th","id":15015},{"name":"k_ETournamentTeamState_Finished16th","id":15016}]},{"name":"ETournamentState","values":[{"name":"k_ETournamentState_Unknown","id":0},{"name":"k_ETournamentState_Setup","id":1},{"name":"k_ETournamentState_Scheduled","id":2},{"name":"k_ETournamentState_InProgress","id":3},{"name":"k_ETournamentState_Completed","id":4},{"name":"k_ETournamentState_Canceled","id":5}]},{"name":"ETournamentNodeState","values":[{"name":"k_ETournamentNodeState_Unknown","id":0},{"name":"k_ETournamentNodeState_TeamsNotYetAssigned","id":1},{"name":"k_ETournamentNodeState_InBetweenGames","id":2},{"name":"k_ETournamentNodeState_GameInProgress","id":3},{"name":"k_ETournamentNodeState_A_Won","id":4},{"name":"k_ETournamentNodeState_B_Won","id":5},{"name":"k_ETournamentNodeState_Canceled","id":6}]},{"name":"DOTAChatChannelType_t","values":[{"name":"DOTAChannelType_Regional","id":0},{"name":"DOTAChannelType_Custom","id":1},{"name":"DOTAChannelType_Party","id":2},{"name":"DOTAChannelType_Lobby","id":3},{"name":"DOTAChannelType_Team","id":4},{"name":"DOTAChannelType_Guild","id":5},{"name":"DOTAChannelType_Fantasy","id":6},{"name":"DOTAChannelType_Whisper","id":7},{"name":"DOTAChannelType_Console","id":8},{"name":"DOTAChannelType_Tab","id":9},{"name":"DOTAChannelType_Invalid","id":10},{"name":"DOTAChannelType_GameAll","id":11},{"name":"DOTAChannelType_GameAllies","id":12},{"name":"DOTAChannelType_GameSpectator","id":13},{"name":"DOTAChannelType_GameCoaching","id":14}]},{"name":"DOTA_WatchReplayType","values":[{"name":"DOTA_WATCH_REPLAY_NORMAL","id":0},{"name":"DOTA_WATCH_REPLAY_HIGHLIGHTS","id":1}]},{"name":"DOTA_2013PassportSelectionIndices","values":[{"name":"PP13_SEL_ALLSTAR_PLAYER_0","id":0},{"name":"PP13_SEL_ALLSTAR_PLAYER_1","id":1},{"name":"PP13_SEL_ALLSTAR_PLAYER_2","id":2},{"name":"PP13_SEL_ALLSTAR_PLAYER_3","id":3},{"name":"PP13_SEL_ALLSTAR_PLAYER_4","id":4},{"name":"PP13_SEL_ALLSTAR_PLAYER_5","id":5},{"name":"PP13_SEL_ALLSTAR_PLAYER_6","id":6},{"name":"PP13_SEL_ALLSTAR_PLAYER_7","id":7},{"name":"PP13_SEL_ALLSTAR_PLAYER_8","id":8},{"name":"PP13_SEL_ALLSTAR_PLAYER_9","id":9},{"name":"PP13_SEL_QUALPRED_WEST_0","id":10},{"name":"PP13_SEL_QUALPRED_WEST_1","id":11},{"name":"PP13_SEL_QUALPRED_WEST_2","id":12},{"name":"PP13_SEL_QUALPRED_WEST_3","id":13},{"name":"PP13_SEL_QUALPRED_WEST_4","id":14},{"name":"PP13_SEL_QUALPRED_WEST_5","id":15},{"name":"PP13_SEL_QUALPRED_WEST_6","id":16},{"name":"PP13_SEL_QUALPRED_WEST_7","id":17},{"name":"PP13_SEL_QUALPRED_WEST_8","id":18},{"name":"PP13_SEL_QUALPRED_WEST_9","id":19},{"name":"PP13_SEL_QUALPRED_WEST_10","id":20},{"name":"PP13_SEL_QUALPRED_WEST_11","id":21},{"name":"PP13_SEL_QUALPRED_WEST_12","id":22},{"name":"PP13_SEL_QUALPRED_WEST_13","id":23},{"name":"PP13_SEL_QUALPRED_WEST_14","id":24},{"name":"PP13_SEL_QUALPRED_EAST_0","id":25},{"name":"PP13_SEL_QUALPRED_EAST_1","id":26},{"name":"PP13_SEL_QUALPRED_EAST_2","id":27},{"name":"PP13_SEL_QUALPRED_EAST_3","id":28},{"name":"PP13_SEL_QUALPRED_EAST_4","id":29},{"name":"PP13_SEL_QUALPRED_EAST_5","id":30},{"name":"PP13_SEL_QUALPRED_EAST_6","id":31},{"name":"PP13_SEL_QUALPRED_EAST_7","id":32},{"name":"PP13_SEL_QUALPRED_EAST_8","id":33},{"name":"PP13_SEL_QUALPRED_EAST_9","id":34},{"name":"PP13_SEL_QUALPRED_EAST_10","id":35},{"name":"PP13_SEL_QUALPRED_EAST_11","id":36},{"name":"PP13_SEL_QUALPRED_EAST_12","id":37},{"name":"PP13_SEL_QUALPRED_EAST_13","id":38},{"name":"PP13_SEL_QUALPRED_EAST_14","id":39},{"name":"PP13_SEL_TEAMCUP_TEAM","id":40},{"name":"PP13_SEL_TEAMCUP_PLAYER","id":41},{"name":"PP13_SEL_TEAMCUP_TEAM_LOCK","id":42},{"name":"PP13_SEL_TEAMCUP_PLAYER_LOCK","id":43},{"name":"PP13_SEL_EVENTPRED_0","id":44},{"name":"PP13_SEL_EVENTPRED_1","id":45},{"name":"PP13_SEL_EVENTPRED_2","id":46},{"name":"PP13_SEL_EVENTPRED_3","id":47},{"name":"PP13_SEL_EVENTPRED_4","id":48},{"name":"PP13_SEL_EVENTPRED_5","id":49},{"name":"PP13_SEL_EVENTPRED_6","id":50},{"name":"PP13_SEL_EVENTPRED_7","id":51},{"name":"PP13_SEL_EVENTPRED_8","id":52},{"name":"PP13_SEL_EVENTPRED_9","id":53},{"name":"PP13_SEL_EVENTPRED_10","id":54},{"name":"PP13_SEL_EVENTPRED_11","id":55},{"name":"PP13_SEL_EVENTPRED_12","id":56},{"name":"PP13_SEL_EVENTPRED_13","id":57},{"name":"PP13_SEL_EVENTPRED_14","id":58},{"name":"PP13_SEL_EVENTPRED_15","id":59},{"name":"PP13_SEL_EVENTPRED_16","id":60},{"name":"PP13_SEL_EVENTPRED_17","id":61},{"name":"PP13_SEL_EVENTPRED_18","id":62},{"name":"PP13_SEL_EVENTPRED_19","id":63},{"name":"PP13_SEL_EVENTPRED_20","id":64},{"name":"PP13_SEL_EVENTPRED_21","id":65},{"name":"PP13_SEL_EVENTPRED_22","id":66},{"name":"PP13_SEL_EVENTPRED_23","id":67},{"name":"PP13_SEL_EVENTPRED_24","id":68},{"name":"PP13_SEL_EVENTPRED_25","id":69},{"name":"PP13_SEL_EVENTPRED_26","id":70},{"name":"PP13_SEL_EVENTPRED_27","id":71},{"name":"PP13_SEL_EVENTPRED_28","id":72},{"name":"PP13_SEL_EVENTPRED_29","id":73},{"name":"PP13_SEL_EVENTPRED_30","id":74},{"name":"PP13_SEL_EVENTPRED_31","id":75},{"name":"PP13_SEL_EVENTPRED_32","id":76},{"name":"PP13_SEL_EVENTPRED_33","id":77},{"name":"PP13_SEL_EVENTPRED_34","id":78},{"name":"PP13_SEL_EVENTPRED_35","id":79},{"name":"PP13_SEL_EVENTPRED_36","id":80},{"name":"PP13_SEL_EVENTPRED_37","id":81},{"name":"PP13_SEL_EVENTPRED_38","id":82},{"name":"PP13_SEL_EVENTPRED_39","id":83},{"name":"PP13_SEL_EVENTPRED_40","id":84},{"name":"PP13_SEL_EVENTPRED_41","id":85},{"name":"PP13_SEL_EVENTPRED_42","id":86},{"name":"PP13_SEL_EVENTPRED_43","id":87},{"name":"PP13_SEL_SOLO_0","id":88},{"name":"PP13_SEL_SOLO_1","id":89},{"name":"PP13_SEL_SOLO_2","id":90},{"name":"PP13_SEL_SOLO_3","id":91},{"name":"PP13_SEL_SOLO_4","id":92},{"name":"PP13_SEL_SOLO_5","id":93},{"name":"PP13_SEL_SOLO_6","id":94},{"name":"PP13_SEL_SOLO_7","id":95}]},{"name":"EItemEditorReservationResult","values":[{"name":"k_EItemEditorReservationResult_OK","id":1},{"name":"k_EItemEditorReservationResult_AlreadyExists","id":2},{"name":"k_EItemEditorReservationResult_Reserved","id":3},{"name":"k_EItemEditorReservationResult_TimedOut","id":4}]},{"name":"EProfileCardSlotType","values":[{"name":"k_EProfileCardSlotType_Empty","id":0},{"name":"k_EProfileCardSlotType_Stat","id":1},{"name":"k_EProfileCardSlotType_Trophy","id":2},{"name":"k_EProfileCardSlotType_Item","id":3},{"name":"k_EProfileCardSlotType_Hero","id":4},{"name":"k_EProfileCardSlotType_Emoticon","id":5}]},{"name":"EFeaturedHeroTextField","values":[{"name":"k_EFeaturedHeroTextField_NewHero","id":0},{"name":"k_EFeaturedHeroTextField_NewItem","id":1},{"name":"k_EFeaturedHeroTextField_ItemSetDescription","id":2},{"name":"k_EFeaturedHeroTextField_ItemDescription","id":3},{"name":"k_EFeaturedHeroTextField_Hype","id":4},{"name":"k_EFeaturedHeroTextField_HeroWinLoss","id":5},{"name":"k_EFeaturedHeroTextField_FrequentlyPlayedHero","id":6},{"name":"k_EFeaturedHeroTextField_FeaturedItem","id":7},{"name":"k_EFeaturedHeroTextField_PopularItem","id":8},{"name":"k_EFeaturedHeroTextField_SaleItem","id":9},{"name":"k_EFeaturedHeroTextField_SaleDiscount","id":10},{"name":"k_EFeaturedHeroTextField_Container","id":11}]},{"name":"EFeaturedHeroDataType","values":[{"name":"k_EFeaturedHeroDataType_HeroID","id":0},{"name":"k_EFeaturedHeroDataType_ItemDef","id":1},{"name":"k_EFeaturedHeroDataType_HypeString","id":2},{"name":"k_EFeaturedHeroDataType_StartTimestamp","id":3},{"name":"k_EFeaturedHeroDataType_ExpireTimestamp","id":4},{"name":"k_EFeaturedHeroDataType_HeroWins","id":5},{"name":"k_EFeaturedHeroDataType_HeroLosses","id":6},{"name":"k_EFeaturedHeroDataType_SaleDiscount","id":7},{"name":"k_EFeaturedHeroDataType_ContainerItemDef","id":8}]},{"name":"EDOTAGroupMergeResult","values":[{"name":"k_EDOTAGroupMergeResult_OK","id":0},{"name":"k_EDOTAGroupMergeResult_FAILED_GENERIC","id":1},{"name":"k_EDOTAGroupMergeResult_NOT_LEADER","id":2},{"name":"k_EDOTAGroupMergeResult_TOO_MANY_PLAYERS","id":3},{"name":"k_EDOTAGroupMergeResult_TOO_MANY_COACHES","id":4},{"name":"k_EDOTAGroupMergeResult_ENGINE_MISMATCH","id":5},{"name":"k_EDOTAGroupMergeResult_NO_SUCH_GROUP","id":6},{"name":"k_EDOTAGroupMergeResult_OTHER_GROUP_NOT_OPEN","id":7},{"name":"k_EDOTAGroupMergeResult_ALREADY_INVITED","id":8},{"name":"k_EDOTAGroupMergeResult_NOT_INVITED","id":9}]},{"name":"EGCItemMsg","values":[{"name":"k_EMsgGCBase","id":1000},{"name":"k_EMsgGCSetItemPosition","id":1001},{"name":"k_EMsgGCCraft","id":1002},{"name":"k_EMsgGCCraftResponse","id":1003},{"name":"k_EMsgGCDelete","id":1004},{"name":"k_EMsgGCVerifyCacheSubscription","id":1005},{"name":"k_EMsgGCNameItem","id":1006},{"name":"k_EMsgGCUnlockCrate","id":1007},{"name":"k_EMsgGCUnlockCrateResponse","id":1008},{"name":"k_EMsgGCPaintItem","id":1009},{"name":"k_EMsgGCPaintItemResponse","id":1010},{"name":"k_EMsgGCGoldenWrenchBroadcast","id":1011},{"name":"k_EMsgGCMOTDRequest","id":1012},{"name":"k_EMsgGCMOTDRequestResponse","id":1013},{"name":"k_EMsgGCAddItemToSocket_DEPRECATED","id":1014},{"name":"k_EMsgGCAddItemToSocketResponse_DEPRECATED","id":1015},{"name":"k_EMsgGCAddSocketToBaseItem_DEPRECATED","id":1016},{"name":"k_EMsgGCAddSocketToItem_DEPRECATED","id":1017},{"name":"k_EMsgGCAddSocketToItemResponse_DEPRECATED","id":1018},{"name":"k_EMsgGCNameBaseItem","id":1019},{"name":"k_EMsgGCNameBaseItemResponse","id":1020},{"name":"k_EMsgGCRemoveSocketItem_DEPRECATED","id":1021},{"name":"k_EMsgGCRemoveSocketItemResponse_DEPRECATED","id":1022},{"name":"k_EMsgGCCustomizeItemTexture","id":1023},{"name":"k_EMsgGCCustomizeItemTextureResponse","id":1024},{"name":"k_EMsgGCUseItemRequest","id":1025},{"name":"k_EMsgGCUseItemResponse","id":1026},{"name":"k_EMsgGCGiftedItems","id":1027},{"name":"k_EMsgGCRemoveItemName","id":1030},{"name":"k_EMsgGCRemoveItemPaint","id":1031},{"name":"k_EMsgGCUnwrapGiftRequest","id":1037},{"name":"k_EMsgGCUnwrapGiftResponse","id":1038},{"name":"k_EMsgGCSetItemStyle","id":1039},{"name":"k_EMsgGCUsedClaimCodeItem","id":1040},{"name":"k_EMsgGCSortItems","id":1041},{"name":"k_EMsgGC_RevolvingLootList_DEPRECATED","id":1042},{"name":"k_EMsgGCLookupAccount","id":1043},{"name":"k_EMsgGCLookupAccountResponse","id":1044},{"name":"k_EMsgGCLookupAccountName","id":1045},{"name":"k_EMsgGCLookupAccountNameResponse","id":1046},{"name":"k_EMsgGCUpdateItemSchema","id":1049},{"name":"k_EMsgGCRemoveCustomTexture","id":1051},{"name":"k_EMsgGCRemoveCustomTextureResponse","id":1052},{"name":"k_EMsgGCRemoveMakersMark","id":1053},{"name":"k_EMsgGCRemoveMakersMarkResponse","id":1054},{"name":"k_EMsgGCRemoveUniqueCraftIndex","id":1055},{"name":"k_EMsgGCRemoveUniqueCraftIndexResponse","id":1056},{"name":"k_EMsgGCSaxxyBroadcast","id":1057},{"name":"k_EMsgGCBackpackSortFinished","id":1058},{"name":"k_EMsgGCAdjustItemEquippedState","id":1059},{"name":"k_EMsgGCCollectItem","id":1061},{"name":"k_EMsgGCItemAcknowledged","id":1062},{"name":"k_EMsgGCPresets_SelectPresetForClass","id":1063},{"name":"k_EMsgGCPresets_SetItemPosition","id":1064},{"name":"k_EMsgGC_ReportAbuse","id":1065},{"name":"k_EMsgGC_ReportAbuseResponse","id":1066},{"name":"k_EMsgGCPresets_SelectPresetForClassReply","id":1067},{"name":"k_EMsgGCNameItemNotification","id":1068},{"name":"k_EMsgGCApplyConsumableEffects","id":1069},{"name":"k_EMsgGCConsumableExhausted","id":1070},{"name":"k_EMsgGCShowItemsPickedUp","id":1071},{"name":"k_EMsgGCClientDisplayNotification","id":1072},{"name":"k_EMsgGCApplyStrangePart","id":1073},{"name":"k_EMsgGC_IncrementKillCountResponse","id":1075},{"name":"k_EMsgGCApplyPennantUpgrade","id":1076},{"name":"k_EMsgGCSetItemPositions","id":1077},{"name":"k_EMsgGCApplyEggEssence","id":1078},{"name":"k_EMsgGCNameEggEssenceResponse","id":1079},{"name":"k_EMsgGCUnlockItemStyle","id":1080},{"name":"k_EMsgGCUnlockItemStyleResponse","id":1081},{"name":"k_EMsgGCFulfillDynamicRecipeComponent","id":1082},{"name":"k_EMsgGCFulfillDynamicRecipeComponentResponse","id":1083},{"name":"k_EMsgGCClientRequestMarketData","id":1084},{"name":"k_EMsgGCClientRequestMarketDataResponse","id":1085},{"name":"k_EMsgGCExtractGems","id":1086},{"name":"k_EMsgGCAddSocket","id":1087},{"name":"k_EMsgGCAddItemToSocket","id":1088},{"name":"k_EMsgGCAddItemToSocketResponse","id":1089},{"name":"k_EMsgGCAddSocketResponse","id":1090},{"name":"k_EMsgGCResetStrangeGemCount","id":1091},{"name":"k_EMsgGCRequestCrateItems","id":1092},{"name":"k_EMsgGCRequestCrateItemsResponse","id":1093},{"name":"k_EMsgGCServerUseItemRequest","id":1103},{"name":"k_EMsgGCAddGiftItem","id":1104},{"name":"k_EMsgGCRemoveItemGiftMessage","id":1105},{"name":"k_EMsgGCRemoveItemGiftMessageResponse","id":1106},{"name":"k_EMsgGCRemoveItemGifterAccountId","id":1107},{"name":"k_EMsgGCRemoveItemGifterAccountIdResponse","id":1108},{"name":"k_EMsgGCTradingBase","id":1500},{"name":"k_EMsgGCTrading_InitiateTradeRequest","id":1501},{"name":"k_EMsgGCTrading_InitiateTradeResponse","id":1502},{"name":"k_EMsgGCTrading_StartSession","id":1503},{"name":"k_EMsgGCTrading_SessionClosed","id":1509},{"name":"k_EMsgGCTrading_InitiateTradeRequestResponse","id":1514},{"name":"k_EMsgGCServerBrowser_FavoriteServer","id":1601},{"name":"k_EMsgGCServerBrowser_BlacklistServer","id":1602},{"name":"k_EMsgGCServerRentalsBase","id":1700},{"name":"k_EMsgGCItemPreviewCheckStatus","id":1701},{"name":"k_EMsgGCItemPreviewStatusResponse","id":1702},{"name":"k_EMsgGCItemPreviewRequest","id":1703},{"name":"k_EMsgGCItemPreviewRequestResponse","id":1704},{"name":"k_EMsgGCItemPreviewExpire","id":1705},{"name":"k_EMsgGCItemPreviewExpireNotification","id":1706},{"name":"k_EMsgGCItemPreviewItemBoughtNotification","id":1707},{"name":"k_EMsgGCDev_NewItemRequest","id":2001},{"name":"k_EMsgGCDev_NewItemRequestResponse","id":2002},{"name":"k_EMsgGCStoreGetUserData","id":2500},{"name":"k_EMsgGCStoreGetUserDataResponse","id":2501},{"name":"k_EMsgGCStorePurchaseFinalize","id":2504},{"name":"k_EMsgGCStorePurchaseFinalizeResponse","id":2505},{"name":"k_EMsgGCStorePurchaseCancel","id":2506},{"name":"k_EMsgGCStorePurchaseCancelResponse","id":2507},{"name":"k_EMsgGCStorePurchaseInit","id":2510},{"name":"k_EMsgGCStorePurchaseInitResponse","id":2511},{"name":"k_EMsgGCBannedWordListRequest","id":2512},{"name":"k_EMsgGCBannedWordListResponse","id":2513},{"name":"k_EMsgGCToGCBannedWordListBroadcast","id":2514},{"name":"k_EMsgGCToGCBannedWordListUpdated","id":2515},{"name":"k_EMsgGCToGCDirtySDOCache","id":2516},{"name":"k_EMsgGCToGCDirtyMultipleSDOCache","id":2517},{"name":"k_EMsgGCToGCUpdateSQLKeyValue","id":2518},{"name":"k_EMsgGCToGCBroadcastConsoleCommand","id":2521},{"name":"k_EMsgGCServerVersionUpdated","id":2522},{"name":"k_EMsgGCApplyAutograph","id":2523},{"name":"k_EMsgGCToGCWebAPIAccountChanged","id":2524},{"name":"k_EMsgGCClientVersionUpdated","id":2528},{"name":"k_EMsgGCItemPurgatory_FinalizePurchase","id":2531},{"name":"k_EMsgGCItemPurgatory_FinalizePurchaseResponse","id":2532},{"name":"k_EMsgGCItemPurgatory_RefundPurchase","id":2533},{"name":"k_EMsgGCItemPurgatory_RefundPurchaseResponse","id":2534},{"name":"k_EMsgGCToGCPlayerStrangeCountAdjustments","id":2535},{"name":"k_EMsgGCRequestStoreSalesData","id":2536},{"name":"k_EMsgGCRequestStoreSalesDataResponse","id":2537},{"name":"k_EMsgGCRequestStoreSalesDataUpToDateResponse","id":2538},{"name":"k_EMsgGCToGCPingRequest","id":2539},{"name":"k_EMsgGCToGCPingResponse","id":2540},{"name":"k_EMsgGCToGCGetUserSessionServer","id":2541},{"name":"k_EMsgGCToGCGetUserSessionServerResponse","id":2542},{"name":"k_EMsgGCToGCGetUserServerMembers","id":2543},{"name":"k_EMsgGCToGCGetUserServerMembersResponse","id":2544},{"name":"k_EMsgGCToGCGetUserPCBangNo","id":2545},{"name":"k_EMsgGCToGCGetUserPCBangNoResponse","id":2546},{"name":"k_EMsgGCToGCCanUseDropRateBonus","id":2547},{"name":"k_EMsgSQLAddDropRateBonus","id":2548},{"name":"k_EMsgGCToGCRefreshSOCache","id":2549},{"name":"k_EMsgGCToGCApplyLocalizationDiff","id":2550},{"name":"k_EMsgGCToGCApplyLocalizationDiffResponse","id":2551},{"name":"k_EMsgGCToGCCheckAccountTradeStatus","id":2552},{"name":"k_EMsgGCToGCCheckAccountTradeStatusResponse","id":2553},{"name":"k_EMsgGCToGCGrantAccountRolledItems","id":2554},{"name":"k_EMsgGCToGCGrantSelfMadeItemToAccount","id":2555},{"name":"k_EMsgSQLUpgradeBattleBooster","id":2556},{"name":"k_EMsgGCPartnerBalanceRequest","id":2557},{"name":"k_EMsgGCPartnerBalanceResponse","id":2558},{"name":"k_EMsgGCPartnerRechargeRedirectURLRequest","id":2559},{"name":"k_EMsgGCPartnerRechargeRedirectURLResponse","id":2560},{"name":"k_EMsgGCStatueCraft","id":2561},{"name":"k_EMsgGCRedeemCode","id":2562},{"name":"k_EMsgGCRedeemCodeResponse","id":2563},{"name":"k_EMsgGCToGCItemConsumptionRollback","id":2564},{"name":"k_EMsgClientToGCWrapAndDeliverGift","id":2565},{"name":"k_EMsgClientToGCWrapAndDeliverGiftResponse","id":2566},{"name":"k_EMsgGCToClientBundleUnpacked","id":2567},{"name":"k_EMsgGCToClientStoreTransactionCompleted","id":2568},{"name":"k_EMsgClientToGCEquipItems","id":2569},{"name":"k_EMsgClientToGCEquipItemsResponse","id":2570}]},{"name":"EGCMsgResponse","values":[{"name":"k_EGCMsgResponseOK","id":0},{"name":"k_EGCMsgResponseDenied","id":1},{"name":"k_EGCMsgResponseServerError","id":2},{"name":"k_EGCMsgResponseTimeout","id":3},{"name":"k_EGCMsgResponseInvalid","id":4},{"name":"k_EGCMsgResponseNoMatch","id":5},{"name":"k_EGCMsgResponseUnknownError","id":6},{"name":"k_EGCMsgResponseNotLoggedOn","id":7},{"name":"k_EGCMsgFailedToCreate","id":8}]},{"name":"EUnlockStyle","values":[{"name":"k_UnlockStyle_Succeeded","id":0},{"name":"k_UnlockStyle_Failed_PreReq","id":1},{"name":"k_UnlockStyle_Failed_CantAfford","id":2},{"name":"k_UnlockStyle_Failed_CantCommit","id":3},{"name":"k_UnlockStyle_Failed_CantLockCache","id":4},{"name":"k_UnlockStyle_Failed_CantAffordAttrib","id":5},{"name":"k_UnlockStyle_Failed_CantAffordGem","id":6},{"name":"k_UnlockStyle_Failed_NoCompendiumLevel","id":7},{"name":"k_UnlockStyle_Failed_AlreadyUnlocked","id":8}]},{"name":"EItemPurgatoryResponse_Finalize","values":[{"name":"k_ItemPurgatoryResponse_Finalize_Succeeded","id":0},{"name":"k_ItemPurgatoryResponse_Finalize_Failed_Incomplete","id":1},{"name":"k_ItemPurgatoryResponse_Finalize_Failed_ItemsNotInPurgatory","id":2},{"name":"k_ItemPurgatoryResponse_Finalize_Failed_CouldNotFindItems","id":3},{"name":"k_ItemPurgatoryResponse_Finalize_Failed_NoSOCache","id":4},{"name":"k_ItemPurgatoryResponse_Finalize_BackpackFull","id":5}]},{"name":"EItemPurgatoryResponse_Refund","values":[{"name":"k_ItemPurgatoryResponse_Refund_Succeeded","id":0},{"name":"k_ItemPurgatoryResponse_Refund_Failed_ItemNotInPurgatory","id":1},{"name":"k_ItemPurgatoryResponse_Refund_Failed_CouldNotFindItem","id":2},{"name":"k_ItemPurgatoryResponse_Refund_Failed_NoSOCache","id":3},{"name":"k_ItemPurgatoryResponse_Refund_Failed_NoDetail","id":4},{"name":"k_ItemPurgatoryResponse_Refund_Failed_NexonWebAPI","id":5}]},{"name":"EGCPartnerRequestResponse","values":[{"name":"k_EPartnerRequestOK","id":1},{"name":"k_EPartnerRequestBadAccount","id":2},{"name":"k_EPartnerRequestNotLinked","id":3},{"name":"k_EPartnerRequestUnsupportedPartnerType","id":4}]},{"name":"EGCMsgInitiateTradeResponse","values":[{"name":"k_EGCMsgInitiateTradeResponse_Accepted","id":0},{"name":"k_EGCMsgInitiateTradeResponse_Declined","id":1},{"name":"k_EGCMsgInitiateTradeResponse_VAC_Banned_Initiator","id":2},{"name":"k_EGCMsgInitiateTradeResponse_VAC_Banned_Target","id":3},{"name":"k_EGCMsgInitiateTradeResponse_Target_Already_Trading","id":4},{"name":"k_EGCMsgInitiateTradeResponse_Disabled","id":5},{"name":"k_EGCMsgInitiateTradeResponse_NotLoggedIn","id":6},{"name":"k_EGCMsgInitiateTradeResponse_Cancel","id":7},{"name":"k_EGCMsgInitiateTradeResponse_TooSoon","id":8},{"name":"k_EGCMsgInitiateTradeResponse_TooSoonPenalty","id":9},{"name":"k_EGCMsgInitiateTradeResponse_Trade_Banned_Initiator","id":10},{"name":"k_EGCMsgInitiateTradeResponse_Trade_Banned_Target","id":11},{"name":"k_EGCMsgInitiateTradeResponse_Free_Account_Initiator_DEPRECATED","id":12},{"name":"k_EGCMsgInitiateTradeResponse_Shared_Account_Initiator","id":13},{"name":"k_EGCMsgInitiateTradeResponse_Service_Unavailable","id":14},{"name":"k_EGCMsgInitiateTradeResponse_Target_Blocked","id":15},{"name":"k_EGCMsgInitiateTradeResponse_NeedVerifiedEmail","id":16},{"name":"k_EGCMsgInitiateTradeResponse_NeedSteamGuard","id":17},{"name":"k_EGCMsgInitiateTradeResponse_SteamGuardDuration","id":18},{"name":"k_EGCMsgInitiateTradeResponse_TheyCannotTrade","id":19},{"name":"k_EGCMsgInitiateTradeResponse_Recent_Password_Reset","id":20},{"name":"k_EGCMsgInitiateTradeResponse_Using_New_Device","id":21},{"name":"k_EGCMsgInitiateTradeResponse_Sent_Invalid_Cookie","id":22}]},{"name":"EPoorNetworkConditionsType","values":[{"name":"k_EPoorNetworkConditions_None","id":0},{"name":"k_EPoorNetworkConditions_Unknown","id":1},{"name":"k_EPoorNetworkConditions_MassDisconnect","id":2},{"name":"k_EPoorNetworkConditions_ExcessBadQosIntervals","id":3}]},{"name":"EAbilityAbuseType","values":[{"name":"k_EAbilityAbuseType_None","id":0},{"name":"k_EAbilityAbuseType_Io_Relocate","id":1},{"name":"k_EAbilityAbuseType_Chen_Test_Of_Faith","id":2},{"name":"k_EAbilityAbuseType_Bane_Nightmare","id":3},{"name":"k_EAbilityAbuseType_Bloodseeker_Bloodrage","id":4},{"name":"k_EAbilityAbuseType_Outworld_Astral_Imprisonment","id":5},{"name":"k_EAbilityAbuseType_Shadow_Demon_Disruption","id":6}]},{"name":"EIntentionalFeedingType","values":[{"name":"k_EIntentionalFeedingType_None","id":0},{"name":"k_EIntentionalFeedingType_ExcessiveDeaths","id":1},{"name":"k_EIntentionalFeedingType_MultipleCourierPurchases","id":2},{"name":"k_EIntentionalFeedingType_MultipleCourierDeaths","id":4},{"name":"k_EIntentionalFeedingType_LowActivity","id":8},{"name":"k_EIntentionalFeedingType_LowDamage","id":16},{"name":"k_EIntentionalFeedingType_HighUnspentGold","id":32},{"name":"k_EIntentionalFeedingType_SoldTooMuchItemValue","id":64},{"name":"k_EIntentionalFeedingType_TooManyDroppedItems","id":128},{"name":"k_EIntentionalFeedingType_ExcessiveTowerDamage","id":256}]},{"name":"ESuspiciousActivity","values":[{"name":"k_ESuspiciousActivity_VAC_MultipleInstances","id":1},{"name":"k_ESuspiciousActivity_IntentionalFeeding","id":100},{"name":"k_ESuspiciousActivity_SuspectedBotFarming","id":101}]},{"name":"ESuspiciousBuildType","values":[{"name":"k_ESuspiciousBuildType_None","id":0},{"name":"k_ESuspiciousBuildType_NoGoldSpent","id":1},{"name":"k_ESuspiciousBuildType_NoItems","id":2},{"name":"k_ESuspiciousBuildType_NoSignificantItems","id":3},{"name":"k_ESuspiciousBuildType_TooManyBoots","id":4},{"name":"k_ESuspiciousBuildType_Bot1","id":101},{"name":"k_ESuspiciousBuildType_Bot2","id":102},{"name":"k_ESuspiciousBuildType_Bot3","id":103},{"name":"k_ESuspiciousBuildType_Bot4","id":104},{"name":"k_ESuspiciousBuildType_Bot5","id":105}]},{"name":"DOTA_MODIFIER_ENTRY_TYPE","values":[{"name":"DOTA_MODIFIER_ENTRY_TYPE_ACTIVE","id":1},{"name":"DOTA_MODIFIER_ENTRY_TYPE_REMOVED","id":2}]},{"name":"EDotaUserMessages","values":[{"name":"DOTA_UM_AddUnitToSelection","id":464},{"name":"DOTA_UM_AIDebugLine","id":465},{"name":"DOTA_UM_ChatEvent","id":466},{"name":"DOTA_UM_CombatHeroPositions","id":467},{"name":"DOTA_UM_CombatLogData","id":468},{"name":"DOTA_UM_CombatLogShowDeath","id":470},{"name":"DOTA_UM_CreateLinearProjectile","id":471},{"name":"DOTA_UM_DestroyLinearProjectile","id":472},{"name":"DOTA_UM_DodgeTrackingProjectiles","id":473},{"name":"DOTA_UM_GlobalLightColor","id":474},{"name":"DOTA_UM_GlobalLightDirection","id":475},{"name":"DOTA_UM_InvalidCommand","id":476},{"name":"DOTA_UM_LocationPing","id":477},{"name":"DOTA_UM_MapLine","id":478},{"name":"DOTA_UM_MiniKillCamInfo","id":479},{"name":"DOTA_UM_MinimapDebugPoint","id":480},{"name":"DOTA_UM_MinimapEvent","id":481},{"name":"DOTA_UM_NevermoreRequiem","id":482},{"name":"DOTA_UM_OverheadEvent","id":483},{"name":"DOTA_UM_SetNextAutobuyItem","id":484},{"name":"DOTA_UM_SharedCooldown","id":485},{"name":"DOTA_UM_SpectatorPlayerClick","id":486},{"name":"DOTA_UM_TutorialTipInfo","id":487},{"name":"DOTA_UM_UnitEvent","id":488},{"name":"DOTA_UM_ParticleManager","id":489},{"name":"DOTA_UM_BotChat","id":490},{"name":"DOTA_UM_HudError","id":491},{"name":"DOTA_UM_ItemPurchased","id":492},{"name":"DOTA_UM_Ping","id":493},{"name":"DOTA_UM_ItemFound","id":494},{"name":"DOTA_UM_CharacterSpeakConcept","id":495},{"name":"DOTA_UM_SwapVerify","id":496},{"name":"DOTA_UM_WorldLine","id":497},{"name":"DOTA_UM_TournamentDrop","id":498},{"name":"DOTA_UM_ItemAlert","id":499},{"name":"DOTA_UM_HalloweenDrops","id":500},{"name":"DOTA_UM_ChatWheel","id":501},{"name":"DOTA_UM_ReceivedXmasGift","id":502},{"name":"DOTA_UM_UpdateSharedContent","id":503},{"name":"DOTA_UM_TutorialRequestExp","id":504},{"name":"DOTA_UM_TutorialPingMinimap","id":505},{"name":"DOTA_UM_GamerulesStateChanged","id":506},{"name":"DOTA_UM_ShowSurvey","id":507},{"name":"DOTA_UM_TutorialFade","id":508},{"name":"DOTA_UM_AddQuestLogEntry","id":509},{"name":"DOTA_UM_SendStatPopup","id":510},{"name":"DOTA_UM_TutorialFinish","id":511},{"name":"DOTA_UM_SendRoshanPopup","id":512},{"name":"DOTA_UM_SendGenericToolTip","id":513},{"name":"DOTA_UM_SendFinalGold","id":514},{"name":"DOTA_UM_CustomMsg","id":515},{"name":"DOTA_UM_CoachHUDPing","id":516},{"name":"DOTA_UM_ClientLoadGridNav","id":517},{"name":"DOTA_UM_TE_Projectile","id":518},{"name":"DOTA_UM_TE_ProjectileLoc","id":519},{"name":"DOTA_UM_TE_DotaBloodImpact","id":520},{"name":"DOTA_UM_TE_UnitAnimation","id":521},{"name":"DOTA_UM_TE_UnitAnimationEnd","id":522},{"name":"DOTA_UM_AbilityPing","id":523},{"name":"DOTA_UM_ShowGenericPopup","id":524},{"name":"DOTA_UM_VoteStart","id":525},{"name":"DOTA_UM_VoteUpdate","id":526},{"name":"DOTA_UM_VoteEnd","id":527},{"name":"DOTA_UM_BoosterState","id":528},{"name":"DOTA_UM_WillPurchaseAlert","id":529},{"name":"DOTA_UM_TutorialMinimapPosition","id":530},{"name":"DOTA_UM_PlayerMMR","id":531},{"name":"DOTA_UM_AbilitySteal","id":532},{"name":"DOTA_UM_CourierKilledAlert","id":533},{"name":"DOTA_UM_EnemyItemAlert","id":534},{"name":"DOTA_UM_StatsMatchDetails","id":535},{"name":"DOTA_UM_MiniTaunt","id":536},{"name":"DOTA_UM_BuyBackStateAlert","id":537},{"name":"DOTA_UM_SpeechBubble","id":538},{"name":"DOTA_UM_CustomHeaderMessage","id":539},{"name":"DOTA_UM_QuickBuyAlert","id":540},{"name":"DOTA_UM_StatsHeroDetails","id":541},{"name":"DOTA_UM_PredictionResult","id":542},{"name":"DOTA_UM_ModifierAlert","id":543},{"name":"DOTA_UM_HPManaAlert","id":544},{"name":"DOTA_UM_GlyphAlert","id":545},{"name":"DOTA_UM_BeastChat","id":546},{"name":"DOTA_UM_SpectatorPlayerUnitOrders","id":547},{"name":"DOTA_UM_CustomHudElement_Create","id":548},{"name":"DOTA_UM_CustomHudElement_Modify","id":549},{"name":"DOTA_UM_CustomHudElement_Destroy","id":550},{"name":"DOTA_UM_CompendiumState","id":551},{"name":"DOTA_UM_ProjectionAbility","id":552}]},{"name":"DOTA_CHAT_MESSAGE","values":[{"name":"CHAT_MESSAGE_INVALID","id":-1},{"name":"CHAT_MESSAGE_HERO_KILL","id":0},{"name":"CHAT_MESSAGE_HERO_DENY","id":1},{"name":"CHAT_MESSAGE_BARRACKS_KILL","id":2},{"name":"CHAT_MESSAGE_TOWER_KILL","id":3},{"name":"CHAT_MESSAGE_TOWER_DENY","id":4},{"name":"CHAT_MESSAGE_FIRSTBLOOD","id":5},{"name":"CHAT_MESSAGE_STREAK_KILL","id":6},{"name":"CHAT_MESSAGE_BUYBACK","id":7},{"name":"CHAT_MESSAGE_AEGIS","id":8},{"name":"CHAT_MESSAGE_ROSHAN_KILL","id":9},{"name":"CHAT_MESSAGE_COURIER_LOST","id":10},{"name":"CHAT_MESSAGE_COURIER_RESPAWNED","id":11},{"name":"CHAT_MESSAGE_GLYPH_USED","id":12},{"name":"CHAT_MESSAGE_ITEM_PURCHASE","id":13},{"name":"CHAT_MESSAGE_CONNECT","id":14},{"name":"CHAT_MESSAGE_DISCONNECT","id":15},{"name":"CHAT_MESSAGE_DISCONNECT_WAIT_FOR_RECONNECT","id":16},{"name":"CHAT_MESSAGE_DISCONNECT_TIME_REMAINING","id":17},{"name":"CHAT_MESSAGE_DISCONNECT_TIME_REMAINING_PLURAL","id":18},{"name":"CHAT_MESSAGE_RECONNECT","id":19},{"name":"CHAT_MESSAGE_PLAYER_LEFT","id":20},{"name":"CHAT_MESSAGE_SAFE_TO_LEAVE","id":21},{"name":"CHAT_MESSAGE_RUNE_PICKUP","id":22},{"name":"CHAT_MESSAGE_RUNE_BOTTLE","id":23},{"name":"CHAT_MESSAGE_INTHEBAG","id":24},{"name":"CHAT_MESSAGE_SECRETSHOP","id":25},{"name":"CHAT_MESSAGE_ITEM_AUTOPURCHASED","id":26},{"name":"CHAT_MESSAGE_ITEMS_COMBINED","id":27},{"name":"CHAT_MESSAGE_SUPER_CREEPS","id":28},{"name":"CHAT_MESSAGE_CANT_USE_ACTION_ITEM","id":29},{"name":"CHAT_MESSAGE_CHARGES_EXHAUSTED","id":30},{"name":"CHAT_MESSAGE_CANTPAUSE","id":31},{"name":"CHAT_MESSAGE_NOPAUSESLEFT","id":32},{"name":"CHAT_MESSAGE_CANTPAUSEYET","id":33},{"name":"CHAT_MESSAGE_PAUSED","id":34},{"name":"CHAT_MESSAGE_UNPAUSE_COUNTDOWN","id":35},{"name":"CHAT_MESSAGE_UNPAUSED","id":36},{"name":"CHAT_MESSAGE_AUTO_UNPAUSED","id":37},{"name":"CHAT_MESSAGE_YOUPAUSED","id":38},{"name":"CHAT_MESSAGE_CANTUNPAUSETEAM","id":39},{"name":"CHAT_MESSAGE_VOICE_TEXT_BANNED","id":41},{"name":"CHAT_MESSAGE_SPECTATORS_WATCHING_THIS_GAME","id":42},{"name":"CHAT_MESSAGE_REPORT_REMINDER","id":43},{"name":"CHAT_MESSAGE_ECON_ITEM","id":44},{"name":"CHAT_MESSAGE_TAUNT","id":45},{"name":"CHAT_MESSAGE_RANDOM","id":46},{"name":"CHAT_MESSAGE_RD_TURN","id":47},{"name":"CHAT_MESSAGE_DROP_RATE_BONUS","id":49},{"name":"CHAT_MESSAGE_NO_BATTLE_POINTS","id":50},{"name":"CHAT_MESSAGE_DENIED_AEGIS","id":51},{"name":"CHAT_MESSAGE_INFORMATIONAL","id":52},{"name":"CHAT_MESSAGE_AEGIS_STOLEN","id":53},{"name":"CHAT_MESSAGE_ROSHAN_CANDY","id":54},{"name":"CHAT_MESSAGE_ITEM_GIFTED","id":55},{"name":"CHAT_MESSAGE_HERO_KILL_WITH_GREEVIL","id":56},{"name":"CHAT_MESSAGE_HOLDOUT_TOWER_DESTROYED","id":57},{"name":"CHAT_MESSAGE_HOLDOUT_WALL_DESTROYED","id":58},{"name":"CHAT_MESSAGE_HOLDOUT_WALL_FINISHED","id":59},{"name":"CHAT_MESSAGE_PLAYER_LEFT_LIMITED_HERO","id":62},{"name":"CHAT_MESSAGE_ABANDON_LIMITED_HERO_EXPLANATION","id":63},{"name":"CHAT_MESSAGE_DISCONNECT_LIMITED_HERO","id":64},{"name":"CHAT_MESSAGE_LOW_PRIORITY_COMPLETED_EXPLANATION","id":65},{"name":"CHAT_MESSAGE_RECRUITMENT_DROP_RATE_BONUS","id":66},{"name":"CHAT_MESSAGE_FROSTIVUS_SHINING_BOOSTER_ACTIVE","id":67},{"name":"CHAT_MESSAGE_PLAYER_LEFT_AFK","id":73},{"name":"CHAT_MESSAGE_PLAYER_LEFT_DISCONNECTED_TOO_LONG","id":74},{"name":"CHAT_MESSAGE_PLAYER_ABANDONED","id":75},{"name":"CHAT_MESSAGE_PLAYER_ABANDONED_AFK","id":76},{"name":"CHAT_MESSAGE_PLAYER_ABANDONED_DISCONNECTED_TOO_LONG","id":77},{"name":"CHAT_MESSAGE_WILL_NOT_BE_SCORED","id":78},{"name":"CHAT_MESSAGE_WILL_NOT_BE_SCORED_RANKED","id":79},{"name":"CHAT_MESSAGE_WILL_NOT_BE_SCORED_NETWORK","id":80},{"name":"CHAT_MESSAGE_WILL_NOT_BE_SCORED_NETWORK_RANKED","id":81},{"name":"CHAT_MESSAGE_CAN_QUIT_WITHOUT_ABANDON","id":82},{"name":"CHAT_MESSAGE_RANKED_GAME_STILL_SCORED_LEAVERS_GET_LOSS","id":83},{"name":"CHAT_MESSAGE_ABANDON_RANKED_BEFORE_FIRST_BLOOD_PARTY","id":84},{"name":"CHAT_MESSAGE_COMPENDIUM_LEVEL","id":85},{"name":"CHAT_MESSAGE_VICTORY_PREDICTION_STREAK","id":86},{"name":"CHAT_MESSAGE_ASSASSIN_ANNOUNCE","id":87},{"name":"CHAT_MESSAGE_ASSASSIN_SUCCESS","id":88},{"name":"CHAT_MESSAGE_ASSASSIN_DENIED","id":89},{"name":"CHAT_MESSAGE_VICTORY_PREDICTION_SINGLE_USER_CONFIRM","id":90},{"name":"CHAT_MESSAGE_EFFIGY_KILL","id":91},{"name":"CHAT_MESSAGE_VOICE_TEXT_BANNED_OVERFLOW","id":92},{"name":"CHAT_MESSAGE_YEAR_BEAST_KILLED","id":93},{"name":"CHAT_MESSAGE_PAUSE_COUNTDOWN","id":94}]},{"name":"DOTA_NO_BATTLE_POINTS_REASONS","values":[{"name":"NO_BATTLE_POINTS_WRONG_LOBBY_TYPE","id":1},{"name":"NO_BATTLE_POINTS_PRACTICE_BOTS","id":2},{"name":"NO_BATTLE_POINTS_CHEATS_ENABLED","id":3},{"name":"NO_BATTLE_POINTS_LOW_PRIORITY","id":4}]},{"name":"DOTA_CHAT_INFORMATIONAL","values":[{"name":"INFO_COOP_BATTLE_POINTS_RULES","id":1},{"name":"INFO_FROSTIVUS_ABANDON_REMINDER","id":2},{"name":"INFO_RANKED_REMINDER","id":3},{"name":"INFO_COOP_LOW_PRIORITY_PASSIVE_REMINDER","id":4}]},{"name":"DOTA_ABILITY_PING_TYPE","values":[{"name":"ABILITY_PING_READY","id":1},{"name":"ABILITY_PING_MANA","id":2},{"name":"ABILITY_PING_COOLDOWN","id":3},{"name":"ABILITY_PING_ENEMY","id":4},{"name":"ABILITY_PING_UNLEARNED","id":5}]},{"name":"EDotaEntityMessages","values":[{"name":"DOTA_UNIT_SPEECH","id":0},{"name":"DOTA_UNIT_SPEECH_MUTE","id":1},{"name":"DOTA_UNIT_ADD_GESTURE","id":2},{"name":"DOTA_UNIT_REMOVE_GESTURE","id":3},{"name":"DOTA_UNIT_REMOVE_ALL_GESTURES","id":4},{"name":"DOTA_UNIT_FADE_GESTURE","id":6},{"name":"DOTA_UNIT_SPEECH_CLIENTSIDE_RULES","id":7}]},{"name":"DOTA_PARTICLE_MESSAGE","values":[{"name":"DOTA_PARTICLE_MANAGER_EVENT_CREATE","id":0},{"name":"DOTA_PARTICLE_MANAGER_EVENT_UPDATE","id":1},{"name":"DOTA_PARTICLE_MANAGER_EVENT_UPDATE_FORWARD","id":2},{"name":"DOTA_PARTICLE_MANAGER_EVENT_UPDATE_ORIENTATION","id":3},{"name":"DOTA_PARTICLE_MANAGER_EVENT_UPDATE_FALLBACK","id":4},{"name":"DOTA_PARTICLE_MANAGER_EVENT_UPDATE_ENT","id":5},{"name":"DOTA_PARTICLE_MANAGER_EVENT_UPDATE_OFFSET","id":6},{"name":"DOTA_PARTICLE_MANAGER_EVENT_DESTROY","id":7},{"name":"DOTA_PARTICLE_MANAGER_EVENT_DESTROY_INVOLVING","id":8},{"name":"DOTA_PARTICLE_MANAGER_EVENT_RELEASE","id":9},{"name":"DOTA_PARTICLE_MANAGER_EVENT_LATENCY","id":10},{"name":"DOTA_PARTICLE_MANAGER_EVENT_SHOULD_DRAW","id":11},{"name":"DOTA_PARTICLE_MANAGER_EVENT_FROZEN","id":12},{"name":"DOTA_PARTICLE_MANAGER_EVENT_CHANGE_CONTROL_POINT_ATTACHMENT","id":13}]},{"name":"DOTA_OVERHEAD_ALERT","values":[{"name":"OVERHEAD_ALERT_GOLD","id":0},{"name":"OVERHEAD_ALERT_DENY","id":1},{"name":"OVERHEAD_ALERT_CRITICAL","id":2},{"name":"OVERHEAD_ALERT_XP","id":3},{"name":"OVERHEAD_ALERT_BONUS_SPELL_DAMAGE","id":4},{"name":"OVERHEAD_ALERT_MISS","id":5},{"name":"OVERHEAD_ALERT_DAMAGE","id":6},{"name":"OVERHEAD_ALERT_EVADE","id":7},{"name":"OVERHEAD_ALERT_BLOCK","id":8},{"name":"OVERHEAD_ALERT_BONUS_POISON_DAMAGE","id":9},{"name":"OVERHEAD_ALERT_HEAL","id":10},{"name":"OVERHEAD_ALERT_MANA_ADD","id":11},{"name":"OVERHEAD_ALERT_MANA_LOSS","id":12},{"name":"OVERHEAD_ALERT_LAST_HIT_EARLY","id":13},{"name":"OVERHEAD_ALERT_LAST_HIT_CLOSE","id":14},{"name":"OVERHEAD_ALERT_LAST_HIT_MISS","id":15}]},{"name":"DOTA_POSITION_CATEGORY","values":[{"name":"DOTA_POSITION_NONE","id":0},{"name":"DOTA_POSITION_BOTTOM_LANE","id":1},{"name":"DOTA_POSITION_MID_LANE","id":2},{"name":"DOTA_POSITION_TOP_LANE","id":3},{"name":"DOTA_POSITION_RADIANT_JUNGLE","id":4},{"name":"DOTA_POSITION_DIRE_JUNGLE","id":5},{"name":"DOTA_POSITION_RADIANT_ANCIENTS","id":6},{"name":"DOTA_POSITION_DIRE_ANCIENTS","id":7},{"name":"DOTA_POSITION_RADIANT_SECRET_SHOP","id":8},{"name":"DOTA_POSITION_DIRE_SECRET_SHOP","id":9},{"name":"DOTA_POSITION_RIVER","id":10},{"name":"DOTA_POSITION_ROSHAN_PIT","id":11},{"name":"DOTA_POSITION_RADIANT_BASE","id":12},{"name":"DOTA_POSITION_DIRE_BASE","id":13},{"name":"DOTA_POSITION_FOUNTAIN","id":14},{"name":"DOTA_POSITION_OTHER","id":15}]},{"name":"DOTA_ABILITY_TARGET_TYPE","values":[{"name":"DOTA_ABILITY_TARGET_NONE","id":0},{"name":"DOTA_ABILITY_TARGET_SELF","id":1},{"name":"DOTA_ABILITY_TARGET_ALLY_HERO","id":2},{"name":"DOTA_ABILITY_TARGET_ALLY_CREEP","id":3},{"name":"DOTA_ABILITY_TARGET_ENEMY_HERO","id":4},{"name":"DOTA_ABILITY_TARGET_ENEMY_CREEP","id":5}]},{"name":"EHeroStatType","values":[{"name":"k_EHeroStatType_None","id":0},{"name":"k_EHeroStatType_AxeTotalDamage","id":2000},{"name":"k_EHeroStatType_BattleHungerDamage","id":2001},{"name":"k_EHeroStatType_CounterHelixDamage","id":2002},{"name":"k_EHeroStatType_CullingBladeDamage","id":2003},{"name":"k_EHeroStatType_BerserkersCallCastCount","id":2004},{"name":"k_EHeroStatType_BerserkersCallHeroesHitAverage","id":2005},{"name":"k_EHeroStatType_BerserkersCallOtherUnitsHit","id":2006},{"name":"k_EHeroStatType_BerserkersCallHeroAttacksTaken","id":2007},{"name":"k_EHeroStatType_BerserkersCallOtherAttacksTaken","id":2008},{"name":"k_EHeroStatType_BattleHungerCastCount","id":2009},{"name":"k_EHeroStatType_BattleHungerPotentialDuration","id":2010},{"name":"k_EHeroStatType_BattleHungerAverageDuration","id":2011},{"name":"k_EHeroStatType_CounterHelixProcCount","id":2012},{"name":"k_EHeroStatType_CounterHelixHeroProcCount","id":2013},{"name":"k_EHeroStatType_CounterHelixHeroesHitAverage","id":2014},{"name":"k_EHeroStatType_CounterHelixOtherUnitsHitCount","id":2015},{"name":"k_EHeroStatType_CullingBladeCastCount","id":2016},{"name":"k_EHeroStatType_CullingBladeKillCount","id":2017},{"name":"k_EHeroStatType_CullingBladeAverageHealthCulled","id":2018},{"name":"k_EHeroStatType_CullingBladeAverageDamageAvailable","id":2019},{"name":"k_EHeroStatType_CullingBladeHeroBuffAverage","id":2020}]},{"name":"EPlayerVoiceListenState","values":[{"name":"kPVLS_None","id":0},{"name":"kPVLS_DeniedChatBanned","id":1},{"name":"kPVLS_DeniedPartner","id":2},{"name":"kPVLS_DeniedHLTVTalkerNotSpectator","id":3},{"name":"kPVLS_DeniedHLTVNoTalkerPlayerID","id":4},{"name":"kPVLS_DeniedHLTVTalkerNotBroadcaster","id":5},{"name":"kPVLS_DeniedTeamSpectator","id":6},{"name":"kPVLS_DeniedStudent","id":8},{"name":"kPVLS_Denied","id":64},{"name":"kPVLS_AllowHLTVTalkerIsBroadcaster","id":65},{"name":"kPVLS_AllowCoBroadcaster","id":66},{"name":"kPVLS_AllowAllChat","id":67},{"name":"kPVLS_AllowStudentToCoach","id":68},{"name":"kPVLS_AllowFellowStudent","id":69},{"name":"kPVLS_AllowTalkerIsCoach","id":70},{"name":"kPVLS_AllowCoachHearTeam","id":71},{"name":"kPVLS_AllowSameTeam","id":72},{"name":"kPVLS_AllowShowcase","id":73}]},{"name":"EBaseGameEvents","values":[{"name":"GE_VDebugGameSessionIDEvent","id":200},{"name":"GE_PlaceDecalEvent","id":201},{"name":"GE_ClearWorldDecalsEvent","id":202},{"name":"GE_ClearEntityDecalsEvent","id":203},{"name":"GE_ClearDecalsForSkeletonInstanceEvent","id":204},{"name":"GE_Source1LegacyGameEventList","id":205},{"name":"GE_Source1LegacyListenEvents","id":206},{"name":"GE_Source1LegacyGameEvent","id":207},{"name":"GE_SosStartSoundEvent","id":208},{"name":"GE_SosStopSoundEvent","id":209},{"name":"GE_SosSetSoundEventParams","id":210},{"name":"GE_SosSetLibraryStackFields","id":211},{"name":"GE_SosStopSoundEventHash","id":212}]},{"name":"EGCSystemMsg","values":[{"name":"k_EGCMsgInvalid","id":0},{"name":"k_EGCMsgMulti","id":1},{"name":"k_EGCMsgGenericReply","id":10},{"name":"k_EGCMsgSystemBase","id":50},{"name":"k_EGCMsgAchievementAwarded","id":51},{"name":"k_EGCMsgConCommand","id":52},{"name":"k_EGCMsgStartPlaying","id":53},{"name":"k_EGCMsgStopPlaying","id":54},{"name":"k_EGCMsgStartGameserver","id":55},{"name":"k_EGCMsgStopGameserver","id":56},{"name":"k_EGCMsgWGRequest","id":57},{"name":"k_EGCMsgWGResponse","id":58},{"name":"k_EGCMsgGetUserGameStatsSchema","id":59},{"name":"k_EGCMsgGetUserGameStatsSchemaResponse","id":60},{"name":"k_EGCMsgGetUserStatsDEPRECATED","id":61},{"name":"k_EGCMsgGetUserStatsResponse","id":62},{"name":"k_EGCMsgAppInfoUpdated","id":63},{"name":"k_EGCMsgValidateSession","id":64},{"name":"k_EGCMsgValidateSessionResponse","id":65},{"name":"k_EGCMsgLookupAccountFromInput","id":66},{"name":"k_EGCMsgSendHTTPRequest","id":67},{"name":"k_EGCMsgSendHTTPRequestResponse","id":68},{"name":"k_EGCMsgPreTestSetup","id":69},{"name":"k_EGCMsgRecordSupportAction","id":70},{"name":"k_EGCMsgGetAccountDetails_DEPRECATED","id":71},{"name":"k_EGCMsgReceiveInterAppMessage","id":73},{"name":"k_EGCMsgFindAccounts","id":74},{"name":"k_EGCMsgPostAlert","id":75},{"name":"k_EGCMsgGetLicenses","id":76},{"name":"k_EGCMsgGetUserStats","id":77},{"name":"k_EGCMsgGetCommands","id":78},{"name":"k_EGCMsgGetCommandsResponse","id":79},{"name":"k_EGCMsgAddFreeLicense","id":80},{"name":"k_EGCMsgAddFreeLicenseResponse","id":81},{"name":"k_EGCMsgGetIPLocation","id":82},{"name":"k_EGCMsgGetIPLocationResponse","id":83},{"name":"k_EGCMsgSystemStatsSchema","id":84},{"name":"k_EGCMsgGetSystemStats","id":85},{"name":"k_EGCMsgGetSystemStatsResponse","id":86},{"name":"k_EGCMsgSendEmail","id":87},{"name":"k_EGCMsgSendEmailResponse","id":88},{"name":"k_EGCMsgGetEmailTemplate","id":89},{"name":"k_EGCMsgGetEmailTemplateResponse","id":90},{"name":"k_EGCMsgGrantGuestPass","id":91},{"name":"k_EGCMsgGrantGuestPassResponse","id":92},{"name":"k_EGCMsgGetAccountDetails","id":93},{"name":"k_EGCMsgGetAccountDetailsResponse","id":94},{"name":"k_EGCMsgGetPersonaNames","id":95},{"name":"k_EGCMsgGetPersonaNamesResponse","id":96},{"name":"k_EGCMsgMultiplexMsg","id":97},{"name":"k_EGCMsgWebAPIRegisterInterfaces","id":101},{"name":"k_EGCMsgWebAPIJobRequest","id":102},{"name":"k_EGCMsgWebAPIJobRequestHttpResponse","id":104},{"name":"k_EGCMsgWebAPIJobRequestForwardResponse","id":105},{"name":"k_EGCMsgMemCachedGet","id":200},{"name":"k_EGCMsgMemCachedGetResponse","id":201},{"name":"k_EGCMsgMemCachedSet","id":202},{"name":"k_EGCMsgMemCachedDelete","id":203},{"name":"k_EGCMsgMemCachedStats","id":204},{"name":"k_EGCMsgMemCachedStatsResponse","id":205},{"name":"k_EGCMsgSQLStats","id":210},{"name":"k_EGCMsgSQLStatsResponse","id":211},{"name":"k_EGCMsgMasterSetDirectory","id":220},{"name":"k_EGCMsgMasterSetDirectoryResponse","id":221},{"name":"k_EGCMsgMasterSetWebAPIRouting","id":222},{"name":"k_EGCMsgMasterSetWebAPIRoutingResponse","id":223},{"name":"k_EGCMsgMasterSetClientMsgRouting","id":224},{"name":"k_EGCMsgMasterSetClientMsgRoutingResponse","id":225},{"name":"k_EGCMsgSetOptions","id":226},{"name":"k_EGCMsgSetOptionsResponse","id":227},{"name":"k_EGCMsgSystemBase2","id":500},{"name":"k_EGCMsgGetPurchaseTrustStatus","id":501},{"name":"k_EGCMsgGetPurchaseTrustStatusResponse","id":502},{"name":"k_EGCMsgUpdateSession","id":503},{"name":"k_EGCMsgGCAccountVacStatusChange","id":504},{"name":"k_EGCMsgCheckFriendship","id":505},{"name":"k_EGCMsgCheckFriendshipResponse","id":506},{"name":"k_EGCMsgGetPartnerAccountLink","id":507},{"name":"k_EGCMsgGetPartnerAccountLinkResponse","id":508},{"name":"k_EGCMsgVSReportedSuspiciousActivity","id":509},{"name":"k_EGCMsgDPPartnerMicroTxns","id":512},{"name":"k_EGCMsgDPPartnerMicroTxnsResponse","id":513},{"name":"k_EGCMsgGetIPASN","id":514},{"name":"k_EGCMsgGetIPASNResponse","id":515},{"name":"k_EGCMsgGetAppFriendsList","id":516},{"name":"k_EGCMsgGetAppFriendsListResponse","id":517}]},{"name":"ESOMsg","values":[{"name":"k_ESOMsg_Create","id":21},{"name":"k_ESOMsg_Update","id":22},{"name":"k_ESOMsg_Destroy","id":23},{"name":"k_ESOMsg_CacheSubscribed","id":24},{"name":"k_ESOMsg_CacheUnsubscribed","id":25},{"name":"k_ESOMsg_UpdateMultiple","id":26},{"name":"k_ESOMsg_CacheSubscriptionRefresh","id":28},{"name":"k_ESOMsg_CacheSubscribedUpToDate","id":29}]},{"name":"EGCBaseClientMsg","values":[{"name":"k_EMsgGCPingRequest","id":3001},{"name":"k_EMsgGCPingResponse","id":3002},{"name":"k_EMsgGCClientWelcome","id":4004},{"name":"k_EMsgGCServerWelcome","id":4005},{"name":"k_EMsgGCClientHello","id":4006},{"name":"k_EMsgGCServerHello","id":4007},{"name":"k_EMsgGCClientConnectionStatus","id":4009},{"name":"k_EMsgGCServerConnectionStatus","id":4010}]},{"name":"EGCToGCMsg","values":[{"name":"k_EGCToGCMsgMasterAck","id":150},{"name":"k_EGCToGCMsgMasterAckResponse","id":151},{"name":"k_EGCToGCMsgRouted","id":152},{"name":"k_EGCToGCMsgRoutedReply","id":153},{"name":"k_EMsgGCUpdateSubGCSessionInfo","id":154},{"name":"k_EMsgGCRequestSubGCSessionInfo","id":155},{"name":"k_EMsgGCRequestSubGCSessionInfoResponse","id":156},{"name":"k_EGCToGCMsgMasterStartupComplete","id":157},{"name":"k_EMsgGCToGCSOCacheSubscribe","id":158},{"name":"k_EMsgGCToGCSOCacheUnsubscribe","id":159},{"name":"k_EMsgGCToGCLoadSessionSOCache","id":160},{"name":"k_EMsgGCToGCLoadSessionSOCacheResponse","id":161},{"name":"k_EMsgGCToGCUpdateSessionStats","id":162}]},{"name":"ESteamDatagramMsgID","values":[{"name":"k_ESteamDatagramMsg_RouterPingRequest","id":1},{"name":"k_ESteamDatagramMsg_RouterPingReply","id":2},{"name":"k_ESteamDatagramMsg_GameserverPingRequest","id":3},{"name":"k_ESteamDatagramMsg_GameserverPingReply","id":4},{"name":"k_ESteamDatagramMsg_GameserverSessionRequest","id":5},{"name":"k_ESteamDatagramMsg_GameserverSessionEstablished","id":6},{"name":"k_ESteamDatagramMsg_NoSession","id":7},{"name":"k_ESteamDatagramMsg_Diagnostic","id":8},{"name":"k_ESteamDatagramMsg_DataClientToRouter","id":9},{"name":"k_ESteamDatagramMsg_DataRouterToServer","id":10},{"name":"k_ESteamDatagramMsg_DataServerToRouter","id":11},{"name":"k_ESteamDatagramMsg_DataRouterToClient","id":12},{"name":"k_ESteamDatagramMsg_Stats","id":13},{"name":"k_ESteamDatagramMsg_ClientPingSampleRequest","id":14},{"name":"k_ESteamDatagramMsg_ClientPingSampleReply","id":15},{"name":"k_ESteamDatagramMsg_ClientToRouterSwitchedPrimary","id":16}]},{"name":"EProtoExecutionSite","values":[{"name":"k_EProtoExecutionSiteUnknown","id":0},{"name":"k_EProtoExecutionSiteSteamClient","id":3}]},{"name":"ETEProtobufIds","values":[{"name":"TE_EffectDispatchId","id":400},{"name":"TE_ArmorRicochetId","id":401},{"name":"TE_BeamEntPointId","id":402},{"name":"TE_BeamEntsId","id":403},{"name":"TE_BeamPointsId","id":404},{"name":"TE_BeamRingId","id":405},{"name":"TE_BreakModelId","id":406},{"name":"TE_BSPDecalId","id":407},{"name":"TE_BubblesId","id":408},{"name":"TE_BubbleTrailId","id":409},{"name":"TE_DecalId","id":410},{"name":"TE_WorldDecalId","id":411},{"name":"TE_EnergySplashId","id":412},{"name":"TE_FizzId","id":413},{"name":"TE_ShatterSurfaceId","id":414},{"name":"TE_GlowSpriteId","id":415},{"name":"TE_ImpactId","id":416},{"name":"TE_MuzzleFlashId","id":417},{"name":"TE_BloodStreamId","id":418},{"name":"TE_ExplosionId","id":419},{"name":"TE_DustId","id":420},{"name":"TE_LargeFunnelId","id":421},{"name":"TE_SparksId","id":422},{"name":"TE_PhysicsPropId","id":423},{"name":"TE_PlayerDecalId","id":424},{"name":"TE_ProjectedDecalId","id":425},{"name":"TE_SmokeId","id":426}]},{"name":"EBaseUserMessages","values":[{"name":"UM_AchievementEvent","id":101},{"name":"UM_CloseCaption","id":102},{"name":"UM_CloseCaptionDirect","id":103},{"name":"UM_CurrentTimescale","id":104},{"name":"UM_DesiredTimescale","id":105},{"name":"UM_Fade","id":106},{"name":"UM_GameTitle","id":107},{"name":"UM_HintText","id":109},{"name":"UM_HudMsg","id":110},{"name":"UM_HudText","id":111},{"name":"UM_KeyHintText","id":112},{"name":"UM_ColoredText","id":113},{"name":"UM_RequestState","id":114},{"name":"UM_ResetHUD","id":115},{"name":"UM_Rumble","id":116},{"name":"UM_SayText","id":117},{"name":"UM_SayText2","id":118},{"name":"UM_SayTextChannel","id":119},{"name":"UM_Shake","id":120},{"name":"UM_ShakeDir","id":121},{"name":"UM_TextMsg","id":124},{"name":"UM_ScreenTilt","id":125},{"name":"UM_Train","id":126},{"name":"UM_VGUIMenu","id":127},{"name":"UM_VoiceMask","id":128},{"name":"UM_VoiceSubtitle","id":129},{"name":"UM_SendAudio","id":130},{"name":"UM_ItemPickup","id":131},{"name":"UM_AmmoDenied","id":132},{"name":"UM_CrosshairAngle","id":133},{"name":"UM_ShowMenu","id":134},{"name":"UM_CreditsMsg","id":135},{"name":"UM_CloseCaptionPlaceholder","id":142},{"name":"UM_CameraTransition","id":143},{"name":"UM_AudioParameter","id":144},{"name":"UM_ParticleManager","id":145},{"name":"UM_HudError","id":146},{"name":"UM_CustomGameEvent_ClientToServer","id":147},{"name":"UM_CustomGameEvent_ServerToClient","id":148},{"name":"UM_TrackedControllerInput_ClientToServer","id":149},{"name":"UM_MAX_BASE","id":200}]},{"name":"EBaseEntityMessages","values":[{"name":"EM_PlayJingle","id":136},{"name":"EM_ScreenOverlay","id":137},{"name":"EM_RemoveAllDecals","id":138},{"name":"EM_PropagateForce","id":139},{"name":"EM_DoSpark","id":140},{"name":"EM_FixAngle","id":141}]},{"name":"eRollType","values":[{"name":"ROLL_NONE","id":-1},{"name":"ROLL_STATS","id":0},{"name":"ROLL_CREDITS","id":1},{"name":"ROLL_LATE_JOIN_LOGO","id":2},{"name":"ROLL_OUTTRO","id":3}]},{"name":"PARTICLE_MESSAGE","values":[{"name":"GAME_PARTICLE_MANAGER_EVENT_CREATE","id":0},{"name":"GAME_PARTICLE_MANAGER_EVENT_UPDATE","id":1},{"name":"GAME_PARTICLE_MANAGER_EVENT_UPDATE_FORWARD","id":2},{"name":"GAME_PARTICLE_MANAGER_EVENT_UPDATE_ORIENTATION","id":3},{"name":"GAME_PARTICLE_MANAGER_EVENT_UPDATE_FALLBACK","id":4},{"name":"GAME_PARTICLE_MANAGER_EVENT_UPDATE_ENT","id":5},{"name":"GAME_PARTICLE_MANAGER_EVENT_UPDATE_OFFSET","id":6},{"name":"GAME_PARTICLE_MANAGER_EVENT_DESTROY","id":7},{"name":"GAME_PARTICLE_MANAGER_EVENT_DESTROY_INVOLVING","id":8},{"name":"GAME_PARTICLE_MANAGER_EVENT_RELEASE","id":9},{"name":"GAME_PARTICLE_MANAGER_EVENT_LATENCY","id":10},{"name":"GAME_PARTICLE_MANAGER_EVENT_SHOULD_DRAW","id":11},{"name":"GAME_PARTICLE_MANAGER_EVENT_FROZEN","id":12},{"name":"GAME_PARTICLE_MANAGER_EVENT_CHANGE_CONTROL_POINT_ATTACHMENT","id":13}]}]'),jE=[{name:"Cloud",options:{"(service_description)":"A service for Steam Cloud operations."},rpc:{GetUploadServerInfo:{request:"CCloud_GetUploadServerInfo_Request",response:"CCloud_GetUploadServerInfo_Response",options:{"(method_description)":"Returns the URL of the proper cloud server for a user."}},GetFileDetails:{request:"CCloud_GetFileDetails_Request",response:"CCloud_GetFileDetails_Response",options:{"(method_description)":"Returns details on a Cloud file."}},EnumerateUserFiles:{request:"CCloud_EnumerateUserFiles_Request",response:"CCloud_EnumerateUserFiles_Response",options:{"(method_description)":"Enumerates Cloud files for a user of a given app ID. Returns up to 500 files at a time."}},Delete:{request:"CCloud_Delete_Request",response:"CCloud_Delete_Response",options:{"(method_description)":"Deletes a file from the user's cloud."}}}},{name:"OAuthToken",options:{"(service_description)":"Service containing methods to manage OAuth tokens"},rpc:{ImplicitGrantNoPrompt:{request:"COAuthToken_ImplicitGrantNoPrompt_Request",response:"COAuthToken_ImplicitGrantNoPrompt_Response",options:{"(method_description)":"Grants an implicit OAuth token (grant type 'token') for the specified client ID on behalf of a user without prompting"}}}}],ZE={package:null,options:YE,messages:XE,enums:KE,services:jE};var Po,Xd;function $E(){if(Xd)return Po;Xd=1;var a=GE(),e=FE(),t=kE(),n=Vi.EventEmitter,i=BE(),o=Vi,l=qE,u=ZE,c=l.packets,p=l.dems,m=a.newBuilder();a.loadJson(u,m);var d=m.build();d.CDemoSignonPacket=d.CDemoPacket;var r=function(s){if(s.byteLength){for(var h=new Buffer(s.byteLength),g=new Uint8Array(s),_=0;_<h.length;_++)h[_]=g[_];s=h}if(Buffer.isBuffer(s)){var f=new o.PassThrough;f.end(s),s=f}var C=!1,S=new n;return S.types=l,S.game_event_descriptors={},S.string_tables={tables:[],byName:{}},S.entities={},S.start=function(P){s.on("end",function(){return C=!0,s.removeAllListeners(),P()}),i.series({header:function(O){q(8,function(W,ie){O(W||ie.toString()!=="PBDEMS2\0",ie)})},size1:Q,size2:Q,demo:function(O){i.until(function(){return C},D,O)}},P)},S.on("CDemoStop",function(v){}),S.on("CDemoSignonPacket",I),S.on("CDemoPacket",I),S.on("CDemoFullPacket",function(v){I(v.packet)}),S.on("CSVCMsg_CreateStringTable",U),S.on("CSVCMsg_UpdateStringTable",F),S.on("CMsgSource1LegacyGameEventList",function(v){for(var P=S.game_event_descriptors,O=0;O<v.descriptors.length;O++)P[v.descriptors[O].eventid]=v.descriptors[O]}),S;function D(v){i.series({command:T,tick:T,size:T},function(P,O){if(P)return v(P);b(O.size,function(W,ie){var J=O.command;O.tick,O.size;var ae=J&~d.EDemoCommands.DEM_IsCompressed,he=(J&d.EDemoCommands.DEM_IsCompressed)===d.EDemoCommands.DEM_IsCompressed;he&&(ie=e.uncompressSync(ie));var ue={data:ie};if(ae in p){var we=p[ae];d[we]?R(we)&&(ue.data=d[we].decode(ue.data),ue.data.proto_name=we,S.emit("*",ue.data),S.emit(we,ue.data)):console.error("no proto definition for dem type %s",ae)}else console.error("no proto name for dem type %s",ae);return v(W)})})}function I(v){for(var P={CNETMsg_Tick:-10,CSVCMsg_CreateStringTable:-10,CSVCMsg_UpdateStringTable:-10,CNETMsg_SpawnGroup_Load:-10,CSVCMsg_PacketEntities:5,CMsgSource1LegacyGameEvent:10},O=[],W=new Buffer(v.data.toBuffer()),ie=new t(W);ie.limit-ie.offset>=8;){var J=ie.readUBitVar(),ae=ie.readVarUInt(),he=ie.readBuffer(ae*8),ue={type:J,size:ae,data:he,position:O.length};O.push(ue)}O.sort(function(k,Y){var X=P[c[k.type]]||0,ee=P[c[Y.type]]||0;return X===ee?k.position-Y.position:X-ee});for(var we=0;we<O.length;we++){var Ge=O[we],G=Ge.type;if(G in c){var A=c[G];d[A]?R(A)&&(Ge.data=d[A].decode(Ge.data),Ge.data.proto_name=A,S.emit("*",Ge.data),S.emit(A,Ge.data)):console.error("no proto definition for packet name %s",A)}else console.error("no proto name for packet type %s",G)}}function U(v){var P=new Buffer(v.string_data.toBuffer());v.data_compressed&&(P=e.uncompressSync(P));var O=H(P,v.num_entries,v.user_data_fixed_size,v.user_data_size);v.string_data={},O.forEach(function(W){v.string_data[W.index]=W}),S.string_tables.byName[v.name]=v,S.string_tables.tables.push(v)}function F(v){var P=S.string_tables.tables[v.table_id],O=new Buffer(v.string_data.toBuffer());if(P){var W=H(O,v.num_changed_entries,P.user_data_fixed_size,P.user_data_size),ie=P.string_data;W.forEach(function(J){ie[J.index]?(J.key&&(ie[J.index].key=J.key),J.value.length&&(ie[J.index].value=J.value)):ie[J.index]=J})}else throw"string table doesn't exist!"}function H(v,P,O,W){if(!v.length)return[];for(var ie=[],J=new t(v),ae=-1,he=32,ue=[],we=0;we<P;we++){var Ge=null,G=new Buffer(0),A=J.readBoolean();A?ae+=1:ae=J.readVarUInt()+1;var k=J.readBoolean();if(k){var Y=J.readBoolean();if(Y){var X=J.readBits(5),ee=J.readBits(5);if(X>=ue.length)Ge=J.readNullTerminatedString();else{var oe=ue[X];ee>oe.length?Ge=oe+J.readNullTerminatedString():Ge=oe.slice(0,ee)+J.readNullTerminatedString()}}else Ge=J.readNullTerminatedString();ue.push(Ge),ue.length>he&&ue.shift()}var de=J.readBoolean();if(de)if(O)G=J.readBuffer(W);else{var ce=J.readBits(14);J.readBits(3),G=J.readBuffer(ce*8)}ie.push({index:ae,key:Ge,value:G})}return ie}function R(v){return S.listeners(v).length||S.listeners("*").length}function N(v){b(1,function(P,O){v(P,O.readInt8(0))})}function q(v,P){b(v,function(O,W){P(O,W.toString())})}function Q(v){b(4,function(P,O){v(P,O.readUInt32LE(0))})}function T(v){N(function(P,O){if(O>=0)return v(P,O);var W=O&127;N(function(ie,J){if(J>=0)return W|=J<<7,v(ie,W);W|=(J&127)<<7,N(function(ae,he){if(he>=0)return W|=he<<14,v(ae,W);W|=(he&127)<<14,N(function(ue,we){if(we>=0)return W|=we<<21,v(ue,W);W|=(we&127)<<21,N(function(Ge,G){return W|=G<<28,G<0&&(Ge="malformed varint detected"),v(Ge,W)})})})})})}function b(v,P){if(!v)return P(null,new Buffer(""));var O=s.read(v);if(O)return P(null,O);s.once("readable",function(){return b(v,P)})}};return ya.Parser=r,Po=r,Po}var ai=$E();const JE=Qu(ai);window.Buffer=ap.Buffer;let ln,dn,hr,fr,Qt=new Ac;const No=[],_r=new Ke;let Ut;const gr=["Landscape","Plane","Terrain"];let Kd,jd;const yr=new ze;let Fn=null,ti=null,Zd=[],ga=null,$d=null,jt;const en=new Om;en.background=new Ve(8900331);const gi=new Ft(75,window.innerWidth/window.innerHeight,.1,100);gi.position.set(10,10,10);const _t=new My({antialias:!0});_t.shadowMap.enabled=!0;_t.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(_t.domElement);const Wu=new Ay(gi,_t.domElement);Wu.enableDamping=!0;async function QE(){try{console.log("Initializing Rapier physics..."),await JE("https://cdn.jsdelivr.net/npm/rapier@0.20.0/rapier_bg.wasm"),ti=new ai.World(new ai.Vector3(0,-9.8,0)),console.log(" Physics world initialized with CDN WASM")}catch(a){console.error(" Failed to initialize Rapier:",a),console.warn("Physics will be disabled, but scene will continue loading..."),ti=null}}async function eC(){console.log("initScene() starting..."),await QE(),window.addEventListener("mousemove",v=>{_t.xr.isPresenting||(yr.x=v.clientX/window.innerWidth*2-1,yr.y=-(v.clientY/window.innerHeight)*2+1)}),window.addEventListener("mousedown",v=>{if(!_t.xr.isPresenting&&v.button===0){Qt.setFromCamera(yr,gi);const P=Qt.intersectObjects(Ut.children,!0);if(P.length>0){const O=P[0].object;gr.includes(O.name)||(Fn=O,O.material&&!O.material.emissive&&(O.material.emissive=new Ve(0)),O.material&&O.material.emissive&&(O.material.emissive.b=1))}}});function a(v,P=1,O="cuboid"){if(!ti)return;const W=v.position,ie=P===0?ai.RigidBodyDesc.fixed():ai.RigidBodyDesc.dynamic().setLinearDamping(.5).setAngularDamping(.5);ie.setTranslation(W.x,W.y,W.z);const J=ti.createRigidBody(ie);let ae;O==="cuboid"?ae=ai.ColliderDesc.cuboid(.5,.5,.5):O==="sphere"?ae=ai.ColliderDesc.ball(.5):O==="plane"&&(ae=ai.ColliderDesc.cuboid(100,.1,100)),ti.createCollider(ae,J),v.userData.physicsBody=J,Zd.push({mesh:v,body:J})}function e(){ti&&Zd.forEach(({mesh:v,body:P})=>{const O=P.translation(),W=P.rotation();v.position.set(O.x,O.y,O.z),v.quaternion.set(W.x,W.y,W.z,W.w)})}window.addEventListener("mouseup",v=>{Fn&&(Fn.material&&Fn.material.emissive&&(Fn.material.emissive.b=0,Fn.material.emissive.r=1),Fn=null)});const t=new Vn;t.userData.grabbable=!0;const n=new ii({color:16777215}),i=new ct(new Ei(1,32,32),n);i.position.y=1,t.add(i);const o=new ct(new Ei(.7,32,32),n);o.position.y=2.3,t.add(o);const l=new ct(new Ei(.5,32,32),n);l.position.y=3.3,t.add(l);const u=new ii({color:0}),c=new Ei(.07,16,16),p=new ct(c,u);p.position.set(-.17,3.38,.45),t.add(p);const m=new ct(c,u);m.position.set(.17,3.38,.45),t.add(m);const d=new ii({color:16753920}),r=new ct(new Js(.1,.6,16),d);r.position.set(0,3.25,.55),r.rotation.x=Math.PI/2,t.add(r);const s=new ii({color:0}),h=new ct(new Pa(.7,.7,.1,32),s);h.position.y=3.7,t.add(h);const g=new ct(new Pa(.4,.4,.8,32),s);g.position.y=4.15,t.add(g),Ut=new Vn,en.add(Ut),console.log(" Group created and added to scene"),en.add(new mc(16777215,.4)),console.log(" Ambient light added");const _=new Iu(16777215,.8);_.position.set(5,10,5),en.add(_),console.log(" Directional light added");const f=new La(200,200),C=new ii({color:13421772,metalness:.2,roughness:.8}),S=new ct(f,C);S.rotation.x=-Math.PI/2,S.position.y=0,S.receiveShadow=!0,S.castShadow=!1,S.userData.isFloor=!0,en.add(S),a(S,0,"plane"),console.log(" Flat floor created"),ga=new ct(new $s(.25,32).rotateX(-Math.PI/2),new Bn({color:65280,transparent:!0,opacity:.8})),en.add(ga),ga.visible=!1,console.log(" Teleport marker created"),t.position.y=1,Ut.add(t),a(t,1,"sphere"),console.log(" Snowman added to group at position:",t.position);const D=new Ds(_t);D.compileEquirectangularShader(),console.log(" PMREM generator created"),new yE().setDataType(zt).load("https://cdn.jsdelivr.net/gh/mrdoob/three.js@master/examples/textures/equirectangular/royal_esplanade_1k.hdr",v=>{const P=D.fromEquirectangular(v).texture;en.environment=P,v.dispose(),D.dispose(),console.log(" HDR environment map loaded")},void 0,v=>{console.error(" HDR load error:",v)});const U=new Fu;U.load("./models/scene.gltf",v=>{console.log(" Scene.gltf loaded");const P=v.scene;P.scale.set(1,1,1),P.position.set(14,0,-7),P.traverse(function(ie){ie.material&&(ie.material.side=un,ie.castShadow=!0,ie.receiveShadow=!0)});const W=new bn().setFromObject(P).min.y;P.position.y=-W,Ut.add(P),a(P,3,"cuboid"),console.log(" Landscape added to scene")},void 0,v=>console.error(" Scene.gltf load error:",v)),U.load("./models/rock.glb",v=>{console.log(" Rock.glb loaded");const P=v.scene;[{x:-10,z:-5},{x:5,z:10},{x:15,z:5},{x:-20,z:15},{x:20,z:-15}].forEach((W,ie)=>{const J=P.clone();J.name=`Rock_${ie}`,J.position.set(W.x,3,W.z),J.traverse(ae=>{ae.material&&(ae.material.emissive||(ae.material.emissive=new Ve(0)),ae.castShadow=!0,ae.receiveShadow=!0)}),Ut.add(J),a(J,2,"sphere"),console.log(` Rock ${ie} added at (${W.x}, 3, ${W.z})`)}),console.log(" All 5 rocks loaded and added")},void 0,v=>console.error("Rock.glb load error:",v)),window.addEventListener("resize",()=>{_t.xr.isPresenting||(gi.aspect=window.innerWidth/window.innerHeight,gi.updateProjectionMatrix(),_t.setSize(window.innerWidth,window.innerHeight))});function F(){console.log("initVR called"),_t.xr.enabled=!0,_t.xr.addEventListener("sessionstart",()=>{console.log(" XR Session STARTED - immersive mode active"),$d=_t.xr.getReferenceSpace()}),_t.xr.addEventListener("sessionend",()=>{console.log("XR Session ended"),Ut.position.set(0,0,0)});const v=IE.createButton(_t,{requiredFeatures:[],optionalFeatures:["hit-test","dom-overlay","dom-overlay-for-handheld-ar"],domOverlay:{root:document.body}});v.addEventListener("click",()=>{console.log("XR Button clicked")}),document.body.appendChild(v),console.log("XRButton created and appended");const P=new OE;ln=_t.xr.getController(0),ln.addEventListener("selectstart",H),ln.addEventListener("selectend",R),ln.addEventListener("squeezestart",N),ln.addEventListener("squeezeend",q),en.add(ln),console.log("controller1 added to scene"),hr=_t.xr.getControllerGrip(0),hr.add(P.createControllerModel(hr)),en.add(hr),dn=_t.xr.getController(1),dn.addEventListener("selectstart",H),dn.addEventListener("selectend",R),dn.addEventListener("squeezestart",N),dn.addEventListener("squeezeend",q),en.add(dn),console.log("controller2 added to scene"),fr=_t.xr.getControllerGrip(1),fr.add(P.createControllerModel(fr)),en.add(fr);const O=new Pt,W=new Float32Array([0,0,0,0,0,-10]);O.setAttribute("position",new It(W,3));const ie=new Zs({color:65280,linewidth:3});Kd=new Ia(O.clone(),ie.clone()),ln.add(Kd),jd=new Ia(O.clone(),ie.clone()),dn.add(jd),console.log("Ray visualization added to controllers")}function H(v){const P=v.target,O=Q(P);if(console.log(" selectstart - controller aim intersects:",O.length,"objects"),O.length>0){const W=O[0].object;console.log(" Hit object:",W.name),gr.includes(W.name)||(W.material&&!W.material.emissive&&(W.material.emissive=new Ve(0)),W.material&&W.material.emissive&&(W.material.emissive.r=0,W.material.emissive.g=0,W.material.emissive.b=1),P.attach(W),P.userData.selected=W,console.log(" Object GRABBED"))}else console.log(" No hit - aim at objects to grab them")}function R(v){const P=v.target;if(P.userData.selected!==void 0){const O=P.userData.selected;console.log(" Object RELEASED"),O.material&&O.material.emissive&&(O.material.emissive.r=1,O.material.emissive.g=0,O.material.emissive.b=0),Ut.attach(O),P.userData.selected=void 0}}function N(v){const P=v.target;P.userData.teleporting=!0}function q(v){const P=v.target;if(P.userData.teleporting){if(jt){const O={x:-jt.x,y:-jt.y,z:-jt.z,w:1},W=new hn,ie=new XRRigidTransform(O,W),J=$d.getOffsetReferenceSpace(ie);_t.xr.setReferenceSpace(J),console.log(" Teleported to:",jt.x.toFixed(2),jt.z.toFixed(2))}P.userData.teleporting=!1,jt=void 0}}function Q(v){return v.updateMatrixWorld(),Qt.setFromXRController(v),Qt.intersectObjects(Ut.children,!0)}function T(v){if(v.userData.selected!==void 0)return;const P=Q(v);if(P.length>0){const O=P[0].object;gr.includes(O.name)||(O.material&&!O.material.emissive&&(O.material.emissive=new Ve(0)),O.material&&O.material.emissive&&(O.material.emissive.r=1,O.material.emissive.g=0,O.material.emissive.b=0),No.push(O))}}function b(){for(;No.length>0;){const v=No.pop();v.material&&v.material.emissive&&(v.material.emissive.r=0,v.material.emissive.g=0,v.material.emissive.b=0)}}F(),console.log(" VR initialized"),_t.setAnimationLoop(function(){if(jt=void 0,_t.xr.isPresenting){if(Ut.position.z=-5,Ut.position.y=0,ln.userData.teleporting===!0){_r.identity().extractRotation(ln.matrixWorld),Qt.ray.origin.setFromMatrixPosition(ln.matrixWorld),Qt.ray.direction.set(0,0,-1).applyMatrix4(_r);const v=Qt.intersectObjects([S]);v.length>0&&(jt=v[0].point)}else if(dn.userData.teleporting===!0){_r.identity().extractRotation(dn.matrixWorld),Qt.ray.origin.setFromMatrixPosition(dn.matrixWorld),Qt.ray.direction.set(0,0,-1).applyMatrix4(_r);const v=Qt.intersectObjects([S]);v.length>0&&(jt=v[0].point)}}if(jt&&ga.position.copy(jt),ga.visible=jt!==void 0,ti&&(ti.step(),e()),b(),_t.xr.isPresenting)T(ln),T(dn);else{Ut.position.set(0,0,0),Qt.setFromCamera(yr,gi);const v=Qt.intersectObjects(Ut.children,!0);for(let P=0;P<Ut.children.length;P++){const O=Ut.children[P];O.material&&O.material.emissive&&!Fn&&(O.material.emissive.r=0,O.material.emissive.g=0,O.material.emissive.b=0)}if(v.length>0){const P=v[0].object;!gr.includes(P.name)&&!Fn&&(P.material&&!P.material.emissive&&(P.material.emissive=new Ve(0)),P.material&&P.material.emissive&&(P.material.emissive.r=1,P.material.emissive.g=0,P.material.emissive.b=0))}Wu.update()}_t.render(en,gi)}),console.log("initScene() completed successfully")}eC().catch(a=>{console.error("Failed to initialize scene:",a),console.error(a.stack)});
